function _9(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(n,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();function Ny(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var DE={exports:{}},a_={},RE={exports:{}},Zn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sz;function vte(){if(sz)return Zn;sz=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),c=Symbol.for("react.lazy"),f=Symbol.iterator;function h(Y){return Y===null||typeof Y!="object"?null:(Y=f&&Y[f]||Y["@@iterator"],typeof Y=="function"?Y:null)}var d={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,g={};function m(Y,te,me){this.props=Y,this.context=te,this.refs=g,this.updater=me||d}m.prototype.isReactComponent={},m.prototype.setState=function(Y,te){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,te,"setState")},m.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function y(){}y.prototype=m.prototype;function S(Y,te,me){this.props=Y,this.context=te,this.refs=g,this.updater=me||d}var M=S.prototype=new y;M.constructor=S,p(M,m.prototype),M.isPureReactComponent=!0;var b=Array.isArray,C=Object.prototype.hasOwnProperty,A={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function I(Y,te,me){var ae,fe={},be=null,Ee=null;if(te!=null)for(ae in te.ref!==void 0&&(Ee=te.ref),te.key!==void 0&&(be=""+te.key),te)C.call(te,ae)&&!E.hasOwnProperty(ae)&&(fe[ae]=te[ae]);var Be=arguments.length-2;if(Be===1)fe.children=me;else if(1<Be){for(var Oe=Array(Be),$e=0;$e<Be;$e++)Oe[$e]=arguments[$e+2];fe.children=Oe}if(Y&&Y.defaultProps)for(ae in Be=Y.defaultProps,Be)fe[ae]===void 0&&(fe[ae]=Be[ae]);return{$$typeof:n,type:Y,key:be,ref:Ee,props:fe,_owner:A.current}}function L(Y,te){return{$$typeof:n,type:Y.type,key:te,ref:Y.ref,props:Y.props,_owner:Y._owner}}function R(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===n}function O(Y){var te={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(me){return te[me]})}var U=/\/+/g;function V(Y,te){return typeof Y=="object"&&Y!==null&&Y.key!=null?O(""+Y.key):te.toString(36)}function W(Y,te,me,ae,fe){var be=typeof Y;(be==="undefined"||be==="boolean")&&(Y=null);var Ee=!1;if(Y===null)Ee=!0;else switch(be){case"string":case"number":Ee=!0;break;case"object":switch(Y.$$typeof){case n:case e:Ee=!0}}if(Ee)return Ee=Y,fe=fe(Ee),Y=ae===""?"."+V(Ee,0):ae,b(fe)?(me="",Y!=null&&(me=Y.replace(U,"$&/")+"/"),W(fe,te,me,"",function($e){return $e})):fe!=null&&(R(fe)&&(fe=L(fe,me+(!fe.key||Ee&&Ee.key===fe.key?"":(""+fe.key).replace(U,"$&/")+"/")+Y)),te.push(fe)),1;if(Ee=0,ae=ae===""?".":ae+":",b(Y))for(var Be=0;Be<Y.length;Be++){be=Y[Be];var Oe=ae+V(be,Be);Ee+=W(be,te,me,Oe,fe)}else if(Oe=h(Y),typeof Oe=="function")for(Y=Oe.call(Y),Be=0;!(be=Y.next()).done;)be=be.value,Oe=ae+V(be,Be++),Ee+=W(be,te,me,Oe,fe);else if(be==="object")throw te=String(Y),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.");return Ee}function X(Y,te,me){if(Y==null)return Y;var ae=[],fe=0;return W(Y,ae,"","",function(be){return te.call(me,be,fe++)}),ae}function j(Y){if(Y._status===-1){var te=Y._result;te=te(),te.then(function(me){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=me)},function(me){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=me)}),Y._status===-1&&(Y._status=0,Y._result=te)}if(Y._status===1)return Y._result.default;throw Y._result}var Q={current:null},B={transition:null},Z={ReactCurrentDispatcher:Q,ReactCurrentBatchConfig:B,ReactCurrentOwner:A};function q(){throw Error("act(...) is not supported in production builds of React.")}return Zn.Children={map:X,forEach:function(Y,te,me){X(Y,function(){te.apply(this,arguments)},me)},count:function(Y){var te=0;return X(Y,function(){te++}),te},toArray:function(Y){return X(Y,function(te){return te})||[]},only:function(Y){if(!R(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}},Zn.Component=m,Zn.Fragment=t,Zn.Profiler=i,Zn.PureComponent=S,Zn.StrictMode=r,Zn.Suspense=l,Zn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z,Zn.act=q,Zn.cloneElement=function(Y,te,me){if(Y==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Y+".");var ae=p({},Y.props),fe=Y.key,be=Y.ref,Ee=Y._owner;if(te!=null){if(te.ref!==void 0&&(be=te.ref,Ee=A.current),te.key!==void 0&&(fe=""+te.key),Y.type&&Y.type.defaultProps)var Be=Y.type.defaultProps;for(Oe in te)C.call(te,Oe)&&!E.hasOwnProperty(Oe)&&(ae[Oe]=te[Oe]===void 0&&Be!==void 0?Be[Oe]:te[Oe])}var Oe=arguments.length-2;if(Oe===1)ae.children=me;else if(1<Oe){Be=Array(Oe);for(var $e=0;$e<Oe;$e++)Be[$e]=arguments[$e+2];ae.children=Be}return{$$typeof:n,type:Y.type,key:fe,ref:be,props:ae,_owner:Ee}},Zn.createContext=function(Y){return Y={$$typeof:o,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Y.Provider={$$typeof:a,_context:Y},Y.Consumer=Y},Zn.createElement=I,Zn.createFactory=function(Y){var te=I.bind(null,Y);return te.type=Y,te},Zn.createRef=function(){return{current:null}},Zn.forwardRef=function(Y){return{$$typeof:s,render:Y}},Zn.isValidElement=R,Zn.lazy=function(Y){return{$$typeof:c,_payload:{_status:-1,_result:Y},_init:j}},Zn.memo=function(Y,te){return{$$typeof:u,type:Y,compare:te===void 0?null:te}},Zn.startTransition=function(Y){var te=B.transition;B.transition={};try{Y()}finally{B.transition=te}},Zn.unstable_act=q,Zn.useCallback=function(Y,te){return Q.current.useCallback(Y,te)},Zn.useContext=function(Y){return Q.current.useContext(Y)},Zn.useDebugValue=function(){},Zn.useDeferredValue=function(Y){return Q.current.useDeferredValue(Y)},Zn.useEffect=function(Y,te){return Q.current.useEffect(Y,te)},Zn.useId=function(){return Q.current.useId()},Zn.useImperativeHandle=function(Y,te,me){return Q.current.useImperativeHandle(Y,te,me)},Zn.useInsertionEffect=function(Y,te){return Q.current.useInsertionEffect(Y,te)},Zn.useLayoutEffect=function(Y,te){return Q.current.useLayoutEffect(Y,te)},Zn.useMemo=function(Y,te){return Q.current.useMemo(Y,te)},Zn.useReducer=function(Y,te,me){return Q.current.useReducer(Y,te,me)},Zn.useRef=function(Y){return Q.current.useRef(Y)},Zn.useState=function(Y){return Q.current.useState(Y)},Zn.useSyncExternalStore=function(Y,te,me){return Q.current.useSyncExternalStore(Y,te,me)},Zn.useTransition=function(){return Q.current.useTransition()},Zn.version="18.3.1",Zn}var lz;function Oy(){return lz||(lz=1,RE.exports=vte()),RE.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uz;function gte(){if(uz)return a_;uz=1;var n=Oy(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function o(s,l,u){var c,f={},h=null,d=null;u!==void 0&&(h=""+u),l.key!==void 0&&(h=""+l.key),l.ref!==void 0&&(d=l.ref);for(c in l)r.call(l,c)&&!a.hasOwnProperty(c)&&(f[c]=l[c]);if(s&&s.defaultProps)for(c in l=s.defaultProps,l)f[c]===void 0&&(f[c]=l[c]);return{$$typeof:e,type:s,key:h,ref:d,props:f,_owner:i.current}}return a_.Fragment=t,a_.jsx=o,a_.jsxs=o,a_}var cz;function mte(){return cz||(cz=1,DE.exports=gte()),DE.exports}var Re=mte(),de=Oy();const EA=Ny(de),yte=_9({__proto__:null,default:EA},[de]);var Nw={},LE={exports:{}},Lo={},IE={exports:{}},NE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fz;function _te(){return fz||(fz=1,(function(n){function e(B,Z){var q=B.length;B.push(Z);e:for(;0<q;){var Y=q-1>>>1,te=B[Y];if(0<i(te,Z))B[Y]=Z,B[q]=te,q=Y;else break e}}function t(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var Z=B[0],q=B.pop();if(q!==Z){B[0]=q;e:for(var Y=0,te=B.length,me=te>>>1;Y<me;){var ae=2*(Y+1)-1,fe=B[ae],be=ae+1,Ee=B[be];if(0>i(fe,q))be<te&&0>i(Ee,fe)?(B[Y]=Ee,B[be]=q,Y=be):(B[Y]=fe,B[ae]=q,Y=ae);else if(be<te&&0>i(Ee,q))B[Y]=Ee,B[be]=q,Y=be;else break e}}return Z}function i(B,Z){var q=B.sortIndex-Z.sortIndex;return q!==0?q:B.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();n.unstable_now=function(){return o.now()-s}}var l=[],u=[],c=1,f=null,h=3,d=!1,p=!1,g=!1,m=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(B){for(var Z=t(u);Z!==null;){if(Z.callback===null)r(u);else if(Z.startTime<=B)r(u),Z.sortIndex=Z.expirationTime,e(l,Z);else break;Z=t(u)}}function b(B){if(g=!1,M(B),!p)if(t(l)!==null)p=!0,j(C);else{var Z=t(u);Z!==null&&Q(b,Z.startTime-B)}}function C(B,Z){p=!1,g&&(g=!1,y(I),I=-1),d=!0;var q=h;try{for(M(Z),f=t(l);f!==null&&(!(f.expirationTime>Z)||B&&!O());){var Y=f.callback;if(typeof Y=="function"){f.callback=null,h=f.priorityLevel;var te=Y(f.expirationTime<=Z);Z=n.unstable_now(),typeof te=="function"?f.callback=te:f===t(l)&&r(l),M(Z)}else r(l);f=t(l)}if(f!==null)var me=!0;else{var ae=t(u);ae!==null&&Q(b,ae.startTime-Z),me=!1}return me}finally{f=null,h=q,d=!1}}var A=!1,E=null,I=-1,L=5,R=-1;function O(){return!(n.unstable_now()-R<L)}function U(){if(E!==null){var B=n.unstable_now();R=B;var Z=!0;try{Z=E(!0,B)}finally{Z?V():(A=!1,E=null)}}else A=!1}var V;if(typeof S=="function")V=function(){S(U)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,X=W.port2;W.port1.onmessage=U,V=function(){X.postMessage(null)}}else V=function(){m(U,0)};function j(B){E=B,A||(A=!0,V())}function Q(B,Z){I=m(function(){B(n.unstable_now())},Z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(B){B.callback=null},n.unstable_continueExecution=function(){p||d||(p=!0,j(C))},n.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<B?Math.floor(1e3/B):5},n.unstable_getCurrentPriorityLevel=function(){return h},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(B){switch(h){case 1:case 2:case 3:var Z=3;break;default:Z=h}var q=h;h=Z;try{return B()}finally{h=q}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(B,Z){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var q=h;h=B;try{return Z()}finally{h=q}},n.unstable_scheduleCallback=function(B,Z,q){var Y=n.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?Y+q:Y):q=Y,B){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=q+te,B={id:c++,callback:Z,priorityLevel:B,startTime:q,expirationTime:te,sortIndex:-1},q>Y?(B.sortIndex=q,e(u,B),t(l)===null&&B===t(u)&&(g?(y(I),I=-1):g=!0,Q(b,q-Y))):(B.sortIndex=te,e(l,B),p||d||(p=!0,j(C))),B},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(B){var Z=h;return function(){var q=h;h=Z;try{return B.apply(this,arguments)}finally{h=q}}}})(NE)),NE}var hz;function xte(){return hz||(hz=1,IE.exports=_te()),IE.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dz;function Ste(){if(dz)return Lo;dz=1;var n=Oy(),e=xte();function t(v){for(var _="https://reactjs.org/docs/error-decoder.html?invariant="+v,T=1;T<arguments.length;T++)_+="&args[]="+encodeURIComponent(arguments[T]);return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(v,_){o(v,_),o(v+"Capture",_)}function o(v,_){for(i[v]=_,v=0;v<_.length;v++)r.add(_[v])}var s=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,c={},f={};function h(v){return l.call(f,v)?!0:l.call(c,v)?!1:u.test(v)?f[v]=!0:(c[v]=!0,!1)}function d(v,_,T,D){if(T!==null&&T.type===0)return!1;switch(typeof _){case"function":case"symbol":return!0;case"boolean":return D?!1:T!==null?!T.acceptsBooleans:(v=v.toLowerCase().slice(0,5),v!=="data-"&&v!=="aria-");default:return!1}}function p(v,_,T,D){if(_===null||typeof _>"u"||d(v,_,T,D))return!0;if(D)return!1;if(T!==null)switch(T.type){case 3:return!_;case 4:return _===!1;case 5:return isNaN(_);case 6:return isNaN(_)||1>_}return!1}function g(v,_,T,D,k,z,$){this.acceptsBooleans=_===2||_===3||_===4,this.attributeName=D,this.attributeNamespace=k,this.mustUseProperty=T,this.propertyName=v,this.type=_,this.sanitizeURL=z,this.removeEmptyString=$}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(v){m[v]=new g(v,0,!1,v,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(v){var _=v[0];m[_]=new g(_,1,!1,v[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(v){m[v]=new g(v,2,!1,v.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(v){m[v]=new g(v,2,!1,v,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(v){m[v]=new g(v,3,!1,v.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(v){m[v]=new g(v,3,!0,v,null,!1,!1)}),["capture","download"].forEach(function(v){m[v]=new g(v,4,!1,v,null,!1,!1)}),["cols","rows","size","span"].forEach(function(v){m[v]=new g(v,6,!1,v,null,!1,!1)}),["rowSpan","start"].forEach(function(v){m[v]=new g(v,5,!1,v.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function S(v){return v[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(v){var _=v.replace(y,S);m[_]=new g(_,1,!1,v,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(v){var _=v.replace(y,S);m[_]=new g(_,1,!1,v,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(v){var _=v.replace(y,S);m[_]=new g(_,1,!1,v,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(v){m[v]=new g(v,1,!1,v.toLowerCase(),null,!1,!1)}),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(v){m[v]=new g(v,1,!1,v.toLowerCase(),null,!0,!0)});function M(v,_,T,D){var k=m.hasOwnProperty(_)?m[_]:null;(k!==null?k.type!==0:D||!(2<_.length)||_[0]!=="o"&&_[0]!=="O"||_[1]!=="n"&&_[1]!=="N")&&(p(_,T,k,D)&&(T=null),D||k===null?h(_)&&(T===null?v.removeAttribute(_):v.setAttribute(_,""+T)):k.mustUseProperty?v[k.propertyName]=T===null?k.type===3?!1:"":T:(_=k.attributeName,D=k.attributeNamespace,T===null?v.removeAttribute(_):(k=k.type,T=k===3||k===4&&T===!0?"":""+T,D?v.setAttributeNS(D,_,T):v.setAttribute(_,T))))}var b=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,C=Symbol.for("react.element"),A=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),O=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),Q=Symbol.for("react.offscreen"),B=Symbol.iterator;function Z(v){return v===null||typeof v!="object"?null:(v=B&&v[B]||v["@@iterator"],typeof v=="function"?v:null)}var q=Object.assign,Y;function te(v){if(Y===void 0)try{throw Error()}catch(T){var _=T.stack.trim().match(/\n( *(at )?)/);Y=_&&_[1]||""}return`
`+Y+v}var me=!1;function ae(v,_){if(!v||me)return"";me=!0;var T=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(_)if(_=function(){throw Error()},Object.defineProperty(_.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_,[])}catch(Ne){var D=Ne}Reflect.construct(v,[],_)}else{try{_.call()}catch(Ne){D=Ne}v.call(_.prototype)}else{try{throw Error()}catch(Ne){D=Ne}v()}}catch(Ne){if(Ne&&D&&typeof Ne.stack=="string"){for(var k=Ne.stack.split(`
`),z=D.stack.split(`
`),$=k.length-1,se=z.length-1;1<=$&&0<=se&&k[$]!==z[se];)se--;for(;1<=$&&0<=se;$--,se--)if(k[$]!==z[se]){if($!==1||se!==1)do if($--,se--,0>se||k[$]!==z[se]){var he=`
`+k[$].replace(" at new "," at ");return v.displayName&&he.includes("<anonymous>")&&(he=he.replace("<anonymous>",v.displayName)),he}while(1<=$&&0<=se);break}}}finally{me=!1,Error.prepareStackTrace=T}return(v=v?v.displayName||v.name:"")?te(v):""}function fe(v){switch(v.tag){case 5:return te(v.type);case 16:return te("Lazy");case 13:return te("Suspense");case 19:return te("SuspenseList");case 0:case 2:case 15:return v=ae(v.type,!1),v;case 11:return v=ae(v.type.render,!1),v;case 1:return v=ae(v.type,!0),v;default:return""}}function be(v){if(v==null)return null;if(typeof v=="function")return v.displayName||v.name||null;if(typeof v=="string")return v;switch(v){case E:return"Fragment";case A:return"Portal";case L:return"Profiler";case I:return"StrictMode";case V:return"Suspense";case W:return"SuspenseList"}if(typeof v=="object")switch(v.$$typeof){case O:return(v.displayName||"Context")+".Consumer";case R:return(v._context.displayName||"Context")+".Provider";case U:var _=v.render;return v=v.displayName,v||(v=_.displayName||_.name||"",v=v!==""?"ForwardRef("+v+")":"ForwardRef"),v;case X:return _=v.displayName||null,_!==null?_:be(v.type)||"Memo";case j:_=v._payload,v=v._init;try{return be(v(_))}catch{}}return null}function Ee(v){var _=v.type;switch(v.tag){case 24:return"Cache";case 9:return(_.displayName||"Context")+".Consumer";case 10:return(_._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return v=_.render,v=v.displayName||v.name||"",_.displayName||(v!==""?"ForwardRef("+v+")":"ForwardRef");case 7:return"Fragment";case 5:return _;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return be(_);case 8:return _===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof _=="function")return _.displayName||_.name||null;if(typeof _=="string")return _}return null}function Be(v){switch(typeof v){case"boolean":case"number":case"string":case"undefined":return v;case"object":return v;default:return""}}function Oe(v){var _=v.type;return(v=v.nodeName)&&v.toLowerCase()==="input"&&(_==="checkbox"||_==="radio")}function $e(v){var _=Oe(v)?"checked":"value",T=Object.getOwnPropertyDescriptor(v.constructor.prototype,_),D=""+v[_];if(!v.hasOwnProperty(_)&&typeof T<"u"&&typeof T.get=="function"&&typeof T.set=="function"){var k=T.get,z=T.set;return Object.defineProperty(v,_,{configurable:!0,get:function(){return k.call(this)},set:function($){D=""+$,z.call(this,$)}}),Object.defineProperty(v,_,{enumerable:T.enumerable}),{getValue:function(){return D},setValue:function($){D=""+$},stopTracking:function(){v._valueTracker=null,delete v[_]}}}}function ee(v){v._valueTracker||(v._valueTracker=$e(v))}function ve(v){if(!v)return!1;var _=v._valueTracker;if(!_)return!0;var T=_.getValue(),D="";return v&&(D=Oe(v)?v.checked?"true":"false":v.value),v=D,v!==T?(_.setValue(v),!0):!1}function Ae(v){if(v=v||(typeof document<"u"?document:void 0),typeof v>"u")return null;try{return v.activeElement||v.body}catch{return v.body}}function Ue(v,_){var T=_.checked;return q({},_,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:T??v._wrapperState.initialChecked})}function Ge(v,_){var T=_.defaultValue==null?"":_.defaultValue,D=_.checked!=null?_.checked:_.defaultChecked;T=Be(_.value!=null?_.value:T),v._wrapperState={initialChecked:D,initialValue:T,controlled:_.type==="checkbox"||_.type==="radio"?_.checked!=null:_.value!=null}}function He(v,_){_=_.checked,_!=null&&M(v,"checked",_,!1)}function ot(v,_){He(v,_);var T=Be(_.value),D=_.type;if(T!=null)D==="number"?(T===0&&v.value===""||v.value!=T)&&(v.value=""+T):v.value!==""+T&&(v.value=""+T);else if(D==="submit"||D==="reset"){v.removeAttribute("value");return}_.hasOwnProperty("value")?Rt(v,_.type,T):_.hasOwnProperty("defaultValue")&&Rt(v,_.type,Be(_.defaultValue)),_.checked==null&&_.defaultChecked!=null&&(v.defaultChecked=!!_.defaultChecked)}function ct(v,_,T){if(_.hasOwnProperty("value")||_.hasOwnProperty("defaultValue")){var D=_.type;if(!(D!=="submit"&&D!=="reset"||_.value!==void 0&&_.value!==null))return;_=""+v._wrapperState.initialValue,T||_===v.value||(v.value=_),v.defaultValue=_}T=v.name,T!==""&&(v.name=""),v.defaultChecked=!!v._wrapperState.initialChecked,T!==""&&(v.name=T)}function Rt(v,_,T){(_!=="number"||Ae(v.ownerDocument)!==v)&&(T==null?v.defaultValue=""+v._wrapperState.initialValue:v.defaultValue!==""+T&&(v.defaultValue=""+T))}var re=Array.isArray;function K(v,_,T,D){if(v=v.options,_){_={};for(var k=0;k<T.length;k++)_["$"+T[k]]=!0;for(T=0;T<v.length;T++)k=_.hasOwnProperty("$"+v[T].value),v[T].selected!==k&&(v[T].selected=k),k&&D&&(v[T].defaultSelected=!0)}else{for(T=""+Be(T),_=null,k=0;k<v.length;k++){if(v[k].value===T){v[k].selected=!0,D&&(v[k].defaultSelected=!0);return}_!==null||v[k].disabled||(_=v[k])}_!==null&&(_.selected=!0)}}function Pe(v,_){if(_.dangerouslySetInnerHTML!=null)throw Error(t(91));return q({},_,{value:void 0,defaultValue:void 0,children:""+v._wrapperState.initialValue})}function Ze(v,_){var T=_.value;if(T==null){if(T=_.children,_=_.defaultValue,T!=null){if(_!=null)throw Error(t(92));if(re(T)){if(1<T.length)throw Error(t(93));T=T[0]}_=T}_==null&&(_=""),T=_}v._wrapperState={initialValue:Be(T)}}function Ye(v,_){var T=Be(_.value),D=Be(_.defaultValue);T!=null&&(T=""+T,T!==v.value&&(v.value=T),_.defaultValue==null&&v.defaultValue!==T&&(v.defaultValue=T)),D!=null&&(v.defaultValue=""+D)}function Qe(v){var _=v.textContent;_===v._wrapperState.initialValue&&_!==""&&_!==null&&(v.value=_)}function Yt(v){switch(v){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vt(v,_){return v==null||v==="http://www.w3.org/1999/xhtml"?Yt(_):v==="http://www.w3.org/2000/svg"&&_==="foreignObject"?"http://www.w3.org/1999/xhtml":v}var ft,rn=(function(v){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(_,T,D,k){MSApp.execUnsafeLocalFunction(function(){return v(_,T,D,k)})}:v})(function(v,_){if(v.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in v)v.innerHTML=_;else{for(ft=ft||document.createElement("div"),ft.innerHTML="<svg>"+_.valueOf().toString()+"</svg>",_=ft.firstChild;v.firstChild;)v.removeChild(v.firstChild);for(;_.firstChild;)v.appendChild(_.firstChild)}});function at(v,_){if(_){var T=v.firstChild;if(T&&T===v.lastChild&&T.nodeType===3){T.nodeValue=_;return}}v.textContent=_}var bt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Rn=["Webkit","ms","Moz","O"];Object.keys(bt).forEach(function(v){Rn.forEach(function(_){_=_+v.charAt(0).toUpperCase()+v.substring(1),bt[_]=bt[v]})});function Kt(v,_,T){return _==null||typeof _=="boolean"||_===""?"":T||typeof _!="number"||_===0||bt.hasOwnProperty(v)&&bt[v]?(""+_).trim():_+"px"}function St(v,_){v=v.style;for(var T in _)if(_.hasOwnProperty(T)){var D=T.indexOf("--")===0,k=Kt(T,_[T],D);T==="float"&&(T="cssFloat"),D?v.setProperty(T,k):v[T]=k}}var mn=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ce(v,_){if(_){if(mn[v]&&(_.children!=null||_.dangerouslySetInnerHTML!=null))throw Error(t(137,v));if(_.dangerouslySetInnerHTML!=null){if(_.children!=null)throw Error(t(60));if(typeof _.dangerouslySetInnerHTML!="object"||!("__html"in _.dangerouslySetInnerHTML))throw Error(t(61))}if(_.style!=null&&typeof _.style!="object")throw Error(t(62))}}function et(v,_){if(v.indexOf("-")===-1)return typeof _.is=="string";switch(v){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oe=null;function Ke(v){return v=v.target||v.srcElement||window,v.correspondingUseElement&&(v=v.correspondingUseElement),v.nodeType===3?v.parentNode:v}var ke=null,Xe=null,tt=null;function hn(v){if(v=il(v)){if(typeof ke!="function")throw Error(t(280));var _=v.stateNode;_&&(_=Mg(_),ke(v.stateNode,v.type,_))}}function In(v){Xe?tt?tt.push(v):tt=[v]:Xe=v}function Yn(){if(Xe){var v=Xe,_=tt;if(tt=Xe=null,hn(v),_)for(v=0;v<_.length;v++)hn(_[v])}}function Kn(v,_){return v(_)}function Pn(){}var Ar=!1;function Gr(v,_,T){if(Ar)return v(_,T);Ar=!0;try{return Kn(v,_,T)}finally{Ar=!1,(Xe!==null||tt!==null)&&(Pn(),Yn())}}function ni(v,_){var T=v.stateNode;if(T===null)return null;var D=Mg(T);if(D===null)return null;T=D[_];e:switch(_){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(D=!D.disabled)||(v=v.type,D=!(v==="button"||v==="input"||v==="select"||v==="textarea")),v=!D;break e;default:v=!1}if(v)return null;if(T&&typeof T!="function")throw Error(t(231,_,typeof T));return T}var le=!1;if(s)try{var _e={};Object.defineProperty(_e,"passive",{get:function(){le=!0}}),window.addEventListener("test",_e,_e),window.removeEventListener("test",_e,_e)}catch{le=!1}function Ie(v,_,T,D,k,z,$,se,he){var Ne=Array.prototype.slice.call(arguments,3);try{_.apply(T,Ne)}catch(it){this.onError(it)}}var qe=!1,mt=null,Lt=!1,ln=null,kt={onError:function(v){qe=!0,mt=v}};function Gt(v,_,T,D,k,z,$,se,he){qe=!1,mt=null,Ie.apply(kt,arguments)}function It(v,_,T,D,k,z,$,se,he){if(Gt.apply(this,arguments),qe){if(qe){var Ne=mt;qe=!1,mt=null}else throw Error(t(198));Lt||(Lt=!0,ln=Ne)}}function Ft(v){var _=v,T=v;if(v.alternate)for(;_.return;)_=_.return;else{v=_;do _=v,(_.flags&4098)!==0&&(T=_.return),v=_.return;while(v)}return _.tag===3?T:null}function J(v){if(v.tag===13){var _=v.memoizedState;if(_===null&&(v=v.alternate,v!==null&&(_=v.memoizedState)),_!==null)return _.dehydrated}return null}function ue(v){if(Ft(v)!==v)throw Error(t(188))}function Me(v){var _=v.alternate;if(!_){if(_=Ft(v),_===null)throw Error(t(188));return _!==v?null:v}for(var T=v,D=_;;){var k=T.return;if(k===null)break;var z=k.alternate;if(z===null){if(D=k.return,D!==null){T=D;continue}break}if(k.child===z.child){for(z=k.child;z;){if(z===T)return ue(k),v;if(z===D)return ue(k),_;z=z.sibling}throw Error(t(188))}if(T.return!==D.return)T=k,D=z;else{for(var $=!1,se=k.child;se;){if(se===T){$=!0,T=k,D=z;break}if(se===D){$=!0,D=k,T=z;break}se=se.sibling}if(!$){for(se=z.child;se;){if(se===T){$=!0,T=z,D=k;break}if(se===D){$=!0,D=z,T=k;break}se=se.sibling}if(!$)throw Error(t(189))}}if(T.alternate!==D)throw Error(t(190))}if(T.tag!==3)throw Error(t(188));return T.stateNode.current===T?v:_}function we(v){return v=Me(v),v!==null?pe(v):null}function pe(v){if(v.tag===5||v.tag===6)return v;for(v=v.child;v!==null;){var _=pe(v);if(_!==null)return _;v=v.sibling}return null}var Je=e.unstable_scheduleCallback,wt=e.unstable_cancelCallback,Et=e.unstable_shouldYield,Pt=e.unstable_requestPaint,yt=e.unstable_now,an=e.unstable_getCurrentPriorityLevel,jt=e.unstable_ImmediatePriority,Dn=e.unstable_UserBlockingPriority,ir=e.unstable_NormalPriority,lr=e.unstable_LowPriority,sn=e.unstable_IdlePriority,Ht=null,st=null;function yn(v){if(st&&typeof st.onCommitFiberRoot=="function")try{st.onCommitFiberRoot(Ht,v,void 0,(v.current.flags&128)===128)}catch{}}var Nt=Math.clz32?Math.clz32:Li,nr=Math.log,Hr=Math.LN2;function Li(v){return v>>>=0,v===0?32:31-(nr(v)/Hr|0)|0}var $a=64,jn=4194304;function Ii(v){switch(v&-v){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return v&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return v&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return v}}function $s(v,_){var T=v.pendingLanes;if(T===0)return 0;var D=0,k=v.suspendedLanes,z=v.pingedLanes,$=T&268435455;if($!==0){var se=$&~k;se!==0?D=Ii(se):(z&=$,z!==0&&(D=Ii(z)))}else $=T&~k,$!==0?D=Ii($):z!==0&&(D=Ii(z));if(D===0)return 0;if(_!==0&&_!==D&&(_&k)===0&&(k=D&-D,z=_&-_,k>=z||k===16&&(z&4194240)!==0))return _;if((D&4)!==0&&(D|=T&16),_=v.entangledLanes,_!==0)for(v=v.entanglements,_&=D;0<_;)T=31-Nt(_),k=1<<T,D|=v[T],_&=~k;return D}function aa(v,_){switch(v){case 1:case 2:case 4:return _+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return _+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zl(v,_){for(var T=v.suspendedLanes,D=v.pingedLanes,k=v.expirationTimes,z=v.pendingLanes;0<z;){var $=31-Nt(z),se=1<<$,he=k[$];he===-1?((se&T)===0||(se&D)!==0)&&(k[$]=aa(se,_)):he<=_&&(v.expiredLanes|=se),z&=~se}}function ff(v){return v=v.pendingLanes&-1073741825,v!==0?v:v&1073741824?1073741824:0}function oa(){var v=$a;return $a<<=1,($a&4194240)===0&&($a=64),v}function c0(v){for(var _=[],T=0;31>T;T++)_.push(v);return _}function Kh(v,_,T){v.pendingLanes|=_,_!==536870912&&(v.suspendedLanes=0,v.pingedLanes=0),v=v.eventTimes,_=31-Nt(_),v[_]=T}function eE(v,_){var T=v.pendingLanes&~_;v.pendingLanes=_,v.suspendedLanes=0,v.pingedLanes=0,v.expiredLanes&=_,v.mutableReadLanes&=_,v.entangledLanes&=_,_=v.entanglements;var D=v.eventTimes;for(v=v.expirationTimes;0<T;){var k=31-Nt(T),z=1<<k;_[k]=0,D[k]=-1,v[k]=-1,T&=~z}}function hf(v,_){var T=v.entangledLanes|=_;for(v=v.entanglements;T;){var D=31-Nt(T),k=1<<D;k&_|v[D]&_&&(v[D]|=_),T&=~k}}var ar=0;function df(v){return v&=-v,1<v?4<v?(v&268435455)!==0?16:536870912:4:1}var Jh,f0,G1,Xv,Yv,Uu=!1,jv=[],ps=null,Vn=null,qs=null,Vu=new Map,pf=new Map,$l=[],tE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fi(v,_){switch(v){case"focusin":case"focusout":ps=null;break;case"dragenter":case"dragleave":Vn=null;break;case"mouseover":case"mouseout":qs=null;break;case"pointerover":case"pointerout":Vu.delete(_.pointerId);break;case"gotpointercapture":case"lostpointercapture":pf.delete(_.pointerId)}}function Gu(v,_,T,D,k,z){return v===null||v.nativeEvent!==z?(v={blockedOn:_,domEventName:T,eventSystemFlags:D,nativeEvent:z,targetContainers:[k]},_!==null&&(_=il(_),_!==null&&f0(_)),v):(v.eventSystemFlags|=D,_=v.targetContainers,k!==null&&_.indexOf(k)===-1&&_.push(k),v)}function nE(v,_,T,D,k){switch(_){case"focusin":return ps=Gu(ps,v,_,T,D,k),!0;case"dragenter":return Vn=Gu(Vn,v,_,T,D,k),!0;case"mouseover":return qs=Gu(qs,v,_,T,D,k),!0;case"pointerover":var z=k.pointerId;return Vu.set(z,Gu(Vu.get(z)||null,v,_,T,D,k)),!0;case"gotpointercapture":return z=k.pointerId,pf.set(z,Gu(pf.get(z)||null,v,_,T,D,k)),!0}return!1}function Zv(v){var _=nu(v.target);if(_!==null){var T=Ft(_);if(T!==null){if(_=T.tag,_===13){if(_=J(T),_!==null){v.blockedOn=_,Yv(v.priority,function(){G1(T)});return}}else if(_===3&&T.stateNode.current.memoizedState.isDehydrated){v.blockedOn=T.tag===3?T.stateNode.containerInfo:null;return}}}v.blockedOn=null}function $v(v){if(v.blockedOn!==null)return!1;for(var _=v.targetContainers;0<_.length;){var T=wo(v.domEventName,v.eventSystemFlags,_[0],v.nativeEvent);if(T===null){T=v.nativeEvent;var D=new T.constructor(T.type,T);oe=D,T.target.dispatchEvent(D),oe=null}else return _=il(T),_!==null&&f0(_),v.blockedOn=T,!1;_.shift()}return!0}function Qh(v,_,T){$v(v)&&T.delete(_)}function vs(){Uu=!1,ps!==null&&$v(ps)&&(ps=null),Vn!==null&&$v(Vn)&&(Vn=null),qs!==null&&$v(qs)&&(qs=null),Vu.forEach(Qh),pf.forEach(Qh)}function ed(v,_){v.blockedOn===_&&(v.blockedOn=null,Uu||(Uu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,vs)))}function td(v){function _(k){return ed(k,v)}if(0<jv.length){ed(jv[0],v);for(var T=1;T<jv.length;T++){var D=jv[T];D.blockedOn===v&&(D.blockedOn=null)}}for(ps!==null&&ed(ps,v),Vn!==null&&ed(Vn,v),qs!==null&&ed(qs,v),Vu.forEach(_),pf.forEach(_),T=0;T<$l.length;T++)D=$l[T],D.blockedOn===v&&(D.blockedOn=null);for(;0<$l.length&&(T=$l[0],T.blockedOn===null);)Zv(T),T.blockedOn===null&&$l.shift()}var sa=b.ReactCurrentBatchConfig,So=!0;function qv(v,_,T,D){var k=ar,z=sa.transition;sa.transition=null;try{ar=1,Kv(v,_,T,D)}finally{ar=k,sa.transition=z}}function h0(v,_,T,D){var k=ar,z=sa.transition;sa.transition=null;try{ar=4,Kv(v,_,T,D)}finally{ar=k,sa.transition=z}}function Kv(v,_,T,D){if(So){var k=wo(v,_,T,D);if(k===null)mg(v,_,D,Jv,T),fi(v,D);else if(nE(k,v,_,T,D))D.stopPropagation();else if(fi(v,D),_&4&&-1<tE.indexOf(v)){for(;k!==null;){var z=il(k);if(z!==null&&Jh(z),z=wo(v,_,T,D),z===null&&mg(v,_,D,Jv,T),z===k)break;k=z}k!==null&&D.stopPropagation()}else mg(v,_,D,null,T)}}var Jv=null;function wo(v,_,T,D){if(Jv=null,v=Ke(D),v=nu(v),v!==null)if(_=Ft(v),_===null)v=null;else if(T=_.tag,T===13){if(v=J(_),v!==null)return v;v=null}else if(T===3){if(_.stateNode.current.memoizedState.isDehydrated)return _.tag===3?_.stateNode.containerInfo:null;v=null}else _!==v&&(v=null);return Jv=v,null}function H1(v){switch(v){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(an()){case jt:return 1;case Dn:return 4;case ir:case lr:return 16;case sn:return 536870912;default:return 16}default:return 16}}var Ho=null,d0=null,wa=null;function nd(){if(wa)return wa;var v,_=d0,T=_.length,D,k="value"in Ho?Ho.value:Ho.textContent,z=k.length;for(v=0;v<T&&_[v]===k[v];v++);var $=T-v;for(D=1;D<=$&&_[T-D]===k[z-D];D++);return wa=k.slice(v,1<D?1-D:void 0)}function Hu(v){var _=v.keyCode;return"charCode"in v?(v=v.charCode,v===0&&_===13&&(v=13)):v=_,v===10&&(v=13),32<=v||v===13?v:0}function Ks(){return!0}function Qv(){return!1}function la(v){function _(T,D,k,z,$){this._reactName=T,this._targetInst=k,this.type=D,this.nativeEvent=z,this.target=$,this.currentTarget=null;for(var se in v)v.hasOwnProperty(se)&&(T=v[se],this[se]=T?T(z):z[se]);return this.isDefaultPrevented=(z.defaultPrevented!=null?z.defaultPrevented:z.returnValue===!1)?Ks:Qv,this.isPropagationStopped=Qv,this}return q(_.prototype,{preventDefault:function(){this.defaultPrevented=!0;var T=this.nativeEvent;T&&(T.preventDefault?T.preventDefault():typeof T.returnValue!="unknown"&&(T.returnValue=!1),this.isDefaultPrevented=Ks)},stopPropagation:function(){var T=this.nativeEvent;T&&(T.stopPropagation?T.stopPropagation():typeof T.cancelBubble!="unknown"&&(T.cancelBubble=!0),this.isPropagationStopped=Ks)},persist:function(){},isPersistent:Ks}),_}var Wu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(v){return v.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rd=la(Wu),Xu=q({},Wu,{view:0,detail:0}),vf=la(Xu),Ma,Mo,To,gf=q({},Xu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kl,button:0,buttons:0,relatedTarget:function(v){return v.relatedTarget===void 0?v.fromElement===v.srcElement?v.toElement:v.fromElement:v.relatedTarget},movementX:function(v){return"movementX"in v?v.movementX:(v!==To&&(To&&v.type==="mousemove"?(Ma=v.screenX-To.screenX,Mo=v.screenY-To.screenY):Mo=Ma=0,To=v),Ma)},movementY:function(v){return"movementY"in v?v.movementY:Mo}}),p0=la(gf),Js=q({},gf,{dataTransfer:0}),ql=la(Js),eg=q({},Xu,{relatedTarget:0}),tg=la(eg),ng=q({},Wu,{animationName:0,elapsedTime:0,pseudoElement:0}),W1=la(ng),X1=q({},Wu,{clipboardData:function(v){return"clipboardData"in v?v.clipboardData:window.clipboardData}}),v0=la(X1),rg=q({},Wu,{data:0}),g0=la(rg),Y1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},j1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},m0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mf(v){var _=this.nativeEvent;return _.getModifierState?_.getModifierState(v):(v=m0[v])?!!_[v]:!1}function Kl(){return mf}var ig=q({},Xu,{key:function(v){if(v.key){var _=Y1[v.key]||v.key;if(_!=="Unidentified")return _}return v.type==="keypress"?(v=Hu(v),v===13?"Enter":String.fromCharCode(v)):v.type==="keydown"||v.type==="keyup"?j1[v.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kl,charCode:function(v){return v.type==="keypress"?Hu(v):0},keyCode:function(v){return v.type==="keydown"||v.type==="keyup"?v.keyCode:0},which:function(v){return v.type==="keypress"?Hu(v):v.type==="keydown"||v.type==="keyup"?v.keyCode:0}}),ag=la(ig),bo=q({},gf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qa=la(bo),Yu=q({},Xu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kl}),Qs=la(Yu),el=q({},Wu,{propertyName:0,elapsedTime:0,pseudoElement:0}),ju=la(el),Z1=q({},gf,{deltaX:function(v){return"deltaX"in v?v.deltaX:"wheelDeltaX"in v?-v.wheelDeltaX:0},deltaY:function(v){return"deltaY"in v?v.deltaY:"wheelDeltaY"in v?-v.wheelDeltaY:"wheelDelta"in v?-v.wheelDelta:0},deltaZ:0,deltaMode:0}),y0=la(Z1),_0=[9,13,27,32],ua=s&&"CompositionEvent"in window,Ni=null;s&&"documentMode"in document&&(Ni=document.documentMode);var Nr=s&&"TextEvent"in window&&!Ni,yf=s&&(!ua||Ni&&8<Ni&&11>=Ni),Ao=" ",x0=!1;function S0(v,_){switch(v){case"keyup":return _0.indexOf(_.keyCode)!==-1;case"keydown":return _.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function og(v){return v=v.detail,typeof v=="object"&&"data"in v?v.data:null}var Jl=!1;function $1(v,_){switch(v){case"compositionend":return og(_);case"keypress":return _.which!==32?null:(x0=!0,Ao);case"textInput":return v=_.data,v===Ao&&x0?null:v;default:return null}}function id(v,_){if(Jl)return v==="compositionend"||!ua&&S0(v,_)?(v=nd(),wa=d0=Ho=null,Jl=!1,v):null;switch(v){case"paste":return null;case"keypress":if(!(_.ctrlKey||_.altKey||_.metaKey)||_.ctrlKey&&_.altKey){if(_.char&&1<_.char.length)return _.char;if(_.which)return String.fromCharCode(_.which)}return null;case"compositionend":return yf&&_.locale!=="ko"?null:_.data;default:return null}}var _f={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sg(v){var _=v&&v.nodeName&&v.nodeName.toLowerCase();return _==="input"?!!_f[v.type]:_==="textarea"}function xf(v,_,T,D){In(D),_=yg(_,"onChange"),0<_.length&&(T=new rd("onChange","change",null,T,D),v.push({event:T,listeners:_}))}var Ql=null,Sf=null;function q1(v){bf(v,0)}function tl(v){var _=qr(v);if(ve(_))return v}function K1(v,_){if(v==="change")return _}var wf=!1;if(s){var Ta;if(s){var Zu="oninput"in document;if(!Zu){var $u=document.createElement("div");$u.setAttribute("oninput","return;"),Zu=typeof $u.oninput=="function"}Ta=Zu}else Ta=!1;wf=Ta&&(!document.documentMode||9<document.documentMode)}function Wo(){Ql&&(Ql.detachEvent("onpropertychange",lg),Sf=Ql=null)}function lg(v){if(v.propertyName==="value"&&tl(Sf)){var _=[];xf(_,Sf,v,Ke(v)),Gr(q1,_)}}function Mf(v,_,T){v==="focusin"?(Wo(),Ql=_,Sf=T,Ql.attachEvent("onpropertychange",lg)):v==="focusout"&&Wo()}function J1(v){if(v==="selectionchange"||v==="keyup"||v==="keydown")return tl(Sf)}function w0(v,_){if(v==="click")return tl(_)}function zr(v,_){if(v==="input"||v==="change")return tl(_)}function ug(v,_){return v===_&&(v!==0||1/v===1/_)||v!==v&&_!==_}var Ka=typeof Object.is=="function"?Object.is:ug;function qu(v,_){if(Ka(v,_))return!0;if(typeof v!="object"||v===null||typeof _!="object"||_===null)return!1;var T=Object.keys(v),D=Object.keys(_);if(T.length!==D.length)return!1;for(D=0;D<T.length;D++){var k=T[D];if(!l.call(_,k)||!Ka(v[k],_[k]))return!1}return!0}function ad(v){for(;v&&v.firstChild;)v=v.firstChild;return v}function Ja(v,_){var T=ad(v);v=0;for(var D;T;){if(T.nodeType===3){if(D=v+T.textContent.length,v<=_&&D>=_)return{node:T,offset:_-v};v=D}e:{for(;T;){if(T.nextSibling){T=T.nextSibling;break e}T=T.parentNode}T=void 0}T=ad(T)}}function Ku(v,_){return v&&_?v===_?!0:v&&v.nodeType===3?!1:_&&_.nodeType===3?Ku(v,_.parentNode):"contains"in v?v.contains(_):v.compareDocumentPosition?!!(v.compareDocumentPosition(_)&16):!1:!1}function Br(){for(var v=window,_=Ae();_ instanceof v.HTMLIFrameElement;){try{var T=typeof _.contentWindow.location.href=="string"}catch{T=!1}if(T)v=_.contentWindow;else break;_=Ae(v.document)}return _}function xi(v){var _=v&&v.nodeName&&v.nodeName.toLowerCase();return _&&(_==="input"&&(v.type==="text"||v.type==="search"||v.type==="tel"||v.type==="url"||v.type==="password")||_==="textarea"||v.contentEditable==="true")}function Si(v){var _=Br(),T=v.focusedElem,D=v.selectionRange;if(_!==T&&T&&T.ownerDocument&&Ku(T.ownerDocument.documentElement,T)){if(D!==null&&xi(T)){if(_=D.start,v=D.end,v===void 0&&(v=_),"selectionStart"in T)T.selectionStart=_,T.selectionEnd=Math.min(v,T.value.length);else if(v=(_=T.ownerDocument||document)&&_.defaultView||window,v.getSelection){v=v.getSelection();var k=T.textContent.length,z=Math.min(D.start,k);D=D.end===void 0?z:Math.min(D.end,k),!v.extend&&z>D&&(k=D,D=z,z=k),k=Ja(T,z);var $=Ja(T,D);k&&$&&(v.rangeCount!==1||v.anchorNode!==k.node||v.anchorOffset!==k.offset||v.focusNode!==$.node||v.focusOffset!==$.offset)&&(_=_.createRange(),_.setStart(k.node,k.offset),v.removeAllRanges(),z>D?(v.addRange(_),v.extend($.node,$.offset)):(_.setEnd($.node,$.offset),v.addRange(_)))}}for(_=[],v=T;v=v.parentNode;)v.nodeType===1&&_.push({element:v,left:v.scrollLeft,top:v.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<_.length;T++)v=_[T],v.element.scrollLeft=v.left,v.element.scrollTop=v.top}}var cg=s&&"documentMode"in document&&11>=document.documentMode,gs=null,Ju=null,od=null,wi=!1;function fg(v,_,T){var D=T.window===T?T.document:T.nodeType===9?T:T.ownerDocument;wi||gs==null||gs!==Ae(D)||(D=gs,"selectionStart"in D&&xi(D)?D={start:D.selectionStart,end:D.selectionEnd}:(D=(D.ownerDocument&&D.ownerDocument.defaultView||window).getSelection(),D={anchorNode:D.anchorNode,anchorOffset:D.anchorOffset,focusNode:D.focusNode,focusOffset:D.focusOffset}),od&&qu(od,D)||(od=D,D=yg(Ju,"onSelect"),0<D.length&&(_=new rd("onSelect","select",null,_,T),v.push({event:_,listeners:D}),_.target=gs)))}function Tf(v,_){var T={};return T[v.toLowerCase()]=_.toLowerCase(),T["Webkit"+v]="webkit"+_,T["Moz"+v]="moz"+_,T}var eu={animationend:Tf("Animation","AnimationEnd"),animationiteration:Tf("Animation","AnimationIteration"),animationstart:Tf("Animation","AnimationStart"),transitionend:Tf("Transition","TransitionEnd")},Xo={},Yo={};s&&(Yo=document.createElement("div").style,"AnimationEvent"in window||(delete eu.animationend.animation,delete eu.animationiteration.animation,delete eu.animationstart.animation),"TransitionEvent"in window||delete eu.transitionend.transition);function ms(v){if(Xo[v])return Xo[v];if(!eu[v])return v;var _=eu[v],T;for(T in _)if(_.hasOwnProperty(T)&&T in Yo)return Xo[v]=_[T];return v}var sd=ms("animationend"),ld=ms("animationiteration"),M0=ms("animationstart"),T0=ms("transitionend"),b0=new Map,A0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function nl(v,_){b0.set(v,_),a(_,[v])}for(var hg=0;hg<A0.length;hg++){var ud=A0[hg],cd=ud.toLowerCase(),Q1=ud[0].toUpperCase()+ud.slice(1);nl(cd,"on"+Q1)}nl(sd,"onAnimationEnd"),nl(ld,"onAnimationIteration"),nl(M0,"onAnimationStart"),nl("dblclick","onDoubleClick"),nl("focusin","onFocus"),nl("focusout","onBlur"),nl(T0,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dg=new Set("cancel close invalid load scroll toggle".split(" ").concat(tu));function pg(v,_,T){var D=v.type||"unknown-event";v.currentTarget=T,It(D,_,void 0,v),v.currentTarget=null}function bf(v,_){_=(_&4)!==0;for(var T=0;T<v.length;T++){var D=v[T],k=D.event;D=D.listeners;e:{var z=void 0;if(_)for(var $=D.length-1;0<=$;$--){var se=D[$],he=se.instance,Ne=se.currentTarget;if(se=se.listener,he!==z&&k.isPropagationStopped())break e;pg(k,se,Ne),z=he}else for($=0;$<D.length;$++){if(se=D[$],he=se.instance,Ne=se.currentTarget,se=se.listener,he!==z&&k.isPropagationStopped())break e;pg(k,se,Ne),z=he}}}if(Lt)throw v=ln,Lt=!1,ln=null,v}function Cr(v,_){var T=_[tc];T===void 0&&(T=_[tc]=new Set);var D=v+"__bubble";T.has(D)||(gg(_,v,2,!1),T.add(D))}function vg(v,_,T){var D=0;_&&(D|=4),gg(T,v,D,_)}var fd="_reactListening"+Math.random().toString(36).slice(2);function Af(v){if(!v[fd]){v[fd]=!0,r.forEach(function(T){T!=="selectionchange"&&(dg.has(T)||vg(T,!1,v),vg(T,!0,v))});var _=v.nodeType===9?v:v.ownerDocument;_===null||_[fd]||(_[fd]=!0,vg("selectionchange",!1,_))}}function gg(v,_,T,D){switch(H1(_)){case 1:var k=qv;break;case 4:k=h0;break;default:k=Kv}T=k.bind(null,_,T,v),k=void 0,!le||_!=="touchstart"&&_!=="touchmove"&&_!=="wheel"||(k=!0),D?k!==void 0?v.addEventListener(_,T,{capture:!0,passive:k}):v.addEventListener(_,T,!0):k!==void 0?v.addEventListener(_,T,{passive:k}):v.addEventListener(_,T,!1)}function mg(v,_,T,D,k){var z=D;if((_&1)===0&&(_&2)===0&&D!==null)e:for(;;){if(D===null)return;var $=D.tag;if($===3||$===4){var se=D.stateNode.containerInfo;if(se===k||se.nodeType===8&&se.parentNode===k)break;if($===4)for($=D.return;$!==null;){var he=$.tag;if((he===3||he===4)&&(he=$.stateNode.containerInfo,he===k||he.nodeType===8&&he.parentNode===k))return;$=$.return}for(;se!==null;){if($=nu(se),$===null)return;if(he=$.tag,he===5||he===6){D=z=$;continue e}se=se.parentNode}}D=D.return}Gr(function(){var Ne=z,it=Ke(T),lt=[];e:{var nt=b0.get(v);if(nt!==void 0){var Ot=rd,Zt=v;switch(v){case"keypress":if(Hu(T)===0)break e;case"keydown":case"keyup":Ot=ag;break;case"focusin":Zt="focus",Ot=tg;break;case"focusout":Zt="blur",Ot=tg;break;case"beforeblur":case"afterblur":Ot=tg;break;case"click":if(T.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ot=p0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ot=ql;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ot=Qs;break;case sd:case ld:case M0:Ot=W1;break;case T0:Ot=ju;break;case"scroll":Ot=vf;break;case"wheel":Ot=y0;break;case"copy":case"cut":case"paste":Ot=v0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ot=qa}var qt=(_&4)!==0,di=!qt&&v==="scroll",Te=qt?nt!==null?nt+"Capture":null:nt;qt=[];for(var ge=Ne,Ce;ge!==null;){Ce=ge;var pt=Ce.stateNode;if(Ce.tag===5&&pt!==null&&(Ce=pt,Te!==null&&(pt=ni(ge,Te),pt!=null&&qt.push(Cf(ge,pt,Ce)))),di)break;ge=ge.return}0<qt.length&&(nt=new Ot(nt,Zt,null,T,it),lt.push({event:nt,listeners:qt}))}}if((_&7)===0){e:{if(nt=v==="mouseover"||v==="pointerover",Ot=v==="mouseout"||v==="pointerout",nt&&T!==oe&&(Zt=T.relatedTarget||T.fromElement)&&(nu(Zt)||Zt[Qa]))break e;if((Ot||nt)&&(nt=it.window===it?it:(nt=it.ownerDocument)?nt.defaultView||nt.parentWindow:window,Ot?(Zt=T.relatedTarget||T.toElement,Ot=Ne,Zt=Zt?nu(Zt):null,Zt!==null&&(di=Ft(Zt),Zt!==di||Zt.tag!==5&&Zt.tag!==6)&&(Zt=null)):(Ot=null,Zt=Ne),Ot!==Zt)){if(qt=p0,pt="onMouseLeave",Te="onMouseEnter",ge="mouse",(v==="pointerout"||v==="pointerover")&&(qt=qa,pt="onPointerLeave",Te="onPointerEnter",ge="pointer"),di=Ot==null?nt:qr(Ot),Ce=Zt==null?nt:qr(Zt),nt=new qt(pt,ge+"leave",Ot,T,it),nt.target=di,nt.relatedTarget=Ce,pt=null,nu(it)===Ne&&(qt=new qt(Te,ge+"enter",Zt,T,it),qt.target=Ce,qt.relatedTarget=di,pt=qt),di=pt,Ot&&Zt)t:{for(qt=Ot,Te=Zt,ge=0,Ce=qt;Ce;Ce=Qu(Ce))ge++;for(Ce=0,pt=Te;pt;pt=Qu(pt))Ce++;for(;0<ge-Ce;)qt=Qu(qt),ge--;for(;0<Ce-ge;)Te=Qu(Te),Ce--;for(;ge--;){if(qt===Te||Te!==null&&qt===Te.alternate)break t;qt=Qu(qt),Te=Qu(Te)}qt=null}else qt=null;Ot!==null&&ew(lt,nt,Ot,qt,!1),Zt!==null&&di!==null&&ew(lt,di,Zt,qt,!0)}}e:{if(nt=Ne?qr(Ne):window,Ot=nt.nodeName&&nt.nodeName.toLowerCase(),Ot==="select"||Ot==="input"&&nt.type==="file")var en=K1;else if(sg(nt))if(wf)en=zr;else{en=J1;var pn=Mf}else(Ot=nt.nodeName)&&Ot.toLowerCase()==="input"&&(nt.type==="checkbox"||nt.type==="radio")&&(en=w0);if(en&&(en=en(v,Ne))){xf(lt,en,T,it);break e}pn&&pn(v,nt,Ne),v==="focusout"&&(pn=nt._wrapperState)&&pn.controlled&&nt.type==="number"&&Rt(nt,"number",nt.value)}switch(pn=Ne?qr(Ne):window,v){case"focusin":(sg(pn)||pn.contentEditable==="true")&&(gs=pn,Ju=Ne,od=null);break;case"focusout":od=Ju=gs=null;break;case"mousedown":wi=!0;break;case"contextmenu":case"mouseup":case"dragend":wi=!1,fg(lt,T,it);break;case"selectionchange":if(cg)break;case"keydown":case"keyup":fg(lt,T,it)}var vn;if(ua)e:{switch(v){case"compositionstart":var bn="onCompositionStart";break e;case"compositionend":bn="onCompositionEnd";break e;case"compositionupdate":bn="onCompositionUpdate";break e}bn=void 0}else Jl?S0(v,T)&&(bn="onCompositionEnd"):v==="keydown"&&T.keyCode===229&&(bn="onCompositionStart");bn&&(yf&&T.locale!=="ko"&&(Jl||bn!=="onCompositionStart"?bn==="onCompositionEnd"&&Jl&&(vn=nd()):(Ho=it,d0="value"in Ho?Ho.value:Ho.textContent,Jl=!0)),pn=yg(Ne,bn),0<pn.length&&(bn=new g0(bn,v,null,T,it),lt.push({event:bn,listeners:pn}),vn?bn.data=vn:(vn=og(T),vn!==null&&(bn.data=vn)))),(vn=Nr?$1(v,T):id(v,T))&&(Ne=yg(Ne,"onBeforeInput"),0<Ne.length&&(it=new g0("onBeforeInput","beforeinput",null,T,it),lt.push({event:it,listeners:Ne}),it.data=vn))}bf(lt,_)})}function Cf(v,_,T){return{instance:v,listener:_,currentTarget:T}}function yg(v,_){for(var T=_+"Capture",D=[];v!==null;){var k=v,z=k.stateNode;k.tag===5&&z!==null&&(k=z,z=ni(v,T),z!=null&&D.unshift(Cf(v,z,k)),z=ni(v,_),z!=null&&D.push(Cf(v,z,k))),v=v.return}return D}function Qu(v){if(v===null)return null;do v=v.return;while(v&&v.tag!==5);return v||null}function ew(v,_,T,D,k){for(var z=_._reactName,$=[];T!==null&&T!==D;){var se=T,he=se.alternate,Ne=se.stateNode;if(he!==null&&he===D)break;se.tag===5&&Ne!==null&&(se=Ne,k?(he=ni(T,z),he!=null&&$.unshift(Cf(T,he,se))):k||(he=ni(T,z),he!=null&&$.push(Cf(T,he,se)))),T=T.return}$.length!==0&&v.push({event:_,listeners:$})}var rE=/\r\n?/g,tw=/\u0000|\uFFFD/g;function C0(v){return(typeof v=="string"?v:""+v).replace(rE,`
`).replace(tw,"")}function hd(v,_,T){if(_=C0(_),C0(v)!==_&&T)throw Error(t(425))}function dd(){}var Ef=null,E0=null;function P0(v,_){return v==="textarea"||v==="noscript"||typeof _.children=="string"||typeof _.children=="number"||typeof _.dangerouslySetInnerHTML=="object"&&_.dangerouslySetInnerHTML!==null&&_.dangerouslySetInnerHTML.__html!=null}var D0=typeof setTimeout=="function"?setTimeout:void 0,R0=typeof clearTimeout=="function"?clearTimeout:void 0,_g=typeof Promise=="function"?Promise:void 0,iE=typeof queueMicrotask=="function"?queueMicrotask:typeof _g<"u"?function(v){return _g.resolve(null).then(v).catch(nw)}:D0;function nw(v){setTimeout(function(){throw v})}function xg(v,_){var T=_,D=0;do{var k=T.nextSibling;if(v.removeChild(T),k&&k.nodeType===8)if(T=k.data,T==="/$"){if(D===0){v.removeChild(k),td(_);return}D--}else T!=="$"&&T!=="$?"&&T!=="$!"||D++;T=k}while(T);td(_)}function rl(v){for(;v!=null;v=v.nextSibling){var _=v.nodeType;if(_===1||_===3)break;if(_===8){if(_=v.data,_==="$"||_==="$!"||_==="$?")break;if(_==="/$")return null}}return v}function L0(v){v=v.previousSibling;for(var _=0;v;){if(v.nodeType===8){var T=v.data;if(T==="$"||T==="$!"||T==="$?"){if(_===0)return v;_--}else T==="/$"&&_++}v=v.previousSibling}return null}var ec=Math.random().toString(36).slice(2),hi="__reactFiber$"+ec,Pf="__reactProps$"+ec,Qa="__reactContainer$"+ec,tc="__reactEvents$"+ec,Sg="__reactListeners$"+ec,wg="__reactHandles$"+ec;function nu(v){var _=v[hi];if(_)return _;for(var T=v.parentNode;T;){if(_=T[Qa]||T[hi]){if(T=_.alternate,_.child!==null||T!==null&&T.child!==null)for(v=L0(v);v!==null;){if(T=v[hi])return T;v=L0(v)}return _}v=T,T=v.parentNode}return null}function il(v){return v=v[hi]||v[Qa],!v||v.tag!==5&&v.tag!==6&&v.tag!==13&&v.tag!==3?null:v}function qr(v){if(v.tag===5||v.tag===6)return v.stateNode;throw Error(t(33))}function Mg(v){return v[Pf]||null}var I0=[],Mi=-1;function Wr(v){return{current:v}}function Er(v){0>Mi||(v.current=I0[Mi],I0[Mi]=null,Mi--)}function xr(v,_){Mi++,I0[Mi]=v.current,v.current=_}var al={},Oi=Wr(al),ca=Wr(!1),ol=al;function nc(v,_){var T=v.type.contextTypes;if(!T)return al;var D=v.stateNode;if(D&&D.__reactInternalMemoizedUnmaskedChildContext===_)return D.__reactInternalMemoizedMaskedChildContext;var k={},z;for(z in T)k[z]=_[z];return D&&(v=v.stateNode,v.__reactInternalMemoizedUnmaskedChildContext=_,v.__reactInternalMemoizedMaskedChildContext=k),k}function qi(v){return v=v.childContextTypes,v!=null}function pd(){Er(ca),Er(Oi)}function N0(v,_,T){if(Oi.current!==al)throw Error(t(168));xr(Oi,_),xr(ca,T)}function vd(v,_,T){var D=v.stateNode;if(_=_.childContextTypes,typeof D.getChildContext!="function")return T;D=D.getChildContext();for(var k in D)if(!(k in _))throw Error(t(108,Ee(v)||"Unknown",k));return q({},T,D)}function rc(v){return v=(v=v.stateNode)&&v.__reactInternalMemoizedMergedChildContext||al,ol=Oi.current,xr(Oi,v),xr(ca,ca.current),!0}function O0(v,_,T){var D=v.stateNode;if(!D)throw Error(t(169));T?(v=vd(v,_,ol),D.__reactInternalMemoizedMergedChildContext=v,Er(ca),Er(Oi),xr(Oi,v)):Er(ca),xr(ca,T)}var jo=null,gd=!1,Tg=!1;function md(v){jo===null?jo=[v]:jo.push(v)}function rw(v){gd=!0,md(v)}function ys(){if(!Tg&&jo!==null){Tg=!0;var v=0,_=ar;try{var T=jo;for(ar=1;v<T.length;v++){var D=T[v];do D=D(!0);while(D!==null)}jo=null,gd=!1}catch(k){throw jo!==null&&(jo=jo.slice(v+1)),Je(jt,ys),k}finally{ar=_,Tg=!1}}return null}var ic=[],ba=0,bg=null,Ag=0,fa=[],Ti=0,ac=null,_t=1,Co="";function sl(v,_){ic[ba++]=Ag,ic[ba++]=bg,bg=v,Ag=_}function k0(v,_,T){fa[Ti++]=_t,fa[Ti++]=Co,fa[Ti++]=ac,ac=v;var D=_t;v=Co;var k=32-Nt(D)-1;D&=~(1<<k),T+=1;var z=32-Nt(_)+k;if(30<z){var $=k-k%5;z=(D&(1<<$)-1).toString(32),D>>=$,k-=$,_t=1<<32-Nt(_)+k|T<<k|D,Co=z+v}else _t=1<<z|T<<k|D,Co=v}function F0(v){v.return!==null&&(sl(v,1),k0(v,1,0))}function ll(v){for(;v===bg;)bg=ic[--ba],ic[ba]=null,Ag=ic[--ba],ic[ba]=null;for(;v===ac;)ac=fa[--Ti],fa[Ti]=null,Co=fa[--Ti],fa[Ti]=null,_t=fa[--Ti],fa[Ti]=null}var ki=null,ha=null,Lr=!1,Eo=null;function z0(v,_){var T=Ms(5,null,null,0);T.elementType="DELETED",T.stateNode=_,T.return=v,_=v.deletions,_===null?(v.deletions=[T],v.flags|=16):_.push(T)}function B0(v,_){switch(v.tag){case 5:var T=v.type;return _=_.nodeType!==1||T.toLowerCase()!==_.nodeName.toLowerCase()?null:_,_!==null?(v.stateNode=_,ki=v,ha=rl(_.firstChild),!0):!1;case 6:return _=v.pendingProps===""||_.nodeType!==3?null:_,_!==null?(v.stateNode=_,ki=v,ha=null,!0):!1;case 13:return _=_.nodeType!==8?null:_,_!==null?(T=ac!==null?{id:_t,overflow:Co}:null,v.memoizedState={dehydrated:_,treeContext:T,retryLane:1073741824},T=Ms(18,null,null,0),T.stateNode=_,T.return=v,v.child=T,ki=v,ha=null,!0):!1;default:return!1}}function Cg(v){return(v.mode&1)!==0&&(v.flags&128)===0}function Eg(v){if(Lr){var _=ha;if(_){var T=_;if(!B0(v,_)){if(Cg(v))throw Error(t(418));_=rl(T.nextSibling);var D=ki;_&&B0(v,_)?z0(D,T):(v.flags=v.flags&-4097|2,Lr=!1,ki=v)}}else{if(Cg(v))throw Error(t(418));v.flags=v.flags&-4097|2,Lr=!1,ki=v}}}function Pg(v){for(v=v.return;v!==null&&v.tag!==5&&v.tag!==3&&v.tag!==13;)v=v.return;ki=v}function Df(v){if(v!==ki)return!1;if(!Lr)return Pg(v),Lr=!0,!1;var _;if((_=v.tag!==3)&&!(_=v.tag!==5)&&(_=v.type,_=_!=="head"&&_!=="body"&&!P0(v.type,v.memoizedProps)),_&&(_=ha)){if(Cg(v))throw U0(),Error(t(418));for(;_;)z0(v,_),_=rl(_.nextSibling)}if(Pg(v),v.tag===13){if(v=v.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(t(317));e:{for(v=v.nextSibling,_=0;v;){if(v.nodeType===8){var T=v.data;if(T==="/$"){if(_===0){ha=rl(v.nextSibling);break e}_--}else T!=="$"&&T!=="$!"&&T!=="$?"||_++}v=v.nextSibling}ha=null}}else ha=ki?rl(v.stateNode.nextSibling):null;return!0}function U0(){for(var v=ha;v;)v=rl(v.nextSibling)}function ru(){ha=ki=null,Lr=!1}function Rf(v){Eo===null?Eo=[v]:Eo.push(v)}var aE=b.ReactCurrentBatchConfig;function yd(v,_,T){if(v=T.ref,v!==null&&typeof v!="function"&&typeof v!="object"){if(T._owner){if(T=T._owner,T){if(T.tag!==1)throw Error(t(309));var D=T.stateNode}if(!D)throw Error(t(147,v));var k=D,z=""+v;return _!==null&&_.ref!==null&&typeof _.ref=="function"&&_.ref._stringRef===z?_.ref:(_=function($){var se=k.refs;$===null?delete se[z]:se[z]=$},_._stringRef=z,_)}if(typeof v!="string")throw Error(t(284));if(!T._owner)throw Error(t(290,v))}return v}function _d(v,_){throw v=Object.prototype.toString.call(_),Error(t(31,v==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":v))}function V0(v){var _=v._init;return _(v._payload)}function G0(v){function _(Te,ge){if(v){var Ce=Te.deletions;Ce===null?(Te.deletions=[ge],Te.flags|=16):Ce.push(ge)}}function T(Te,ge){if(!v)return null;for(;ge!==null;)_(Te,ge),ge=ge.sibling;return null}function D(Te,ge){for(Te=new Map;ge!==null;)ge.key!==null?Te.set(ge.key,ge):Te.set(ge.index,ge),ge=ge.sibling;return Te}function k(Te,ge){return Te=Gf(Te,ge),Te.index=0,Te.sibling=null,Te}function z(Te,ge,Ce){return Te.index=Ce,v?(Ce=Te.alternate,Ce!==null?(Ce=Ce.index,Ce<ge?(Te.flags|=2,ge):Ce):(Te.flags|=2,ge)):(Te.flags|=1048576,ge)}function $(Te){return v&&Te.alternate===null&&(Te.flags|=2),Te}function se(Te,ge,Ce,pt){return ge===null||ge.tag!==6?(ge=TE(Ce,Te.mode,pt),ge.return=Te,ge):(ge=k(ge,Ce),ge.return=Te,ge)}function he(Te,ge,Ce,pt){var en=Ce.type;return en===E?it(Te,ge,Ce.props.children,pt,Ce.key):ge!==null&&(ge.elementType===en||typeof en=="object"&&en!==null&&en.$$typeof===j&&V0(en)===ge.type)?(pt=k(ge,Ce.props),pt.ref=yd(Te,ge,Ce),pt.return=Te,pt):(pt=Aw(Ce.type,Ce.key,Ce.props,null,Te.mode,pt),pt.ref=yd(Te,ge,Ce),pt.return=Te,pt)}function Ne(Te,ge,Ce,pt){return ge===null||ge.tag!==4||ge.stateNode.containerInfo!==Ce.containerInfo||ge.stateNode.implementation!==Ce.implementation?(ge=bE(Ce,Te.mode,pt),ge.return=Te,ge):(ge=k(ge,Ce.children||[]),ge.return=Te,ge)}function it(Te,ge,Ce,pt,en){return ge===null||ge.tag!==7?(ge=kd(Ce,Te.mode,pt,en),ge.return=Te,ge):(ge=k(ge,Ce),ge.return=Te,ge)}function lt(Te,ge,Ce){if(typeof ge=="string"&&ge!==""||typeof ge=="number")return ge=TE(""+ge,Te.mode,Ce),ge.return=Te,ge;if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case C:return Ce=Aw(ge.type,ge.key,ge.props,null,Te.mode,Ce),Ce.ref=yd(Te,null,ge),Ce.return=Te,Ce;case A:return ge=bE(ge,Te.mode,Ce),ge.return=Te,ge;case j:var pt=ge._init;return lt(Te,pt(ge._payload),Ce)}if(re(ge)||Z(ge))return ge=kd(ge,Te.mode,Ce,null),ge.return=Te,ge;_d(Te,ge)}return null}function nt(Te,ge,Ce,pt){var en=ge!==null?ge.key:null;if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number")return en!==null?null:se(Te,ge,""+Ce,pt);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case C:return Ce.key===en?he(Te,ge,Ce,pt):null;case A:return Ce.key===en?Ne(Te,ge,Ce,pt):null;case j:return en=Ce._init,nt(Te,ge,en(Ce._payload),pt)}if(re(Ce)||Z(Ce))return en!==null?null:it(Te,ge,Ce,pt,null);_d(Te,Ce)}return null}function Ot(Te,ge,Ce,pt,en){if(typeof pt=="string"&&pt!==""||typeof pt=="number")return Te=Te.get(Ce)||null,se(ge,Te,""+pt,en);if(typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case C:return Te=Te.get(pt.key===null?Ce:pt.key)||null,he(ge,Te,pt,en);case A:return Te=Te.get(pt.key===null?Ce:pt.key)||null,Ne(ge,Te,pt,en);case j:var pn=pt._init;return Ot(Te,ge,Ce,pn(pt._payload),en)}if(re(pt)||Z(pt))return Te=Te.get(Ce)||null,it(ge,Te,pt,en,null);_d(ge,pt)}return null}function Zt(Te,ge,Ce,pt){for(var en=null,pn=null,vn=ge,bn=ge=0,ea=null;vn!==null&&bn<Ce.length;bn++){vn.index>bn?(ea=vn,vn=null):ea=vn.sibling;var fr=nt(Te,vn,Ce[bn],pt);if(fr===null){vn===null&&(vn=ea);break}v&&vn&&fr.alternate===null&&_(Te,vn),ge=z(fr,ge,bn),pn===null?en=fr:pn.sibling=fr,pn=fr,vn=ea}if(bn===Ce.length)return T(Te,vn),Lr&&sl(Te,bn),en;if(vn===null){for(;bn<Ce.length;bn++)vn=lt(Te,Ce[bn],pt),vn!==null&&(ge=z(vn,ge,bn),pn===null?en=vn:pn.sibling=vn,pn=vn);return Lr&&sl(Te,bn),en}for(vn=D(Te,vn);bn<Ce.length;bn++)ea=Ot(vn,Te,bn,Ce[bn],pt),ea!==null&&(v&&ea.alternate!==null&&vn.delete(ea.key===null?bn:ea.key),ge=z(ea,ge,bn),pn===null?en=ea:pn.sibling=ea,pn=ea);return v&&vn.forEach(function(Hf){return _(Te,Hf)}),Lr&&sl(Te,bn),en}function qt(Te,ge,Ce,pt){var en=Z(Ce);if(typeof en!="function")throw Error(t(150));if(Ce=en.call(Ce),Ce==null)throw Error(t(151));for(var pn=en=null,vn=ge,bn=ge=0,ea=null,fr=Ce.next();vn!==null&&!fr.done;bn++,fr=Ce.next()){vn.index>bn?(ea=vn,vn=null):ea=vn.sibling;var Hf=nt(Te,vn,fr.value,pt);if(Hf===null){vn===null&&(vn=ea);break}v&&vn&&Hf.alternate===null&&_(Te,vn),ge=z(Hf,ge,bn),pn===null?en=Hf:pn.sibling=Hf,pn=Hf,vn=ea}if(fr.done)return T(Te,vn),Lr&&sl(Te,bn),en;if(vn===null){for(;!fr.done;bn++,fr=Ce.next())fr=lt(Te,fr.value,pt),fr!==null&&(ge=z(fr,ge,bn),pn===null?en=fr:pn.sibling=fr,pn=fr);return Lr&&sl(Te,bn),en}for(vn=D(Te,vn);!fr.done;bn++,fr=Ce.next())fr=Ot(vn,Te,bn,fr.value,pt),fr!==null&&(v&&fr.alternate!==null&&vn.delete(fr.key===null?bn:fr.key),ge=z(fr,ge,bn),pn===null?en=fr:pn.sibling=fr,pn=fr);return v&&vn.forEach(function(pte){return _(Te,pte)}),Lr&&sl(Te,bn),en}function di(Te,ge,Ce,pt){if(typeof Ce=="object"&&Ce!==null&&Ce.type===E&&Ce.key===null&&(Ce=Ce.props.children),typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case C:e:{for(var en=Ce.key,pn=ge;pn!==null;){if(pn.key===en){if(en=Ce.type,en===E){if(pn.tag===7){T(Te,pn.sibling),ge=k(pn,Ce.props.children),ge.return=Te,Te=ge;break e}}else if(pn.elementType===en||typeof en=="object"&&en!==null&&en.$$typeof===j&&V0(en)===pn.type){T(Te,pn.sibling),ge=k(pn,Ce.props),ge.ref=yd(Te,pn,Ce),ge.return=Te,Te=ge;break e}T(Te,pn);break}else _(Te,pn);pn=pn.sibling}Ce.type===E?(ge=kd(Ce.props.children,Te.mode,pt,Ce.key),ge.return=Te,Te=ge):(pt=Aw(Ce.type,Ce.key,Ce.props,null,Te.mode,pt),pt.ref=yd(Te,ge,Ce),pt.return=Te,Te=pt)}return $(Te);case A:e:{for(pn=Ce.key;ge!==null;){if(ge.key===pn)if(ge.tag===4&&ge.stateNode.containerInfo===Ce.containerInfo&&ge.stateNode.implementation===Ce.implementation){T(Te,ge.sibling),ge=k(ge,Ce.children||[]),ge.return=Te,Te=ge;break e}else{T(Te,ge);break}else _(Te,ge);ge=ge.sibling}ge=bE(Ce,Te.mode,pt),ge.return=Te,Te=ge}return $(Te);case j:return pn=Ce._init,di(Te,ge,pn(Ce._payload),pt)}if(re(Ce))return Zt(Te,ge,Ce,pt);if(Z(Ce))return qt(Te,ge,Ce,pt);_d(Te,Ce)}return typeof Ce=="string"&&Ce!==""||typeof Ce=="number"?(Ce=""+Ce,ge!==null&&ge.tag===6?(T(Te,ge.sibling),ge=k(ge,Ce),ge.return=Te,Te=ge):(T(Te,ge),ge=TE(Ce,Te.mode,pt),ge.return=Te,Te=ge),$(Te)):T(Te,ge)}return di}var oc=G0(!0),xd=G0(!1),sc=Wr(null),lc=null,ul=null,Lf=null;function uc(){Lf=ul=lc=null}function Sd(v){var _=sc.current;Er(sc),v._currentValue=_}function wd(v,_,T){for(;v!==null;){var D=v.alternate;if((v.childLanes&_)!==_?(v.childLanes|=_,D!==null&&(D.childLanes|=_)):D!==null&&(D.childLanes&_)!==_&&(D.childLanes|=_),v===T)break;v=v.return}}function iu(v,_){lc=v,Lf=ul=null,v=v.dependencies,v!==null&&v.firstContext!==null&&((v.lanes&_)!==0&&(Fn=!0),v.firstContext=null)}function eo(v){var _=v._currentValue;if(Lf!==v)if(v={context:v,memoizedValue:_,next:null},ul===null){if(lc===null)throw Error(t(308));ul=v,lc.dependencies={lanes:0,firstContext:v}}else ul=ul.next=v;return _}var cl=null;function H0(v){cl===null?cl=[v]:cl.push(v)}function Md(v,_,T,D){var k=_.interleaved;return k===null?(T.next=T,H0(_)):(T.next=k.next,k.next=T),_.interleaved=T,Zo(v,D)}function Zo(v,_){v.lanes|=_;var T=v.alternate;for(T!==null&&(T.lanes|=_),T=v,v=v.return;v!==null;)v.childLanes|=_,T=v.alternate,T!==null&&(T.childLanes|=_),T=v,v=v.return;return T.tag===3?T.stateNode:null}var gr=!1;function Nn(v){v.updateQueue={baseState:v.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Kr(v,_){v=v.updateQueue,_.updateQueue===v&&(_.updateQueue={baseState:v.baseState,firstBaseUpdate:v.firstBaseUpdate,lastBaseUpdate:v.lastBaseUpdate,shared:v.shared,effects:v.effects})}function mr(v,_){return{eventTime:v,lane:_,tag:0,payload:null,callback:null,next:null}}function Or(v,_,T){var D=v.updateQueue;if(D===null)return null;if(D=D.shared,(ur&2)!==0){var k=D.pending;return k===null?_.next=_:(_.next=k.next,k.next=_),D.pending=_,Zo(v,T)}return k=D.interleaved,k===null?(_.next=_,H0(D)):(_.next=k.next,k.next=_),D.interleaved=_,Zo(v,T)}function Ki(v,_,T){if(_=_.updateQueue,_!==null&&(_=_.shared,(T&4194240)!==0)){var D=_.lanes;D&=v.pendingLanes,T|=D,_.lanes=T,hf(v,T)}}function cc(v,_){var T=v.updateQueue,D=v.alternate;if(D!==null&&(D=D.updateQueue,T===D)){var k=null,z=null;if(T=T.firstBaseUpdate,T!==null){do{var $={eventTime:T.eventTime,lane:T.lane,tag:T.tag,payload:T.payload,callback:T.callback,next:null};z===null?k=z=$:z=z.next=$,T=T.next}while(T!==null);z===null?k=z=_:z=z.next=_}else k=z=_;T={baseState:D.baseState,firstBaseUpdate:k,lastBaseUpdate:z,shared:D.shared,effects:D.effects},v.updateQueue=T;return}v=T.lastBaseUpdate,v===null?T.firstBaseUpdate=_:v.next=_,T.lastBaseUpdate=_}function Xr(v,_,T,D){var k=v.updateQueue;gr=!1;var z=k.firstBaseUpdate,$=k.lastBaseUpdate,se=k.shared.pending;if(se!==null){k.shared.pending=null;var he=se,Ne=he.next;he.next=null,$===null?z=Ne:$.next=Ne,$=he;var it=v.alternate;it!==null&&(it=it.updateQueue,se=it.lastBaseUpdate,se!==$&&(se===null?it.firstBaseUpdate=Ne:se.next=Ne,it.lastBaseUpdate=he))}if(z!==null){var lt=k.baseState;$=0,it=Ne=he=null,se=z;do{var nt=se.lane,Ot=se.eventTime;if((D&nt)===nt){it!==null&&(it=it.next={eventTime:Ot,lane:0,tag:se.tag,payload:se.payload,callback:se.callback,next:null});e:{var Zt=v,qt=se;switch(nt=_,Ot=T,qt.tag){case 1:if(Zt=qt.payload,typeof Zt=="function"){lt=Zt.call(Ot,lt,nt);break e}lt=Zt;break e;case 3:Zt.flags=Zt.flags&-65537|128;case 0:if(Zt=qt.payload,nt=typeof Zt=="function"?Zt.call(Ot,lt,nt):Zt,nt==null)break e;lt=q({},lt,nt);break e;case 2:gr=!0}}se.callback!==null&&se.lane!==0&&(v.flags|=64,nt=k.effects,nt===null?k.effects=[se]:nt.push(se))}else Ot={eventTime:Ot,lane:nt,tag:se.tag,payload:se.payload,callback:se.callback,next:null},it===null?(Ne=it=Ot,he=lt):it=it.next=Ot,$|=nt;if(se=se.next,se===null){if(se=k.shared.pending,se===null)break;nt=se,se=nt.next,nt.next=null,k.lastBaseUpdate=nt,k.shared.pending=null}}while(!0);if(it===null&&(he=lt),k.baseState=he,k.firstBaseUpdate=Ne,k.lastBaseUpdate=it,_=k.shared.interleaved,_!==null){k=_;do $|=k.lane,k=k.next;while(k!==_)}else z===null&&(k.shared.lanes=0);Ld|=$,v.lanes=$,v.memoizedState=lt}}function If(v,_,T){if(v=_.effects,_.effects=null,v!==null)for(_=0;_<v.length;_++){var D=v[_],k=D.callback;if(k!==null){if(D.callback=null,D=T,typeof k!="function")throw Error(t(191,k));k.call(D)}}}var _s={},to=Wr(_s),fc=Wr(_s),fl=Wr(_s);function ri(v){if(v===_s)throw Error(t(174));return v}function Td(v,_){switch(xr(fl,_),xr(fc,v),xr(to,_s),v=_.nodeType,v){case 9:case 11:_=(_=_.documentElement)?_.namespaceURI:vt(null,"");break;default:v=v===8?_.parentNode:_,_=v.namespaceURI||null,v=v.tagName,_=vt(_,v)}Er(to),xr(to,_)}function au(){Er(to),Er(fc),Er(fl)}function hc(v){ri(fl.current);var _=ri(to.current),T=vt(_,v.type);_!==T&&(xr(fc,v),xr(to,T))}function Nf(v){fc.current===v&&(Er(to),Er(fc))}var Ir=Wr(0);function $o(v){for(var _=v;_!==null;){if(_.tag===13){var T=_.memoizedState;if(T!==null&&(T=T.dehydrated,T===null||T.data==="$?"||T.data==="$!"))return _}else if(_.tag===19&&_.memoizedProps.revealOrder!==void 0){if((_.flags&128)!==0)return _}else if(_.child!==null){_.child.return=_,_=_.child;continue}if(_===v)break;for(;_.sibling===null;){if(_.return===null||_.return===v)return null;_=_.return}_.sibling.return=_.return,_=_.sibling}return null}var Of=[];function xs(){for(var v=0;v<Of.length;v++)Of[v]._workInProgressVersionPrimary=null;Of.length=0}var dc=b.ReactCurrentDispatcher,pc=b.ReactCurrentBatchConfig,hl=0,Pr=null,Yr=null,or=null,qo=!1,Ji=!1,ou=0,Aa=0;function Fi(){throw Error(t(321))}function bd(v,_){if(_===null)return!1;for(var T=0;T<_.length&&T<v.length;T++)if(!Ka(v[T],_[T]))return!1;return!0}function Ad(v,_,T,D,k,z){if(hl=z,Pr=_,_.memoizedState=null,_.updateQueue=null,_.lanes=0,dc.current=v===null||v.memoizedState===null?cw:fw,v=T(D,k),Ji){z=0;do{if(Ji=!1,ou=0,25<=z)throw Error(t(301));z+=1,or=Yr=null,_.updateQueue=null,dc.current=hw,v=T(D,k)}while(Ji)}if(dc.current=kg,_=Yr!==null&&Yr.next!==null,hl=0,or=Yr=Pr=null,qo=!1,_)throw Error(t(300));return v}function W0(){var v=ou!==0;return ou=0,v}function zi(){var v={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return or===null?Pr.memoizedState=or=v:or=or.next=v,or}function no(){if(Yr===null){var v=Pr.alternate;v=v!==null?v.memoizedState:null}else v=Yr.next;var _=or===null?Pr.memoizedState:or.next;if(_!==null)or=_,Yr=v;else{if(v===null)throw Error(t(310));Yr=v,v={memoizedState:Yr.memoizedState,baseState:Yr.baseState,baseQueue:Yr.baseQueue,queue:Yr.queue,next:null},or===null?Pr.memoizedState=or=v:or=or.next=v}return or}function kf(v,_){return typeof _=="function"?_(v):_}function Cd(v){var _=no(),T=_.queue;if(T===null)throw Error(t(311));T.lastRenderedReducer=v;var D=Yr,k=D.baseQueue,z=T.pending;if(z!==null){if(k!==null){var $=k.next;k.next=z.next,z.next=$}D.baseQueue=k=z,T.pending=null}if(k!==null){z=k.next,D=D.baseState;var se=$=null,he=null,Ne=z;do{var it=Ne.lane;if((hl&it)===it)he!==null&&(he=he.next={lane:0,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null}),D=Ne.hasEagerState?Ne.eagerState:v(D,Ne.action);else{var lt={lane:it,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null};he===null?(se=he=lt,$=D):he=he.next=lt,Pr.lanes|=it,Ld|=it}Ne=Ne.next}while(Ne!==null&&Ne!==z);he===null?$=D:he.next=se,Ka(D,_.memoizedState)||(Fn=!0),_.memoizedState=D,_.baseState=$,_.baseQueue=he,T.lastRenderedState=D}if(v=T.interleaved,v!==null){k=v;do z=k.lane,Pr.lanes|=z,Ld|=z,k=k.next;while(k!==v)}else k===null&&(T.lanes=0);return[_.memoizedState,T.dispatch]}function dl(v){var _=no(),T=_.queue;if(T===null)throw Error(t(311));T.lastRenderedReducer=v;var D=T.dispatch,k=T.pending,z=_.memoizedState;if(k!==null){T.pending=null;var $=k=k.next;do z=v(z,$.action),$=$.next;while($!==k);Ka(z,_.memoizedState)||(Fn=!0),_.memoizedState=z,_.baseQueue===null&&(_.baseState=z),T.lastRenderedState=z}return[z,D]}function X0(){}function Y0(v,_){var T=Pr,D=no(),k=_(),z=!Ka(D.memoizedState,k);if(z&&(D.memoizedState=k,Fn=!0),D=D.queue,$0(iw.bind(null,T,D,v),[v]),D.getSnapshot!==_||z||or!==null&&or.memoizedState.tag&1){if(T.flags|=2048,Ko(9,Ed.bind(null,T,D,k,_),void 0,null),Qi===null)throw Error(t(349));(hl&30)!==0||Dg(T,_,k)}return k}function Dg(v,_,T){v.flags|=16384,v={getSnapshot:_,value:T},_=Pr.updateQueue,_===null?(_={lastEffect:null,stores:null},Pr.updateQueue=_,_.stores=[v]):(T=_.stores,T===null?_.stores=[v]:T.push(v))}function Ed(v,_,T,D){_.value=T,_.getSnapshot=D,aw(_)&&j0(v)}function iw(v,_,T){return T(function(){aw(_)&&j0(v)})}function aw(v){var _=v.getSnapshot;v=v.value;try{var T=_();return!Ka(v,T)}catch{return!0}}function j0(v){var _=Zo(v,1);_!==null&&yl(_,v,1,-1)}function Z0(v){var _=zi();return typeof v=="function"&&(v=v()),_.memoizedState=_.baseState=v,v={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:kf,lastRenderedState:v},_.queue=v,v=v.dispatch=vc.bind(null,Pr,v),[_.memoizedState,v]}function Ko(v,_,T,D){return v={tag:v,create:_,destroy:T,deps:D,next:null},_=Pr.updateQueue,_===null?(_={lastEffect:null,stores:null},Pr.updateQueue=_,_.lastEffect=v.next=v):(T=_.lastEffect,T===null?_.lastEffect=v.next=v:(D=T.next,T.next=v,v.next=D,_.lastEffect=v)),v}function ow(){return no().memoizedState}function Ss(v,_,T,D){var k=zi();Pr.flags|=v,k.memoizedState=Ko(1|_,T,void 0,D===void 0?null:D)}function Pd(v,_,T,D){var k=no();D=D===void 0?null:D;var z=void 0;if(Yr!==null){var $=Yr.memoizedState;if(z=$.destroy,D!==null&&bd(D,$.deps)){k.memoizedState=Ko(_,T,z,D);return}}Pr.flags|=v,k.memoizedState=Ko(1|_,T,z,D)}function da(v,_){return Ss(8390656,8,v,_)}function $0(v,_){return Pd(2048,8,v,_)}function q0(v,_){return Pd(4,2,v,_)}function sw(v,_){return Pd(4,4,v,_)}function lw(v,_){if(typeof _=="function")return v=v(),_(v),function(){_(null)};if(_!=null)return v=v(),_.current=v,function(){_.current=null}}function K0(v,_,T){return T=T!=null?T.concat([v]):null,Pd(4,4,lw.bind(null,_,v),T)}function Rg(){}function uw(v,_){var T=no();_=_===void 0?null:_;var D=T.memoizedState;return D!==null&&_!==null&&bd(_,D[1])?D[0]:(T.memoizedState=[v,_],v)}function ro(v,_){var T=no();_=_===void 0?null:_;var D=T.memoizedState;return D!==null&&_!==null&&bd(_,D[1])?D[0]:(v=v(),T.memoizedState=[v,_],v)}function Lg(v,_,T){return(hl&21)===0?(v.baseState&&(v.baseState=!1,Fn=!0),v.memoizedState=T):(Ka(T,_)||(T=oa(),Pr.lanes|=T,Ld|=T,v.baseState=!0),_)}function oE(v,_){var T=ar;ar=T!==0&&4>T?T:4,v(!0);var D=pc.transition;pc.transition={};try{v(!1),_()}finally{ar=T,pc.transition=D}}function pl(){return no().memoizedState}function Ig(v,_,T){var D=Uf(v);if(T={lane:D,action:T,hasEagerState:!1,eagerState:null,next:null},Dd(v))Ng(_,T);else if(T=Md(v,_,T,D),T!==null){var k=ao();yl(T,v,D,k),Og(T,_,D)}}function vc(v,_,T){var D=Uf(v),k={lane:D,action:T,hasEagerState:!1,eagerState:null,next:null};if(Dd(v))Ng(_,k);else{var z=v.alternate;if(v.lanes===0&&(z===null||z.lanes===0)&&(z=_.lastRenderedReducer,z!==null))try{var $=_.lastRenderedState,se=z($,T);if(k.hasEagerState=!0,k.eagerState=se,Ka(se,$)){var he=_.interleaved;he===null?(k.next=k,H0(_)):(k.next=he.next,he.next=k),_.interleaved=k;return}}catch{}finally{}T=Md(v,_,k,D),T!==null&&(k=ao(),yl(T,v,D,k),Og(T,_,D))}}function Dd(v){var _=v.alternate;return v===Pr||_!==null&&_===Pr}function Ng(v,_){Ji=qo=!0;var T=v.pending;T===null?_.next=_:(_.next=T.next,T.next=_),v.pending=_}function Og(v,_,T){if((T&4194240)!==0){var D=_.lanes;D&=v.pendingLanes,T|=D,_.lanes=T,hf(v,T)}}var kg={readContext:eo,useCallback:Fi,useContext:Fi,useEffect:Fi,useImperativeHandle:Fi,useInsertionEffect:Fi,useLayoutEffect:Fi,useMemo:Fi,useReducer:Fi,useRef:Fi,useState:Fi,useDebugValue:Fi,useDeferredValue:Fi,useTransition:Fi,useMutableSource:Fi,useSyncExternalStore:Fi,useId:Fi,unstable_isNewReconciler:!1},cw={readContext:eo,useCallback:function(v,_){return zi().memoizedState=[v,_===void 0?null:_],v},useContext:eo,useEffect:da,useImperativeHandle:function(v,_,T){return T=T!=null?T.concat([v]):null,Ss(4194308,4,lw.bind(null,_,v),T)},useLayoutEffect:function(v,_){return Ss(4194308,4,v,_)},useInsertionEffect:function(v,_){return Ss(4,2,v,_)},useMemo:function(v,_){var T=zi();return _=_===void 0?null:_,v=v(),T.memoizedState=[v,_],v},useReducer:function(v,_,T){var D=zi();return _=T!==void 0?T(_):_,D.memoizedState=D.baseState=_,v={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:v,lastRenderedState:_},D.queue=v,v=v.dispatch=Ig.bind(null,Pr,v),[D.memoizedState,v]},useRef:function(v){var _=zi();return v={current:v},_.memoizedState=v},useState:Z0,useDebugValue:Rg,useDeferredValue:function(v){return zi().memoizedState=v},useTransition:function(){var v=Z0(!1),_=v[0];return v=oE.bind(null,v[1]),zi().memoizedState=v,[_,v]},useMutableSource:function(){},useSyncExternalStore:function(v,_,T){var D=Pr,k=zi();if(Lr){if(T===void 0)throw Error(t(407));T=T()}else{if(T=_(),Qi===null)throw Error(t(349));(hl&30)!==0||Dg(D,_,T)}k.memoizedState=T;var z={value:T,getSnapshot:_};return k.queue=z,da(iw.bind(null,D,z,v),[v]),D.flags|=2048,Ko(9,Ed.bind(null,D,z,T,_),void 0,null),T},useId:function(){var v=zi(),_=Qi.identifierPrefix;if(Lr){var T=Co,D=_t;T=(D&~(1<<32-Nt(D)-1)).toString(32)+T,_=":"+_+"R"+T,T=ou++,0<T&&(_+="H"+T.toString(32)),_+=":"}else T=Aa++,_=":"+_+"r"+T.toString(32)+":";return v.memoizedState=_},unstable_isNewReconciler:!1},fw={readContext:eo,useCallback:uw,useContext:eo,useEffect:$0,useImperativeHandle:K0,useInsertionEffect:q0,useLayoutEffect:sw,useMemo:ro,useReducer:Cd,useRef:ow,useState:function(){return Cd(kf)},useDebugValue:Rg,useDeferredValue:function(v){var _=no();return Lg(_,Yr.memoizedState,v)},useTransition:function(){var v=Cd(kf)[0],_=no().memoizedState;return[v,_]},useMutableSource:X0,useSyncExternalStore:Y0,useId:pl,unstable_isNewReconciler:!1},hw={readContext:eo,useCallback:uw,useContext:eo,useEffect:$0,useImperativeHandle:K0,useInsertionEffect:q0,useLayoutEffect:sw,useMemo:ro,useReducer:dl,useRef:ow,useState:function(){return dl(kf)},useDebugValue:Rg,useDeferredValue:function(v){var _=no();return Yr===null?_.memoizedState=v:Lg(_,Yr.memoizedState,v)},useTransition:function(){var v=dl(kf)[0],_=no().memoizedState;return[v,_]},useMutableSource:X0,useSyncExternalStore:Y0,useId:pl,unstable_isNewReconciler:!1};function Po(v,_){if(v&&v.defaultProps){_=q({},_),v=v.defaultProps;for(var T in v)_[T]===void 0&&(_[T]=v[T]);return _}return _}function Rd(v,_,T,D){_=v.memoizedState,T=T(D,_),T=T==null?_:q({},_,T),v.memoizedState=T,v.lanes===0&&(v.updateQueue.baseState=T)}var Fg={isMounted:function(v){return(v=v._reactInternals)?Ft(v)===v:!1},enqueueSetState:function(v,_,T){v=v._reactInternals;var D=ao(),k=Uf(v),z=mr(D,k);z.payload=_,T!=null&&(z.callback=T),_=Or(v,z,k),_!==null&&(yl(_,v,k,D),Ki(_,v,k))},enqueueReplaceState:function(v,_,T){v=v._reactInternals;var D=ao(),k=Uf(v),z=mr(D,k);z.tag=1,z.payload=_,T!=null&&(z.callback=T),_=Or(v,z,k),_!==null&&(yl(_,v,k,D),Ki(_,v,k))},enqueueForceUpdate:function(v,_){v=v._reactInternals;var T=ao(),D=Uf(v),k=mr(T,D);k.tag=2,_!=null&&(k.callback=_),_=Or(v,k,D),_!==null&&(yl(_,v,D,T),Ki(_,v,D))}};function dw(v,_,T,D,k,z,$){return v=v.stateNode,typeof v.shouldComponentUpdate=="function"?v.shouldComponentUpdate(D,z,$):_.prototype&&_.prototype.isPureReactComponent?!qu(T,D)||!qu(k,z):!0}function x(v,_,T){var D=!1,k=al,z=_.contextType;return typeof z=="object"&&z!==null?z=eo(z):(k=qi(_)?ol:Oi.current,D=_.contextTypes,z=(D=D!=null)?nc(v,k):al),_=new _(T,z),v.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Fg,v.stateNode=_,_._reactInternals=v,D&&(v=v.stateNode,v.__reactInternalMemoizedUnmaskedChildContext=k,v.__reactInternalMemoizedMaskedChildContext=z),_}function w(v,_,T,D){v=_.state,typeof _.componentWillReceiveProps=="function"&&_.componentWillReceiveProps(T,D),typeof _.UNSAFE_componentWillReceiveProps=="function"&&_.UNSAFE_componentWillReceiveProps(T,D),_.state!==v&&Fg.enqueueReplaceState(_,_.state,null)}function P(v,_,T,D){var k=v.stateNode;k.props=T,k.state=v.memoizedState,k.refs={},Nn(v);var z=_.contextType;typeof z=="object"&&z!==null?k.context=eo(z):(z=qi(_)?ol:Oi.current,k.context=nc(v,z)),k.state=v.memoizedState,z=_.getDerivedStateFromProps,typeof z=="function"&&(Rd(v,_,z,T),k.state=v.memoizedState),typeof _.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(_=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),_!==k.state&&Fg.enqueueReplaceState(k,k.state,null),Xr(v,T,k,D),k.state=v.memoizedState),typeof k.componentDidMount=="function"&&(v.flags|=4194308)}function N(v,_){try{var T="",D=_;do T+=fe(D),D=D.return;while(D);var k=T}catch(z){k=`
Error generating stack: `+z.message+`
`+z.stack}return{value:v,source:_,stack:k,digest:null}}function F(v,_,T){return{value:v,source:null,stack:T??null,digest:_??null}}function H(v,_){try{console.error(_.value)}catch(T){setTimeout(function(){throw T})}}var ie=typeof WeakMap=="function"?WeakMap:Map;function ye(v,_,T){T=mr(-1,T),T.tag=3,T.payload={element:null};var D=_.value;return T.callback=function(){xw||(xw=!0,gE=D),H(v,_)},T}function We(v,_,T){T=mr(-1,T),T.tag=3;var D=v.type.getDerivedStateFromError;if(typeof D=="function"){var k=_.value;T.payload=function(){return D(k)},T.callback=function(){H(v,_)}}var z=v.stateNode;return z!==null&&typeof z.componentDidCatch=="function"&&(T.callback=function(){H(v,_),typeof D!="function"&&(zf===null?zf=new Set([this]):zf.add(this));var $=_.stack;this.componentDidCatch(_.value,{componentStack:$!==null?$:""})}),T}function dt(v,_,T){var D=v.pingCache;if(D===null){D=v.pingCache=new ie;var k=new Set;D.set(_,k)}else k=D.get(_),k===void 0&&(k=new Set,D.set(_,k));k.has(T)||(k.add(T),v=rte.bind(null,v,_,T),_.then(v,v))}function Ut(v){do{var _;if((_=v.tag===13)&&(_=v.memoizedState,_=_!==null?_.dehydrated!==null:!0),_)return v;v=v.return}while(v!==null);return null}function An(v,_,T,D,k){return(v.mode&1)===0?(v===_?v.flags|=65536:(v.flags|=128,T.flags|=131072,T.flags&=-52805,T.tag===1&&(T.alternate===null?T.tag=17:(_=mr(-1,1),_.tag=2,Or(T,_,1))),T.lanes|=1),v):(v.flags|=65536,v.lanes=k,v)}var un=b.ReactCurrentOwner,Fn=!1;function At(v,_,T,D){_.child=v===null?xd(_,null,T,D):oc(_,v.child,T,D)}function Bi(v,_,T,D,k){T=T.render;var z=_.ref;return iu(_,k),D=Ad(v,_,T,D,z,k),T=W0(),v!==null&&!Fn?(_.updateQueue=v.updateQueue,_.flags&=-2053,v.lanes&=~k,gc(v,_,k)):(Lr&&T&&F0(_),_.flags|=1,At(v,_,D,k),_.child)}function io(v,_,T,D,k){if(v===null){var z=T.type;return typeof z=="function"&&!ME(z)&&z.defaultProps===void 0&&T.compare===null&&T.defaultProps===void 0?(_.tag=15,_.type=z,De(v,_,z,D,k)):(v=Aw(T.type,null,D,_,_.mode,k),v.ref=_.ref,v.return=_,_.child=v)}if(z=v.child,(v.lanes&k)===0){var $=z.memoizedProps;if(T=T.compare,T=T!==null?T:qu,T($,D)&&v.ref===_.ref)return gc(v,_,k)}return _.flags|=1,v=Gf(z,D),v.ref=_.ref,v.return=_,_.child=v}function De(v,_,T,D,k){if(v!==null){var z=v.memoizedProps;if(qu(z,D)&&v.ref===_.ref)if(Fn=!1,_.pendingProps=D=z,(v.lanes&k)!==0)(v.flags&131072)!==0&&(Fn=!0);else return _.lanes=v.lanes,gc(v,_,k)}return Mt(v,_,T,D,k)}function xe(v,_,T){var D=_.pendingProps,k=D.children,z=v!==null?v.memoizedState:null;if(D.mode==="hidden")if((_.mode&1)===0)_.memoizedState={baseLanes:0,cachePool:null,transitions:null},xr(Bg,Jo),Jo|=T;else{if((T&1073741824)===0)return v=z!==null?z.baseLanes|T:T,_.lanes=_.childLanes=1073741824,_.memoizedState={baseLanes:v,cachePool:null,transitions:null},_.updateQueue=null,xr(Bg,Jo),Jo|=v,null;_.memoizedState={baseLanes:0,cachePool:null,transitions:null},D=z!==null?z.baseLanes:T,xr(Bg,Jo),Jo|=D}else z!==null?(D=z.baseLanes|T,_.memoizedState=null):D=T,xr(Bg,Jo),Jo|=D;return At(v,_,k,T),_.child}function Fe(v,_){var T=_.ref;(v===null&&T!==null||v!==null&&v.ref!==T)&&(_.flags|=512,_.flags|=2097152)}function Mt(v,_,T,D,k){var z=qi(T)?ol:Oi.current;return z=nc(_,z),iu(_,k),T=Ad(v,_,T,D,z,k),D=W0(),v!==null&&!Fn?(_.updateQueue=v.updateQueue,_.flags&=-2053,v.lanes&=~k,gc(v,_,k)):(Lr&&D&&F0(_),_.flags|=1,At(v,_,T,k),_.child)}function Jt(v,_,T,D,k){if(qi(T)){var z=!0;rc(_)}else z=!1;if(iu(_,k),_.stateNode===null)vw(v,_),x(_,T,D),P(_,T,D,k),D=!0;else if(v===null){var $=_.stateNode,se=_.memoizedProps;$.props=se;var he=$.context,Ne=T.contextType;typeof Ne=="object"&&Ne!==null?Ne=eo(Ne):(Ne=qi(T)?ol:Oi.current,Ne=nc(_,Ne));var it=T.getDerivedStateFromProps,lt=typeof it=="function"||typeof $.getSnapshotBeforeUpdate=="function";lt||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(se!==D||he!==Ne)&&w(_,$,D,Ne),gr=!1;var nt=_.memoizedState;$.state=nt,Xr(_,D,$,k),he=_.memoizedState,se!==D||nt!==he||ca.current||gr?(typeof it=="function"&&(Rd(_,T,it,D),he=_.memoizedState),(se=gr||dw(_,T,se,D,nt,he,Ne))?(lt||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount()),typeof $.componentDidMount=="function"&&(_.flags|=4194308)):(typeof $.componentDidMount=="function"&&(_.flags|=4194308),_.memoizedProps=D,_.memoizedState=he),$.props=D,$.state=he,$.context=Ne,D=se):(typeof $.componentDidMount=="function"&&(_.flags|=4194308),D=!1)}else{$=_.stateNode,Kr(v,_),se=_.memoizedProps,Ne=_.type===_.elementType?se:Po(_.type,se),$.props=Ne,lt=_.pendingProps,nt=$.context,he=T.contextType,typeof he=="object"&&he!==null?he=eo(he):(he=qi(T)?ol:Oi.current,he=nc(_,he));var Ot=T.getDerivedStateFromProps;(it=typeof Ot=="function"||typeof $.getSnapshotBeforeUpdate=="function")||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(se!==lt||nt!==he)&&w(_,$,D,he),gr=!1,nt=_.memoizedState,$.state=nt,Xr(_,D,$,k);var Zt=_.memoizedState;se!==lt||nt!==Zt||ca.current||gr?(typeof Ot=="function"&&(Rd(_,T,Ot,D),Zt=_.memoizedState),(Ne=gr||dw(_,T,Ne,D,nt,Zt,he)||!1)?(it||typeof $.UNSAFE_componentWillUpdate!="function"&&typeof $.componentWillUpdate!="function"||(typeof $.componentWillUpdate=="function"&&$.componentWillUpdate(D,Zt,he),typeof $.UNSAFE_componentWillUpdate=="function"&&$.UNSAFE_componentWillUpdate(D,Zt,he)),typeof $.componentDidUpdate=="function"&&(_.flags|=4),typeof $.getSnapshotBeforeUpdate=="function"&&(_.flags|=1024)):(typeof $.componentDidUpdate!="function"||se===v.memoizedProps&&nt===v.memoizedState||(_.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||se===v.memoizedProps&&nt===v.memoizedState||(_.flags|=1024),_.memoizedProps=D,_.memoizedState=Zt),$.props=D,$.state=Zt,$.context=he,D=Ne):(typeof $.componentDidUpdate!="function"||se===v.memoizedProps&&nt===v.memoizedState||(_.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||se===v.memoizedProps&&nt===v.memoizedState||(_.flags|=1024),D=!1)}return Ln(v,_,T,D,z,k)}function Ln(v,_,T,D,k,z){Fe(v,_);var $=(_.flags&128)!==0;if(!D&&!$)return k&&O0(_,T,!1),gc(v,_,z);D=_.stateNode,un.current=_;var se=$&&typeof T.getDerivedStateFromError!="function"?null:D.render();return _.flags|=1,v!==null&&$?(_.child=oc(_,v.child,null,z),_.child=oc(_,null,se,z)):At(v,_,se,z),_.memoizedState=D.state,k&&O0(_,T,!0),_.child}function Cn(v){var _=v.stateNode;_.pendingContext?N0(v,_.pendingContext,_.pendingContext!==_.context):_.context&&N0(v,_.context,!1),Td(v,_.containerInfo)}function rr(v,_,T,D,k){return ru(),Rf(k),_.flags|=256,At(v,_,T,D),_.child}var ii={dehydrated:null,treeContext:null,retryLane:0};function Jn(v){return{baseLanes:v,cachePool:null,transitions:null}}function vl(v,_,T){var D=_.pendingProps,k=Ir.current,z=!1,$=(_.flags&128)!==0,se;if((se=$)||(se=v!==null&&v.memoizedState===null?!1:(k&2)!==0),se?(z=!0,_.flags&=-129):(v===null||v.memoizedState!==null)&&(k|=1),xr(Ir,k&1),v===null)return Eg(_),v=_.memoizedState,v!==null&&(v=v.dehydrated,v!==null)?((_.mode&1)===0?_.lanes=1:v.data==="$!"?_.lanes=8:_.lanes=1073741824,null):($=D.children,v=D.fallback,z?(D=_.mode,z=_.child,$={mode:"hidden",children:$},(D&1)===0&&z!==null?(z.childLanes=0,z.pendingProps=$):z=Cw($,D,0,null),v=kd(v,D,T,null),z.return=_,v.return=_,z.sibling=v,_.child=z,_.child.memoizedState=Jn(T),_.memoizedState=ii,v):J0(_,$));if(k=v.memoizedState,k!==null&&(se=k.dehydrated,se!==null))return Xee(v,_,$,D,se,k,T);if(z){z=D.fallback,$=_.mode,k=v.child,se=k.sibling;var he={mode:"hidden",children:D.children};return($&1)===0&&_.child!==k?(D=_.child,D.childLanes=0,D.pendingProps=he,_.deletions=null):(D=Gf(k,he),D.subtreeFlags=k.subtreeFlags&14680064),se!==null?z=Gf(se,z):(z=kd(z,$,T,null),z.flags|=2),z.return=_,D.return=_,D.sibling=z,_.child=D,D=z,z=_.child,$=v.child.memoizedState,$=$===null?Jn(T):{baseLanes:$.baseLanes|T,cachePool:null,transitions:$.transitions},z.memoizedState=$,z.childLanes=v.childLanes&~T,_.memoizedState=ii,D}return z=v.child,v=z.sibling,D=Gf(z,{mode:"visible",children:D.children}),(_.mode&1)===0&&(D.lanes=T),D.return=_,D.sibling=null,v!==null&&(T=_.deletions,T===null?(_.deletions=[v],_.flags|=16):T.push(v)),_.child=D,_.memoizedState=null,D}function J0(v,_){return _=Cw({mode:"visible",children:_},v.mode,0,null),_.return=v,v.child=_}function pw(v,_,T,D){return D!==null&&Rf(D),oc(_,v.child,null,T),v=J0(_,_.pendingProps.children),v.flags|=2,_.memoizedState=null,v}function Xee(v,_,T,D,k,z,$){if(T)return _.flags&256?(_.flags&=-257,D=F(Error(t(422))),pw(v,_,$,D)):_.memoizedState!==null?(_.child=v.child,_.flags|=128,null):(z=D.fallback,k=_.mode,D=Cw({mode:"visible",children:D.children},k,0,null),z=kd(z,k,$,null),z.flags|=2,D.return=_,z.return=_,D.sibling=z,_.child=D,(_.mode&1)!==0&&oc(_,v.child,null,$),_.child.memoizedState=Jn($),_.memoizedState=ii,z);if((_.mode&1)===0)return pw(v,_,$,null);if(k.data==="$!"){if(D=k.nextSibling&&k.nextSibling.dataset,D)var se=D.dgst;return D=se,z=Error(t(419)),D=F(z,D,void 0),pw(v,_,$,D)}if(se=($&v.childLanes)!==0,Fn||se){if(D=Qi,D!==null){switch($&-$){case 4:k=2;break;case 16:k=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:k=32;break;case 536870912:k=268435456;break;default:k=0}k=(k&(D.suspendedLanes|$))!==0?0:k,k!==0&&k!==z.retryLane&&(z.retryLane=k,Zo(v,k),yl(D,v,k,-1))}return wE(),D=F(Error(t(421))),pw(v,_,$,D)}return k.data==="$?"?(_.flags|=128,_.child=v.child,_=ite.bind(null,v),k._reactRetry=_,null):(v=z.treeContext,ha=rl(k.nextSibling),ki=_,Lr=!0,Eo=null,v!==null&&(fa[Ti++]=_t,fa[Ti++]=Co,fa[Ti++]=ac,_t=v.id,Co=v.overflow,ac=_),_=J0(_,D.children),_.flags|=4096,_)}function DF(v,_,T){v.lanes|=_;var D=v.alternate;D!==null&&(D.lanes|=_),wd(v.return,_,T)}function sE(v,_,T,D,k){var z=v.memoizedState;z===null?v.memoizedState={isBackwards:_,rendering:null,renderingStartTime:0,last:D,tail:T,tailMode:k}:(z.isBackwards=_,z.rendering=null,z.renderingStartTime=0,z.last=D,z.tail=T,z.tailMode=k)}function RF(v,_,T){var D=_.pendingProps,k=D.revealOrder,z=D.tail;if(At(v,_,D.children,T),D=Ir.current,(D&2)!==0)D=D&1|2,_.flags|=128;else{if(v!==null&&(v.flags&128)!==0)e:for(v=_.child;v!==null;){if(v.tag===13)v.memoizedState!==null&&DF(v,T,_);else if(v.tag===19)DF(v,T,_);else if(v.child!==null){v.child.return=v,v=v.child;continue}if(v===_)break e;for(;v.sibling===null;){if(v.return===null||v.return===_)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}D&=1}if(xr(Ir,D),(_.mode&1)===0)_.memoizedState=null;else switch(k){case"forwards":for(T=_.child,k=null;T!==null;)v=T.alternate,v!==null&&$o(v)===null&&(k=T),T=T.sibling;T=k,T===null?(k=_.child,_.child=null):(k=T.sibling,T.sibling=null),sE(_,!1,k,T,z);break;case"backwards":for(T=null,k=_.child,_.child=null;k!==null;){if(v=k.alternate,v!==null&&$o(v)===null){_.child=k;break}v=k.sibling,k.sibling=T,T=k,k=v}sE(_,!0,T,null,z);break;case"together":sE(_,!1,null,null,void 0);break;default:_.memoizedState=null}return _.child}function vw(v,_){(_.mode&1)===0&&v!==null&&(v.alternate=null,_.alternate=null,_.flags|=2)}function gc(v,_,T){if(v!==null&&(_.dependencies=v.dependencies),Ld|=_.lanes,(T&_.childLanes)===0)return null;if(v!==null&&_.child!==v.child)throw Error(t(153));if(_.child!==null){for(v=_.child,T=Gf(v,v.pendingProps),_.child=T,T.return=_;v.sibling!==null;)v=v.sibling,T=T.sibling=Gf(v,v.pendingProps),T.return=_;T.sibling=null}return _.child}function Yee(v,_,T){switch(_.tag){case 3:Cn(_),ru();break;case 5:hc(_);break;case 1:qi(_.type)&&rc(_);break;case 4:Td(_,_.stateNode.containerInfo);break;case 10:var D=_.type._context,k=_.memoizedProps.value;xr(sc,D._currentValue),D._currentValue=k;break;case 13:if(D=_.memoizedState,D!==null)return D.dehydrated!==null?(xr(Ir,Ir.current&1),_.flags|=128,null):(T&_.child.childLanes)!==0?vl(v,_,T):(xr(Ir,Ir.current&1),v=gc(v,_,T),v!==null?v.sibling:null);xr(Ir,Ir.current&1);break;case 19:if(D=(T&_.childLanes)!==0,(v.flags&128)!==0){if(D)return RF(v,_,T);_.flags|=128}if(k=_.memoizedState,k!==null&&(k.rendering=null,k.tail=null,k.lastEffect=null),xr(Ir,Ir.current),D)break;return null;case 22:case 23:return _.lanes=0,xe(v,_,T)}return gc(v,_,T)}var LF,lE,IF,NF;LF=function(v,_){for(var T=_.child;T!==null;){if(T.tag===5||T.tag===6)v.appendChild(T.stateNode);else if(T.tag!==4&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===_)break;for(;T.sibling===null;){if(T.return===null||T.return===_)return;T=T.return}T.sibling.return=T.return,T=T.sibling}},lE=function(){},IF=function(v,_,T,D){var k=v.memoizedProps;if(k!==D){v=_.stateNode,ri(to.current);var z=null;switch(T){case"input":k=Ue(v,k),D=Ue(v,D),z=[];break;case"select":k=q({},k,{value:void 0}),D=q({},D,{value:void 0}),z=[];break;case"textarea":k=Pe(v,k),D=Pe(v,D),z=[];break;default:typeof k.onClick!="function"&&typeof D.onClick=="function"&&(v.onclick=dd)}ce(T,D);var $;T=null;for(Ne in k)if(!D.hasOwnProperty(Ne)&&k.hasOwnProperty(Ne)&&k[Ne]!=null)if(Ne==="style"){var se=k[Ne];for($ in se)se.hasOwnProperty($)&&(T||(T={}),T[$]="")}else Ne!=="dangerouslySetInnerHTML"&&Ne!=="children"&&Ne!=="suppressContentEditableWarning"&&Ne!=="suppressHydrationWarning"&&Ne!=="autoFocus"&&(i.hasOwnProperty(Ne)?z||(z=[]):(z=z||[]).push(Ne,null));for(Ne in D){var he=D[Ne];if(se=k?.[Ne],D.hasOwnProperty(Ne)&&he!==se&&(he!=null||se!=null))if(Ne==="style")if(se){for($ in se)!se.hasOwnProperty($)||he&&he.hasOwnProperty($)||(T||(T={}),T[$]="");for($ in he)he.hasOwnProperty($)&&se[$]!==he[$]&&(T||(T={}),T[$]=he[$])}else T||(z||(z=[]),z.push(Ne,T)),T=he;else Ne==="dangerouslySetInnerHTML"?(he=he?he.__html:void 0,se=se?se.__html:void 0,he!=null&&se!==he&&(z=z||[]).push(Ne,he)):Ne==="children"?typeof he!="string"&&typeof he!="number"||(z=z||[]).push(Ne,""+he):Ne!=="suppressContentEditableWarning"&&Ne!=="suppressHydrationWarning"&&(i.hasOwnProperty(Ne)?(he!=null&&Ne==="onScroll"&&Cr("scroll",v),z||se===he||(z=[])):(z=z||[]).push(Ne,he))}T&&(z=z||[]).push("style",T);var Ne=z;(_.updateQueue=Ne)&&(_.flags|=4)}},NF=function(v,_,T,D){T!==D&&(_.flags|=4)};function Q0(v,_){if(!Lr)switch(v.tailMode){case"hidden":_=v.tail;for(var T=null;_!==null;)_.alternate!==null&&(T=_),_=_.sibling;T===null?v.tail=null:T.sibling=null;break;case"collapsed":T=v.tail;for(var D=null;T!==null;)T.alternate!==null&&(D=T),T=T.sibling;D===null?_||v.tail===null?v.tail=null:v.tail.sibling=null:D.sibling=null}}function Ca(v){var _=v.alternate!==null&&v.alternate.child===v.child,T=0,D=0;if(_)for(var k=v.child;k!==null;)T|=k.lanes|k.childLanes,D|=k.subtreeFlags&14680064,D|=k.flags&14680064,k.return=v,k=k.sibling;else for(k=v.child;k!==null;)T|=k.lanes|k.childLanes,D|=k.subtreeFlags,D|=k.flags,k.return=v,k=k.sibling;return v.subtreeFlags|=D,v.childLanes=T,_}function jee(v,_,T){var D=_.pendingProps;switch(ll(_),_.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ca(_),null;case 1:return qi(_.type)&&pd(),Ca(_),null;case 3:return D=_.stateNode,au(),Er(ca),Er(Oi),xs(),D.pendingContext&&(D.context=D.pendingContext,D.pendingContext=null),(v===null||v.child===null)&&(Df(_)?_.flags|=4:v===null||v.memoizedState.isDehydrated&&(_.flags&256)===0||(_.flags|=1024,Eo!==null&&(_E(Eo),Eo=null))),lE(v,_),Ca(_),null;case 5:Nf(_);var k=ri(fl.current);if(T=_.type,v!==null&&_.stateNode!=null)IF(v,_,T,D,k),v.ref!==_.ref&&(_.flags|=512,_.flags|=2097152);else{if(!D){if(_.stateNode===null)throw Error(t(166));return Ca(_),null}if(v=ri(to.current),Df(_)){D=_.stateNode,T=_.type;var z=_.memoizedProps;switch(D[hi]=_,D[Pf]=z,v=(_.mode&1)!==0,T){case"dialog":Cr("cancel",D),Cr("close",D);break;case"iframe":case"object":case"embed":Cr("load",D);break;case"video":case"audio":for(k=0;k<tu.length;k++)Cr(tu[k],D);break;case"source":Cr("error",D);break;case"img":case"image":case"link":Cr("error",D),Cr("load",D);break;case"details":Cr("toggle",D);break;case"input":Ge(D,z),Cr("invalid",D);break;case"select":D._wrapperState={wasMultiple:!!z.multiple},Cr("invalid",D);break;case"textarea":Ze(D,z),Cr("invalid",D)}ce(T,z),k=null;for(var $ in z)if(z.hasOwnProperty($)){var se=z[$];$==="children"?typeof se=="string"?D.textContent!==se&&(z.suppressHydrationWarning!==!0&&hd(D.textContent,se,v),k=["children",se]):typeof se=="number"&&D.textContent!==""+se&&(z.suppressHydrationWarning!==!0&&hd(D.textContent,se,v),k=["children",""+se]):i.hasOwnProperty($)&&se!=null&&$==="onScroll"&&Cr("scroll",D)}switch(T){case"input":ee(D),ct(D,z,!0);break;case"textarea":ee(D),Qe(D);break;case"select":case"option":break;default:typeof z.onClick=="function"&&(D.onclick=dd)}D=k,_.updateQueue=D,D!==null&&(_.flags|=4)}else{$=k.nodeType===9?k:k.ownerDocument,v==="http://www.w3.org/1999/xhtml"&&(v=Yt(T)),v==="http://www.w3.org/1999/xhtml"?T==="script"?(v=$.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild)):typeof D.is=="string"?v=$.createElement(T,{is:D.is}):(v=$.createElement(T),T==="select"&&($=v,D.multiple?$.multiple=!0:D.size&&($.size=D.size))):v=$.createElementNS(v,T),v[hi]=_,v[Pf]=D,LF(v,_,!1,!1),_.stateNode=v;e:{switch($=et(T,D),T){case"dialog":Cr("cancel",v),Cr("close",v),k=D;break;case"iframe":case"object":case"embed":Cr("load",v),k=D;break;case"video":case"audio":for(k=0;k<tu.length;k++)Cr(tu[k],v);k=D;break;case"source":Cr("error",v),k=D;break;case"img":case"image":case"link":Cr("error",v),Cr("load",v),k=D;break;case"details":Cr("toggle",v),k=D;break;case"input":Ge(v,D),k=Ue(v,D),Cr("invalid",v);break;case"option":k=D;break;case"select":v._wrapperState={wasMultiple:!!D.multiple},k=q({},D,{value:void 0}),Cr("invalid",v);break;case"textarea":Ze(v,D),k=Pe(v,D),Cr("invalid",v);break;default:k=D}ce(T,k),se=k;for(z in se)if(se.hasOwnProperty(z)){var he=se[z];z==="style"?St(v,he):z==="dangerouslySetInnerHTML"?(he=he?he.__html:void 0,he!=null&&rn(v,he)):z==="children"?typeof he=="string"?(T!=="textarea"||he!=="")&&at(v,he):typeof he=="number"&&at(v,""+he):z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&z!=="autoFocus"&&(i.hasOwnProperty(z)?he!=null&&z==="onScroll"&&Cr("scroll",v):he!=null&&M(v,z,he,$))}switch(T){case"input":ee(v),ct(v,D,!1);break;case"textarea":ee(v),Qe(v);break;case"option":D.value!=null&&v.setAttribute("value",""+Be(D.value));break;case"select":v.multiple=!!D.multiple,z=D.value,z!=null?K(v,!!D.multiple,z,!1):D.defaultValue!=null&&K(v,!!D.multiple,D.defaultValue,!0);break;default:typeof k.onClick=="function"&&(v.onclick=dd)}switch(T){case"button":case"input":case"select":case"textarea":D=!!D.autoFocus;break e;case"img":D=!0;break e;default:D=!1}}D&&(_.flags|=4)}_.ref!==null&&(_.flags|=512,_.flags|=2097152)}return Ca(_),null;case 6:if(v&&_.stateNode!=null)NF(v,_,v.memoizedProps,D);else{if(typeof D!="string"&&_.stateNode===null)throw Error(t(166));if(T=ri(fl.current),ri(to.current),Df(_)){if(D=_.stateNode,T=_.memoizedProps,D[hi]=_,(z=D.nodeValue!==T)&&(v=ki,v!==null))switch(v.tag){case 3:hd(D.nodeValue,T,(v.mode&1)!==0);break;case 5:v.memoizedProps.suppressHydrationWarning!==!0&&hd(D.nodeValue,T,(v.mode&1)!==0)}z&&(_.flags|=4)}else D=(T.nodeType===9?T:T.ownerDocument).createTextNode(D),D[hi]=_,_.stateNode=D}return Ca(_),null;case 13:if(Er(Ir),D=_.memoizedState,v===null||v.memoizedState!==null&&v.memoizedState.dehydrated!==null){if(Lr&&ha!==null&&(_.mode&1)!==0&&(_.flags&128)===0)U0(),ru(),_.flags|=98560,z=!1;else if(z=Df(_),D!==null&&D.dehydrated!==null){if(v===null){if(!z)throw Error(t(318));if(z=_.memoizedState,z=z!==null?z.dehydrated:null,!z)throw Error(t(317));z[hi]=_}else ru(),(_.flags&128)===0&&(_.memoizedState=null),_.flags|=4;Ca(_),z=!1}else Eo!==null&&(_E(Eo),Eo=null),z=!0;if(!z)return _.flags&65536?_:null}return(_.flags&128)!==0?(_.lanes=T,_):(D=D!==null,D!==(v!==null&&v.memoizedState!==null)&&D&&(_.child.flags|=8192,(_.mode&1)!==0&&(v===null||(Ir.current&1)!==0?Ui===0&&(Ui=3):wE())),_.updateQueue!==null&&(_.flags|=4),Ca(_),null);case 4:return au(),lE(v,_),v===null&&Af(_.stateNode.containerInfo),Ca(_),null;case 10:return Sd(_.type._context),Ca(_),null;case 17:return qi(_.type)&&pd(),Ca(_),null;case 19:if(Er(Ir),z=_.memoizedState,z===null)return Ca(_),null;if(D=(_.flags&128)!==0,$=z.rendering,$===null)if(D)Q0(z,!1);else{if(Ui!==0||v!==null&&(v.flags&128)!==0)for(v=_.child;v!==null;){if($=$o(v),$!==null){for(_.flags|=128,Q0(z,!1),D=$.updateQueue,D!==null&&(_.updateQueue=D,_.flags|=4),_.subtreeFlags=0,D=T,T=_.child;T!==null;)z=T,v=D,z.flags&=14680066,$=z.alternate,$===null?(z.childLanes=0,z.lanes=v,z.child=null,z.subtreeFlags=0,z.memoizedProps=null,z.memoizedState=null,z.updateQueue=null,z.dependencies=null,z.stateNode=null):(z.childLanes=$.childLanes,z.lanes=$.lanes,z.child=$.child,z.subtreeFlags=0,z.deletions=null,z.memoizedProps=$.memoizedProps,z.memoizedState=$.memoizedState,z.updateQueue=$.updateQueue,z.type=$.type,v=$.dependencies,z.dependencies=v===null?null:{lanes:v.lanes,firstContext:v.firstContext}),T=T.sibling;return xr(Ir,Ir.current&1|2),_.child}v=v.sibling}z.tail!==null&&yt()>Ug&&(_.flags|=128,D=!0,Q0(z,!1),_.lanes=4194304)}else{if(!D)if(v=$o($),v!==null){if(_.flags|=128,D=!0,T=v.updateQueue,T!==null&&(_.updateQueue=T,_.flags|=4),Q0(z,!0),z.tail===null&&z.tailMode==="hidden"&&!$.alternate&&!Lr)return Ca(_),null}else 2*yt()-z.renderingStartTime>Ug&&T!==1073741824&&(_.flags|=128,D=!0,Q0(z,!1),_.lanes=4194304);z.isBackwards?($.sibling=_.child,_.child=$):(T=z.last,T!==null?T.sibling=$:_.child=$,z.last=$)}return z.tail!==null?(_=z.tail,z.rendering=_,z.tail=_.sibling,z.renderingStartTime=yt(),_.sibling=null,T=Ir.current,xr(Ir,D?T&1|2:T&1),_):(Ca(_),null);case 22:case 23:return SE(),D=_.memoizedState!==null,v!==null&&v.memoizedState!==null!==D&&(_.flags|=8192),D&&(_.mode&1)!==0?(Jo&1073741824)!==0&&(Ca(_),_.subtreeFlags&6&&(_.flags|=8192)):Ca(_),null;case 24:return null;case 25:return null}throw Error(t(156,_.tag))}function Zee(v,_){switch(ll(_),_.tag){case 1:return qi(_.type)&&pd(),v=_.flags,v&65536?(_.flags=v&-65537|128,_):null;case 3:return au(),Er(ca),Er(Oi),xs(),v=_.flags,(v&65536)!==0&&(v&128)===0?(_.flags=v&-65537|128,_):null;case 5:return Nf(_),null;case 13:if(Er(Ir),v=_.memoizedState,v!==null&&v.dehydrated!==null){if(_.alternate===null)throw Error(t(340));ru()}return v=_.flags,v&65536?(_.flags=v&-65537|128,_):null;case 19:return Er(Ir),null;case 4:return au(),null;case 10:return Sd(_.type._context),null;case 22:case 23:return SE(),null;case 24:return null;default:return null}}var gw=!1,Ea=!1,$ee=typeof WeakSet=="function"?WeakSet:Set,Wt=null;function zg(v,_){var T=v.ref;if(T!==null)if(typeof T=="function")try{T(null)}catch(D){ai(v,_,D)}else T.current=null}function uE(v,_,T){try{T()}catch(D){ai(v,_,D)}}var OF=!1;function qee(v,_){if(Ef=So,v=Br(),xi(v)){if("selectionStart"in v)var T={start:v.selectionStart,end:v.selectionEnd};else e:{T=(T=v.ownerDocument)&&T.defaultView||window;var D=T.getSelection&&T.getSelection();if(D&&D.rangeCount!==0){T=D.anchorNode;var k=D.anchorOffset,z=D.focusNode;D=D.focusOffset;try{T.nodeType,z.nodeType}catch{T=null;break e}var $=0,se=-1,he=-1,Ne=0,it=0,lt=v,nt=null;t:for(;;){for(var Ot;lt!==T||k!==0&&lt.nodeType!==3||(se=$+k),lt!==z||D!==0&&lt.nodeType!==3||(he=$+D),lt.nodeType===3&&($+=lt.nodeValue.length),(Ot=lt.firstChild)!==null;)nt=lt,lt=Ot;for(;;){if(lt===v)break t;if(nt===T&&++Ne===k&&(se=$),nt===z&&++it===D&&(he=$),(Ot=lt.nextSibling)!==null)break;lt=nt,nt=lt.parentNode}lt=Ot}T=se===-1||he===-1?null:{start:se,end:he}}else T=null}T=T||{start:0,end:0}}else T=null;for(E0={focusedElem:v,selectionRange:T},So=!1,Wt=_;Wt!==null;)if(_=Wt,v=_.child,(_.subtreeFlags&1028)!==0&&v!==null)v.return=_,Wt=v;else for(;Wt!==null;){_=Wt;try{var Zt=_.alternate;if((_.flags&1024)!==0)switch(_.tag){case 0:case 11:case 15:break;case 1:if(Zt!==null){var qt=Zt.memoizedProps,di=Zt.memoizedState,Te=_.stateNode,ge=Te.getSnapshotBeforeUpdate(_.elementType===_.type?qt:Po(_.type,qt),di);Te.__reactInternalSnapshotBeforeUpdate=ge}break;case 3:var Ce=_.stateNode.containerInfo;Ce.nodeType===1?Ce.textContent="":Ce.nodeType===9&&Ce.documentElement&&Ce.removeChild(Ce.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(pt){ai(_,_.return,pt)}if(v=_.sibling,v!==null){v.return=_.return,Wt=v;break}Wt=_.return}return Zt=OF,OF=!1,Zt}function e_(v,_,T){var D=_.updateQueue;if(D=D!==null?D.lastEffect:null,D!==null){var k=D=D.next;do{if((k.tag&v)===v){var z=k.destroy;k.destroy=void 0,z!==void 0&&uE(_,T,z)}k=k.next}while(k!==D)}}function mw(v,_){if(_=_.updateQueue,_=_!==null?_.lastEffect:null,_!==null){var T=_=_.next;do{if((T.tag&v)===v){var D=T.create;T.destroy=D()}T=T.next}while(T!==_)}}function cE(v){var _=v.ref;if(_!==null){var T=v.stateNode;switch(v.tag){case 5:v=T;break;default:v=T}typeof _=="function"?_(v):_.current=v}}function kF(v){var _=v.alternate;_!==null&&(v.alternate=null,kF(_)),v.child=null,v.deletions=null,v.sibling=null,v.tag===5&&(_=v.stateNode,_!==null&&(delete _[hi],delete _[Pf],delete _[tc],delete _[Sg],delete _[wg])),v.stateNode=null,v.return=null,v.dependencies=null,v.memoizedProps=null,v.memoizedState=null,v.pendingProps=null,v.stateNode=null,v.updateQueue=null}function FF(v){return v.tag===5||v.tag===3||v.tag===4}function zF(v){e:for(;;){for(;v.sibling===null;){if(v.return===null||FF(v.return))return null;v=v.return}for(v.sibling.return=v.return,v=v.sibling;v.tag!==5&&v.tag!==6&&v.tag!==18;){if(v.flags&2||v.child===null||v.tag===4)continue e;v.child.return=v,v=v.child}if(!(v.flags&2))return v.stateNode}}function fE(v,_,T){var D=v.tag;if(D===5||D===6)v=v.stateNode,_?T.nodeType===8?T.parentNode.insertBefore(v,_):T.insertBefore(v,_):(T.nodeType===8?(_=T.parentNode,_.insertBefore(v,T)):(_=T,_.appendChild(v)),T=T._reactRootContainer,T!=null||_.onclick!==null||(_.onclick=dd));else if(D!==4&&(v=v.child,v!==null))for(fE(v,_,T),v=v.sibling;v!==null;)fE(v,_,T),v=v.sibling}function hE(v,_,T){var D=v.tag;if(D===5||D===6)v=v.stateNode,_?T.insertBefore(v,_):T.appendChild(v);else if(D!==4&&(v=v.child,v!==null))for(hE(v,_,T),v=v.sibling;v!==null;)hE(v,_,T),v=v.sibling}var pa=null,gl=!1;function Ff(v,_,T){for(T=T.child;T!==null;)BF(v,_,T),T=T.sibling}function BF(v,_,T){if(st&&typeof st.onCommitFiberUnmount=="function")try{st.onCommitFiberUnmount(Ht,T)}catch{}switch(T.tag){case 5:Ea||zg(T,_);case 6:var D=pa,k=gl;pa=null,Ff(v,_,T),pa=D,gl=k,pa!==null&&(gl?(v=pa,T=T.stateNode,v.nodeType===8?v.parentNode.removeChild(T):v.removeChild(T)):pa.removeChild(T.stateNode));break;case 18:pa!==null&&(gl?(v=pa,T=T.stateNode,v.nodeType===8?xg(v.parentNode,T):v.nodeType===1&&xg(v,T),td(v)):xg(pa,T.stateNode));break;case 4:D=pa,k=gl,pa=T.stateNode.containerInfo,gl=!0,Ff(v,_,T),pa=D,gl=k;break;case 0:case 11:case 14:case 15:if(!Ea&&(D=T.updateQueue,D!==null&&(D=D.lastEffect,D!==null))){k=D=D.next;do{var z=k,$=z.destroy;z=z.tag,$!==void 0&&((z&2)!==0||(z&4)!==0)&&uE(T,_,$),k=k.next}while(k!==D)}Ff(v,_,T);break;case 1:if(!Ea&&(zg(T,_),D=T.stateNode,typeof D.componentWillUnmount=="function"))try{D.props=T.memoizedProps,D.state=T.memoizedState,D.componentWillUnmount()}catch(se){ai(T,_,se)}Ff(v,_,T);break;case 21:Ff(v,_,T);break;case 22:T.mode&1?(Ea=(D=Ea)||T.memoizedState!==null,Ff(v,_,T),Ea=D):Ff(v,_,T);break;default:Ff(v,_,T)}}function UF(v){var _=v.updateQueue;if(_!==null){v.updateQueue=null;var T=v.stateNode;T===null&&(T=v.stateNode=new $ee),_.forEach(function(D){var k=ate.bind(null,v,D);T.has(D)||(T.add(D),D.then(k,k))})}}function ml(v,_){var T=_.deletions;if(T!==null)for(var D=0;D<T.length;D++){var k=T[D];try{var z=v,$=_,se=$;e:for(;se!==null;){switch(se.tag){case 5:pa=se.stateNode,gl=!1;break e;case 3:pa=se.stateNode.containerInfo,gl=!0;break e;case 4:pa=se.stateNode.containerInfo,gl=!0;break e}se=se.return}if(pa===null)throw Error(t(160));BF(z,$,k),pa=null,gl=!1;var he=k.alternate;he!==null&&(he.return=null),k.return=null}catch(Ne){ai(k,_,Ne)}}if(_.subtreeFlags&12854)for(_=_.child;_!==null;)VF(_,v),_=_.sibling}function VF(v,_){var T=v.alternate,D=v.flags;switch(v.tag){case 0:case 11:case 14:case 15:if(ml(_,v),su(v),D&4){try{e_(3,v,v.return),mw(3,v)}catch(qt){ai(v,v.return,qt)}try{e_(5,v,v.return)}catch(qt){ai(v,v.return,qt)}}break;case 1:ml(_,v),su(v),D&512&&T!==null&&zg(T,T.return);break;case 5:if(ml(_,v),su(v),D&512&&T!==null&&zg(T,T.return),v.flags&32){var k=v.stateNode;try{at(k,"")}catch(qt){ai(v,v.return,qt)}}if(D&4&&(k=v.stateNode,k!=null)){var z=v.memoizedProps,$=T!==null?T.memoizedProps:z,se=v.type,he=v.updateQueue;if(v.updateQueue=null,he!==null)try{se==="input"&&z.type==="radio"&&z.name!=null&&He(k,z),et(se,$);var Ne=et(se,z);for($=0;$<he.length;$+=2){var it=he[$],lt=he[$+1];it==="style"?St(k,lt):it==="dangerouslySetInnerHTML"?rn(k,lt):it==="children"?at(k,lt):M(k,it,lt,Ne)}switch(se){case"input":ot(k,z);break;case"textarea":Ye(k,z);break;case"select":var nt=k._wrapperState.wasMultiple;k._wrapperState.wasMultiple=!!z.multiple;var Ot=z.value;Ot!=null?K(k,!!z.multiple,Ot,!1):nt!==!!z.multiple&&(z.defaultValue!=null?K(k,!!z.multiple,z.defaultValue,!0):K(k,!!z.multiple,z.multiple?[]:"",!1))}k[Pf]=z}catch(qt){ai(v,v.return,qt)}}break;case 6:if(ml(_,v),su(v),D&4){if(v.stateNode===null)throw Error(t(162));k=v.stateNode,z=v.memoizedProps;try{k.nodeValue=z}catch(qt){ai(v,v.return,qt)}}break;case 3:if(ml(_,v),su(v),D&4&&T!==null&&T.memoizedState.isDehydrated)try{td(_.containerInfo)}catch(qt){ai(v,v.return,qt)}break;case 4:ml(_,v),su(v);break;case 13:ml(_,v),su(v),k=v.child,k.flags&8192&&(z=k.memoizedState!==null,k.stateNode.isHidden=z,!z||k.alternate!==null&&k.alternate.memoizedState!==null||(vE=yt())),D&4&&UF(v);break;case 22:if(it=T!==null&&T.memoizedState!==null,v.mode&1?(Ea=(Ne=Ea)||it,ml(_,v),Ea=Ne):ml(_,v),su(v),D&8192){if(Ne=v.memoizedState!==null,(v.stateNode.isHidden=Ne)&&!it&&(v.mode&1)!==0)for(Wt=v,it=v.child;it!==null;){for(lt=Wt=it;Wt!==null;){switch(nt=Wt,Ot=nt.child,nt.tag){case 0:case 11:case 14:case 15:e_(4,nt,nt.return);break;case 1:zg(nt,nt.return);var Zt=nt.stateNode;if(typeof Zt.componentWillUnmount=="function"){D=nt,T=nt.return;try{_=D,Zt.props=_.memoizedProps,Zt.state=_.memoizedState,Zt.componentWillUnmount()}catch(qt){ai(D,T,qt)}}break;case 5:zg(nt,nt.return);break;case 22:if(nt.memoizedState!==null){WF(lt);continue}}Ot!==null?(Ot.return=nt,Wt=Ot):WF(lt)}it=it.sibling}e:for(it=null,lt=v;;){if(lt.tag===5){if(it===null){it=lt;try{k=lt.stateNode,Ne?(z=k.style,typeof z.setProperty=="function"?z.setProperty("display","none","important"):z.display="none"):(se=lt.stateNode,he=lt.memoizedProps.style,$=he!=null&&he.hasOwnProperty("display")?he.display:null,se.style.display=Kt("display",$))}catch(qt){ai(v,v.return,qt)}}}else if(lt.tag===6){if(it===null)try{lt.stateNode.nodeValue=Ne?"":lt.memoizedProps}catch(qt){ai(v,v.return,qt)}}else if((lt.tag!==22&&lt.tag!==23||lt.memoizedState===null||lt===v)&&lt.child!==null){lt.child.return=lt,lt=lt.child;continue}if(lt===v)break e;for(;lt.sibling===null;){if(lt.return===null||lt.return===v)break e;it===lt&&(it=null),lt=lt.return}it===lt&&(it=null),lt.sibling.return=lt.return,lt=lt.sibling}}break;case 19:ml(_,v),su(v),D&4&&UF(v);break;case 21:break;default:ml(_,v),su(v)}}function su(v){var _=v.flags;if(_&2){try{e:{for(var T=v.return;T!==null;){if(FF(T)){var D=T;break e}T=T.return}throw Error(t(160))}switch(D.tag){case 5:var k=D.stateNode;D.flags&32&&(at(k,""),D.flags&=-33);var z=zF(v);hE(v,z,k);break;case 3:case 4:var $=D.stateNode.containerInfo,se=zF(v);fE(v,se,$);break;default:throw Error(t(161))}}catch(he){ai(v,v.return,he)}v.flags&=-3}_&4096&&(v.flags&=-4097)}function Kee(v,_,T){Wt=v,GF(v)}function GF(v,_,T){for(var D=(v.mode&1)!==0;Wt!==null;){var k=Wt,z=k.child;if(k.tag===22&&D){var $=k.memoizedState!==null||gw;if(!$){var se=k.alternate,he=se!==null&&se.memoizedState!==null||Ea;se=gw;var Ne=Ea;if(gw=$,(Ea=he)&&!Ne)for(Wt=k;Wt!==null;)$=Wt,he=$.child,$.tag===22&&$.memoizedState!==null?XF(k):he!==null?(he.return=$,Wt=he):XF(k);for(;z!==null;)Wt=z,GF(z),z=z.sibling;Wt=k,gw=se,Ea=Ne}HF(v)}else(k.subtreeFlags&8772)!==0&&z!==null?(z.return=k,Wt=z):HF(v)}}function HF(v){for(;Wt!==null;){var _=Wt;if((_.flags&8772)!==0){var T=_.alternate;try{if((_.flags&8772)!==0)switch(_.tag){case 0:case 11:case 15:Ea||mw(5,_);break;case 1:var D=_.stateNode;if(_.flags&4&&!Ea)if(T===null)D.componentDidMount();else{var k=_.elementType===_.type?T.memoizedProps:Po(_.type,T.memoizedProps);D.componentDidUpdate(k,T.memoizedState,D.__reactInternalSnapshotBeforeUpdate)}var z=_.updateQueue;z!==null&&If(_,z,D);break;case 3:var $=_.updateQueue;if($!==null){if(T=null,_.child!==null)switch(_.child.tag){case 5:T=_.child.stateNode;break;case 1:T=_.child.stateNode}If(_,$,T)}break;case 5:var se=_.stateNode;if(T===null&&_.flags&4){T=se;var he=_.memoizedProps;switch(_.type){case"button":case"input":case"select":case"textarea":he.autoFocus&&T.focus();break;case"img":he.src&&(T.src=he.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(_.memoizedState===null){var Ne=_.alternate;if(Ne!==null){var it=Ne.memoizedState;if(it!==null){var lt=it.dehydrated;lt!==null&&td(lt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Ea||_.flags&512&&cE(_)}catch(nt){ai(_,_.return,nt)}}if(_===v){Wt=null;break}if(T=_.sibling,T!==null){T.return=_.return,Wt=T;break}Wt=_.return}}function WF(v){for(;Wt!==null;){var _=Wt;if(_===v){Wt=null;break}var T=_.sibling;if(T!==null){T.return=_.return,Wt=T;break}Wt=_.return}}function XF(v){for(;Wt!==null;){var _=Wt;try{switch(_.tag){case 0:case 11:case 15:var T=_.return;try{mw(4,_)}catch(he){ai(_,T,he)}break;case 1:var D=_.stateNode;if(typeof D.componentDidMount=="function"){var k=_.return;try{D.componentDidMount()}catch(he){ai(_,k,he)}}var z=_.return;try{cE(_)}catch(he){ai(_,z,he)}break;case 5:var $=_.return;try{cE(_)}catch(he){ai(_,$,he)}}}catch(he){ai(_,_.return,he)}if(_===v){Wt=null;break}var se=_.sibling;if(se!==null){se.return=_.return,Wt=se;break}Wt=_.return}}var Jee=Math.ceil,yw=b.ReactCurrentDispatcher,dE=b.ReactCurrentOwner,ws=b.ReactCurrentBatchConfig,ur=0,Qi=null,bi=null,va=0,Jo=0,Bg=Wr(0),Ui=0,t_=null,Ld=0,_w=0,pE=0,n_=null,Do=null,vE=0,Ug=1/0,mc=null,xw=!1,gE=null,zf=null,Sw=!1,Bf=null,ww=0,r_=0,mE=null,Mw=-1,Tw=0;function ao(){return(ur&6)!==0?yt():Mw!==-1?Mw:Mw=yt()}function Uf(v){return(v.mode&1)===0?1:(ur&2)!==0&&va!==0?va&-va:aE.transition!==null?(Tw===0&&(Tw=oa()),Tw):(v=ar,v!==0||(v=window.event,v=v===void 0?16:H1(v.type)),v)}function yl(v,_,T,D){if(50<r_)throw r_=0,mE=null,Error(t(185));Kh(v,T,D),((ur&2)===0||v!==Qi)&&(v===Qi&&((ur&2)===0&&(_w|=T),Ui===4&&Vf(v,va)),Ro(v,D),T===1&&ur===0&&(_.mode&1)===0&&(Ug=yt()+500,gd&&ys()))}function Ro(v,_){var T=v.callbackNode;Zl(v,_);var D=$s(v,v===Qi?va:0);if(D===0)T!==null&&wt(T),v.callbackNode=null,v.callbackPriority=0;else if(_=D&-D,v.callbackPriority!==_){if(T!=null&&wt(T),_===1)v.tag===0?rw(jF.bind(null,v)):md(jF.bind(null,v)),iE(function(){(ur&6)===0&&ys()}),T=null;else{switch(df(D)){case 1:T=jt;break;case 4:T=Dn;break;case 16:T=ir;break;case 536870912:T=sn;break;default:T=ir}T=tz(T,YF.bind(null,v))}v.callbackPriority=_,v.callbackNode=T}}function YF(v,_){if(Mw=-1,Tw=0,(ur&6)!==0)throw Error(t(327));var T=v.callbackNode;if(Vg()&&v.callbackNode!==T)return null;var D=$s(v,v===Qi?va:0);if(D===0)return null;if((D&30)!==0||(D&v.expiredLanes)!==0||_)_=bw(v,D);else{_=D;var k=ur;ur|=2;var z=$F();(Qi!==v||va!==_)&&(mc=null,Ug=yt()+500,Nd(v,_));do try{tte();break}catch(se){ZF(v,se)}while(!0);uc(),yw.current=z,ur=k,bi!==null?_=0:(Qi=null,va=0,_=Ui)}if(_!==0){if(_===2&&(k=ff(v),k!==0&&(D=k,_=yE(v,k))),_===1)throw T=t_,Nd(v,0),Vf(v,D),Ro(v,yt()),T;if(_===6)Vf(v,D);else{if(k=v.current.alternate,(D&30)===0&&!Qee(k)&&(_=bw(v,D),_===2&&(z=ff(v),z!==0&&(D=z,_=yE(v,z))),_===1))throw T=t_,Nd(v,0),Vf(v,D),Ro(v,yt()),T;switch(v.finishedWork=k,v.finishedLanes=D,_){case 0:case 1:throw Error(t(345));case 2:Od(v,Do,mc);break;case 3:if(Vf(v,D),(D&130023424)===D&&(_=vE+500-yt(),10<_)){if($s(v,0)!==0)break;if(k=v.suspendedLanes,(k&D)!==D){ao(),v.pingedLanes|=v.suspendedLanes&k;break}v.timeoutHandle=D0(Od.bind(null,v,Do,mc),_);break}Od(v,Do,mc);break;case 4:if(Vf(v,D),(D&4194240)===D)break;for(_=v.eventTimes,k=-1;0<D;){var $=31-Nt(D);z=1<<$,$=_[$],$>k&&(k=$),D&=~z}if(D=k,D=yt()-D,D=(120>D?120:480>D?480:1080>D?1080:1920>D?1920:3e3>D?3e3:4320>D?4320:1960*Jee(D/1960))-D,10<D){v.timeoutHandle=D0(Od.bind(null,v,Do,mc),D);break}Od(v,Do,mc);break;case 5:Od(v,Do,mc);break;default:throw Error(t(329))}}}return Ro(v,yt()),v.callbackNode===T?YF.bind(null,v):null}function yE(v,_){var T=n_;return v.current.memoizedState.isDehydrated&&(Nd(v,_).flags|=256),v=bw(v,_),v!==2&&(_=Do,Do=T,_!==null&&_E(_)),v}function _E(v){Do===null?Do=v:Do.push.apply(Do,v)}function Qee(v){for(var _=v;;){if(_.flags&16384){var T=_.updateQueue;if(T!==null&&(T=T.stores,T!==null))for(var D=0;D<T.length;D++){var k=T[D],z=k.getSnapshot;k=k.value;try{if(!Ka(z(),k))return!1}catch{return!1}}}if(T=_.child,_.subtreeFlags&16384&&T!==null)T.return=_,_=T;else{if(_===v)break;for(;_.sibling===null;){if(_.return===null||_.return===v)return!0;_=_.return}_.sibling.return=_.return,_=_.sibling}}return!0}function Vf(v,_){for(_&=~pE,_&=~_w,v.suspendedLanes|=_,v.pingedLanes&=~_,v=v.expirationTimes;0<_;){var T=31-Nt(_),D=1<<T;v[T]=-1,_&=~D}}function jF(v){if((ur&6)!==0)throw Error(t(327));Vg();var _=$s(v,0);if((_&1)===0)return Ro(v,yt()),null;var T=bw(v,_);if(v.tag!==0&&T===2){var D=ff(v);D!==0&&(_=D,T=yE(v,D))}if(T===1)throw T=t_,Nd(v,0),Vf(v,_),Ro(v,yt()),T;if(T===6)throw Error(t(345));return v.finishedWork=v.current.alternate,v.finishedLanes=_,Od(v,Do,mc),Ro(v,yt()),null}function xE(v,_){var T=ur;ur|=1;try{return v(_)}finally{ur=T,ur===0&&(Ug=yt()+500,gd&&ys())}}function Id(v){Bf!==null&&Bf.tag===0&&(ur&6)===0&&Vg();var _=ur;ur|=1;var T=ws.transition,D=ar;try{if(ws.transition=null,ar=1,v)return v()}finally{ar=D,ws.transition=T,ur=_,(ur&6)===0&&ys()}}function SE(){Jo=Bg.current,Er(Bg)}function Nd(v,_){v.finishedWork=null,v.finishedLanes=0;var T=v.timeoutHandle;if(T!==-1&&(v.timeoutHandle=-1,R0(T)),bi!==null)for(T=bi.return;T!==null;){var D=T;switch(ll(D),D.tag){case 1:D=D.type.childContextTypes,D!=null&&pd();break;case 3:au(),Er(ca),Er(Oi),xs();break;case 5:Nf(D);break;case 4:au();break;case 13:Er(Ir);break;case 19:Er(Ir);break;case 10:Sd(D.type._context);break;case 22:case 23:SE()}T=T.return}if(Qi=v,bi=v=Gf(v.current,null),va=Jo=_,Ui=0,t_=null,pE=_w=Ld=0,Do=n_=null,cl!==null){for(_=0;_<cl.length;_++)if(T=cl[_],D=T.interleaved,D!==null){T.interleaved=null;var k=D.next,z=T.pending;if(z!==null){var $=z.next;z.next=k,D.next=$}T.pending=D}cl=null}return v}function ZF(v,_){do{var T=bi;try{if(uc(),dc.current=kg,qo){for(var D=Pr.memoizedState;D!==null;){var k=D.queue;k!==null&&(k.pending=null),D=D.next}qo=!1}if(hl=0,or=Yr=Pr=null,Ji=!1,ou=0,dE.current=null,T===null||T.return===null){Ui=1,t_=_,bi=null;break}e:{var z=v,$=T.return,se=T,he=_;if(_=va,se.flags|=32768,he!==null&&typeof he=="object"&&typeof he.then=="function"){var Ne=he,it=se,lt=it.tag;if((it.mode&1)===0&&(lt===0||lt===11||lt===15)){var nt=it.alternate;nt?(it.updateQueue=nt.updateQueue,it.memoizedState=nt.memoizedState,it.lanes=nt.lanes):(it.updateQueue=null,it.memoizedState=null)}var Ot=Ut($);if(Ot!==null){Ot.flags&=-257,An(Ot,$,se,z,_),Ot.mode&1&&dt(z,Ne,_),_=Ot,he=Ne;var Zt=_.updateQueue;if(Zt===null){var qt=new Set;qt.add(he),_.updateQueue=qt}else Zt.add(he);break e}else{if((_&1)===0){dt(z,Ne,_),wE();break e}he=Error(t(426))}}else if(Lr&&se.mode&1){var di=Ut($);if(di!==null){(di.flags&65536)===0&&(di.flags|=256),An(di,$,se,z,_),Rf(N(he,se));break e}}z=he=N(he,se),Ui!==4&&(Ui=2),n_===null?n_=[z]:n_.push(z),z=$;do{switch(z.tag){case 3:z.flags|=65536,_&=-_,z.lanes|=_;var Te=ye(z,he,_);cc(z,Te);break e;case 1:se=he;var ge=z.type,Ce=z.stateNode;if((z.flags&128)===0&&(typeof ge.getDerivedStateFromError=="function"||Ce!==null&&typeof Ce.componentDidCatch=="function"&&(zf===null||!zf.has(Ce)))){z.flags|=65536,_&=-_,z.lanes|=_;var pt=We(z,se,_);cc(z,pt);break e}}z=z.return}while(z!==null)}KF(T)}catch(en){_=en,bi===T&&T!==null&&(bi=T=T.return);continue}break}while(!0)}function $F(){var v=yw.current;return yw.current=kg,v===null?kg:v}function wE(){(Ui===0||Ui===3||Ui===2)&&(Ui=4),Qi===null||(Ld&268435455)===0&&(_w&268435455)===0||Vf(Qi,va)}function bw(v,_){var T=ur;ur|=2;var D=$F();(Qi!==v||va!==_)&&(mc=null,Nd(v,_));do try{ete();break}catch(k){ZF(v,k)}while(!0);if(uc(),ur=T,yw.current=D,bi!==null)throw Error(t(261));return Qi=null,va=0,Ui}function ete(){for(;bi!==null;)qF(bi)}function tte(){for(;bi!==null&&!Et();)qF(bi)}function qF(v){var _=ez(v.alternate,v,Jo);v.memoizedProps=v.pendingProps,_===null?KF(v):bi=_,dE.current=null}function KF(v){var _=v;do{var T=_.alternate;if(v=_.return,(_.flags&32768)===0){if(T=jee(T,_,Jo),T!==null){bi=T;return}}else{if(T=Zee(T,_),T!==null){T.flags&=32767,bi=T;return}if(v!==null)v.flags|=32768,v.subtreeFlags=0,v.deletions=null;else{Ui=6,bi=null;return}}if(_=_.sibling,_!==null){bi=_;return}bi=_=v}while(_!==null);Ui===0&&(Ui=5)}function Od(v,_,T){var D=ar,k=ws.transition;try{ws.transition=null,ar=1,nte(v,_,T,D)}finally{ws.transition=k,ar=D}return null}function nte(v,_,T,D){do Vg();while(Bf!==null);if((ur&6)!==0)throw Error(t(327));T=v.finishedWork;var k=v.finishedLanes;if(T===null)return null;if(v.finishedWork=null,v.finishedLanes=0,T===v.current)throw Error(t(177));v.callbackNode=null,v.callbackPriority=0;var z=T.lanes|T.childLanes;if(eE(v,z),v===Qi&&(bi=Qi=null,va=0),(T.subtreeFlags&2064)===0&&(T.flags&2064)===0||Sw||(Sw=!0,tz(ir,function(){return Vg(),null})),z=(T.flags&15990)!==0,(T.subtreeFlags&15990)!==0||z){z=ws.transition,ws.transition=null;var $=ar;ar=1;var se=ur;ur|=4,dE.current=null,qee(v,T),VF(T,v),Si(E0),So=!!Ef,E0=Ef=null,v.current=T,Kee(T),Pt(),ur=se,ar=$,ws.transition=z}else v.current=T;if(Sw&&(Sw=!1,Bf=v,ww=k),z=v.pendingLanes,z===0&&(zf=null),yn(T.stateNode),Ro(v,yt()),_!==null)for(D=v.onRecoverableError,T=0;T<_.length;T++)k=_[T],D(k.value,{componentStack:k.stack,digest:k.digest});if(xw)throw xw=!1,v=gE,gE=null,v;return(ww&1)!==0&&v.tag!==0&&Vg(),z=v.pendingLanes,(z&1)!==0?v===mE?r_++:(r_=0,mE=v):r_=0,ys(),null}function Vg(){if(Bf!==null){var v=df(ww),_=ws.transition,T=ar;try{if(ws.transition=null,ar=16>v?16:v,Bf===null)var D=!1;else{if(v=Bf,Bf=null,ww=0,(ur&6)!==0)throw Error(t(331));var k=ur;for(ur|=4,Wt=v.current;Wt!==null;){var z=Wt,$=z.child;if((Wt.flags&16)!==0){var se=z.deletions;if(se!==null){for(var he=0;he<se.length;he++){var Ne=se[he];for(Wt=Ne;Wt!==null;){var it=Wt;switch(it.tag){case 0:case 11:case 15:e_(8,it,z)}var lt=it.child;if(lt!==null)lt.return=it,Wt=lt;else for(;Wt!==null;){it=Wt;var nt=it.sibling,Ot=it.return;if(kF(it),it===Ne){Wt=null;break}if(nt!==null){nt.return=Ot,Wt=nt;break}Wt=Ot}}}var Zt=z.alternate;if(Zt!==null){var qt=Zt.child;if(qt!==null){Zt.child=null;do{var di=qt.sibling;qt.sibling=null,qt=di}while(qt!==null)}}Wt=z}}if((z.subtreeFlags&2064)!==0&&$!==null)$.return=z,Wt=$;else e:for(;Wt!==null;){if(z=Wt,(z.flags&2048)!==0)switch(z.tag){case 0:case 11:case 15:e_(9,z,z.return)}var Te=z.sibling;if(Te!==null){Te.return=z.return,Wt=Te;break e}Wt=z.return}}var ge=v.current;for(Wt=ge;Wt!==null;){$=Wt;var Ce=$.child;if(($.subtreeFlags&2064)!==0&&Ce!==null)Ce.return=$,Wt=Ce;else e:for($=ge;Wt!==null;){if(se=Wt,(se.flags&2048)!==0)try{switch(se.tag){case 0:case 11:case 15:mw(9,se)}}catch(en){ai(se,se.return,en)}if(se===$){Wt=null;break e}var pt=se.sibling;if(pt!==null){pt.return=se.return,Wt=pt;break e}Wt=se.return}}if(ur=k,ys(),st&&typeof st.onPostCommitFiberRoot=="function")try{st.onPostCommitFiberRoot(Ht,v)}catch{}D=!0}return D}finally{ar=T,ws.transition=_}}return!1}function JF(v,_,T){_=N(T,_),_=ye(v,_,1),v=Or(v,_,1),_=ao(),v!==null&&(Kh(v,1,_),Ro(v,_))}function ai(v,_,T){if(v.tag===3)JF(v,v,T);else for(;_!==null;){if(_.tag===3){JF(_,v,T);break}else if(_.tag===1){var D=_.stateNode;if(typeof _.type.getDerivedStateFromError=="function"||typeof D.componentDidCatch=="function"&&(zf===null||!zf.has(D))){v=N(T,v),v=We(_,v,1),_=Or(_,v,1),v=ao(),_!==null&&(Kh(_,1,v),Ro(_,v));break}}_=_.return}}function rte(v,_,T){var D=v.pingCache;D!==null&&D.delete(_),_=ao(),v.pingedLanes|=v.suspendedLanes&T,Qi===v&&(va&T)===T&&(Ui===4||Ui===3&&(va&130023424)===va&&500>yt()-vE?Nd(v,0):pE|=T),Ro(v,_)}function QF(v,_){_===0&&((v.mode&1)===0?_=1:(_=jn,jn<<=1,(jn&130023424)===0&&(jn=4194304)));var T=ao();v=Zo(v,_),v!==null&&(Kh(v,_,T),Ro(v,T))}function ite(v){var _=v.memoizedState,T=0;_!==null&&(T=_.retryLane),QF(v,T)}function ate(v,_){var T=0;switch(v.tag){case 13:var D=v.stateNode,k=v.memoizedState;k!==null&&(T=k.retryLane);break;case 19:D=v.stateNode;break;default:throw Error(t(314))}D!==null&&D.delete(_),QF(v,T)}var ez;ez=function(v,_,T){if(v!==null)if(v.memoizedProps!==_.pendingProps||ca.current)Fn=!0;else{if((v.lanes&T)===0&&(_.flags&128)===0)return Fn=!1,Yee(v,_,T);Fn=(v.flags&131072)!==0}else Fn=!1,Lr&&(_.flags&1048576)!==0&&k0(_,Ag,_.index);switch(_.lanes=0,_.tag){case 2:var D=_.type;vw(v,_),v=_.pendingProps;var k=nc(_,Oi.current);iu(_,T),k=Ad(null,_,D,v,k,T);var z=W0();return _.flags|=1,typeof k=="object"&&k!==null&&typeof k.render=="function"&&k.$$typeof===void 0?(_.tag=1,_.memoizedState=null,_.updateQueue=null,qi(D)?(z=!0,rc(_)):z=!1,_.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,Nn(_),k.updater=Fg,_.stateNode=k,k._reactInternals=_,P(_,D,v,T),_=Ln(null,_,D,!0,z,T)):(_.tag=0,Lr&&z&&F0(_),At(null,_,k,T),_=_.child),_;case 16:D=_.elementType;e:{switch(vw(v,_),v=_.pendingProps,k=D._init,D=k(D._payload),_.type=D,k=_.tag=ste(D),v=Po(D,v),k){case 0:_=Mt(null,_,D,v,T);break e;case 1:_=Jt(null,_,D,v,T);break e;case 11:_=Bi(null,_,D,v,T);break e;case 14:_=io(null,_,D,Po(D.type,v),T);break e}throw Error(t(306,D,""))}return _;case 0:return D=_.type,k=_.pendingProps,k=_.elementType===D?k:Po(D,k),Mt(v,_,D,k,T);case 1:return D=_.type,k=_.pendingProps,k=_.elementType===D?k:Po(D,k),Jt(v,_,D,k,T);case 3:e:{if(Cn(_),v===null)throw Error(t(387));D=_.pendingProps,z=_.memoizedState,k=z.element,Kr(v,_),Xr(_,D,null,T);var $=_.memoizedState;if(D=$.element,z.isDehydrated)if(z={element:D,isDehydrated:!1,cache:$.cache,pendingSuspenseBoundaries:$.pendingSuspenseBoundaries,transitions:$.transitions},_.updateQueue.baseState=z,_.memoizedState=z,_.flags&256){k=N(Error(t(423)),_),_=rr(v,_,D,T,k);break e}else if(D!==k){k=N(Error(t(424)),_),_=rr(v,_,D,T,k);break e}else for(ha=rl(_.stateNode.containerInfo.firstChild),ki=_,Lr=!0,Eo=null,T=xd(_,null,D,T),_.child=T;T;)T.flags=T.flags&-3|4096,T=T.sibling;else{if(ru(),D===k){_=gc(v,_,T);break e}At(v,_,D,T)}_=_.child}return _;case 5:return hc(_),v===null&&Eg(_),D=_.type,k=_.pendingProps,z=v!==null?v.memoizedProps:null,$=k.children,P0(D,k)?$=null:z!==null&&P0(D,z)&&(_.flags|=32),Fe(v,_),At(v,_,$,T),_.child;case 6:return v===null&&Eg(_),null;case 13:return vl(v,_,T);case 4:return Td(_,_.stateNode.containerInfo),D=_.pendingProps,v===null?_.child=oc(_,null,D,T):At(v,_,D,T),_.child;case 11:return D=_.type,k=_.pendingProps,k=_.elementType===D?k:Po(D,k),Bi(v,_,D,k,T);case 7:return At(v,_,_.pendingProps,T),_.child;case 8:return At(v,_,_.pendingProps.children,T),_.child;case 12:return At(v,_,_.pendingProps.children,T),_.child;case 10:e:{if(D=_.type._context,k=_.pendingProps,z=_.memoizedProps,$=k.value,xr(sc,D._currentValue),D._currentValue=$,z!==null)if(Ka(z.value,$)){if(z.children===k.children&&!ca.current){_=gc(v,_,T);break e}}else for(z=_.child,z!==null&&(z.return=_);z!==null;){var se=z.dependencies;if(se!==null){$=z.child;for(var he=se.firstContext;he!==null;){if(he.context===D){if(z.tag===1){he=mr(-1,T&-T),he.tag=2;var Ne=z.updateQueue;if(Ne!==null){Ne=Ne.shared;var it=Ne.pending;it===null?he.next=he:(he.next=it.next,it.next=he),Ne.pending=he}}z.lanes|=T,he=z.alternate,he!==null&&(he.lanes|=T),wd(z.return,T,_),se.lanes|=T;break}he=he.next}}else if(z.tag===10)$=z.type===_.type?null:z.child;else if(z.tag===18){if($=z.return,$===null)throw Error(t(341));$.lanes|=T,se=$.alternate,se!==null&&(se.lanes|=T),wd($,T,_),$=z.sibling}else $=z.child;if($!==null)$.return=z;else for($=z;$!==null;){if($===_){$=null;break}if(z=$.sibling,z!==null){z.return=$.return,$=z;break}$=$.return}z=$}At(v,_,k.children,T),_=_.child}return _;case 9:return k=_.type,D=_.pendingProps.children,iu(_,T),k=eo(k),D=D(k),_.flags|=1,At(v,_,D,T),_.child;case 14:return D=_.type,k=Po(D,_.pendingProps),k=Po(D.type,k),io(v,_,D,k,T);case 15:return De(v,_,_.type,_.pendingProps,T);case 17:return D=_.type,k=_.pendingProps,k=_.elementType===D?k:Po(D,k),vw(v,_),_.tag=1,qi(D)?(v=!0,rc(_)):v=!1,iu(_,T),x(_,D,k),P(_,D,k,T),Ln(null,_,D,!0,v,T);case 19:return RF(v,_,T);case 22:return xe(v,_,T)}throw Error(t(156,_.tag))};function tz(v,_){return Je(v,_)}function ote(v,_,T,D){this.tag=v,this.key=T,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=_,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=D,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ms(v,_,T,D){return new ote(v,_,T,D)}function ME(v){return v=v.prototype,!(!v||!v.isReactComponent)}function ste(v){if(typeof v=="function")return ME(v)?1:0;if(v!=null){if(v=v.$$typeof,v===U)return 11;if(v===X)return 14}return 2}function Gf(v,_){var T=v.alternate;return T===null?(T=Ms(v.tag,_,v.key,v.mode),T.elementType=v.elementType,T.type=v.type,T.stateNode=v.stateNode,T.alternate=v,v.alternate=T):(T.pendingProps=_,T.type=v.type,T.flags=0,T.subtreeFlags=0,T.deletions=null),T.flags=v.flags&14680064,T.childLanes=v.childLanes,T.lanes=v.lanes,T.child=v.child,T.memoizedProps=v.memoizedProps,T.memoizedState=v.memoizedState,T.updateQueue=v.updateQueue,_=v.dependencies,T.dependencies=_===null?null:{lanes:_.lanes,firstContext:_.firstContext},T.sibling=v.sibling,T.index=v.index,T.ref=v.ref,T}function Aw(v,_,T,D,k,z){var $=2;if(D=v,typeof v=="function")ME(v)&&($=1);else if(typeof v=="string")$=5;else e:switch(v){case E:return kd(T.children,k,z,_);case I:$=8,k|=8;break;case L:return v=Ms(12,T,_,k|2),v.elementType=L,v.lanes=z,v;case V:return v=Ms(13,T,_,k),v.elementType=V,v.lanes=z,v;case W:return v=Ms(19,T,_,k),v.elementType=W,v.lanes=z,v;case Q:return Cw(T,k,z,_);default:if(typeof v=="object"&&v!==null)switch(v.$$typeof){case R:$=10;break e;case O:$=9;break e;case U:$=11;break e;case X:$=14;break e;case j:$=16,D=null;break e}throw Error(t(130,v==null?v:typeof v,""))}return _=Ms($,T,_,k),_.elementType=v,_.type=D,_.lanes=z,_}function kd(v,_,T,D){return v=Ms(7,v,D,_),v.lanes=T,v}function Cw(v,_,T,D){return v=Ms(22,v,D,_),v.elementType=Q,v.lanes=T,v.stateNode={isHidden:!1},v}function TE(v,_,T){return v=Ms(6,v,null,_),v.lanes=T,v}function bE(v,_,T){return _=Ms(4,v.children!==null?v.children:[],v.key,_),_.lanes=T,_.stateNode={containerInfo:v.containerInfo,pendingChildren:null,implementation:v.implementation},_}function lte(v,_,T,D,k){this.tag=_,this.containerInfo=v,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=c0(0),this.expirationTimes=c0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=c0(0),this.identifierPrefix=D,this.onRecoverableError=k,this.mutableSourceEagerHydrationData=null}function AE(v,_,T,D,k,z,$,se,he){return v=new lte(v,_,T,se,he),_===1?(_=1,z===!0&&(_|=8)):_=0,z=Ms(3,null,null,_),v.current=z,z.stateNode=v,z.memoizedState={element:D,isDehydrated:T,cache:null,transitions:null,pendingSuspenseBoundaries:null},Nn(z),v}function ute(v,_,T){var D=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A,key:D==null?null:""+D,children:v,containerInfo:_,implementation:T}}function nz(v){if(!v)return al;v=v._reactInternals;e:{if(Ft(v)!==v||v.tag!==1)throw Error(t(170));var _=v;do{switch(_.tag){case 3:_=_.stateNode.context;break e;case 1:if(qi(_.type)){_=_.stateNode.__reactInternalMemoizedMergedChildContext;break e}}_=_.return}while(_!==null);throw Error(t(171))}if(v.tag===1){var T=v.type;if(qi(T))return vd(v,T,_)}return _}function rz(v,_,T,D,k,z,$,se,he){return v=AE(T,D,!0,v,k,z,$,se,he),v.context=nz(null),T=v.current,D=ao(),k=Uf(T),z=mr(D,k),z.callback=_??null,Or(T,z,k),v.current.lanes=k,Kh(v,k,D),Ro(v,D),v}function Ew(v,_,T,D){var k=_.current,z=ao(),$=Uf(k);return T=nz(T),_.context===null?_.context=T:_.pendingContext=T,_=mr(z,$),_.payload={element:v},D=D===void 0?null:D,D!==null&&(_.callback=D),v=Or(k,_,$),v!==null&&(yl(v,k,$,z),Ki(v,k,$)),$}function Pw(v){if(v=v.current,!v.child)return null;switch(v.child.tag){case 5:return v.child.stateNode;default:return v.child.stateNode}}function iz(v,_){if(v=v.memoizedState,v!==null&&v.dehydrated!==null){var T=v.retryLane;v.retryLane=T!==0&&T<_?T:_}}function CE(v,_){iz(v,_),(v=v.alternate)&&iz(v,_)}function cte(){return null}var az=typeof reportError=="function"?reportError:function(v){console.error(v)};function EE(v){this._internalRoot=v}Dw.prototype.render=EE.prototype.render=function(v){var _=this._internalRoot;if(_===null)throw Error(t(409));Ew(v,_,null,null)},Dw.prototype.unmount=EE.prototype.unmount=function(){var v=this._internalRoot;if(v!==null){this._internalRoot=null;var _=v.containerInfo;Id(function(){Ew(null,v,null,null)}),_[Qa]=null}};function Dw(v){this._internalRoot=v}Dw.prototype.unstable_scheduleHydration=function(v){if(v){var _=Xv();v={blockedOn:null,target:v,priority:_};for(var T=0;T<$l.length&&_!==0&&_<$l[T].priority;T++);$l.splice(T,0,v),T===0&&Zv(v)}};function PE(v){return!(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)}function Rw(v){return!(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11&&(v.nodeType!==8||v.nodeValue!==" react-mount-point-unstable "))}function oz(){}function fte(v,_,T,D,k){if(k){if(typeof D=="function"){var z=D;D=function(){var Ne=Pw($);z.call(Ne)}}var $=rz(_,D,v,0,null,!1,!1,"",oz);return v._reactRootContainer=$,v[Qa]=$.current,Af(v.nodeType===8?v.parentNode:v),Id(),$}for(;k=v.lastChild;)v.removeChild(k);if(typeof D=="function"){var se=D;D=function(){var Ne=Pw(he);se.call(Ne)}}var he=AE(v,0,!1,null,null,!1,!1,"",oz);return v._reactRootContainer=he,v[Qa]=he.current,Af(v.nodeType===8?v.parentNode:v),Id(function(){Ew(_,he,T,D)}),he}function Lw(v,_,T,D,k){var z=T._reactRootContainer;if(z){var $=z;if(typeof k=="function"){var se=k;k=function(){var he=Pw($);se.call(he)}}Ew(_,$,v,k)}else $=fte(T,_,v,k,D);return Pw($)}Jh=function(v){switch(v.tag){case 3:var _=v.stateNode;if(_.current.memoizedState.isDehydrated){var T=Ii(_.pendingLanes);T!==0&&(hf(_,T|1),Ro(_,yt()),(ur&6)===0&&(Ug=yt()+500,ys()))}break;case 13:Id(function(){var D=Zo(v,1);if(D!==null){var k=ao();yl(D,v,1,k)}}),CE(v,1)}},f0=function(v){if(v.tag===13){var _=Zo(v,134217728);if(_!==null){var T=ao();yl(_,v,134217728,T)}CE(v,134217728)}},G1=function(v){if(v.tag===13){var _=Uf(v),T=Zo(v,_);if(T!==null){var D=ao();yl(T,v,_,D)}CE(v,_)}},Xv=function(){return ar},Yv=function(v,_){var T=ar;try{return ar=v,_()}finally{ar=T}},ke=function(v,_,T){switch(_){case"input":if(ot(v,T),_=T.name,T.type==="radio"&&_!=null){for(T=v;T.parentNode;)T=T.parentNode;for(T=T.querySelectorAll("input[name="+JSON.stringify(""+_)+'][type="radio"]'),_=0;_<T.length;_++){var D=T[_];if(D!==v&&D.form===v.form){var k=Mg(D);if(!k)throw Error(t(90));ve(D),ot(D,k)}}}break;case"textarea":Ye(v,T);break;case"select":_=T.value,_!=null&&K(v,!!T.multiple,_,!1)}},Kn=xE,Pn=Id;var hte={usingClientEntryPoint:!1,Events:[il,qr,Mg,In,Yn,xE]},i_={findFiberByHostInstance:nu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dte={bundleType:i_.bundleType,version:i_.version,rendererPackageName:i_.rendererPackageName,rendererConfig:i_.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(v){return v=we(v),v===null?null:v.stateNode},findFiberByHostInstance:i_.findFiberByHostInstance||cte,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Iw=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Iw.isDisabled&&Iw.supportsFiber)try{Ht=Iw.inject(dte),st=Iw}catch{}}return Lo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hte,Lo.createPortal=function(v,_){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!PE(_))throw Error(t(200));return ute(v,_,null,T)},Lo.createRoot=function(v,_){if(!PE(v))throw Error(t(299));var T=!1,D="",k=az;return _!=null&&(_.unstable_strictMode===!0&&(T=!0),_.identifierPrefix!==void 0&&(D=_.identifierPrefix),_.onRecoverableError!==void 0&&(k=_.onRecoverableError)),_=AE(v,1,!1,null,null,T,!1,D,k),v[Qa]=_.current,Af(v.nodeType===8?v.parentNode:v),new EE(_)},Lo.findDOMNode=function(v){if(v==null)return null;if(v.nodeType===1)return v;var _=v._reactInternals;if(_===void 0)throw typeof v.render=="function"?Error(t(188)):(v=Object.keys(v).join(","),Error(t(268,v)));return v=we(_),v=v===null?null:v.stateNode,v},Lo.flushSync=function(v){return Id(v)},Lo.hydrate=function(v,_,T){if(!Rw(_))throw Error(t(200));return Lw(null,v,_,!0,T)},Lo.hydrateRoot=function(v,_,T){if(!PE(v))throw Error(t(405));var D=T!=null&&T.hydratedSources||null,k=!1,z="",$=az;if(T!=null&&(T.unstable_strictMode===!0&&(k=!0),T.identifierPrefix!==void 0&&(z=T.identifierPrefix),T.onRecoverableError!==void 0&&($=T.onRecoverableError)),_=rz(_,null,v,1,T??null,k,!1,z,$),v[Qa]=_.current,Af(v),D)for(v=0;v<D.length;v++)T=D[v],k=T._getVersion,k=k(T._source),_.mutableSourceEagerHydrationData==null?_.mutableSourceEagerHydrationData=[T,k]:_.mutableSourceEagerHydrationData.push(T,k);return new Dw(_)},Lo.render=function(v,_,T){if(!Rw(_))throw Error(t(200));return Lw(null,v,_,!1,T)},Lo.unmountComponentAtNode=function(v){if(!Rw(v))throw Error(t(40));return v._reactRootContainer?(Id(function(){Lw(null,null,v,!1,function(){v._reactRootContainer=null,v[Qa]=null})}),!0):!1},Lo.unstable_batchedUpdates=xE,Lo.unstable_renderSubtreeIntoContainer=function(v,_,T,D){if(!Rw(T))throw Error(t(200));if(v==null||v._reactInternals===void 0)throw Error(t(38));return Lw(v,_,T,!1,D)},Lo.version="18.3.1-next-f1338f8080-20240426",Lo}var pz;function x9(){if(pz)return LE.exports;pz=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),LE.exports=Ste(),LE.exports}var vz;function wte(){if(vz)return Nw;vz=1;var n=x9();return Nw.createRoot=n.createRoot,Nw.hydrateRoot=n.hydrateRoot,Nw}var Mte=wte();const Tte=Ny(Mte);var S9=x9();const bte=Ny(S9),Ate=_9({__proto__:null,default:bte},[S9]);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jr(){return jr=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},jr.apply(this,arguments)}var Ci;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Ci||(Ci={}));const gz="popstate";function Cte(n){n===void 0&&(n={});function e(r,i){let{pathname:a,search:o,hash:s}=r.location;return $x("",{pathname:a,search:o,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:pv(i)}return Pte(e,t,null,n)}function er(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function py(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Ete(){return Math.random().toString(36).substr(2,8)}function mz(n,e){return{usr:n.state,key:n.key,idx:e}}function $x(n,e,t,r){return t===void 0&&(t=null),jr({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Uh(e):e,{state:t,key:e&&e.key||r||Ete()})}function pv(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Uh(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function Pte(n,e,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,s=Ci.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(jr({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function f(){s=Ci.Pop;let m=c(),y=m==null?null:m-u;u=m,l&&l({action:s,location:g.location,delta:y})}function h(m,y){s=Ci.Push;let S=$x(g.location,m,y);u=c()+1;let M=mz(S,u),b=g.createHref(S);try{o.pushState(M,"",b)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(b)}a&&l&&l({action:s,location:g.location,delta:1})}function d(m,y){s=Ci.Replace;let S=$x(g.location,m,y);u=c();let M=mz(S,u),b=g.createHref(S);o.replaceState(M,"",b),a&&l&&l({action:s,location:g.location,delta:0})}function p(m){let y=i.location.origin!=="null"?i.location.origin:i.location.href,S=typeof m=="string"?m:pv(m);return S=S.replace(/ $/,"%20"),er(y,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,y)}let g={get action(){return s},get location(){return n(i,o)},listen(m){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(gz,f),l=m,()=>{i.removeEventListener(gz,f),l=null}},createHref(m){return e(i,m)},createURL:p,encodeLocation(m){let y=p(m);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:d,go(m){return o.go(m)}};return g}var Sr;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(Sr||(Sr={}));const Dte=new Set(["lazy","caseSensitive","path","id","index","children"]);function Rte(n){return n.index===!0}function db(n,e,t,r){return t===void 0&&(t=[]),r===void 0&&(r={}),n.map((i,a)=>{let o=[...t,String(a)],s=typeof i.id=="string"?i.id:o.join("-");if(er(i.index!==!0||!i.children,"Cannot specify children on an index route"),er(!r[s],'Found a route id collision on id "'+s+`".  Route id's must be globally unique within Data Router usages`),Rte(i)){let l=jr({},i,e(i),{id:s});return r[s]=l,l}else{let l=jr({},i,e(i),{id:s,children:void 0});return r[s]=l,i.children&&(l.children=db(i.children,e,o,r)),l}})}function Lp(n,e,t){return t===void 0&&(t="/"),kT(n,e,t,!1)}function kT(n,e,t,r){let i=typeof e=="string"?Uh(e):e,a=ky(i.pathname||"/",t);if(a==null)return null;let o=w9(n);Ite(o);let s=null;for(let l=0;s==null&&l<o.length;++l){let u=Wte(a);s=Gte(o[l],u,r)}return s}function Lte(n,e){let{route:t,pathname:r,params:i}=n;return{id:t.id,pathname:r,params:i,data:e[t.id],handle:t.handle}}function w9(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let i=(a,o,s)=>{let l={relativePath:s===void 0?a.path||"":s,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};l.relativePath.startsWith("/")&&(er(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Gc([r,l.relativePath]),c=t.concat(l);a.children&&a.children.length>0&&(er(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),w9(a.children,e,c,u)),!(a.path==null&&!a.index)&&e.push({path:u,score:Ute(u,a.index),routesMeta:c})};return n.forEach((a,o)=>{var s;if(a.path===""||!((s=a.path)!=null&&s.includes("?")))i(a,o);else for(let l of M9(a.path))i(a,o,l)}),e}function M9(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=M9(r.join("/")),s=[];return s.push(...o.map(l=>l===""?a:[a,l].join("/"))),i&&s.push(...o),s.map(l=>n.startsWith("/")&&l===""?"/":l)}function Ite(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:Vte(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const Nte=/^:[\w-]+$/,Ote=3,kte=2,Fte=1,zte=10,Bte=-2,yz=n=>n==="*";function Ute(n,e){let t=n.split("/"),r=t.length;return t.some(yz)&&(r+=Bte),e&&(r+=kte),t.filter(i=>!yz(i)).reduce((i,a)=>i+(Nte.test(a)?Ote:a===""?Fte:zte),r)}function Vte(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function Gte(n,e,t){t===void 0&&(t=!1);let{routesMeta:r}=n,i={},a="/",o=[];for(let s=0;s<r.length;++s){let l=r[s],u=s===r.length-1,c=a==="/"?e:e.slice(a.length)||"/",f=_z({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),h=l.route;if(!f&&u&&t&&!r[r.length-1].route.index&&(f=_z({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:Gc([a,f.pathname]),pathnameBase:jte(Gc([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=Gc([a,f.pathnameBase]))}return o}function _z(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=Hte(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((u,c,f)=>{let{paramName:h,isOptional:d}=c;if(h==="*"){let g=s[f]||"";o=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const p=s[f];return d&&!p?u[h]=void 0:u[h]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:n}}function Hte(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),py(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,l)=>(r.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Wte(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return py(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function ky(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function Xte(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Uh(n):n;return{pathname:t?t.startsWith("/")?t:Yte(t,e):e,search:Zte(r),hash:$te(i)}}function Yte(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function OE(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function T9(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function IN(n,e){let t=T9(n);return e?t.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function NN(n,e,t,r){r===void 0&&(r=!1);let i;typeof n=="string"?i=Uh(n):(i=jr({},n),er(!i.pathname||!i.pathname.includes("?"),OE("?","pathname","search",i)),er(!i.pathname||!i.pathname.includes("#"),OE("#","pathname","hash",i)),er(!i.search||!i.search.includes("#"),OE("#","search","hash",i)));let a=n===""||i.pathname==="",o=a?"/":i.pathname,s;if(o==null)s=t;else{let f=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}s=f>=0?e[f]:"/"}let l=Xte(i,s),u=o&&o!=="/"&&o.endsWith("/"),c=(a||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Gc=n=>n.join("/").replace(/\/\/+/g,"/"),jte=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Zte=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,$te=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;class pb{constructor(e,t,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=t||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function qx(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const b9=["post","put","patch","delete"],qte=new Set(b9),Kte=["get",...b9],Jte=new Set(Kte),Qte=new Set([301,302,303,307,308]),ene=new Set([307,308]),kE={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},tne={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},o_={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},ON=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nne=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),A9="remix-router-transitions";function rne(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!t;er(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(n.mapRouteProperties)i=n.mapRouteProperties;else if(n.detectErrorBoundary){let le=n.detectErrorBoundary;i=_e=>({hasErrorBoundary:le(_e)})}else i=nne;let a={},o=db(n.routes,i,void 0,a),s,l=n.basename||"/",u=n.dataStrategy||sne,c=n.patchRoutesOnNavigation,f=jr({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},n.future),h=null,d=new Set,p=null,g=null,m=null,y=n.hydrationData!=null,S=Lp(o,n.history.location,l),M=!1,b=null;if(S==null&&!c){let le=ko(404,{pathname:n.history.location.pathname}),{matches:_e,route:Ie}=Dz(o);S=_e,b={[Ie.id]:le}}S&&!n.hydrationData&&Pn(S,o,n.history.location.pathname).active&&(S=null);let C;if(S)if(S.some(le=>le.route.lazy))C=!1;else if(!S.some(le=>le.route.loader))C=!0;else if(f.v7_partialHydration){let le=n.hydrationData?n.hydrationData.loaderData:null,_e=n.hydrationData?n.hydrationData.errors:null;if(_e){let Ie=S.findIndex(qe=>_e[qe.route.id]!==void 0);C=S.slice(0,Ie+1).every(qe=>!D2(qe.route,le,_e))}else C=S.every(Ie=>!D2(Ie.route,le,_e))}else C=n.hydrationData!=null;else if(C=!1,S=[],f.v7_partialHydration){let le=Pn(null,o,n.history.location.pathname);le.active&&le.matches&&(M=!0,S=le.matches)}let A,E={historyAction:n.history.action,location:n.history.location,matches:S,initialized:C,navigation:kE,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||b,fetchers:new Map,blockers:new Map},I=Ci.Pop,L=!1,R,O=!1,U=new Map,V=null,W=!1,X=!1,j=[],Q=new Set,B=new Map,Z=0,q=-1,Y=new Map,te=new Set,me=new Map,ae=new Map,fe=new Set,be=new Map,Ee=new Map,Be;function Oe(){if(h=n.history.listen(le=>{let{action:_e,location:Ie,delta:qe}=le;if(Be){Be(),Be=void 0;return}py(Ee.size===0||qe!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let mt=ke({currentLocation:E.location,nextLocation:Ie,historyAction:_e});if(mt&&qe!=null){let Lt=new Promise(ln=>{Be=ln});n.history.go(qe*-1),Ke(mt,{state:"blocked",location:Ie,proceed(){Ke(mt,{state:"proceeding",proceed:void 0,reset:void 0,location:Ie}),Lt.then(()=>n.history.go(qe))},reset(){let ln=new Map(E.blockers);ln.set(mt,o_),ve({blockers:ln})}});return}return He(_e,Ie)}),t){Sne(e,U);let le=()=>wne(e,U);e.addEventListener("pagehide",le),V=()=>e.removeEventListener("pagehide",le)}return E.initialized||He(Ci.Pop,E.location,{initialHydration:!0}),A}function $e(){h&&h(),V&&V(),d.clear(),R&&R.abort(),E.fetchers.forEach((le,_e)=>bt(_e)),E.blockers.forEach((le,_e)=>oe(_e))}function ee(le){return d.add(le),()=>d.delete(le)}function ve(le,_e){_e===void 0&&(_e={}),E=jr({},E,le);let Ie=[],qe=[];f.v7_fetcherPersist&&E.fetchers.forEach((mt,Lt)=>{mt.state==="idle"&&(fe.has(Lt)?qe.push(Lt):Ie.push(Lt))}),fe.forEach(mt=>{!E.fetchers.has(mt)&&!B.has(mt)&&qe.push(mt)}),[...d].forEach(mt=>mt(E,{deletedFetchers:qe,viewTransitionOpts:_e.viewTransitionOpts,flushSync:_e.flushSync===!0})),f.v7_fetcherPersist?(Ie.forEach(mt=>E.fetchers.delete(mt)),qe.forEach(mt=>bt(mt))):qe.forEach(mt=>fe.delete(mt))}function Ae(le,_e,Ie){var qe,mt;let{flushSync:Lt}=Ie===void 0?{}:Ie,ln=E.actionData!=null&&E.navigation.formMethod!=null&&Dl(E.navigation.formMethod)&&E.navigation.state==="loading"&&((qe=le.state)==null?void 0:qe._isRedirect)!==!0,kt;_e.actionData?Object.keys(_e.actionData).length>0?kt=_e.actionData:kt=null:ln?kt=E.actionData:kt=null;let Gt=_e.loaderData?Ez(E.loaderData,_e.loaderData,_e.matches||[],_e.errors):E.loaderData,It=E.blockers;It.size>0&&(It=new Map(It),It.forEach((ue,Me)=>It.set(Me,o_)));let Ft=L===!0||E.navigation.formMethod!=null&&Dl(E.navigation.formMethod)&&((mt=le.state)==null?void 0:mt._isRedirect)!==!0;s&&(o=s,s=void 0),W||I===Ci.Pop||(I===Ci.Push?n.history.push(le,le.state):I===Ci.Replace&&n.history.replace(le,le.state));let J;if(I===Ci.Pop){let ue=U.get(E.location.pathname);ue&&ue.has(le.pathname)?J={currentLocation:E.location,nextLocation:le}:U.has(le.pathname)&&(J={currentLocation:le,nextLocation:E.location})}else if(O){let ue=U.get(E.location.pathname);ue?ue.add(le.pathname):(ue=new Set([le.pathname]),U.set(E.location.pathname,ue)),J={currentLocation:E.location,nextLocation:le}}ve(jr({},_e,{actionData:kt,loaderData:Gt,historyAction:I,location:le,initialized:!0,navigation:kE,revalidation:"idle",restoreScrollPosition:Kn(le,_e.matches||E.matches),preventScrollReset:Ft,blockers:It}),{viewTransitionOpts:J,flushSync:Lt===!0}),I=Ci.Pop,L=!1,O=!1,W=!1,X=!1,j=[]}async function Ue(le,_e){if(typeof le=="number"){n.history.go(le);return}let Ie=P2(E.location,E.matches,l,f.v7_prependBasename,le,f.v7_relativeSplatPath,_e?.fromRouteId,_e?.relative),{path:qe,submission:mt,error:Lt}=xz(f.v7_normalizeFormMethod,!1,Ie,_e),ln=E.location,kt=$x(E.location,qe,_e&&_e.state);kt=jr({},kt,n.history.encodeLocation(kt));let Gt=_e&&_e.replace!=null?_e.replace:void 0,It=Ci.Push;Gt===!0?It=Ci.Replace:Gt===!1||mt!=null&&Dl(mt.formMethod)&&mt.formAction===E.location.pathname+E.location.search&&(It=Ci.Replace);let Ft=_e&&"preventScrollReset"in _e?_e.preventScrollReset===!0:void 0,J=(_e&&_e.flushSync)===!0,ue=ke({currentLocation:ln,nextLocation:kt,historyAction:It});if(ue){Ke(ue,{state:"blocked",location:kt,proceed(){Ke(ue,{state:"proceeding",proceed:void 0,reset:void 0,location:kt}),Ue(le,_e)},reset(){let Me=new Map(E.blockers);Me.set(ue,o_),ve({blockers:Me})}});return}return await He(It,kt,{submission:mt,pendingError:Lt,preventScrollReset:Ft,replace:_e&&_e.replace,enableViewTransition:_e&&_e.viewTransition,flushSync:J})}function Ge(){if(vt(),ve({revalidation:"loading"}),E.navigation.state!=="submitting"){if(E.navigation.state==="idle"){He(E.historyAction,E.location,{startUninterruptedRevalidation:!0});return}He(I||E.historyAction,E.navigation.location,{overrideNavigation:E.navigation,enableViewTransition:O===!0})}}async function He(le,_e,Ie){R&&R.abort(),R=null,I=le,W=(Ie&&Ie.startUninterruptedRevalidation)===!0,Yn(E.location,E.matches),L=(Ie&&Ie.preventScrollReset)===!0,O=(Ie&&Ie.enableViewTransition)===!0;let qe=s||o,mt=Ie&&Ie.overrideNavigation,Lt=Ie!=null&&Ie.initialHydration&&E.matches&&E.matches.length>0&&!M?E.matches:Lp(qe,_e,l),ln=(Ie&&Ie.flushSync)===!0;if(Lt&&E.initialized&&!X&&dne(E.location,_e)&&!(Ie&&Ie.submission&&Dl(Ie.submission.formMethod))){Ae(_e,{matches:Lt},{flushSync:ln});return}let kt=Pn(Lt,qe,_e.pathname);if(kt.active&&kt.matches&&(Lt=kt.matches),!Lt){let{error:we,notFoundMatches:pe,route:Je}=Xe(_e.pathname);Ae(_e,{matches:pe,loaderData:{},errors:{[Je.id]:we}},{flushSync:ln});return}R=new AbortController;let Gt=Gg(n.history,_e,R.signal,Ie&&Ie.submission),It;if(Ie&&Ie.pendingError)It=[Ip(Lt).route.id,{type:Sr.error,error:Ie.pendingError}];else if(Ie&&Ie.submission&&Dl(Ie.submission.formMethod)){let we=await ot(Gt,_e,Ie.submission,Lt,kt.active,{replace:Ie.replace,flushSync:ln});if(we.shortCircuited)return;if(we.pendingActionResult){let[pe,Je]=we.pendingActionResult;if(ns(Je)&&qx(Je.error)&&Je.error.status===404){R=null,Ae(_e,{matches:we.matches,loaderData:{},errors:{[pe]:Je.error}});return}}Lt=we.matches||Lt,It=we.pendingActionResult,mt=FE(_e,Ie.submission),ln=!1,kt.active=!1,Gt=Gg(n.history,Gt.url,Gt.signal)}let{shortCircuited:Ft,matches:J,loaderData:ue,errors:Me}=await ct(Gt,_e,Lt,kt.active,mt,Ie&&Ie.submission,Ie&&Ie.fetcherSubmission,Ie&&Ie.replace,Ie&&Ie.initialHydration===!0,ln,It);Ft||(R=null,Ae(_e,jr({matches:J||Lt},Pz(It),{loaderData:ue,errors:Me})))}async function ot(le,_e,Ie,qe,mt,Lt){Lt===void 0&&(Lt={}),vt();let ln=_ne(_e,Ie);if(ve({navigation:ln},{flushSync:Lt.flushSync===!0}),mt){let It=await Ar(qe,_e.pathname,le.signal);if(It.type==="aborted")return{shortCircuited:!0};if(It.type==="error"){let Ft=Ip(It.partialMatches).route.id;return{matches:It.partialMatches,pendingActionResult:[Ft,{type:Sr.error,error:It.error}]}}else if(It.matches)qe=It.matches;else{let{notFoundMatches:Ft,error:J,route:ue}=Xe(_e.pathname);return{matches:Ft,pendingActionResult:[ue.id,{type:Sr.error,error:J}]}}}let kt,Gt=rx(qe,_e);if(!Gt.route.action&&!Gt.route.lazy)kt={type:Sr.error,error:ko(405,{method:le.method,pathname:_e.pathname,routeId:Gt.route.id})};else if(kt=(await Qe("action",E,le,[Gt],qe,null))[Gt.route.id],le.signal.aborted)return{shortCircuited:!0};if(Bp(kt)){let It;return Lt&&Lt.replace!=null?It=Lt.replace:It=bz(kt.response.headers.get("Location"),new URL(le.url),l)===E.location.pathname+E.location.search,await Ye(le,kt,!0,{submission:Ie,replace:It}),{shortCircuited:!0}}if(ph(kt))throw ko(400,{type:"defer-action"});if(ns(kt)){let It=Ip(qe,Gt.route.id);return(Lt&&Lt.replace)!==!0&&(I=Ci.Push),{matches:qe,pendingActionResult:[It.route.id,kt]}}return{matches:qe,pendingActionResult:[Gt.route.id,kt]}}async function ct(le,_e,Ie,qe,mt,Lt,ln,kt,Gt,It,Ft){let J=mt||FE(_e,Lt),ue=Lt||ln||Lz(J),Me=!W&&(!f.v7_partialHydration||!Gt);if(qe){if(Me){let Ht=Rt(Ft);ve(jr({navigation:J},Ht!==void 0?{actionData:Ht}:{}),{flushSync:It})}let sn=await Ar(Ie,_e.pathname,le.signal);if(sn.type==="aborted")return{shortCircuited:!0};if(sn.type==="error"){let Ht=Ip(sn.partialMatches).route.id;return{matches:sn.partialMatches,loaderData:{},errors:{[Ht]:sn.error}}}else if(sn.matches)Ie=sn.matches;else{let{error:Ht,notFoundMatches:st,route:yn}=Xe(_e.pathname);return{matches:st,loaderData:{},errors:{[yn.id]:Ht}}}}let we=s||o,[pe,Je]=wz(n.history,E,Ie,ue,_e,f.v7_partialHydration&&Gt===!0,f.v7_skipActionErrorRevalidation,X,j,Q,fe,me,te,we,l,Ft);if(tt(sn=>!(Ie&&Ie.some(Ht=>Ht.route.id===sn))||pe&&pe.some(Ht=>Ht.route.id===sn)),q=++Z,pe.length===0&&Je.length===0){let sn=mn();return Ae(_e,jr({matches:Ie,loaderData:{},errors:Ft&&ns(Ft[1])?{[Ft[0]]:Ft[1].error}:null},Pz(Ft),sn?{fetchers:new Map(E.fetchers)}:{}),{flushSync:It}),{shortCircuited:!0}}if(Me){let sn={};if(!qe){sn.navigation=J;let Ht=Rt(Ft);Ht!==void 0&&(sn.actionData=Ht)}Je.length>0&&(sn.fetchers=re(Je)),ve(sn,{flushSync:It})}Je.forEach(sn=>{Kt(sn.key),sn.controller&&B.set(sn.key,sn.controller)});let wt=()=>Je.forEach(sn=>Kt(sn.key));R&&R.signal.addEventListener("abort",wt);let{loaderResults:Et,fetcherResults:Pt}=await Yt(E,Ie,pe,Je,le);if(le.signal.aborted)return{shortCircuited:!0};R&&R.signal.removeEventListener("abort",wt),Je.forEach(sn=>B.delete(sn.key));let yt=Ow(Et);if(yt)return await Ye(le,yt.result,!0,{replace:kt}),{shortCircuited:!0};if(yt=Ow(Pt),yt)return te.add(yt.key),await Ye(le,yt.result,!0,{replace:kt}),{shortCircuited:!0};let{loaderData:an,errors:jt}=Cz(E,Ie,Et,Ft,Je,Pt,be);be.forEach((sn,Ht)=>{sn.subscribe(st=>{(st||sn.done)&&be.delete(Ht)})}),f.v7_partialHydration&&Gt&&E.errors&&(jt=jr({},E.errors,jt));let Dn=mn(),ir=ce(q),lr=Dn||ir||Je.length>0;return jr({matches:Ie,loaderData:an,errors:jt},lr?{fetchers:new Map(E.fetchers)}:{})}function Rt(le){if(le&&!ns(le[1]))return{[le[0]]:le[1].data};if(E.actionData)return Object.keys(E.actionData).length===0?null:E.actionData}function re(le){return le.forEach(_e=>{let Ie=E.fetchers.get(_e.key),qe=s_(void 0,Ie?Ie.data:void 0);E.fetchers.set(_e.key,qe)}),new Map(E.fetchers)}function K(le,_e,Ie,qe){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Kt(le);let mt=(qe&&qe.flushSync)===!0,Lt=s||o,ln=P2(E.location,E.matches,l,f.v7_prependBasename,Ie,f.v7_relativeSplatPath,_e,qe?.relative),kt=Lp(Lt,ln,l),Gt=Pn(kt,Lt,ln);if(Gt.active&&Gt.matches&&(kt=Gt.matches),!kt){rn(le,_e,ko(404,{pathname:ln}),{flushSync:mt});return}let{path:It,submission:Ft,error:J}=xz(f.v7_normalizeFormMethod,!0,ln,qe);if(J){rn(le,_e,J,{flushSync:mt});return}let ue=rx(kt,It),Me=(qe&&qe.preventScrollReset)===!0;if(Ft&&Dl(Ft.formMethod)){Pe(le,_e,It,ue,kt,Gt.active,mt,Me,Ft);return}me.set(le,{routeId:_e,path:It}),Ze(le,_e,It,ue,kt,Gt.active,mt,Me,Ft)}async function Pe(le,_e,Ie,qe,mt,Lt,ln,kt,Gt){vt(),me.delete(le);function It(Nt){if(!Nt.route.action&&!Nt.route.lazy){let nr=ko(405,{method:Gt.formMethod,pathname:Ie,routeId:_e});return rn(le,_e,nr,{flushSync:ln}),!0}return!1}if(!Lt&&It(qe))return;let Ft=E.fetchers.get(le);ft(le,xne(Gt,Ft),{flushSync:ln});let J=new AbortController,ue=Gg(n.history,Ie,J.signal,Gt);if(Lt){let Nt=await Ar(mt,new URL(ue.url).pathname,ue.signal,le);if(Nt.type==="aborted")return;if(Nt.type==="error"){rn(le,_e,Nt.error,{flushSync:ln});return}else if(Nt.matches){if(mt=Nt.matches,qe=rx(mt,Ie),It(qe))return}else{rn(le,_e,ko(404,{pathname:Ie}),{flushSync:ln});return}}B.set(le,J);let Me=Z,pe=(await Qe("action",E,ue,[qe],mt,le))[qe.route.id];if(ue.signal.aborted){B.get(le)===J&&B.delete(le);return}if(f.v7_fetcherPersist&&fe.has(le)){if(Bp(pe)||ns(pe)){ft(le,sh(void 0));return}}else{if(Bp(pe))if(B.delete(le),q>Me){ft(le,sh(void 0));return}else return te.add(le),ft(le,s_(Gt)),Ye(ue,pe,!1,{fetcherSubmission:Gt,preventScrollReset:kt});if(ns(pe)){rn(le,_e,pe.error);return}}if(ph(pe))throw ko(400,{type:"defer-action"});let Je=E.navigation.location||E.location,wt=Gg(n.history,Je,J.signal),Et=s||o,Pt=E.navigation.state!=="idle"?Lp(Et,E.navigation.location,l):E.matches;er(Pt,"Didn't find any matches after fetcher action");let yt=++Z;Y.set(le,yt);let an=s_(Gt,pe.data);E.fetchers.set(le,an);let[jt,Dn]=wz(n.history,E,Pt,Gt,Je,!1,f.v7_skipActionErrorRevalidation,X,j,Q,fe,me,te,Et,l,[qe.route.id,pe]);Dn.filter(Nt=>Nt.key!==le).forEach(Nt=>{let nr=Nt.key,Hr=E.fetchers.get(nr),Li=s_(void 0,Hr?Hr.data:void 0);E.fetchers.set(nr,Li),Kt(nr),Nt.controller&&B.set(nr,Nt.controller)}),ve({fetchers:new Map(E.fetchers)});let ir=()=>Dn.forEach(Nt=>Kt(Nt.key));J.signal.addEventListener("abort",ir);let{loaderResults:lr,fetcherResults:sn}=await Yt(E,Pt,jt,Dn,wt);if(J.signal.aborted)return;J.signal.removeEventListener("abort",ir),Y.delete(le),B.delete(le),Dn.forEach(Nt=>B.delete(Nt.key));let Ht=Ow(lr);if(Ht)return Ye(wt,Ht.result,!1,{preventScrollReset:kt});if(Ht=Ow(sn),Ht)return te.add(Ht.key),Ye(wt,Ht.result,!1,{preventScrollReset:kt});let{loaderData:st,errors:yn}=Cz(E,Pt,lr,void 0,Dn,sn,be);if(E.fetchers.has(le)){let Nt=sh(pe.data);E.fetchers.set(le,Nt)}ce(yt),E.navigation.state==="loading"&&yt>q?(er(I,"Expected pending action"),R&&R.abort(),Ae(E.navigation.location,{matches:Pt,loaderData:st,errors:yn,fetchers:new Map(E.fetchers)})):(ve({errors:yn,loaderData:Ez(E.loaderData,st,Pt,yn),fetchers:new Map(E.fetchers)}),X=!1)}async function Ze(le,_e,Ie,qe,mt,Lt,ln,kt,Gt){let It=E.fetchers.get(le);ft(le,s_(Gt,It?It.data:void 0),{flushSync:ln});let Ft=new AbortController,J=Gg(n.history,Ie,Ft.signal);if(Lt){let pe=await Ar(mt,new URL(J.url).pathname,J.signal,le);if(pe.type==="aborted")return;if(pe.type==="error"){rn(le,_e,pe.error,{flushSync:ln});return}else if(pe.matches)mt=pe.matches,qe=rx(mt,Ie);else{rn(le,_e,ko(404,{pathname:Ie}),{flushSync:ln});return}}B.set(le,Ft);let ue=Z,we=(await Qe("loader",E,J,[qe],mt,le))[qe.route.id];if(ph(we)&&(we=await kN(we,J.signal,!0)||we),B.get(le)===Ft&&B.delete(le),!J.signal.aborted){if(fe.has(le)){ft(le,sh(void 0));return}if(Bp(we))if(q>ue){ft(le,sh(void 0));return}else{te.add(le),await Ye(J,we,!1,{preventScrollReset:kt});return}if(ns(we)){rn(le,_e,we.error);return}er(!ph(we),"Unhandled fetcher deferred data"),ft(le,sh(we.data))}}async function Ye(le,_e,Ie,qe){let{submission:mt,fetcherSubmission:Lt,preventScrollReset:ln,replace:kt}=qe===void 0?{}:qe;_e.response.headers.has("X-Remix-Revalidate")&&(X=!0);let Gt=_e.response.headers.get("Location");er(Gt,"Expected a Location header on the redirect Response"),Gt=bz(Gt,new URL(le.url),l);let It=$x(E.location,Gt,{_isRedirect:!0});if(t){let pe=!1;if(_e.response.headers.has("X-Remix-Reload-Document"))pe=!0;else if(ON.test(Gt)){const Je=n.history.createURL(Gt);pe=Je.origin!==e.location.origin||ky(Je.pathname,l)==null}if(pe){kt?e.location.replace(Gt):e.location.assign(Gt);return}}R=null;let Ft=kt===!0||_e.response.headers.has("X-Remix-Replace")?Ci.Replace:Ci.Push,{formMethod:J,formAction:ue,formEncType:Me}=E.navigation;!mt&&!Lt&&J&&ue&&Me&&(mt=Lz(E.navigation));let we=mt||Lt;if(ene.has(_e.response.status)&&we&&Dl(we.formMethod))await He(Ft,It,{submission:jr({},we,{formAction:Gt}),preventScrollReset:ln||L,enableViewTransition:Ie?O:void 0});else{let pe=FE(It,mt);await He(Ft,It,{overrideNavigation:pe,fetcherSubmission:Lt,preventScrollReset:ln||L,enableViewTransition:Ie?O:void 0})}}async function Qe(le,_e,Ie,qe,mt,Lt){let ln,kt={};try{ln=await lne(u,le,_e,Ie,qe,mt,Lt,a,i)}catch(Gt){return qe.forEach(It=>{kt[It.route.id]={type:Sr.error,error:Gt}}),kt}for(let[Gt,It]of Object.entries(ln))if(pne(It)){let Ft=It.result;kt[Gt]={type:Sr.redirect,response:fne(Ft,Ie,Gt,mt,l,f.v7_relativeSplatPath)}}else kt[Gt]=await cne(It);return kt}async function Yt(le,_e,Ie,qe,mt){let Lt=le.matches,ln=Qe("loader",le,mt,Ie,_e,null),kt=Promise.all(qe.map(async Ft=>{if(Ft.matches&&Ft.match&&Ft.controller){let ue=(await Qe("loader",le,Gg(n.history,Ft.path,Ft.controller.signal),[Ft.match],Ft.matches,Ft.key))[Ft.match.route.id];return{[Ft.key]:ue}}else return Promise.resolve({[Ft.key]:{type:Sr.error,error:ko(404,{pathname:Ft.path})}})})),Gt=await ln,It=(await kt).reduce((Ft,J)=>Object.assign(Ft,J),{});return await Promise.all([mne(_e,Gt,mt.signal,Lt,le.loaderData),yne(_e,It,qe)]),{loaderResults:Gt,fetcherResults:It}}function vt(){X=!0,j.push(...tt()),me.forEach((le,_e)=>{B.has(_e)&&Q.add(_e),Kt(_e)})}function ft(le,_e,Ie){Ie===void 0&&(Ie={}),E.fetchers.set(le,_e),ve({fetchers:new Map(E.fetchers)},{flushSync:(Ie&&Ie.flushSync)===!0})}function rn(le,_e,Ie,qe){qe===void 0&&(qe={});let mt=Ip(E.matches,_e);bt(le),ve({errors:{[mt.route.id]:Ie},fetchers:new Map(E.fetchers)},{flushSync:(qe&&qe.flushSync)===!0})}function at(le){return ae.set(le,(ae.get(le)||0)+1),fe.has(le)&&fe.delete(le),E.fetchers.get(le)||tne}function bt(le){let _e=E.fetchers.get(le);B.has(le)&&!(_e&&_e.state==="loading"&&Y.has(le))&&Kt(le),me.delete(le),Y.delete(le),te.delete(le),f.v7_fetcherPersist&&fe.delete(le),Q.delete(le),E.fetchers.delete(le)}function Rn(le){let _e=(ae.get(le)||0)-1;_e<=0?(ae.delete(le),fe.add(le),f.v7_fetcherPersist||bt(le)):ae.set(le,_e),ve({fetchers:new Map(E.fetchers)})}function Kt(le){let _e=B.get(le);_e&&(_e.abort(),B.delete(le))}function St(le){for(let _e of le){let Ie=at(_e),qe=sh(Ie.data);E.fetchers.set(_e,qe)}}function mn(){let le=[],_e=!1;for(let Ie of te){let qe=E.fetchers.get(Ie);er(qe,"Expected fetcher: "+Ie),qe.state==="loading"&&(te.delete(Ie),le.push(Ie),_e=!0)}return St(le),_e}function ce(le){let _e=[];for(let[Ie,qe]of Y)if(qe<le){let mt=E.fetchers.get(Ie);er(mt,"Expected fetcher: "+Ie),mt.state==="loading"&&(Kt(Ie),Y.delete(Ie),_e.push(Ie))}return St(_e),_e.length>0}function et(le,_e){let Ie=E.blockers.get(le)||o_;return Ee.get(le)!==_e&&Ee.set(le,_e),Ie}function oe(le){E.blockers.delete(le),Ee.delete(le)}function Ke(le,_e){let Ie=E.blockers.get(le)||o_;er(Ie.state==="unblocked"&&_e.state==="blocked"||Ie.state==="blocked"&&_e.state==="blocked"||Ie.state==="blocked"&&_e.state==="proceeding"||Ie.state==="blocked"&&_e.state==="unblocked"||Ie.state==="proceeding"&&_e.state==="unblocked","Invalid blocker state transition: "+Ie.state+" -> "+_e.state);let qe=new Map(E.blockers);qe.set(le,_e),ve({blockers:qe})}function ke(le){let{currentLocation:_e,nextLocation:Ie,historyAction:qe}=le;if(Ee.size===0)return;Ee.size>1&&py(!1,"A router only supports one blocker at a time");let mt=Array.from(Ee.entries()),[Lt,ln]=mt[mt.length-1],kt=E.blockers.get(Lt);if(!(kt&&kt.state==="proceeding")&&ln({currentLocation:_e,nextLocation:Ie,historyAction:qe}))return Lt}function Xe(le){let _e=ko(404,{pathname:le}),Ie=s||o,{matches:qe,route:mt}=Dz(Ie);return tt(),{notFoundMatches:qe,route:mt,error:_e}}function tt(le){let _e=[];return be.forEach((Ie,qe)=>{(!le||le(qe))&&(Ie.cancel(),_e.push(qe),be.delete(qe))}),_e}function hn(le,_e,Ie){if(p=le,m=_e,g=Ie||null,!y&&E.navigation===kE){y=!0;let qe=Kn(E.location,E.matches);qe!=null&&ve({restoreScrollPosition:qe})}return()=>{p=null,m=null,g=null}}function In(le,_e){return g&&g(le,_e.map(qe=>Lte(qe,E.loaderData)))||le.key}function Yn(le,_e){if(p&&m){let Ie=In(le,_e);p[Ie]=m()}}function Kn(le,_e){if(p){let Ie=In(le,_e),qe=p[Ie];if(typeof qe=="number")return qe}return null}function Pn(le,_e,Ie){if(c)if(le){if(Object.keys(le[0].params).length>0)return{active:!0,matches:kT(_e,Ie,l,!0)}}else return{active:!0,matches:kT(_e,Ie,l,!0)||[]};return{active:!1,matches:null}}async function Ar(le,_e,Ie,qe){if(!c)return{type:"success",matches:le};let mt=le;for(;;){let Lt=s==null,ln=s||o,kt=a;try{await c({signal:Ie,path:_e,matches:mt,fetcherKey:qe,patch:(Ft,J)=>{Ie.aborted||Tz(Ft,J,ln,kt,i)}})}catch(Ft){return{type:"error",error:Ft,partialMatches:mt}}finally{Lt&&!Ie.aborted&&(o=[...o])}if(Ie.aborted)return{type:"aborted"};let Gt=Lp(ln,_e,l);if(Gt)return{type:"success",matches:Gt};let It=kT(ln,_e,l,!0);if(!It||mt.length===It.length&&mt.every((Ft,J)=>Ft.route.id===It[J].route.id))return{type:"success",matches:null};mt=It}}function Gr(le){a={},s=db(le,i,void 0,a)}function ni(le,_e){let Ie=s==null;Tz(le,_e,s||o,a,i),Ie&&(o=[...o],ve({}))}return A={get basename(){return l},get future(){return f},get state(){return E},get routes(){return o},get window(){return e},initialize:Oe,subscribe:ee,enableScrollRestoration:hn,navigate:Ue,fetch:K,revalidate:Ge,createHref:le=>n.history.createHref(le),encodeLocation:le=>n.history.encodeLocation(le),getFetcher:at,deleteFetcher:Rn,dispose:$e,getBlocker:et,deleteBlocker:oe,patchRoutes:ni,_internalFetchControllers:B,_internalActiveDeferreds:be,_internalSetRoutes:Gr},A}function ine(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function P2(n,e,t,r,i,a,o,s){let l,u;if(o){l=[];for(let f of e)if(l.push(f),f.route.id===o){u=f;break}}else l=e,u=e[e.length-1];let c=NN(i||".",IN(l,a),ky(n.pathname,t)||n.pathname,s==="path");if(i==null&&(c.search=n.search,c.hash=n.hash),(i==null||i===""||i===".")&&u){let f=FN(c.search);if(u.route.index&&!f)c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index";else if(!u.route.index&&f){let h=new URLSearchParams(c.search),d=h.getAll("index");h.delete("index"),d.filter(g=>g).forEach(g=>h.append("index",g));let p=h.toString();c.search=p?"?"+p:""}}return r&&t!=="/"&&(c.pathname=c.pathname==="/"?t:Gc([t,c.pathname])),pv(c)}function xz(n,e,t,r){if(!r||!ine(r))return{path:t};if(r.formMethod&&!gne(r.formMethod))return{path:t,error:ko(405,{method:r.formMethod})};let i=()=>({path:t,error:ko(400,{type:"invalid-body"})}),a=r.formMethod||"get",o=n?a.toUpperCase():a.toLowerCase(),s=P9(t);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Dl(o))return i();let h=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((d,p)=>{let[g,m]=p;return""+d+g+"="+m+`
`},""):String(r.body);return{path:t,submission:{formMethod:o,formAction:s,formEncType:r.formEncType,formData:void 0,json:void 0,text:h}}}else if(r.formEncType==="application/json"){if(!Dl(o))return i();try{let h=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:t,submission:{formMethod:o,formAction:s,formEncType:r.formEncType,formData:void 0,json:h,text:void 0}}}catch{return i()}}}er(typeof FormData=="function","FormData is not available in this environment");let l,u;if(r.formData)l=R2(r.formData),u=r.formData;else if(r.body instanceof FormData)l=R2(r.body),u=r.body;else if(r.body instanceof URLSearchParams)l=r.body,u=Az(l);else if(r.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(r.body),u=Az(l)}catch{return i()}let c={formMethod:o,formAction:s,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(Dl(c.formMethod))return{path:t,submission:c};let f=Uh(t);return e&&f.search&&FN(f.search)&&l.append("index",""),f.search="?"+l,{path:pv(f),submission:c}}function Sz(n,e,t){t===void 0&&(t=!1);let r=n.findIndex(i=>i.route.id===e);return r>=0?n.slice(0,t?r+1:r):n}function wz(n,e,t,r,i,a,o,s,l,u,c,f,h,d,p,g){let m=g?ns(g[1])?g[1].error:g[1].data:void 0,y=n.createURL(e.location),S=n.createURL(i),M=t;a&&e.errors?M=Sz(t,Object.keys(e.errors)[0],!0):g&&ns(g[1])&&(M=Sz(t,g[0]));let b=g?g[1].statusCode:void 0,C=o&&b&&b>=400,A=M.filter((I,L)=>{let{route:R}=I;if(R.lazy)return!0;if(R.loader==null)return!1;if(a)return D2(R,e.loaderData,e.errors);if(ane(e.loaderData,e.matches[L],I)||l.some(V=>V===I.route.id))return!0;let O=e.matches[L],U=I;return Mz(I,jr({currentUrl:y,currentParams:O.params,nextUrl:S,nextParams:U.params},r,{actionResult:m,actionStatus:b,defaultShouldRevalidate:C?!1:s||y.pathname+y.search===S.pathname+S.search||y.search!==S.search||C9(O,U)}))}),E=[];return f.forEach((I,L)=>{if(a||!t.some(W=>W.route.id===I.routeId)||c.has(L))return;let R=Lp(d,I.path,p);if(!R){E.push({key:L,routeId:I.routeId,path:I.path,matches:null,match:null,controller:null});return}let O=e.fetchers.get(L),U=rx(R,I.path),V=!1;h.has(L)?V=!1:u.has(L)?(u.delete(L),V=!0):O&&O.state!=="idle"&&O.data===void 0?V=s:V=Mz(U,jr({currentUrl:y,currentParams:e.matches[e.matches.length-1].params,nextUrl:S,nextParams:t[t.length-1].params},r,{actionResult:m,actionStatus:b,defaultShouldRevalidate:C?!1:s})),V&&E.push({key:L,routeId:I.routeId,path:I.path,matches:R,match:U,controller:new AbortController})}),[A,E]}function D2(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let r=e!=null&&e[n.id]!==void 0,i=t!=null&&t[n.id]!==void 0;return!r&&i?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!r&&!i}function ane(n,e,t){let r=!e||t.route.id!==e.route.id,i=n[t.route.id]===void 0;return r||i}function C9(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function Mz(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function Tz(n,e,t,r,i){var a;let o;if(n){let u=r[n];er(u,"No route found to patch children into: routeId = "+n),u.children||(u.children=[]),o=u.children}else o=t;let s=e.filter(u=>!o.some(c=>E9(u,c))),l=db(s,i,[n||"_","patch",String(((a=o)==null?void 0:a.length)||"0")],r);o.push(...l)}function E9(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,r)=>{var i;return(i=e.children)==null?void 0:i.some(a=>E9(t,a))}):!1}async function one(n,e,t){if(!n.lazy)return;let r=await n.lazy();if(!n.lazy)return;let i=t[n.id];er(i,"No route found in manifest");let a={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";py(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!Dte.has(o)&&(a[o]=r[o])}Object.assign(i,a),Object.assign(i,jr({},e(i),{lazy:void 0}))}async function sne(n){let{matches:e}=n,t=e.filter(i=>i.shouldLoad);return(await Promise.all(t.map(i=>i.resolve()))).reduce((i,a,o)=>Object.assign(i,{[t[o].route.id]:a}),{})}async function lne(n,e,t,r,i,a,o,s,l,u){let c=a.map(d=>d.route.lazy?one(d.route,l,s):void 0),f=a.map((d,p)=>{let g=c[p],m=i.some(S=>S.route.id===d.route.id);return jr({},d,{shouldLoad:m,resolve:async S=>(S&&r.method==="GET"&&(d.route.lazy||d.route.loader)&&(m=!0),m?une(e,r,d,g,S,u):Promise.resolve({type:Sr.data,result:void 0}))})}),h=await n({matches:f,request:r,params:a[0].params,fetcherKey:o,context:u});try{await Promise.all(c)}catch{}return h}async function une(n,e,t,r,i,a){let o,s,l=u=>{let c,f=new Promise((p,g)=>c=g);s=()=>c(),e.signal.addEventListener("abort",s);let h=p=>typeof u!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+n+'" [routeId: '+t.route.id+"]"))):u({request:e,params:t.params,context:a},...p!==void 0?[p]:[]),d=(async()=>{try{return{type:"data",result:await(i?i(g=>h(g)):h())}}catch(p){return{type:"error",result:p}}})();return Promise.race([d,f])};try{let u=t.route[n];if(r)if(u){let c,[f]=await Promise.all([l(u).catch(h=>{c=h}),r]);if(c!==void 0)throw c;o=f}else if(await r,u=t.route[n],u)o=await l(u);else if(n==="action"){let c=new URL(e.url),f=c.pathname+c.search;throw ko(405,{method:e.method,pathname:f,routeId:t.route.id})}else return{type:Sr.data,result:void 0};else if(u)o=await l(u);else{let c=new URL(e.url),f=c.pathname+c.search;throw ko(404,{pathname:f})}er(o.result!==void 0,"You defined "+(n==="action"?"an action":"a loader")+" for route "+('"'+t.route.id+"\" but didn't return anything from your `"+n+"` ")+"function. Please return a value or `null`.")}catch(u){return{type:Sr.error,result:u}}finally{s&&e.signal.removeEventListener("abort",s)}return o}async function cne(n){let{result:e,type:t}=n;if(D9(e)){let f;try{let h=e.headers.get("Content-Type");h&&/\bapplication\/json\b/.test(h)?e.body==null?f=null:f=await e.json():f=await e.text()}catch(h){return{type:Sr.error,error:h}}return t===Sr.error?{type:Sr.error,error:new pb(e.status,e.statusText,f),statusCode:e.status,headers:e.headers}:{type:Sr.data,data:f,statusCode:e.status,headers:e.headers}}if(t===Sr.error){if(Rz(e)){var r,i;if(e.data instanceof Error){var a,o;return{type:Sr.error,error:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}}return{type:Sr.error,error:new pb(((r=e.init)==null?void 0:r.status)||500,void 0,e.data),statusCode:qx(e)?e.status:void 0,headers:(i=e.init)!=null&&i.headers?new Headers(e.init.headers):void 0}}return{type:Sr.error,error:e,statusCode:qx(e)?e.status:void 0}}if(vne(e)){var s,l;return{type:Sr.deferred,deferredData:e,statusCode:(s=e.init)==null?void 0:s.status,headers:((l=e.init)==null?void 0:l.headers)&&new Headers(e.init.headers)}}if(Rz(e)){var u,c;return{type:Sr.data,data:e.data,statusCode:(u=e.init)==null?void 0:u.status,headers:(c=e.init)!=null&&c.headers?new Headers(e.init.headers):void 0}}return{type:Sr.data,data:e}}function fne(n,e,t,r,i,a){let o=n.headers.get("Location");if(er(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!ON.test(o)){let s=r.slice(0,r.findIndex(l=>l.route.id===t)+1);o=P2(new URL(e.url),s,i,!0,o,a),n.headers.set("Location",o)}return n}function bz(n,e,t){if(ON.test(n)){let r=n,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),a=ky(i.pathname,t)!=null;if(i.origin===e.origin&&a)return i.pathname+i.search+i.hash}return n}function Gg(n,e,t,r){let i=n.createURL(P9(e)).toString(),a={signal:t};if(r&&Dl(r.formMethod)){let{formMethod:o,formEncType:s}=r;a.method=o.toUpperCase(),s==="application/json"?(a.headers=new Headers({"Content-Type":s}),a.body=JSON.stringify(r.json)):s==="text/plain"?a.body=r.text:s==="application/x-www-form-urlencoded"&&r.formData?a.body=R2(r.formData):a.body=r.formData}return new Request(i,a)}function R2(n){let e=new URLSearchParams;for(let[t,r]of n.entries())e.append(t,typeof r=="string"?r:r.name);return e}function Az(n){let e=new FormData;for(let[t,r]of n.entries())e.append(t,r);return e}function hne(n,e,t,r,i){let a={},o=null,s,l=!1,u={},c=t&&ns(t[1])?t[1].error:void 0;return n.forEach(f=>{if(!(f.route.id in e))return;let h=f.route.id,d=e[h];if(er(!Bp(d),"Cannot handle redirect results in processLoaderData"),ns(d)){let p=d.error;c!==void 0&&(p=c,c=void 0),o=o||{};{let g=Ip(n,h);o[g.route.id]==null&&(o[g.route.id]=p)}a[h]=void 0,l||(l=!0,s=qx(d.error)?d.error.status:500),d.headers&&(u[h]=d.headers)}else ph(d)?(r.set(h,d.deferredData),a[h]=d.deferredData.data,d.statusCode!=null&&d.statusCode!==200&&!l&&(s=d.statusCode),d.headers&&(u[h]=d.headers)):(a[h]=d.data,d.statusCode&&d.statusCode!==200&&!l&&(s=d.statusCode),d.headers&&(u[h]=d.headers))}),c!==void 0&&t&&(o={[t[0]]:c},a[t[0]]=void 0),{loaderData:a,errors:o,statusCode:s||200,loaderHeaders:u}}function Cz(n,e,t,r,i,a,o){let{loaderData:s,errors:l}=hne(e,t,r,o);return i.forEach(u=>{let{key:c,match:f,controller:h}=u,d=a[c];if(er(d,"Did not find corresponding fetcher result"),!(h&&h.signal.aborted))if(ns(d)){let p=Ip(n.matches,f?.route.id);l&&l[p.route.id]||(l=jr({},l,{[p.route.id]:d.error})),n.fetchers.delete(c)}else if(Bp(d))er(!1,"Unhandled fetcher revalidation redirect");else if(ph(d))er(!1,"Unhandled fetcher deferred data");else{let p=sh(d.data);n.fetchers.set(c,p)}}),{loaderData:s,errors:l}}function Ez(n,e,t,r){let i=jr({},e);for(let a of t){let o=a.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):n[o]!==void 0&&a.route.loader&&(i[o]=n[o]),r&&r.hasOwnProperty(o))break}return i}function Pz(n){return n?ns(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function Ip(n,e){return(e?n.slice(0,n.findIndex(r=>r.route.id===e)+1):[...n]).reverse().find(r=>r.route.hasErrorBoundary===!0)||n[0]}function Dz(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function ko(n,e){let{pathname:t,routeId:r,method:i,type:a,message:o}=e===void 0?{}:e,s="Unknown Server Error",l="Unknown @remix-run/router error";return n===400?(s="Bad Request",i&&t&&r?l="You made a "+i+' request to "'+t+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":a==="defer-action"?l="defer() is not supported in actions":a==="invalid-body"&&(l="Unable to encode submission body")):n===403?(s="Forbidden",l='Route "'+r+'" does not match URL "'+t+'"'):n===404?(s="Not Found",l='No route matches URL "'+t+'"'):n===405&&(s="Method Not Allowed",i&&t&&r?l="You made a "+i.toUpperCase()+' request to "'+t+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new pb(n||500,s,new Error(l),!0)}function Ow(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[r,i]=e[t];if(Bp(i))return{key:r,result:i}}}function P9(n){let e=typeof n=="string"?Uh(n):n;return pv(jr({},e,{hash:""}))}function dne(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function pne(n){return D9(n.result)&&Qte.has(n.result.status)}function ph(n){return n.type===Sr.deferred}function ns(n){return n.type===Sr.error}function Bp(n){return(n&&n.type)===Sr.redirect}function Rz(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function vne(n){let e=n;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function D9(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function gne(n){return Jte.has(n.toLowerCase())}function Dl(n){return qte.has(n.toLowerCase())}async function mne(n,e,t,r,i){let a=Object.entries(e);for(let o=0;o<a.length;o++){let[s,l]=a[o],u=n.find(h=>h?.route.id===s);if(!u)continue;let c=r.find(h=>h.route.id===u.route.id),f=c!=null&&!C9(c,u)&&(i&&i[u.route.id])!==void 0;ph(l)&&f&&await kN(l,t,!1).then(h=>{h&&(e[s]=h)})}}async function yne(n,e,t){for(let r=0;r<t.length;r++){let{key:i,routeId:a,controller:o}=t[r],s=e[i];n.find(u=>u?.route.id===a)&&ph(s)&&(er(o,"Expected an AbortController for revalidating fetcher deferred result"),await kN(s,o.signal,!0).then(u=>{u&&(e[i]=u)}))}}async function kN(n,e,t){if(t===void 0&&(t=!1),!await n.deferredData.resolveData(e)){if(t)try{return{type:Sr.data,data:n.deferredData.unwrappedData}}catch(i){return{type:Sr.error,error:i}}return{type:Sr.data,data:n.deferredData.data}}}function FN(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function rx(n,e){let t=typeof e=="string"?Uh(e).search:e.search;if(n[n.length-1].route.index&&FN(t||""))return n[n.length-1];let r=T9(n);return r[r.length-1]}function Lz(n){let{formMethod:e,formAction:t,formEncType:r,text:i,formData:a,json:o}=n;if(!(!e||!t||!r)){if(i!=null)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:void 0,text:i};if(a!=null)return{formMethod:e,formAction:t,formEncType:r,formData:a,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:o,text:void 0}}}function FE(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function _ne(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function s_(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function xne(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function sh(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function Sne(n,e){try{let t=n.sessionStorage.getItem(A9);if(t){let r=JSON.parse(t);for(let[i,a]of Object.entries(r||{}))a&&Array.isArray(a)&&e.set(i,new Set(a||[]))}}catch{}}function wne(n,e){if(e.size>0){let t={};for(let[r,i]of e)t[r]=[...i];try{n.sessionStorage.setItem(A9,JSON.stringify(t))}catch(r){py(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vb(){return vb=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},vb.apply(this,arguments)}const PA=de.createContext(null),R9=de.createContext(null),Pv=de.createContext(null),zN=de.createContext(null),Dv=de.createContext({outlet:null,matches:[],isDataRoute:!1}),L9=de.createContext(null);function Mne(n,e){let{relative:t}=e===void 0?{}:e;t1()||er(!1);let{basename:r,navigator:i}=de.useContext(Pv),{hash:a,pathname:o,search:s}=N9(n,{relative:t}),l=o;return r!=="/"&&(l=o==="/"?r:Gc([r,o])),i.createHref({pathname:l,search:s,hash:a})}function t1(){return de.useContext(zN)!=null}function DA(){return t1()||er(!1),de.useContext(zN).location}function I9(n){de.useContext(Pv).static||de.useLayoutEffect(n)}function BN(){let{isDataRoute:n}=de.useContext(Dv);return n?One():Tne()}function Tne(){t1()||er(!1);let n=de.useContext(PA),{basename:e,future:t,navigator:r}=de.useContext(Pv),{matches:i}=de.useContext(Dv),{pathname:a}=DA(),o=JSON.stringify(IN(i,t.v7_relativeSplatPath)),s=de.useRef(!1);return I9(()=>{s.current=!0}),de.useCallback(function(u,c){if(c===void 0&&(c={}),!s.current)return;if(typeof u=="number"){r.go(u);return}let f=NN(u,JSON.parse(o),a,c.relative==="path");n==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Gc([e,f.pathname])),(c.replace?r.replace:r.push)(f,c.state,c)},[e,r,o,a,n])}function N9(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=de.useContext(Pv),{matches:i}=de.useContext(Dv),{pathname:a}=DA(),o=JSON.stringify(IN(i,r.v7_relativeSplatPath));return de.useMemo(()=>NN(n,JSON.parse(o),a,t==="path"),[n,o,a,t])}function bne(n,e,t,r){t1()||er(!1);let{navigator:i}=de.useContext(Pv),{matches:a}=de.useContext(Dv),o=a[a.length-1],s=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=DA(),c;c=u;let f=c.pathname||"/",h=f;if(l!=="/"){let g=l.replace(/^\//,"").split("/");h="/"+f.replace(/^\//,"").split("/").slice(g.length).join("/")}let d=Lp(n,{pathname:h});return Dne(d&&d.map(g=>Object.assign({},g,{params:Object.assign({},s,g.params),pathname:Gc([l,i.encodeLocation?i.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?l:Gc([l,i.encodeLocation?i.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),a,t,r)}function Ane(){let n=Nne(),e=qx(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return de.createElement(de.Fragment,null,de.createElement("h2",null,"Unexpected Application Error!"),de.createElement("h3",{style:{fontStyle:"italic"}},e),t?de.createElement("pre",{style:i},t):null,null)}const Cne=de.createElement(Ane,null);class Ene extends de.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?de.createElement(Dv.Provider,{value:this.props.routeContext},de.createElement(L9.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Pne(n){let{routeContext:e,match:t,children:r}=n,i=de.useContext(PA);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),de.createElement(Dv.Provider,{value:e},r)}function Dne(n,e,t,r){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var a;if(!t)return null;if(t.errors)n=t.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,s=(i=t)==null?void 0:i.errors;if(s!=null){let c=o.findIndex(f=>f.route.id&&s?.[f.route.id]!==void 0);c>=0||er(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(t&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let f=o[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=c),f.route.id){let{loaderData:h,errors:d}=t,p=f.route.loader&&h[f.route.id]===void 0&&(!d||d[f.route.id]===void 0);if(f.route.lazy||p){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,f,h)=>{let d,p=!1,g=null,m=null;t&&(d=s&&f.route.id?s[f.route.id]:void 0,g=f.route.errorElement||Cne,l&&(u<0&&h===0?(kne("route-fallback"),p=!0,m=null):u===h&&(p=!0,m=f.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,h+1)),S=()=>{let M;return d?M=g:p?M=m:f.route.Component?M=de.createElement(f.route.Component,null):f.route.element?M=f.route.element:M=c,de.createElement(Pne,{match:f,routeContext:{outlet:c,matches:y,isDataRoute:t!=null},children:M})};return t&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?de.createElement(Ene,{location:t.location,revalidation:t.revalidation,component:g,error:d,children:S(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):S()},null)}var O9=(function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n})(O9||{}),k9=(function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n})(k9||{});function Rne(n){let e=de.useContext(PA);return e||er(!1),e}function Lne(n){let e=de.useContext(R9);return e||er(!1),e}function Ine(n){let e=de.useContext(Dv);return e||er(!1),e}function F9(n){let e=Ine(),t=e.matches[e.matches.length-1];return t.route.id||er(!1),t.route.id}function Nne(){var n;let e=de.useContext(L9),t=Lne(k9.UseRouteError),r=F9();return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function One(){let{router:n}=Rne(O9.UseNavigateStable),e=F9(),t=de.useRef(!1);return I9(()=>{t.current=!0}),de.useCallback(function(i,a){a===void 0&&(a={}),t.current&&(typeof i=="number"?n.navigate(i):n.navigate(i,vb({fromRouteId:e},a)))},[n,e])}const Iz={};function kne(n,e,t){Iz[n]||(Iz[n]=!0)}function Fne(n,e){n?.v7_startTransition,n?.v7_relativeSplatPath===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function zne(n){let{basename:e="/",children:t=null,location:r,navigationType:i=Ci.Pop,navigator:a,static:o=!1,future:s}=n;t1()&&er(!1);let l=e.replace(/^\/*/,"/"),u=de.useMemo(()=>({basename:l,navigator:a,static:o,future:vb({v7_relativeSplatPath:!1},s)}),[l,s,a,o]);typeof r=="string"&&(r=Uh(r));let{pathname:c="/",search:f="",hash:h="",state:d=null,key:p="default"}=r,g=de.useMemo(()=>{let m=ky(c,l);return m==null?null:{location:{pathname:m,search:f,hash:h,state:d,key:p},navigationType:i}},[l,c,f,h,d,p,i]);return g==null?null:de.createElement(Pv.Provider,{value:u},de.createElement(zN.Provider,{children:t,value:g}))}new Promise(()=>{});function Bne(n){let e={hasErrorBoundary:n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&Object.assign(e,{element:de.createElement(n.Component),Component:void 0}),n.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:de.createElement(n.HydrateFallback),HydrateFallback:void 0}),n.ErrorBoundary&&Object.assign(e,{errorElement:de.createElement(n.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kx(){return Kx=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Kx.apply(this,arguments)}function Une(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function Vne(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Gne(n,e){return n.button===0&&(!e||e==="_self")&&!Vne(n)}const Hne=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Wne="6";try{window.__reactRouterVersion=Wne}catch{}function Xne(n,e){return rne({basename:void 0,future:Kx({},void 0,{v7_prependBasename:!0}),history:Cte({window:void 0}),hydrationData:Yne(),routes:n,mapRouteProperties:Bne,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function Yne(){var n;let e=(n=window)==null?void 0:n.__staticRouterHydrationData;return e&&e.errors&&(e=Kx({},e,{errors:jne(e.errors)})),e}function jne(n){if(!n)return null;let e=Object.entries(n),t={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")t[r]=new pb(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let a=window[i.__subType];if(typeof a=="function")try{let o=new a(i.message);o.stack="",t[r]=o}catch{}}if(t[r]==null){let a=new Error(i.message);a.stack="",t[r]=a}}else t[r]=i;return t}const Zne=de.createContext({isTransitioning:!1}),$ne=de.createContext(new Map),qne="startTransition",Nz=yte[qne],Kne="flushSync",Oz=Ate[Kne];function Jne(n){Nz?Nz(n):n()}function l_(n){Oz?Oz(n):n()}class Qne{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",t(r))}})}}function ere(n){let{fallbackElement:e,router:t,future:r}=n,[i,a]=de.useState(t.state),[o,s]=de.useState(),[l,u]=de.useState({isTransitioning:!1}),[c,f]=de.useState(),[h,d]=de.useState(),[p,g]=de.useState(),m=de.useRef(new Map),{v7_startTransition:y}=r||{},S=de.useCallback(I=>{y?Jne(I):I()},[y]),M=de.useCallback((I,L)=>{let{deletedFetchers:R,flushSync:O,viewTransitionOpts:U}=L;I.fetchers.forEach((W,X)=>{W.data!==void 0&&m.current.set(X,W.data)}),R.forEach(W=>m.current.delete(W));let V=t.window==null||t.window.document==null||typeof t.window.document.startViewTransition!="function";if(!U||V){O?l_(()=>a(I)):S(()=>a(I));return}if(O){l_(()=>{h&&(c&&c.resolve(),h.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:U.currentLocation,nextLocation:U.nextLocation})});let W=t.window.document.startViewTransition(()=>{l_(()=>a(I))});W.finished.finally(()=>{l_(()=>{f(void 0),d(void 0),s(void 0),u({isTransitioning:!1})})}),l_(()=>d(W));return}h?(c&&c.resolve(),h.skipTransition(),g({state:I,currentLocation:U.currentLocation,nextLocation:U.nextLocation})):(s(I),u({isTransitioning:!0,flushSync:!1,currentLocation:U.currentLocation,nextLocation:U.nextLocation}))},[t.window,h,c,m,S]);de.useLayoutEffect(()=>t.subscribe(M),[t,M]),de.useEffect(()=>{l.isTransitioning&&!l.flushSync&&f(new Qne)},[l]),de.useEffect(()=>{if(c&&o&&t.window){let I=o,L=c.promise,R=t.window.document.startViewTransition(async()=>{S(()=>a(I)),await L});R.finished.finally(()=>{f(void 0),d(void 0),s(void 0),u({isTransitioning:!1})}),d(R)}},[S,o,c,t.window]),de.useEffect(()=>{c&&o&&i.location.key===o.location.key&&c.resolve()},[c,h,i.location,o]),de.useEffect(()=>{!l.isTransitioning&&p&&(s(p.state),u({isTransitioning:!0,flushSync:!1,currentLocation:p.currentLocation,nextLocation:p.nextLocation}),g(void 0))},[l.isTransitioning,p]),de.useEffect(()=>{},[]);let b=de.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:I=>t.navigate(I),push:(I,L,R)=>t.navigate(I,{state:L,preventScrollReset:R?.preventScrollReset}),replace:(I,L,R)=>t.navigate(I,{replace:!0,state:L,preventScrollReset:R?.preventScrollReset})}),[t]),C=t.basename||"/",A=de.useMemo(()=>({router:t,navigator:b,static:!1,basename:C}),[t,b,C]),E=de.useMemo(()=>({v7_relativeSplatPath:t.future.v7_relativeSplatPath}),[t.future.v7_relativeSplatPath]);return de.useEffect(()=>Fne(r,t.future),[r,t.future]),de.createElement(de.Fragment,null,de.createElement(PA.Provider,{value:A},de.createElement(R9.Provider,{value:i},de.createElement($ne.Provider,{value:m.current},de.createElement(Zne.Provider,{value:l},de.createElement(zne,{basename:C,location:i.location,navigationType:i.historyAction,navigator:b,future:E},i.initialized||t.future.v7_partialHydration?de.createElement(tre,{routes:t.routes,future:t.future,state:i}):e))))),null)}const tre=de.memo(nre);function nre(n){let{routes:e,future:t,state:r}=n;return bne(e,void 0,r,t)}const rre=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ire=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sx=de.forwardRef(function(e,t){let{onClick:r,relative:i,reloadDocument:a,replace:o,state:s,target:l,to:u,preventScrollReset:c,viewTransition:f}=e,h=Une(e,Hne),{basename:d}=de.useContext(Pv),p,g=!1;if(typeof u=="string"&&ire.test(u)&&(p=u,rre))try{let M=new URL(window.location.href),b=u.startsWith("//")?new URL(M.protocol+u):new URL(u),C=ky(b.pathname,d);b.origin===M.origin&&C!=null?u=C+b.search+b.hash:g=!0}catch{}let m=Mne(u,{relative:i}),y=are(u,{replace:o,state:s,target:l,preventScrollReset:c,relative:i,viewTransition:f});function S(M){r&&r(M),M.defaultPrevented||y(M)}return de.createElement("a",Kx({},h,{href:p||m,onClick:g||a?r:S,ref:t,target:l}))});var kz;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(kz||(kz={}));var Fz;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(Fz||(Fz={}));function are(n,e){let{target:t,replace:r,state:i,preventScrollReset:a,relative:o,viewTransition:s}=e===void 0?{}:e,l=BN(),u=DA(),c=N9(n,{relative:o});return de.useCallback(f=>{if(Gne(f,t)){f.preventDefault();let h=r!==void 0?r:pv(u)===pv(c);l(n,{replace:h,state:i,preventScrollReset:a,relative:o,viewTransition:s})}},[u,l,c,r,i,t,n,a,o,s])}const z9=de.createContext({});function ore(n){const e=de.useRef(null);return e.current===null&&(e.current=n()),e.current}const UN=de.createContext(null),B9=de.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function sre(n=!0){const e=de.useContext(UN);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:i}=e,a=de.useId();de.useEffect(()=>{n&&i(a)},[n]);const o=de.useCallback(()=>n&&r&&r(a),[a,r,n]);return!t&&r?[!1,o]:[!0]}const VN=typeof window<"u",lre=VN?de.useLayoutEffect:de.useEffect,ls=n=>n;let U9=ls;function GN(n){let e;return()=>(e===void 0&&(e=n()),e)}const vy=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r},Hc=n=>n*1e3,Wc=n=>n/1e3,ure={useManualTiming:!1};function cre(n){let e=new Set,t=new Set,r=!1,i=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function s(u){a.has(u)&&(l.schedule(u),n()),u(o)}const l={schedule:(u,c=!1,f=!1)=>{const d=f&&r?e:t;return c&&a.add(u),d.has(u)||d.add(u),u},cancel:u=>{t.delete(u),a.delete(u)},process:u=>{if(o=u,r){i=!0;return}r=!0,[e,t]=[t,e],e.forEach(s),e.clear(),r=!1,i&&(i=!1,l.process(u))}};return l}const kw=["read","resolveKeyframes","update","preRender","render","postRender"],fre=40;function V9(n,e){let t=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>t=!0,o=kw.reduce((y,S)=>(y[S]=cre(a),y),{}),{read:s,resolveKeyframes:l,update:u,preRender:c,render:f,postRender:h}=o,d=()=>{const y=performance.now();t=!1,i.delta=r?1e3/60:Math.max(Math.min(y-i.timestamp,fre),1),i.timestamp=y,i.isProcessing=!0,s.process(i),l.process(i),u.process(i),c.process(i),f.process(i),h.process(i),i.isProcessing=!1,t&&e&&(r=!1,n(d))},p=()=>{t=!0,r=!0,i.isProcessing||n(d)};return{schedule:kw.reduce((y,S)=>{const M=o[S];return y[S]=(b,C=!1,A=!1)=>(t||p(),M.schedule(b,C,A)),y},{}),cancel:y=>{for(let S=0;S<kw.length;S++)o[kw[S]].cancel(y)},state:i,steps:o}}const{schedule:Ur,cancel:Dh,state:ga,steps:zE}=V9(typeof requestAnimationFrame<"u"?requestAnimationFrame:ls,!0),G9=de.createContext({strict:!1}),zz={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},gy={};for(const n in zz)gy[n]={isEnabled:e=>zz[n].some(t=>!!e[t])};function hre(n){for(const e in n)gy[e]={...gy[e],...n[e]}}const dre=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function gb(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||dre.has(n)}let H9=n=>!gb(n);function pre(n){n&&(H9=e=>e.startsWith("on")?!gb(e):n(e))}try{pre(require("@emotion/is-prop-valid").default)}catch{}function vre(n,e,t){const r={};for(const i in n)i==="values"&&typeof n.values=="object"||(H9(i)||t===!0&&gb(i)||!e&&!gb(i)||n.draggable&&i.startsWith("onDrag"))&&(r[i]=n[i]);return r}function gre(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...r)=>n(...r);return new Proxy(t,{get:(r,i)=>i==="create"?n:(e.has(i)||e.set(i,n(i)),e.get(i))})}const RA=de.createContext({});function Jx(n){return typeof n=="string"||Array.isArray(n)}function LA(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const HN=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],WN=["initial",...HN];function IA(n){return LA(n.animate)||WN.some(e=>Jx(n[e]))}function W9(n){return!!(IA(n)||n.variants)}function mre(n,e){if(IA(n)){const{initial:t,animate:r}=n;return{initial:t===!1||Jx(t)?t:void 0,animate:Jx(r)?r:void 0}}return n.inherit!==!1?e:{}}function yre(n){const{initial:e,animate:t}=mre(n,de.useContext(RA));return de.useMemo(()=>({initial:e,animate:t}),[Bz(e),Bz(t)])}function Bz(n){return Array.isArray(n)?n.join(" "):n}const _re=Symbol.for("motionComponentSymbol");function Wm(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function xre(n,e,t){return de.useCallback(r=>{r&&n.onMount&&n.onMount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):Wm(t)&&(t.current=r))},[e])}const XN=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Sre="framerAppearId",X9="data-"+XN(Sre),{schedule:YN}=V9(queueMicrotask,!1),Y9=de.createContext({});function wre(n,e,t,r,i){var a,o;const{visualElement:s}=de.useContext(RA),l=de.useContext(G9),u=de.useContext(UN),c=de.useContext(B9).reducedMotion,f=de.useRef(null);r=r||l.renderer,!f.current&&r&&(f.current=r(n,{visualState:e,parent:s,props:t,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:c}));const h=f.current,d=de.useContext(Y9);h&&!h.projection&&i&&(h.type==="html"||h.type==="svg")&&Mre(f.current,t,i,d);const p=de.useRef(!1);de.useInsertionEffect(()=>{h&&p.current&&h.update(t,u)});const g=t[X9],m=de.useRef(!!g&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,g))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,g)));return lre(()=>{h&&(p.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),YN.render(h.render),m.current&&h.animationState&&h.animationState.animateChanges())}),de.useEffect(()=>{h&&(!m.current&&h.animationState&&h.animationState.animateChanges(),m.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)===null||y===void 0||y.call(window,g)}),m.current=!1))}),h}function Mre(n,e,t,r){const{layoutId:i,layout:a,drag:o,dragConstraints:s,layoutScroll:l,layoutRoot:u}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:j9(n.parent)),n.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!o||s&&Wm(s),visualElement:n,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:u})}function j9(n){if(n)return n.options.allowProjection!==!1?n.projection:j9(n.parent)}function Tre({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:r,Component:i}){var a,o;n&&hre(n);function s(u,c){let f;const h={...de.useContext(B9),...u,layoutId:bre(u)},{isStatic:d}=h,p=yre(u),g=r(u,d);if(!d&&VN){Are();const m=Cre(h);f=m.MeasureLayout,p.visualElement=wre(i,g,h,e,m.ProjectionNode)}return Re.jsxs(RA.Provider,{value:p,children:[f&&p.visualElement?Re.jsx(f,{visualElement:p.visualElement,...h}):null,t(i,u,xre(g,p.visualElement,c),g,d,p.visualElement)]})}s.displayName=`motion.${typeof i=="string"?i:`create(${(o=(a=i.displayName)!==null&&a!==void 0?a:i.name)!==null&&o!==void 0?o:""})`}`;const l=de.forwardRef(s);return l[_re]=i,l}function bre({layoutId:n}){const e=de.useContext(z9).id;return e&&n!==void 0?e+"-"+n:n}function Are(n,e){de.useContext(G9).strict}function Cre(n){const{drag:e,layout:t}=gy;if(!e&&!t)return{};const r={...e,...t};return{MeasureLayout:e?.isEnabled(n)||t?.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Ere=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function jN(n){return typeof n!="string"||n.includes("-")?!1:!!(Ere.indexOf(n)>-1||/[A-Z]/u.test(n))}function Uz(n){const e=[{},{}];return n?.values.forEach((t,r)=>{e[0][r]=t.get(),e[1][r]=t.getVelocity()}),e}function ZN(n,e,t,r){if(typeof e=="function"){const[i,a]=Uz(r);e=e(t!==void 0?t:n.custom,i,a)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[i,a]=Uz(r);e=e(t!==void 0?t:n.custom,i,a)}return e}const L2=n=>Array.isArray(n),Pre=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),Dre=n=>L2(n)?n[n.length-1]||0:n,Ba=n=>!!(n&&n.getVelocity);function FT(n){const e=Ba(n)?n.get():n;return Pre(e)?e.toValue():e}function Rre({scrapeMotionValuesFromProps:n,createRenderState:e,onUpdate:t},r,i,a){const o={latestValues:Lre(r,i,a,n),renderState:e()};return t&&(o.onMount=s=>t({props:r,current:s,...o}),o.onUpdate=s=>t(s)),o}const Z9=n=>(e,t)=>{const r=de.useContext(RA),i=de.useContext(UN),a=()=>Rre(n,e,r,i);return t?a():ore(a)};function Lre(n,e,t,r){const i={},a=r(n,{});for(const h in a)i[h]=FT(a[h]);let{initial:o,animate:s}=n;const l=IA(n),u=W9(n);e&&u&&!l&&n.inherit!==!1&&(o===void 0&&(o=e.initial),s===void 0&&(s=e.animate));let c=t?t.initial===!1:!1;c=c||o===!1;const f=c?s:o;if(f&&typeof f!="boolean"&&!LA(f)){const h=Array.isArray(f)?f:[f];for(let d=0;d<h.length;d++){const p=ZN(n,h[d]);if(p){const{transitionEnd:g,transition:m,...y}=p;for(const S in y){let M=y[S];if(Array.isArray(M)){const b=c?M.length-1:0;M=M[b]}M!==null&&(i[S]=M)}for(const S in g)i[S]=g[S]}}}return i}const Fy=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Rv=new Set(Fy),$9=n=>e=>typeof e=="string"&&e.startsWith(n),q9=$9("--"),Ire=$9("var(--"),$N=n=>Ire(n)?Nre.test(n.split("/*")[0].trim()):!1,Nre=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,K9=(n,e)=>e&&typeof n=="number"?e.transform(n):n,$c=(n,e,t)=>t>e?e:t<n?n:t,zy={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Qx={...zy,transform:n=>$c(0,1,n)},Fw={...zy,default:1},n1=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),lh=n1("deg"),Tu=n1("%"),_n=n1("px"),Ore=n1("vh"),kre=n1("vw"),Vz={...Tu,parse:n=>Tu.parse(n)/100,transform:n=>Tu.transform(n*100)},Fre={borderWidth:_n,borderTopWidth:_n,borderRightWidth:_n,borderBottomWidth:_n,borderLeftWidth:_n,borderRadius:_n,radius:_n,borderTopLeftRadius:_n,borderTopRightRadius:_n,borderBottomRightRadius:_n,borderBottomLeftRadius:_n,width:_n,maxWidth:_n,height:_n,maxHeight:_n,top:_n,right:_n,bottom:_n,left:_n,padding:_n,paddingTop:_n,paddingRight:_n,paddingBottom:_n,paddingLeft:_n,margin:_n,marginTop:_n,marginRight:_n,marginBottom:_n,marginLeft:_n,backgroundPositionX:_n,backgroundPositionY:_n},zre={rotate:lh,rotateX:lh,rotateY:lh,rotateZ:lh,scale:Fw,scaleX:Fw,scaleY:Fw,scaleZ:Fw,skew:lh,skewX:lh,skewY:lh,distance:_n,translateX:_n,translateY:_n,translateZ:_n,x:_n,y:_n,z:_n,perspective:_n,transformPerspective:_n,opacity:Qx,originX:Vz,originY:Vz,originZ:_n},Gz={...zy,transform:Math.round},qN={...Fre,...zre,zIndex:Gz,size:_n,fillOpacity:Qx,strokeOpacity:Qx,numOctaves:Gz},Bre={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Ure=Fy.length;function Vre(n,e,t){let r="",i=!0;for(let a=0;a<Ure;a++){const o=Fy[a],s=n[o];if(s===void 0)continue;let l=!0;if(typeof s=="number"?l=s===(o.startsWith("scale")?1:0):l=parseFloat(s)===0,!l||t){const u=K9(s,qN[o]);if(!l){i=!1;const c=Bre[o]||o;r+=`${c}(${u}) `}t&&(e[o]=u)}}return r=r.trim(),t?r=t(e,i?"":r):i&&(r="none"),r}function KN(n,e,t){const{style:r,vars:i,transformOrigin:a}=n;let o=!1,s=!1;for(const l in e){const u=e[l];if(Rv.has(l)){o=!0;continue}else if(q9(l)){i[l]=u;continue}else{const c=K9(u,qN[l]);l.startsWith("origin")?(s=!0,a[l]=c):r[l]=c}}if(e.transform||(o||t?r.transform=Vre(e,n.transform,t):r.transform&&(r.transform="none")),s){const{originX:l="50%",originY:u="50%",originZ:c=0}=a;r.transformOrigin=`${l} ${u} ${c}`}}const Gre={offset:"stroke-dashoffset",array:"stroke-dasharray"},Hre={offset:"strokeDashoffset",array:"strokeDasharray"};function Wre(n,e,t=1,r=0,i=!0){n.pathLength=1;const a=i?Gre:Hre;n[a.offset]=_n.transform(-r);const o=_n.transform(e),s=_n.transform(t);n[a.array]=`${o} ${s}`}function Hz(n,e,t){return typeof n=="string"?n:_n.transform(e+t*n)}function Xre(n,e,t){const r=Hz(e,n.x,n.width),i=Hz(t,n.y,n.height);return`${r} ${i}`}function JN(n,{attrX:e,attrY:t,attrScale:r,originX:i,originY:a,pathLength:o,pathSpacing:s=1,pathOffset:l=0,...u},c,f){if(KN(n,u,f),c){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:h,style:d,dimensions:p}=n;h.transform&&(p&&(d.transform=h.transform),delete h.transform),p&&(i!==void 0||a!==void 0||d.transform)&&(d.transformOrigin=Xre(p,i!==void 0?i:.5,a!==void 0?a:.5)),e!==void 0&&(h.x=e),t!==void 0&&(h.y=t),r!==void 0&&(h.scale=r),o!==void 0&&Wre(h,o,s,l,!1)}const QN=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),J9=()=>({...QN(),attrs:{}}),eO=n=>typeof n=="string"&&n.toLowerCase()==="svg";function Q9(n,{style:e,vars:t},r,i){Object.assign(n.style,e,i&&i.getProjectionStyles(r));for(const a in t)n.style.setProperty(a,t[a])}const e7=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function t7(n,e,t,r){Q9(n,e,void 0,r);for(const i in e.attrs)n.setAttribute(e7.has(i)?i:XN(i),e.attrs[i])}const mb={};function Yre(n){Object.assign(mb,n)}function n7(n,{layout:e,layoutId:t}){return Rv.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!mb[n]||n==="opacity")}function tO(n,e,t){var r;const{style:i}=n,a={};for(const o in i)(Ba(i[o])||e.style&&Ba(e.style[o])||n7(o,n)||((r=t?.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(a[o]=i[o]);return a}function r7(n,e,t){const r=tO(n,e,t);for(const i in n)if(Ba(n[i])||Ba(e[i])){const a=Fy.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=n[i]}return r}function jre(n,e){try{e.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const Wz=["x","y","width","height","cx","cy","r"],Zre={useVisualState:Z9({scrapeMotionValuesFromProps:r7,createRenderState:J9,onUpdate:({props:n,prevProps:e,current:t,renderState:r,latestValues:i})=>{if(!t)return;let a=!!n.drag;if(!a){for(const s in i)if(Rv.has(s)){a=!0;break}}if(!a)return;let o=!e;if(e)for(let s=0;s<Wz.length;s++){const l=Wz[s];n[l]!==e[l]&&(o=!0)}o&&Ur.read(()=>{jre(t,r),Ur.render(()=>{JN(r,i,eO(t.tagName),n.transformTemplate),t7(t,r)})})}})},$re={useVisualState:Z9({scrapeMotionValuesFromProps:tO,createRenderState:QN})};function i7(n,e,t){for(const r in e)!Ba(e[r])&&!n7(r,t)&&(n[r]=e[r])}function qre({transformTemplate:n},e){return de.useMemo(()=>{const t=QN();return KN(t,e,n),Object.assign({},t.vars,t.style)},[e])}function Kre(n,e){const t=n.style||{},r={};return i7(r,t,n),Object.assign(r,qre(n,e)),r}function Jre(n,e){const t={},r=Kre(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=r,t}function Qre(n,e,t,r){const i=de.useMemo(()=>{const a=J9();return JN(a,e,eO(r),n.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(n.style){const a={};i7(a,n.style,n),i.style={...a,...i.style}}return i}function eie(n=!1){return(t,r,i,{latestValues:a},o)=>{const l=(jN(t)?Qre:Jre)(r,a,o,t),u=vre(r,typeof t=="string",n),c=t!==de.Fragment?{...u,...l,ref:i}:{},{children:f}=r,h=de.useMemo(()=>Ba(f)?f.get():f,[f]);return de.createElement(t,{...c,children:h})}}function tie(n,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...jN(r)?Zre:$re,preloadedFeatures:n,useRender:eie(i),createVisualElement:e,Component:r};return Tre(o)}}function a7(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}function NA(n,e,t){const r=n.getProps();return ZN(r,e,t!==void 0?t:r.custom,n)}const nie=GN(()=>window.ScrollTimeline!==void 0);class rie{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=t}attachTimeline(e,t){const r=this.animations.map(i=>{if(nie()&&i.attachTimeline)return i.attachTimeline(e);if(typeof t=="function")return t(i)});return()=>{r.forEach((i,a)=>{i&&i(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class iie extends rie{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function nO(n,e){return n?n[e]||n.default||n:void 0}const I2=2e4;function o7(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<I2;)e+=t,r=n.next(e);return e>=I2?1/0:e}function rO(n){return typeof n=="function"}function Xz(n,e){n.timeline=e,n.onfinish=null}const iO=n=>Array.isArray(n)&&typeof n[0]=="number",aie={linearEasing:void 0};function oie(n,e){const t=GN(n);return()=>{var r;return(r=aie[e])!==null&&r!==void 0?r:t()}}const yb=oie(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),s7=(n,e,t=10)=>{let r="";const i=Math.max(Math.round(e/t),2);for(let a=0;a<i;a++)r+=n(vy(0,i-1,a))+", ";return`linear(${r.substring(0,r.length-2)})`};function l7(n){return!!(typeof n=="function"&&yb()||!n||typeof n=="string"&&(n in N2||yb())||iO(n)||Array.isArray(n)&&n.every(l7))}const ix=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,N2={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ix([0,.65,.55,1]),circOut:ix([.55,0,1,.45]),backIn:ix([.31,.01,.66,-.59]),backOut:ix([.33,1.53,.69,.99])};function u7(n,e){if(n)return typeof n=="function"&&yb()?s7(n,e):iO(n)?ix(n):Array.isArray(n)?n.map(t=>u7(t,e)||N2.easeOut):N2[n]}const bl={x:!1,y:!1};function c7(){return bl.x||bl.y}function sie(n,e,t){var r;if(n instanceof Element)return[n];if(typeof n=="string"){let i=document;const a=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(n);return a?Array.from(a):[]}return Array.from(n)}function f7(n,e){const t=sie(n),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[t,i,()=>r.abort()]}function Yz(n){return e=>{e.pointerType==="touch"||c7()||n(e)}}function lie(n,e,t={}){const[r,i,a]=f7(n,t),o=Yz(s=>{const{target:l}=s,u=e(s);if(typeof u!="function"||!l)return;const c=Yz(f=>{u(f),l.removeEventListener("pointerleave",c)});l.addEventListener("pointerleave",c,i)});return r.forEach(s=>{s.addEventListener("pointerenter",o,i)}),a}const h7=(n,e)=>e?n===e?!0:h7(n,e.parentElement):!1,aO=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,uie=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function cie(n){return uie.has(n.tagName)||n.tabIndex!==-1}const ax=new WeakSet;function jz(n){return e=>{e.key==="Enter"&&n(e)}}function BE(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const fie=(n,e)=>{const t=n.currentTarget;if(!t)return;const r=jz(()=>{if(ax.has(t))return;BE(t,"down");const i=jz(()=>{BE(t,"up")}),a=()=>BE(t,"cancel");t.addEventListener("keyup",i,e),t.addEventListener("blur",a,e)});t.addEventListener("keydown",r,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",r),e)};function Zz(n){return aO(n)&&!c7()}function hie(n,e,t={}){const[r,i,a]=f7(n,t),o=s=>{const l=s.currentTarget;if(!Zz(s)||ax.has(l))return;ax.add(l);const u=e(s),c=(d,p)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),!(!Zz(d)||!ax.has(l))&&(ax.delete(l),typeof u=="function"&&u(d,{success:p}))},f=d=>{c(d,t.useGlobalTarget||h7(l,d.target))},h=d=>{c(d,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",h,i)};return r.forEach(s=>{!cie(s)&&s.getAttribute("tabindex")===null&&(s.tabIndex=0),(t.useGlobalTarget?window:s).addEventListener("pointerdown",o,i),s.addEventListener("focus",u=>fie(u,i),i)}),a}function die(n){return n==="x"||n==="y"?bl[n]?null:(bl[n]=!0,()=>{bl[n]=!1}):bl.x||bl.y?null:(bl.x=bl.y=!0,()=>{bl.x=bl.y=!1})}const d7=new Set(["width","height","top","left","right","bottom",...Fy]);let zT;function pie(){zT=void 0}const bu={now:()=>(zT===void 0&&bu.set(ga.isProcessing||ure.useManualTiming?ga.timestamp:performance.now()),zT),set:n=>{zT=n,queueMicrotask(pie)}};function oO(n,e){n.indexOf(e)===-1&&n.push(e)}function sO(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class lO{constructor(){this.subscriptions=[]}add(e){return oO(this.subscriptions,e),()=>sO(this.subscriptions,e)}notify(e,t,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,r);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function p7(n,e){return e?n*(1e3/e):0}const $z=30,vie=n=>!isNaN(parseFloat(n));class gie{constructor(e,t={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const a=bu.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=bu.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=vie(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new lO);const r=this.events[e].add(t);return e==="change"?()=>{r(),Ur.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=bu.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>$z)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,$z);return p7(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function eS(n,e){return new gie(n,e)}function mie(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,eS(t))}function yie(n,e){const t=NA(n,e);let{transitionEnd:r={},transition:i={},...a}=t||{};a={...a,...r};for(const o in a){const s=Dre(a[o]);mie(n,o,s)}}function _ie(n){return!!(Ba(n)&&n.add)}function O2(n,e){const t=n.getValue("willChange");if(_ie(t))return t.add(e)}function v7(n){return n.props[X9]}const g7=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,xie=1e-7,Sie=12;function wie(n,e,t,r,i){let a,o,s=0;do o=e+(t-e)/2,a=g7(o,r,i)-n,a>0?t=o:e=o;while(Math.abs(a)>xie&&++s<Sie);return o}function r1(n,e,t,r){if(n===e&&t===r)return ls;const i=a=>wie(a,0,1,n,t);return a=>a===0||a===1?a:g7(i(a),e,r)}const m7=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,y7=n=>e=>1-n(1-e),_7=r1(.33,1.53,.69,.99),uO=y7(_7),x7=m7(uO),S7=n=>(n*=2)<1?.5*uO(n):.5*(2-Math.pow(2,-10*(n-1))),cO=n=>1-Math.sin(Math.acos(n)),w7=y7(cO),M7=m7(cO),T7=n=>/^0[^.\s]+$/u.test(n);function Mie(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||T7(n):!0}const Mx=n=>Math.round(n*1e5)/1e5,fO=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Tie(n){return n==null}const bie=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,hO=(n,e)=>t=>!!(typeof t=="string"&&bie.test(t)&&t.startsWith(n)||e&&!Tie(t)&&Object.prototype.hasOwnProperty.call(t,e)),b7=(n,e,t)=>r=>{if(typeof r!="string")return r;const[i,a,o,s]=r.match(fO);return{[n]:parseFloat(i),[e]:parseFloat(a),[t]:parseFloat(o),alpha:s!==void 0?parseFloat(s):1}},Aie=n=>$c(0,255,n),UE={...zy,transform:n=>Math.round(Aie(n))},Up={test:hO("rgb","red"),parse:b7("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+UE.transform(n)+", "+UE.transform(e)+", "+UE.transform(t)+", "+Mx(Qx.transform(r))+")"};function Cie(n){let e="",t="",r="",i="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),i=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),i=n.substring(4,5),e+=e,t+=t,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const k2={test:hO("#"),parse:Cie,transform:Up.transform},Xm={test:hO("hsl","hue"),parse:b7("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+Tu.transform(Mx(e))+", "+Tu.transform(Mx(t))+", "+Mx(Qx.transform(r))+")"},Oa={test:n=>Up.test(n)||k2.test(n)||Xm.test(n),parse:n=>Up.test(n)?Up.parse(n):Xm.test(n)?Xm.parse(n):k2.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Up.transform(n):Xm.transform(n)},Eie=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Pie(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(fO))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(Eie))===null||t===void 0?void 0:t.length)||0)>0}const A7="number",C7="color",Die="var",Rie="var(",qz="${}",Lie=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function tS(n){const e=n.toString(),t=[],r={color:[],number:[],var:[]},i=[];let a=0;const s=e.replace(Lie,l=>(Oa.test(l)?(r.color.push(a),i.push(C7),t.push(Oa.parse(l))):l.startsWith(Rie)?(r.var.push(a),i.push(Die),t.push(l)):(r.number.push(a),i.push(A7),t.push(parseFloat(l))),++a,qz)).split(qz);return{values:t,split:s,indexes:r,types:i}}function E7(n){return tS(n).values}function P7(n){const{split:e,types:t}=tS(n),r=e.length;return i=>{let a="";for(let o=0;o<r;o++)if(a+=e[o],i[o]!==void 0){const s=t[o];s===A7?a+=Mx(i[o]):s===C7?a+=Oa.transform(i[o]):a+=i[o]}return a}}const Iie=n=>typeof n=="number"?0:n;function Nie(n){const e=E7(n);return P7(n)(e.map(Iie))}const Rh={test:Pie,parse:E7,createTransformer:P7,getAnimatableNone:Nie},Oie=new Set(["brightness","contrast","saturate","opacity"]);function kie(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(fO)||[];if(!r)return n;const i=t.replace(r,"");let a=Oie.has(e)?1:0;return r!==t&&(a*=100),e+"("+a+i+")"}const Fie=/\b([a-z-]*)\(.*?\)/gu,F2={...Rh,getAnimatableNone:n=>{const e=n.match(Fie);return e?e.map(kie).join(" "):n}},zie={...qN,color:Oa,backgroundColor:Oa,outlineColor:Oa,fill:Oa,stroke:Oa,borderColor:Oa,borderTopColor:Oa,borderRightColor:Oa,borderBottomColor:Oa,borderLeftColor:Oa,filter:F2,WebkitFilter:F2},dO=n=>zie[n];function D7(n,e){let t=dO(n);return t!==F2&&(t=Rh),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const Bie=new Set(["auto","none","0"]);function Uie(n,e,t){let r=0,i;for(;r<n.length&&!i;){const a=n[r];typeof a=="string"&&!Bie.has(a)&&tS(a).values.length&&(i=n[r]),r++}if(i&&t)for(const a of e)n[a]=D7(t,i)}const Kz=n=>n===zy||n===_n,Jz=(n,e)=>parseFloat(n.split(", ")[e]),Qz=(n,e)=>(t,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return Jz(i[1],e);{const a=r.match(/^matrix\((.+)\)$/u);return a?Jz(a[1],n):0}},Vie=new Set(["x","y","z"]),Gie=Fy.filter(n=>!Vie.has(n));function Hie(n){const e=[];return Gie.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e}const my={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:Qz(4,13),y:Qz(5,14)};my.translateX=my.x;my.translateY=my.y;const tv=new Set;let z2=!1,B2=!1;function R7(){if(B2){const n=Array.from(tv).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),t=new Map;e.forEach(r=>{const i=Hie(r);i.length&&(t.set(r,i),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=t.get(r);i&&i.forEach(([a,o])=>{var s;(s=r.getValue(a))===null||s===void 0||s.set(o)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}B2=!1,z2=!1,tv.forEach(n=>n.complete()),tv.clear()}function L7(){tv.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(B2=!0)})}function Wie(){L7(),R7()}class pO{constructor(e,t,r,i,a,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=i,this.element=a,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(tv.add(this),z2||(z2=!0,Ur.read(L7),Ur.resolveKeyframes(R7))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:r,motionValue:i}=this;for(let a=0;a<e.length;a++)if(e[a]===null)if(a===0){const o=i?.get(),s=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&t){const l=r.readValue(t,s);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=s),i&&o===void 0&&i.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),tv.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,tv.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const I7=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),Xie=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Yie(n){const e=Xie.exec(n);if(!e)return[,];const[,t,r,i]=e;return[`--${t??r}`,i]}function N7(n,e,t=1){const[r,i]=Yie(n);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const o=a.trim();return I7(o)?parseFloat(o):o}return $N(i)?N7(i,e,t+1):i}const O7=n=>e=>e.test(n),jie={test:n=>n==="auto",parse:n=>n},k7=[zy,_n,Tu,lh,kre,Ore,jie],eB=n=>k7.find(O7(n));class F7 extends pO{constructor(e,t,r,i,a){super(e,t,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),$N(u))){const c=N7(u,t.current);c!==void 0&&(e[l]=c),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!d7.has(r)||e.length!==2)return;const[i,a]=e,o=eB(i),s=eB(a);if(o!==s)if(Kz(o)&&Kz(s))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,r=[];for(let i=0;i<e.length;i++)Mie(e[i])&&r.push(i);r.length&&Uie(e,r,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=my[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const i=t[t.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:t,name:r,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const a=t.getValue(r);a&&a.jump(this.measuredOrigin,!1);const o=i.length-1,s=i[o];i[o]=my[r](t.measureViewportBox(),window.getComputedStyle(t.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,u])=>{t.getValue(l).set(u)}),this.resolveNoneKeyframes()}}const tB=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Rh.test(n)||n==="0")&&!n.startsWith("url("));function Zie(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function $ie(n,e,t,r){const i=n[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=n[n.length-1],o=tB(i,e),s=tB(a,e);return!o||!s?!1:Zie(n)||(t==="spring"||rO(t))&&r}const qie=n=>n!==null;function OA(n,{repeat:e,repeatType:t="loop"},r){const i=n.filter(qie),a=e&&t!=="loop"&&e%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const Kie=40;class z7{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:o="loop",...s}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=bu.now(),this.options={autoplay:e,delay:t,type:r,repeat:i,repeatDelay:a,repeatType:o,...s},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Kie?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Wie(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=bu.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:a,delay:o,onComplete:s,onUpdate:l,isGenerator:u}=this.options;if(!u&&!$ie(e,r,i,a))if(o)this.options.duration=0;else{l&&l(OA(e,this.options,t)),s&&s(),this.resolveFinishedPromise();return}const c=this.initPlayback(e,t);c!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...c},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Jr=(n,e,t)=>n+(e-n)*t;function VE(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function Jie({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let i=0,a=0,o=0;if(!e)i=a=o=t;else{const s=t<.5?t*(1+e):t+e-t*e,l=2*t-s;i=VE(l,s,n+1/3),a=VE(l,s,n),o=VE(l,s,n-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:r}}function _b(n,e){return t=>t>0?e:n}const GE=(n,e,t)=>{const r=n*n,i=t*(e*e-r)+r;return i<0?0:Math.sqrt(i)},Qie=[k2,Up,Xm],eae=n=>Qie.find(e=>e.test(n));function nB(n){const e=eae(n);if(!e)return!1;let t=e.parse(n);return e===Xm&&(t=Jie(t)),t}const rB=(n,e)=>{const t=nB(n),r=nB(e);if(!t||!r)return _b(n,e);const i={...t};return a=>(i.red=GE(t.red,r.red,a),i.green=GE(t.green,r.green,a),i.blue=GE(t.blue,r.blue,a),i.alpha=Jr(t.alpha,r.alpha,a),Up.transform(i))},tae=(n,e)=>t=>e(n(t)),i1=(...n)=>n.reduce(tae),U2=new Set(["none","hidden"]);function nae(n,e){return U2.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function rae(n,e){return t=>Jr(n,e,t)}function vO(n){return typeof n=="number"?rae:typeof n=="string"?$N(n)?_b:Oa.test(n)?rB:oae:Array.isArray(n)?B7:typeof n=="object"?Oa.test(n)?rB:iae:_b}function B7(n,e){const t=[...n],r=t.length,i=n.map((a,o)=>vO(a)(a,e[o]));return a=>{for(let o=0;o<r;o++)t[o]=i[o](a);return t}}function iae(n,e){const t={...n,...e},r={};for(const i in t)n[i]!==void 0&&e[i]!==void 0&&(r[i]=vO(n[i])(n[i],e[i]));return i=>{for(const a in r)t[a]=r[a](i);return t}}function aae(n,e){var t;const r=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const o=e.types[a],s=n.indexes[o][i[o]],l=(t=n.values[s])!==null&&t!==void 0?t:0;r[a]=l,i[o]++}return r}const oae=(n,e)=>{const t=Rh.createTransformer(e),r=tS(n),i=tS(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?U2.has(n)&&!i.values.length||U2.has(e)&&!r.values.length?nae(n,e):i1(B7(aae(r,i),i.values),t):_b(n,e)};function U7(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?Jr(n,e,t):vO(n)(n,e)}const sae=5;function V7(n,e,t){const r=Math.max(e-sae,0);return p7(t-n(r),e-r)}const si={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},HE=.001;function lae({duration:n=si.duration,bounce:e=si.bounce,velocity:t=si.velocity,mass:r=si.mass}){let i,a,o=1-e;o=$c(si.minDamping,si.maxDamping,o),n=$c(si.minDuration,si.maxDuration,Wc(n)),o<1?(i=u=>{const c=u*o,f=c*n,h=c-t,d=V2(u,o),p=Math.exp(-f);return HE-h/d*p},a=u=>{const f=u*o*n,h=f*t+t,d=Math.pow(o,2)*Math.pow(u,2)*n,p=Math.exp(-f),g=V2(Math.pow(u,2),o);return(-i(u)+HE>0?-1:1)*((h-d)*p)/g}):(i=u=>{const c=Math.exp(-u*n),f=(u-t)*n+1;return-HE+c*f},a=u=>{const c=Math.exp(-u*n),f=(t-u)*(n*n);return c*f});const s=5/n,l=cae(i,a,s);if(n=Hc(n),isNaN(l))return{stiffness:si.stiffness,damping:si.damping,duration:n};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:n}}}const uae=12;function cae(n,e,t){let r=t;for(let i=1;i<uae;i++)r=r-n(r)/e(r);return r}function V2(n,e){return n*Math.sqrt(1-e*e)}const fae=["duration","bounce"],hae=["stiffness","damping","mass"];function iB(n,e){return e.some(t=>n[t]!==void 0)}function dae(n){let e={velocity:si.velocity,stiffness:si.stiffness,damping:si.damping,mass:si.mass,isResolvedFromDuration:!1,...n};if(!iB(n,hae)&&iB(n,fae))if(n.visualDuration){const t=n.visualDuration,r=2*Math.PI/(t*1.2),i=r*r,a=2*$c(.05,1,1-(n.bounce||0))*Math.sqrt(i);e={...e,mass:si.mass,stiffness:i,damping:a}}else{const t=lae(n);e={...e,...t,mass:si.mass},e.isResolvedFromDuration=!0}return e}function G7(n=si.visualDuration,e=si.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:r,restDelta:i}=t;const a=t.keyframes[0],o=t.keyframes[t.keyframes.length-1],s={done:!1,value:a},{stiffness:l,damping:u,mass:c,duration:f,velocity:h,isResolvedFromDuration:d}=dae({...t,velocity:-Wc(t.velocity||0)}),p=h||0,g=u/(2*Math.sqrt(l*c)),m=o-a,y=Wc(Math.sqrt(l/c)),S=Math.abs(m)<5;r||(r=S?si.restSpeed.granular:si.restSpeed.default),i||(i=S?si.restDelta.granular:si.restDelta.default);let M;if(g<1){const C=V2(y,g);M=A=>{const E=Math.exp(-g*y*A);return o-E*((p+g*y*m)/C*Math.sin(C*A)+m*Math.cos(C*A))}}else if(g===1)M=C=>o-Math.exp(-y*C)*(m+(p+y*m)*C);else{const C=y*Math.sqrt(g*g-1);M=A=>{const E=Math.exp(-g*y*A),I=Math.min(C*A,300);return o-E*((p+g*y*m)*Math.sinh(I)+C*m*Math.cosh(I))/C}}const b={calculatedDuration:d&&f||null,next:C=>{const A=M(C);if(d)s.done=C>=f;else{let E=0;g<1&&(E=C===0?Hc(p):V7(M,C,A));const I=Math.abs(E)<=r,L=Math.abs(o-A)<=i;s.done=I&&L}return s.value=s.done?o:A,s},toString:()=>{const C=Math.min(o7(b),I2),A=s7(E=>b.next(C*E).value,C,30);return C+"ms "+A}};return b}function aB({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:s,max:l,restDelta:u=.5,restSpeed:c}){const f=n[0],h={done:!1,value:f},d=I=>s!==void 0&&I<s||l!==void 0&&I>l,p=I=>s===void 0?l:l===void 0||Math.abs(s-I)<Math.abs(l-I)?s:l;let g=t*e;const m=f+g,y=o===void 0?m:o(m);y!==m&&(g=y-f);const S=I=>-g*Math.exp(-I/r),M=I=>y+S(I),b=I=>{const L=S(I),R=M(I);h.done=Math.abs(L)<=u,h.value=h.done?y:R};let C,A;const E=I=>{d(h.value)&&(C=I,A=G7({keyframes:[h.value,p(h.value)],velocity:V7(M,I,h.value),damping:i,stiffness:a,restDelta:u,restSpeed:c}))};return E(0),{calculatedDuration:null,next:I=>{let L=!1;return!A&&C===void 0&&(L=!0,b(I),E(I)),C!==void 0&&I>=C?A.next(I-C):(!L&&b(I),h)}}}const pae=r1(.42,0,1,1),vae=r1(0,0,.58,1),H7=r1(.42,0,.58,1),gae=n=>Array.isArray(n)&&typeof n[0]!="number",mae={linear:ls,easeIn:pae,easeInOut:H7,easeOut:vae,circIn:cO,circInOut:M7,circOut:w7,backIn:uO,backInOut:x7,backOut:_7,anticipate:S7},oB=n=>{if(iO(n)){U9(n.length===4);const[e,t,r,i]=n;return r1(e,t,r,i)}else if(typeof n=="string")return mae[n];return n};function yae(n,e,t){const r=[],i=t||U7,a=n.length-1;for(let o=0;o<a;o++){let s=i(n[o],n[o+1]);if(e){const l=Array.isArray(e)?e[o]||ls:e;s=i1(l,s)}r.push(s)}return r}function _ae(n,e,{clamp:t=!0,ease:r,mixer:i}={}){const a=n.length;if(U9(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const o=n[0]===n[1];n[0]>n[a-1]&&(n=[...n].reverse(),e=[...e].reverse());const s=yae(e,r,i),l=s.length,u=c=>{if(o&&c<n[0])return e[0];let f=0;if(l>1)for(;f<n.length-2&&!(c<n[f+1]);f++);const h=vy(n[f],n[f+1],c);return s[f](h)};return t?c=>u($c(n[0],n[a-1],c)):u}function xae(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const i=vy(0,e,r);n.push(Jr(t,1,i))}}function Sae(n){const e=[0];return xae(e,n.length-1),e}function wae(n,e){return n.map(t=>t*e)}function Mae(n,e){return n.map(()=>e||H7).splice(0,n.length-1)}function xb({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const i=gae(r)?r.map(oB):oB(r),a={done:!1,value:e[0]},o=wae(t&&t.length===e.length?t:Sae(e),n),s=_ae(o,e,{ease:Array.isArray(i)?i:Mae(e,i)});return{calculatedDuration:n,next:l=>(a.value=s(l),a.done=l>=n,a)}}const Tae=n=>{const e=({timestamp:t})=>n(t);return{start:()=>Ur.update(e,!0),stop:()=>Dh(e),now:()=>ga.isProcessing?ga.timestamp:bu.now()}},bae={decay:aB,inertia:aB,tween:xb,keyframes:xb,spring:G7},Aae=n=>n/100;class gO extends z7{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:t,motionValue:r,element:i,keyframes:a}=this.options,o=i?.KeyframeResolver||pO,s=(l,u)=>this.onKeyframesResolved(l,u);this.resolver=new o(a,s,t,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:o=0}=this.options,s=rO(t)?t:bae[t]||xb;let l,u;s!==xb&&typeof e[0]!="number"&&(l=i1(Aae,U7(e[0],e[1])),e=[0,100]);const c=s({...this.options,keyframes:e});a==="mirror"&&(u=s({...this.options,keyframes:[...e].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=o7(c));const{calculatedDuration:f}=c,h=f+i,d=h*(r+1)-i;return{generator:c,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:f,resolvedDuration:h,totalDuration:d}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:r}=this;if(!r){const{keyframes:I}=this.options;return{done:!0,value:I[I.length-1]}}const{finalKeyframe:i,generator:a,mirroredGenerator:o,mapPercentToKeyframes:s,keyframes:l,calculatedDuration:u,totalDuration:c,resolvedDuration:f}=r;if(this.startTime===null)return a.next(0);const{delay:h,repeat:d,repeatType:p,repeatDelay:g,onUpdate:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-c/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const y=this.currentTime-h*(this.speed>=0?1:-1),S=this.speed>=0?y<0:y>c;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=c);let M=this.currentTime,b=a;if(d){const I=Math.min(this.currentTime,c)/f;let L=Math.floor(I),R=I%1;!R&&I>=1&&(R=1),R===1&&L--,L=Math.min(L,d+1),!!(L%2)&&(p==="reverse"?(R=1-R,g&&(R-=g/f)):p==="mirror"&&(b=o)),M=$c(0,1,R)*f}const C=S?{done:!1,value:l[0]}:b.next(M);s&&(C.value=s(C.value));let{done:A}=C;!S&&u!==null&&(A=this.speed>=0?this.currentTime>=c:this.currentTime<=0);const E=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&A);return E&&i!==void 0&&(C.value=OA(l,this.options,i)),m&&m(C.value),E&&this.finish(),C}get duration(){const{resolved:e}=this;return e?Wc(e.calculatedDuration):0}get time(){return Wc(this.currentTime)}set time(e){e=Hc(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Wc(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=Tae,onPlay:t,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),t&&t();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const Cae=new Set(["opacity","clipPath","filter","transform"]);function Eae(n,e,t,{delay:r=0,duration:i=300,repeat:a=0,repeatType:o="loop",ease:s="easeInOut",times:l}={}){const u={[e]:t};l&&(u.offset=l);const c=u7(s,i);return Array.isArray(c)&&(u.easing=c),n.animate(u,{delay:r,duration:i,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"})}const Pae=GN(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Sb=10,Dae=2e4;function Rae(n){return rO(n.type)||n.type==="spring"||!l7(n.ease)}function Lae(n,e){const t=new gO({...e,keyframes:n,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:n[0]};const i=[];let a=0;for(;!r.done&&a<Dae;)r=t.sample(a),i.push(r.value),a+=Sb;return{times:void 0,keyframes:i,duration:a-Sb,ease:"linear"}}const W7={anticipate:S7,backInOut:x7,circInOut:M7};function Iae(n){return n in W7}class sB extends z7{constructor(e){super(e);const{name:t,motionValue:r,element:i,keyframes:a}=this.options;this.resolver=new F7(a,(o,s)=>this.onKeyframesResolved(o,s),t,r,i),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:r=300,times:i,ease:a,type:o,motionValue:s,name:l,startTime:u}=this.options;if(!s.owner||!s.owner.current)return!1;if(typeof a=="string"&&yb()&&Iae(a)&&(a=W7[a]),Rae(this.options)){const{onComplete:f,onUpdate:h,motionValue:d,element:p,...g}=this.options,m=Lae(e,g);e=m.keyframes,e.length===1&&(e[1]=e[0]),r=m.duration,i=m.times,a=m.ease,o="keyframes"}const c=Eae(s.owner.current,l,e,{...this.options,duration:r,times:i,ease:a});return c.startTime=u??this.calcStartTime(),this.pendingTimeline?(Xz(c,this.pendingTimeline),this.pendingTimeline=void 0):c.onfinish=()=>{const{onComplete:f}=this.options;s.set(OA(e,this.options,t)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:c,duration:r,times:i,type:o,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return Wc(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return Wc(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.currentTime=Hc(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return ls;const{animation:r}=t;Xz(r,e)}return ls}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:r,duration:i,type:a,ease:o,times:s}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:c,onComplete:f,element:h,...d}=this.options,p=new gO({...d,keyframes:r,duration:i,type:a,ease:o,times:s,isGenerator:!0}),g=Hc(this.time);u.setWithVelocity(p.sample(g-Sb).value,p.sample(g).value,Sb)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:r,repeatDelay:i,repeatType:a,damping:o,type:s}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=t.owner.getProps();return Pae()&&r&&Cae.has(r)&&!l&&!u&&!i&&a!=="mirror"&&o!==0&&s!=="inertia"}}const Nae={type:"spring",stiffness:500,damping:25,restSpeed:10},Oae=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),kae={type:"keyframes",duration:.8},Fae={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},zae=(n,{keyframes:e})=>e.length>2?kae:Rv.has(n)?n.startsWith("scale")?Oae(e[1]):Nae:Fae;function Bae({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:s,from:l,elapsed:u,...c}){return!!Object.keys(c).length}const mO=(n,e,t,r={},i,a)=>o=>{const s=nO(r,n)||{},l=s.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Hc(l);let c={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...s,delay:-u,onUpdate:h=>{e.set(h),s.onUpdate&&s.onUpdate(h)},onComplete:()=>{o(),s.onComplete&&s.onComplete()},name:n,motionValue:e,element:a?void 0:i};Bae(s)||(c={...c,...zae(n,c)}),c.duration&&(c.duration=Hc(c.duration)),c.repeatDelay&&(c.repeatDelay=Hc(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let f=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(c.duration=0,c.delay===0&&(f=!0)),f&&!a&&e.get()!==void 0){const h=OA(c.keyframes,s);if(h!==void 0)return Ur.update(()=>{c.onUpdate(h),c.onComplete()}),new iie([])}return!a&&sB.supports(c)?new sB(c):new gO(c)};function Uae({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function X7(n,e,{delay:t=0,transitionOverride:r,type:i}={}){var a;let{transition:o=n.getDefaultTransition(),transitionEnd:s,...l}=e;r&&(o=r);const u=[],c=i&&n.animationState&&n.animationState.getState()[i];for(const f in l){const h=n.getValue(f,(a=n.latestValues[f])!==null&&a!==void 0?a:null),d=l[f];if(d===void 0||c&&Uae(c,f))continue;const p={delay:t,...nO(o||{},f)};let g=!1;if(window.MotionHandoffAnimation){const y=v7(n);if(y){const S=window.MotionHandoffAnimation(y,f,Ur);S!==null&&(p.startTime=S,g=!0)}}O2(n,f),h.start(mO(f,h,d,n.shouldReduceMotion&&d7.has(f)?{type:!1}:p,n,g));const m=h.animation;m&&u.push(m)}return s&&Promise.all(u).then(()=>{Ur.update(()=>{s&&yie(n,s)})}),u}function G2(n,e,t={}){var r;const i=NA(n,e,t.type==="exit"?(r=n.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:a=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(a=t.transitionOverride);const o=i?()=>Promise.all(X7(n,i,t)):()=>Promise.resolve(),s=n.variantChildren&&n.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:f,staggerDirection:h}=a;return Vae(n,e,c+u,f,h,t)}:()=>Promise.resolve(),{when:l}=a;if(l){const[u,c]=l==="beforeChildren"?[o,s]:[s,o];return u().then(()=>c())}else return Promise.all([o(),s(t.delay)])}function Vae(n,e,t=0,r=0,i=1,a){const o=[],s=(n.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>s-u*r;return Array.from(n.variantChildren).sort(Gae).forEach((u,c)=>{u.notify("AnimationStart",e),o.push(G2(u,e,{...a,delay:t+l(c)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function Gae(n,e){return n.sortNodePosition(e)}function Hae(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(a=>G2(n,a,t));r=Promise.all(i)}else if(typeof e=="string")r=G2(n,e,t);else{const i=typeof e=="function"?NA(n,e,t.custom):e;r=Promise.all(X7(n,i,t))}return r.then(()=>{n.notify("AnimationComplete",e)})}const Wae=WN.length;function Y7(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?Y7(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<Wae;t++){const r=WN[t],i=n.props[r];(Jx(i)||i===!1)&&(e[r]=i)}return e}const Xae=[...HN].reverse(),Yae=HN.length;function jae(n){return e=>Promise.all(e.map(({animation:t,options:r})=>Hae(n,t,r)))}function Zae(n){let e=jae(n),t=lB(),r=!0;const i=l=>(u,c)=>{var f;const h=NA(n,c,l==="exit"?(f=n.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(h){const{transition:d,transitionEnd:p,...g}=h;u={...u,...g,...p}}return u};function a(l){e=l(n)}function o(l){const{props:u}=n,c=Y7(n.parent)||{},f=[],h=new Set;let d={},p=1/0;for(let m=0;m<Yae;m++){const y=Xae[m],S=t[y],M=u[y]!==void 0?u[y]:c[y],b=Jx(M),C=y===l?S.isActive:null;C===!1&&(p=m);let A=M===c[y]&&M!==u[y]&&b;if(A&&r&&n.manuallyAnimateOnMount&&(A=!1),S.protectedKeys={...d},!S.isActive&&C===null||!M&&!S.prevProp||LA(M)||typeof M=="boolean")continue;const E=$ae(S.prevProp,M);let I=E||y===l&&S.isActive&&!A&&b||m>p&&b,L=!1;const R=Array.isArray(M)?M:[M];let O=R.reduce(i(y),{});C===!1&&(O={});const{prevResolvedValues:U={}}=S,V={...U,...O},W=Q=>{I=!0,h.has(Q)&&(L=!0,h.delete(Q)),S.needsAnimating[Q]=!0;const B=n.getValue(Q);B&&(B.liveStyle=!1)};for(const Q in V){const B=O[Q],Z=U[Q];if(d.hasOwnProperty(Q))continue;let q=!1;L2(B)&&L2(Z)?q=!a7(B,Z):q=B!==Z,q?B!=null?W(Q):h.add(Q):B!==void 0&&h.has(Q)?W(Q):S.protectedKeys[Q]=!0}S.prevProp=M,S.prevResolvedValues=O,S.isActive&&(d={...d,...O}),r&&n.blockInitialAnimation&&(I=!1),I&&(!(A&&E)||L)&&f.push(...R.map(Q=>({animation:Q,options:{type:y}})))}if(h.size){const m={};h.forEach(y=>{const S=n.getBaseTarget(y),M=n.getValue(y);M&&(M.liveStyle=!0),m[y]=S??null}),f.push({animation:m})}let g=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!n.manuallyAnimateOnMount&&(g=!1),r=!1,g?e(f):Promise.resolve()}function s(l,u){var c;if(t[l].isActive===u)return Promise.resolve();(c=n.variantChildren)===null||c===void 0||c.forEach(h=>{var d;return(d=h.animationState)===null||d===void 0?void 0:d.setActive(l,u)}),t[l].isActive=u;const f=o(l);for(const h in t)t[h].protectedKeys={};return f}return{animateChanges:o,setActive:s,setAnimateFunction:a,getState:()=>t,reset:()=>{t=lB(),r=!0}}}function $ae(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!a7(e,n):!1}function Fd(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function lB(){return{animate:Fd(!0),whileInView:Fd(),whileHover:Fd(),whileTap:Fd(),whileDrag:Fd(),whileFocus:Fd(),exit:Fd()}}class Vh{constructor(e){this.isMounted=!1,this.node=e}update(){}}class qae extends Vh{constructor(e){super(e),e.animationState||(e.animationState=Zae(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();LA(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let Kae=0;class Jae extends Vh{constructor(){super(...arguments),this.id=Kae++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);t&&!e&&i.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const Qae={animation:{Feature:qae},exit:{Feature:Jae}};function nS(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}function a1(n){return{point:{x:n.pageX,y:n.pageY}}}const eoe=n=>e=>aO(e)&&n(e,a1(e));function Tx(n,e,t,r){return nS(n,e,eoe(t),r)}const uB=(n,e)=>Math.abs(n-e);function toe(n,e){const t=uB(n.x,e.x),r=uB(n.y,e.y);return Math.sqrt(t**2+r**2)}class j7{constructor(e,t,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=XE(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,d=toe(f.offset,{x:0,y:0})>=3;if(!h&&!d)return;const{point:p}=f,{timestamp:g}=ga;this.history.push({...p,timestamp:g});const{onStart:m,onMove:y}=this.handlers;h||(m&&m(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=WE(h,this.transformPagePoint),Ur.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:d,onSessionEnd:p,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=XE(f.type==="pointercancel"?this.lastMoveEventInfo:WE(h,this.transformPagePoint),this.history);this.startEvent&&d&&d(f,m),p&&p(f,m)},!aO(e))return;this.dragSnapToOrigin=a,this.handlers=t,this.transformPagePoint=r,this.contextWindow=i||window;const o=a1(e),s=WE(o,this.transformPagePoint),{point:l}=s,{timestamp:u}=ga;this.history=[{...l,timestamp:u}];const{onSessionStart:c}=t;c&&c(e,XE(s,this.history)),this.removeListeners=i1(Tx(this.contextWindow,"pointermove",this.handlePointerMove),Tx(this.contextWindow,"pointerup",this.handlePointerUp),Tx(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Dh(this.updatePoint)}}function WE(n,e){return e?{point:e(n.point)}:n}function cB(n,e){return{x:n.x-e.x,y:n.y-e.y}}function XE({point:n},e){return{point:n,delta:cB(n,Z7(e)),offset:cB(n,noe(e)),velocity:roe(e,.1)}}function noe(n){return n[0]}function Z7(n){return n[n.length-1]}function roe(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const i=Z7(n);for(;t>=0&&(r=n[t],!(i.timestamp-r.timestamp>Hc(e)));)t--;if(!r)return{x:0,y:0};const a=Wc(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const $7=1e-4,ioe=1-$7,aoe=1+$7,q7=.01,ooe=0-q7,soe=0+q7;function fs(n){return n.max-n.min}function loe(n,e,t){return Math.abs(n-e)<=t}function fB(n,e,t,r=.5){n.origin=r,n.originPoint=Jr(e.min,e.max,n.origin),n.scale=fs(t)/fs(e),n.translate=Jr(t.min,t.max,n.origin)-n.originPoint,(n.scale>=ioe&&n.scale<=aoe||isNaN(n.scale))&&(n.scale=1),(n.translate>=ooe&&n.translate<=soe||isNaN(n.translate))&&(n.translate=0)}function bx(n,e,t,r){fB(n.x,e.x,t.x,r?r.originX:void 0),fB(n.y,e.y,t.y,r?r.originY:void 0)}function hB(n,e,t){n.min=t.min+e.min,n.max=n.min+fs(e)}function uoe(n,e,t){hB(n.x,e.x,t.x),hB(n.y,e.y,t.y)}function dB(n,e,t){n.min=e.min-t.min,n.max=n.min+fs(e)}function Ax(n,e,t){dB(n.x,e.x,t.x),dB(n.y,e.y,t.y)}function coe(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?Jr(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?Jr(t,n,r.max):Math.min(n,t)),n}function pB(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function foe(n,{top:e,left:t,bottom:r,right:i}){return{x:pB(n.x,t,i),y:pB(n.y,e,r)}}function vB(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function hoe(n,e){return{x:vB(n.x,e.x),y:vB(n.y,e.y)}}function doe(n,e){let t=.5;const r=fs(n),i=fs(e);return i>r?t=vy(e.min,e.max-r,n.min):r>i&&(t=vy(n.min,n.max-i,e.min)),$c(0,1,t)}function poe(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const H2=.35;function voe(n=H2){return n===!1?n=0:n===!0&&(n=H2),{x:gB(n,"left","right"),y:gB(n,"top","bottom")}}function gB(n,e,t){return{min:mB(n,e),max:mB(n,t)}}function mB(n,e){return typeof n=="number"?n:n[e]||0}const yB=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ym=()=>({x:yB(),y:yB()}),_B=()=>({min:0,max:0}),vi=()=>({x:_B(),y:_B()});function Rs(n){return[n("x"),n("y")]}function K7({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function goe({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function moe(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function YE(n){return n===void 0||n===1}function W2({scale:n,scaleX:e,scaleY:t}){return!YE(n)||!YE(e)||!YE(t)}function xp(n){return W2(n)||J7(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function J7(n){return xB(n.x)||xB(n.y)}function xB(n){return n&&n!=="0%"}function wb(n,e,t){const r=n-t,i=e*r;return t+i}function SB(n,e,t,r,i){return i!==void 0&&(n=wb(n,i,r)),wb(n,t,r)+e}function X2(n,e=0,t=1,r,i){n.min=SB(n.min,e,t,r,i),n.max=SB(n.max,e,t,r,i)}function Q7(n,{x:e,y:t}){X2(n.x,e.translate,e.scale,e.originPoint),X2(n.y,t.translate,t.scale,t.originPoint)}const wB=.999999999999,MB=1.0000000000001;function yoe(n,e,t,r=!1){const i=t.length;if(!i)return;e.x=e.y=1;let a,o;for(let s=0;s<i;s++){a=t[s],o=a.projectionDelta;const{visualElement:l}=a.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Zm(n,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,Q7(n,o)),r&&xp(a.latestValues)&&Zm(n,a.latestValues))}e.x<MB&&e.x>wB&&(e.x=1),e.y<MB&&e.y>wB&&(e.y=1)}function jm(n,e){n.min=n.min+e,n.max=n.max+e}function TB(n,e,t,r,i=.5){const a=Jr(n.min,n.max,i);X2(n,e,t,a,r)}function Zm(n,e){TB(n.x,e.x,e.scaleX,e.scale,e.originX),TB(n.y,e.y,e.scaleY,e.scale,e.originY)}function eX(n,e){return K7(moe(n.getBoundingClientRect(),e))}function _oe(n,e,t){const r=eX(n,t),{scroll:i}=e;return i&&(jm(r.x,i.offset.x),jm(r.y,i.offset.y)),r}const tX=({current:n})=>n?n.ownerDocument.defaultView:null,xoe=new WeakMap;class Soe{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=vi(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=c=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(a1(c).point)},a=(c,f)=>{const{drag:h,dragPropagation:d,onDragStart:p}=this.getProps();if(h&&!d&&(this.openDragLock&&this.openDragLock(),this.openDragLock=die(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Rs(m=>{let y=this.getAxisMotionValue(m).get()||0;if(Tu.test(y)){const{projection:S}=this.visualElement;if(S&&S.layout){const M=S.layout.layoutBox[m];M&&(y=fs(M)*(parseFloat(y)/100))}}this.originPoint[m]=y}),p&&Ur.postRender(()=>p(c,f)),O2(this.visualElement,"transform");const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},o=(c,f)=>{const{dragPropagation:h,dragDirectionLock:d,onDirectionLock:p,onDrag:g}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:m}=f;if(d&&this.currentDirection===null){this.currentDirection=woe(m),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",f.point,m),this.updateAxis("y",f.point,m),this.visualElement.render(),g&&g(c,f)},s=(c,f)=>this.stop(c,f),l=()=>Rs(c=>{var f;return this.getAnimationState(c)==="paused"&&((f=this.getAxisMotionValue(c).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new j7(e,{onSessionStart:i,onStart:a,onMove:o,onSessionEnd:s,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:tX(this.visualElement)})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=t;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&Ur.postRender(()=>a(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:i}=this.getProps();if(!r||!zw(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=coe(o,this.constraints[e],this.elastic[e])),a.set(o)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;t&&Wm(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=foe(i.layoutBox,t):this.constraints=!1,this.elastic=voe(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Rs(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=poe(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Wm(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=_oe(r,i.root,this.visualElement.getTransformPagePoint());let o=hoe(i.layout.layoutBox,a);if(t){const s=t(goe(o));this.hasMutatedConstraints=!!s,s&&(o=K7(s))}return o}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:s}=this.getProps(),l=this.constraints||{},u=Rs(c=>{if(!zw(c,t,this.currentDirection))return;let f=l&&l[c]||{};o&&(f={min:0,max:0});const h=i?200:1e6,d=i?40:1e7,p={type:"inertia",velocity:r?e[c]:0,bounceStiffness:h,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(c,p)});return Promise.all(u).then(s)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return O2(this.visualElement,e),r.start(mO(e,r,0,t,this.visualElement,!1))}stopAnimation(){Rs(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Rs(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[t];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Rs(t=>{const{drag:r}=this.getProps();if(!zw(t,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(t);if(i&&i.layout){const{min:o,max:s}=i.layout.layoutBox[t];a.set(e[t]-Jr(o,s,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!Wm(t)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Rs(o=>{const s=this.getAxisMotionValue(o);if(s&&this.constraints!==!1){const l=s.get();i[o]=doe({min:l,max:l},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Rs(o=>{if(!zw(o,e,null))return;const s=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];s.set(Jr(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;xoe.set(this.visualElement,this);const e=this.visualElement.current,t=Tx(e,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Wm(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Ur.read(r);const o=nS(window,"resize",()=>this.scalePositionWithinConstraints()),s=i.addEventListener("didUpdate",(({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Rs(c=>{const f=this.getAxisMotionValue(c);f&&(this.originPoint[c]+=l[c].translate,f.set(f.get()+l[c].translate))}),this.visualElement.render())}));return()=>{o(),t(),a(),s&&s()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=H2,dragMomentum:s=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:s}}}function zw(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function woe(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class Moe extends Vh{constructor(e){super(e),this.removeGroupControls=ls,this.removeListeners=ls,this.controls=new Soe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ls}unmount(){this.removeGroupControls(),this.removeListeners()}}const bB=n=>(e,t)=>{n&&Ur.postRender(()=>n(e,t))};class Toe extends Vh{constructor(){super(...arguments),this.removePointerDownListener=ls}onPointerDown(e){this.session=new j7(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:tX(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:bB(e),onStart:bB(t),onMove:r,onEnd:(a,o)=>{delete this.session,i&&Ur.postRender(()=>i(a,o))}}}mount(){this.removePointerDownListener=Tx(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const BT={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function AB(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const u_={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(_n.test(n))n=parseFloat(n);else return n;const t=AB(n,e.target.x),r=AB(n,e.target.y);return`${t}% ${r}%`}},boe={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,i=Rh.parse(n);if(i.length>5)return r;const a=Rh.createTransformer(n),o=typeof i[0]!="number"?1:0,s=t.x.scale*e.x,l=t.y.scale*e.y;i[0+o]/=s,i[1+o]/=l;const u=Jr(s,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),a(i)}};class Aoe extends de.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=e;Yre(Coe),a&&(t.group&&t.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),BT.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:i,isPresent:a}=this.props,o=r.projection;return o&&(o.isPresent=a,i||e.layoutDependency!==t||t===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?o.promote():o.relegate()||Ur.postRender(()=>{const s=o.getStack();(!s||!s.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),YN.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function nX(n){const[e,t]=sre(),r=de.useContext(z9);return Re.jsx(Aoe,{...n,layoutGroup:r,switchLayoutGroup:de.useContext(Y9),isPresent:e,safeToRemove:t})}const Coe={borderRadius:{...u_,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:u_,borderTopRightRadius:u_,borderBottomLeftRadius:u_,borderBottomRightRadius:u_,boxShadow:boe};function Eoe(n,e,t){const r=Ba(n)?n:eS(n);return r.start(mO("",r,e,t)),r.animation}function Poe(n){return n instanceof SVGElement&&n.tagName!=="svg"}const Doe=(n,e)=>n.depth-e.depth;class Roe{constructor(){this.children=[],this.isDirty=!1}add(e){oO(this.children,e),this.isDirty=!0}remove(e){sO(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Doe),this.isDirty=!1,this.children.forEach(e)}}function Loe(n,e){const t=bu.now(),r=({timestamp:i})=>{const a=i-t;a>=e&&(Dh(r),n(a-e))};return Ur.read(r,!0),()=>Dh(r)}const rX=["TopLeft","TopRight","BottomLeft","BottomRight"],Ioe=rX.length,CB=n=>typeof n=="string"?parseFloat(n):n,EB=n=>typeof n=="number"||_n.test(n);function Noe(n,e,t,r,i,a){i?(n.opacity=Jr(0,t.opacity!==void 0?t.opacity:1,Ooe(r)),n.opacityExit=Jr(e.opacity!==void 0?e.opacity:1,0,koe(r))):a&&(n.opacity=Jr(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,r));for(let o=0;o<Ioe;o++){const s=`border${rX[o]}Radius`;let l=PB(e,s),u=PB(t,s);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||EB(l)===EB(u)?(n[s]=Math.max(Jr(CB(l),CB(u),r),0),(Tu.test(u)||Tu.test(l))&&(n[s]+="%")):n[s]=u}(e.rotate||t.rotate)&&(n.rotate=Jr(e.rotate||0,t.rotate||0,r))}function PB(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const Ooe=iX(0,.5,w7),koe=iX(.5,.95,ls);function iX(n,e,t){return r=>r<n?0:r>e?1:t(vy(n,e,r))}function DB(n,e){n.min=e.min,n.max=e.max}function Ts(n,e){DB(n.x,e.x),DB(n.y,e.y)}function RB(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function LB(n,e,t,r,i){return n-=e,n=wb(n,1/t,r),i!==void 0&&(n=wb(n,1/i,r)),n}function Foe(n,e=0,t=1,r=.5,i,a=n,o=n){if(Tu.test(e)&&(e=parseFloat(e),e=Jr(o.min,o.max,e/100)-o.min),typeof e!="number")return;let s=Jr(a.min,a.max,r);n===a&&(s-=e),n.min=LB(n.min,e,t,s,i),n.max=LB(n.max,e,t,s,i)}function IB(n,e,[t,r,i],a,o){Foe(n,e[t],e[r],e[i],e.scale,a,o)}const zoe=["x","scaleX","originX"],Boe=["y","scaleY","originY"];function NB(n,e,t,r){IB(n.x,e,zoe,t?t.x:void 0,r?r.x:void 0),IB(n.y,e,Boe,t?t.y:void 0,r?r.y:void 0)}function OB(n){return n.translate===0&&n.scale===1}function aX(n){return OB(n.x)&&OB(n.y)}function kB(n,e){return n.min===e.min&&n.max===e.max}function Uoe(n,e){return kB(n.x,e.x)&&kB(n.y,e.y)}function FB(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function oX(n,e){return FB(n.x,e.x)&&FB(n.y,e.y)}function zB(n){return fs(n.x)/fs(n.y)}function BB(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class Voe{constructor(){this.members=[]}add(e){oO(this.members,e),e.scheduleRender()}remove(e){if(sO(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let r;for(let i=t;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Goe(n,e,t){let r="";const i=n.x.translate/e.x,a=n.y.translate/e.y,o=t?.z||0;if((i||a||o)&&(r=`translate3d(${i}px, ${a}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:u,rotate:c,rotateX:f,rotateY:h,skewX:d,skewY:p}=t;u&&(r=`perspective(${u}px) ${r}`),c&&(r+=`rotate(${c}deg) `),f&&(r+=`rotateX(${f}deg) `),h&&(r+=`rotateY(${h}deg) `),d&&(r+=`skewX(${d}deg) `),p&&(r+=`skewY(${p}deg) `)}const s=n.x.scale*e.x,l=n.y.scale*e.y;return(s!==1||l!==1)&&(r+=`scale(${s}, ${l})`),r||"none"}const Sp={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},ox=typeof window<"u"&&window.MotionDebug!==void 0,jE=["","X","Y","Z"],Hoe={visibility:"hidden"},UB=1e3;let Woe=0;function ZE(n,e,t,r){const{latestValues:i}=e;i[n]&&(t[n]=i[n],e.setStaticValue(n,0),r&&(r[n]=0))}function sX(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=v7(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:i,layoutId:a}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",Ur,!(i||a))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&sX(r)}function lX({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},s=e?.()){this.id=Woe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ox&&(Sp.totalNodes=Sp.resolvedTargetDeltas=Sp.recalculatedProjection=0),this.nodes.forEach(joe),this.nodes.forEach(Joe),this.nodes.forEach(Qoe),this.nodes.forEach(Zoe),ox&&window.MotionDebug.record(Sp)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=s?s.root||s:this,this.path=s?[...s.path,s]:[],this.parent=s,this.depth=s?s.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Roe)}addEventListener(o,s){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new lO),this.eventHandlers.get(o).add(s)}notifyListeners(o,...s){const l=this.eventHandlers.get(o);l&&l.notify(...s)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,s=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Poe(o),this.instance=o;const{layoutId:l,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),s&&(u||l)&&(this.isLayoutDirty=!0),n){let f;const h=()=>this.root.updateBlockedByResize=!1;n(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=Loe(h,250),BT.hasAnimatedSinceResize&&(BT.hasAnimatedSinceResize=!1,this.nodes.forEach(GB))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:d,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||c.getDefaultTransition()||ise,{onLayoutAnimationStart:m,onLayoutAnimationComplete:y}=c.getProps(),S=!this.targetLayout||!oX(this.targetLayout,p)||d,M=!h&&d;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||M||h&&(S||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,M);const b={...nO(g,"layout"),onPlay:m,onComplete:y};(c.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b)}else h||GB(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Dh(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ese),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&sX(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const f=this.path[c];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:s,layout:l}=this.options;if(s===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(VB);return}this.isUpdating||this.nodes.forEach(qoe),this.isUpdating=!1,this.nodes.forEach(Koe),this.nodes.forEach(Xoe),this.nodes.forEach(Yoe),this.clearAllSnapshots();const s=bu.now();ga.delta=$c(0,1e3/60,s-ga.timestamp),ga.timestamp=s,ga.isProcessing=!0,zE.update.process(ga),zE.preRender.process(ga),zE.render.process(ga),ga.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,YN.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach($oe),this.sharedNodes.forEach(tse)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ur.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ur.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=vi(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:s}=this.options;s&&s.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let s=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(s=!1),s){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,s=this.projectionDelta&&!aX(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;o&&(s||xp(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const s=this.measurePageBox();let l=this.removeElementScroll(s);return o&&(l=this.removeTransform(l)),ase(l),{animationId:this.root.animationId,measuredBox:s,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:s}=this.options;if(!s)return vi();const l=s.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(ose))){const{scroll:c}=this.root;c&&(jm(l.x,c.offset.x),jm(l.y,c.offset.y))}return l}removeElementScroll(o){var s;const l=vi();if(Ts(l,o),!((s=this.scroll)===null||s===void 0)&&s.wasRoot)return l;for(let u=0;u<this.path.length;u++){const c=this.path[u],{scroll:f,options:h}=c;c!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&Ts(l,o),jm(l.x,f.offset.x),jm(l.y,f.offset.y))}return l}applyTransform(o,s=!1){const l=vi();Ts(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!s&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Zm(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),xp(c.latestValues)&&Zm(l,c.latestValues)}return xp(this.latestValues)&&Zm(l,this.latestValues),l}removeTransform(o){const s=vi();Ts(s,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!xp(u.latestValues))continue;W2(u.latestValues)&&u.updateSnapshot();const c=vi(),f=u.measurePageBox();Ts(c,f),NB(s,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return xp(this.latestValues)&&NB(s,this.latestValues),s}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ga.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var s;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=ga.timestamp,!this.targetDelta&&!this.relativeTarget){const d=this.getClosestProjectingParent();d&&d.layout&&this.animationProgress!==1?(this.relativeParent=d,this.forceRelativeParentToResolveTarget(),this.relativeTarget=vi(),this.relativeTargetOrigin=vi(),Ax(this.relativeTargetOrigin,this.layout.layoutBox,d.layout.layoutBox),Ts(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=vi(),this.targetWithTransforms=vi()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),uoe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ts(this.target,this.layout.layoutBox),Q7(this.target,this.targetDelta)):Ts(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const d=this.getClosestProjectingParent();d&&!!d.resumingFrom==!!this.resumingFrom&&!d.options.layoutScroll&&d.target&&this.animationProgress!==1?(this.relativeParent=d,this.forceRelativeParentToResolveTarget(),this.relativeTarget=vi(),this.relativeTargetOrigin=vi(),Ax(this.relativeTargetOrigin,this.target,d.target),Ts(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ox&&Sp.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||W2(this.parent.latestValues)||J7(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const s=this.getLead(),l=!!this.resumingFrom||this!==s;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===ga.timestamp&&(u=!1),u)return;const{layout:c,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||f))return;Ts(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,d=this.treeScale.y;yoe(this.layoutCorrected,this.treeScale,this.path,l),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=vi());const{target:p}=s;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(RB(this.prevProjectionDelta.x,this.projectionDelta.x),RB(this.prevProjectionDelta.y,this.projectionDelta.y)),bx(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==d||!BB(this.projectionDelta.x,this.prevProjectionDelta.x)||!BB(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),ox&&Sp.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var s;if((s=this.options.visualElement)===null||s===void 0||s.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ym(),this.projectionDelta=Ym(),this.projectionDeltaWithTransform=Ym()}setAnimationOrigin(o,s=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},f=Ym();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!s;const h=vi(),d=l?l.source:void 0,p=this.layout?this.layout.source:void 0,g=d!==p,m=this.getStack(),y=!m||m.members.length<=1,S=!!(g&&!y&&this.options.crossfade===!0&&!this.path.some(rse));this.animationProgress=0;let M;this.mixTargetDelta=b=>{const C=b/1e3;HB(f.x,o.x,C),HB(f.y,o.y,C),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ax(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),nse(this.relativeTarget,this.relativeTargetOrigin,h,C),M&&Uoe(this.relativeTarget,M)&&(this.isProjectionDirty=!1),M||(M=vi()),Ts(M,this.relativeTarget)),g&&(this.animationValues=c,Noe(c,u,this.latestValues,C,S,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Dh(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ur.update(()=>{BT.hasAnimatedSinceResize=!0,this.currentAnimation=Eoe(0,UB,{...o,onUpdate:s=>{this.mixTargetDelta(s),o.onUpdate&&o.onUpdate(s)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(UB),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:s,target:l,layout:u,latestValues:c}=o;if(!(!s||!l||!u)){if(this!==o&&this.layout&&u&&uX(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||vi();const f=fs(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const h=fs(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+h}Ts(s,l),Zm(s,c),bx(this.projectionDeltaWithTransform,this.layoutCorrected,s,c)}}registerSharedNode(o,s){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Voe),this.sharedNodes.get(o).add(s);const u=s.options.initialPromotionConfig;s.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(s):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:s}=this.options;return s?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:s}=this.options;return s?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:s,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),s&&this.setOptions({transition:s})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let s=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(s=!0),!s)return;const u={};l.z&&ZE("z",o,u,this.animationValues);for(let c=0;c<jE.length;c++)ZE(`rotate${jE[c]}`,o,u,this.animationValues),ZE(`skew${jE[c]}`,o,u,this.animationValues);o.render();for(const c in u)o.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);o.scheduleRender()}getProjectionStyles(o){var s,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Hoe;const u={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=FT(o?.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=FT(o?.pointerEvents)||""),this.hasProjected&&!xp(this.latestValues)&&(g.transform=c?c({},""):"none",this.hasProjected=!1),g}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=Goe(this.projectionDeltaWithTransform,this.treeScale,h),c&&(u.transform=c(h,u.transform));const{x:d,y:p}=this.projectionDelta;u.transformOrigin=`${d.origin*100}% ${p.origin*100}% 0`,f.animationValues?u.opacity=f===this?(l=(s=h.opacity)!==null&&s!==void 0?s:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const g in mb){if(h[g]===void 0)continue;const{correct:m,applyTo:y}=mb[g],S=u.transform==="none"?h[g]:m(h[g],f);if(y){const M=y.length;for(let b=0;b<M;b++)u[y[b]]=S}else u[g]=S}return this.options.layoutId&&(u.pointerEvents=f===this?FT(o?.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var s;return(s=o.currentAnimation)===null||s===void 0?void 0:s.stop()}),this.root.nodes.forEach(VB),this.root.sharedNodes.clear()}}}function Xoe(n){n.updateLayout()}function Yoe(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=n.layout,{animationType:a}=n.options,o=t.source!==n.layout.source;a==="size"?Rs(f=>{const h=o?t.measuredBox[f]:t.layoutBox[f],d=fs(h);h.min=r[f].min,h.max=h.min+d}):uX(a,t.layoutBox,r)&&Rs(f=>{const h=o?t.measuredBox[f]:t.layoutBox[f],d=fs(r[f]);h.max=h.min+d,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[f].max=n.relativeTarget[f].min+d)});const s=Ym();bx(s,r,t.layoutBox);const l=Ym();o?bx(l,n.applyTransform(i,!0),t.measuredBox):bx(l,r,t.layoutBox);const u=!aX(s);let c=!1;if(!n.resumeFrom){const f=n.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:d}=f;if(h&&d){const p=vi();Ax(p,t.layoutBox,h.layoutBox);const g=vi();Ax(g,r,d.layoutBox),oX(p,g)||(c=!0),f.options.layoutRoot&&(n.relativeTarget=g,n.relativeTargetOrigin=p,n.relativeParent=f)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:l,layoutDelta:s,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function joe(n){ox&&Sp.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function Zoe(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function $oe(n){n.clearSnapshot()}function VB(n){n.clearMeasurements()}function qoe(n){n.isLayoutDirty=!1}function Koe(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function GB(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function Joe(n){n.resolveTargetDelta()}function Qoe(n){n.calcProjection()}function ese(n){n.resetSkewAndRotation()}function tse(n){n.removeLeadSnapshot()}function HB(n,e,t){n.translate=Jr(e.translate,0,t),n.scale=Jr(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function WB(n,e,t,r){n.min=Jr(e.min,t.min,r),n.max=Jr(e.max,t.max,r)}function nse(n,e,t,r){WB(n.x,e.x,t.x,r),WB(n.y,e.y,t.y,r)}function rse(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const ise={duration:.45,ease:[.4,0,.1,1]},XB=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),YB=XB("applewebkit/")&&!XB("chrome/")?Math.round:ls;function jB(n){n.min=YB(n.min),n.max=YB(n.max)}function ase(n){jB(n.x),jB(n.y)}function uX(n,e,t){return n==="position"||n==="preserve-aspect"&&!loe(zB(e),zB(t),.2)}function ose(n){var e;return n!==n.root&&((e=n.scroll)===null||e===void 0?void 0:e.wasRoot)}const sse=lX({attachResizeListener:(n,e)=>nS(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),$E={current:void 0},cX=lX({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!$E.current){const n=new sse({});n.mount(window),n.setOptions({layoutScroll:!0}),$E.current=n}return $E.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),lse={pan:{Feature:Toe},drag:{Feature:Moe,ProjectionNode:cX,MeasureLayout:nX}};function ZB(n,e,t){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",t==="Start");const i="onHover"+t,a=r[i];a&&Ur.postRender(()=>a(e,a1(e)))}class use extends Vh{mount(){const{current:e}=this.node;e&&(this.unmount=lie(e,t=>(ZB(this.node,t,"Start"),r=>ZB(this.node,r,"End"))))}unmount(){}}class cse extends Vh{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=i1(nS(this.node.current,"focus",()=>this.onFocus()),nS(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function $B(n,e,t){const{props:r}=n;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",t==="Start");const i="onTap"+(t==="End"?"":t),a=r[i];a&&Ur.postRender(()=>a(e,a1(e)))}class fse extends Vh{mount(){const{current:e}=this.node;e&&(this.unmount=hie(e,t=>($B(this.node,t,"Start"),(r,{success:i})=>$B(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Y2=new WeakMap,qE=new WeakMap,hse=n=>{const e=Y2.get(n.target);e&&e(n)},dse=n=>{n.forEach(hse)};function pse({root:n,...e}){const t=n||document;qE.has(t)||qE.set(t,{});const r=qE.get(t),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(dse,{root:n,...e})),r[i]}function vse(n,e,t){const r=pse(e);return Y2.set(n,t),r.observe(n),()=>{Y2.delete(n),r.unobserve(n)}}const gse={some:0,all:1};class mse extends Vh{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:i="some",once:a}=e,o={root:t?t.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:gse[i]},s=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:f}=this.node.getProps(),h=u?c:f;h&&h(l)};return vse(this.node.current,o,s)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(yse(e,t))&&this.startObserver()}unmount(){}}function yse({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const _se={inView:{Feature:mse},tap:{Feature:fse},focus:{Feature:cse},hover:{Feature:use}},xse={layout:{ProjectionNode:cX,MeasureLayout:nX}},j2={current:null},fX={current:!1};function Sse(){if(fX.current=!0,!!VN)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>j2.current=n.matches;n.addListener(e),e()}else j2.current=!1}const wse=[...k7,Oa,Rh],Mse=n=>wse.find(O7(n)),qB=new WeakMap;function Tse(n,e,t){for(const r in e){const i=e[r],a=t[r];if(Ba(i))n.addValue(r,i);else if(Ba(a))n.addValue(r,eS(i,{owner:n}));else if(a!==i)if(n.hasValue(r)){const o=n.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=n.getStaticValue(r);n.addValue(r,eS(o!==void 0?o:i,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const KB=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class bse{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:o},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=pO,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const d=bu.now();this.renderScheduledAt<d&&(this.renderScheduledAt=d,Ur.render(this.render,!1,!0))};const{latestValues:l,renderState:u,onUpdate:c}=o;this.onUpdate=c,this.latestValues=l,this.baseTarget={...l},this.initialValues=t.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=s,this.blockInitialAnimation=!!a,this.isControllingVariants=IA(t),this.isVariantNode=W9(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...h}=this.scrapeMotionValuesFromProps(t,{},this);for(const d in h){const p=h[d];l[d]!==void 0&&Ba(p)&&p.set(l[d],!1)}}mount(e){this.current=e,qB.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),fX.current||Sse(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:j2.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){qB.delete(this.current),this.projection&&this.projection.unmount(),Dh(this.notifyUpdate),Dh(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Rv.has(e),i=t.on("change",s=>{this.latestValues[e]=s,this.props.onUpdate&&Ur.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=t.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{i(),a(),o&&o(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in gy){const t=gy[e];if(!t)continue;const{isEnabled:r,Feature:i}=t;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):vi()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<KB.length;r++){const i=KB[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,o=e[a];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=Tse(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=eS(t===null?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(I7(i)||T7(i))?i=parseFloat(i):!Mse(i)&&Rh.test(t)&&(i=D7(e,t)),this.setBaseTarget(e,Ba(i)?i.get():i)),Ba(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=ZN(this.props,r,(t=this.presenceContext)===null||t===void 0?void 0:t.custom);o&&(i=o[e])}if(r&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Ba(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new lO),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class hX extends bse{constructor(){super(...arguments),this.KeyframeResolver=F7}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ba(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function Ase(n){return window.getComputedStyle(n)}class Cse extends hX{constructor(){super(...arguments),this.type="html",this.renderInstance=Q9}readValueFromInstance(e,t){if(Rv.has(t)){const r=dO(t);return r&&r.default||0}else{const r=Ase(e),i=(q9(t)?r.getPropertyValue(t):r[t])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return eX(e,t)}build(e,t,r){KN(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return tO(e,t,r)}}class Ese extends hX{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=vi}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Rv.has(t)){const r=dO(t);return r&&r.default||0}return t=e7.has(t)?t:XN(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return r7(e,t,r)}build(e,t,r){JN(e,t,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,r,i){t7(e,t,r,i)}mount(e){this.isSVGTag=eO(e.tagName),super.mount(e)}}const Pse=(n,e)=>jN(n)?new Ese(e):new Cse(e,{allowProjection:n!==de.Fragment}),Dse=tie({...Qae,..._se,...lse,...xse},Pse),KE=gre(Dse);/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const kA="165",wp={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Mp={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},dX=0,Z2=1,pX=2,Rse=3,vX=0,FA=1,Cx=2,El=3,qc=0,ya=1,gu=2,Xc=0,nv=1,$2=2,q2=3,K2=4,gX=5,dh=100,mX=101,yX=102,_X=103,xX=104,SX=200,wX=201,MX=202,TX=203,Mb=204,Tb=205,bX=206,AX=207,CX=208,EX=209,PX=210,DX=211,RX=212,LX=213,IX=214,NX=0,OX=1,kX=2,rS=3,FX=4,zX=5,BX=6,UX=7,o1=0,VX=1,GX=2,Au=0,HX=1,WX=2,XX=3,yO=4,YX=5,jX=6,ZX=7,J2="attached",$X="detached",zA=300,Kc=301,Lh=302,iS=303,aS=304,By=306,oS=1e3,Bs=1001,sS=1002,ra=1003,_O=1004,Lse=1004,$m=1005,Ise=1005,Ei=1006,Ex=1007,Nse=1007,_u=1008,Ose=1008,Ru=1009,qX=1010,KX=1011,lS=1012,xO=1013,vv=1014,as=1015,s1=1016,SO=1017,wO=1018,gv=1020,JX=35902,QX=1021,eY=1022,po=1023,tY=1024,nY=1025,rv=1026,mv=1027,MO=1028,TO=1029,rY=1030,bO=1031,AO=1033,UT=33776,VT=33777,GT=33778,HT=33779,Q2=35840,eL=35841,tL=35842,nL=35843,rL=36196,iL=37492,aL=37496,oL=37808,sL=37809,lL=37810,uL=37811,cL=37812,fL=37813,hL=37814,dL=37815,pL=37816,vL=37817,gL=37818,mL=37819,yL=37820,_L=37821,WT=36492,xL=36494,SL=36495,iY=36283,wL=36284,ML=36285,TL=36286,aY=2200,oY=2201,sY=2202,uS=2300,bb=2301,XT=2302,Vp=2400,Gp=2401,cS=2402,BA=2500,CO=2501,kse=0,Fse=1,zse=2,lY=3200,uY=3201,Gh=0,cY=1,Nc="",Fo="srgb",lf="srgb-linear",UA="display-p3",l1="display-p3-linear",fS="linear",kr="srgb",hS="rec709",dS="p3",Bse=0,Tp=7680,Use=7681,Vse=7682,Gse=7683,Hse=34055,Wse=34056,Xse=5386,Yse=512,jse=513,Zse=514,$se=515,qse=516,Kse=517,Jse=518,bL=519,fY=512,hY=513,dY=514,EO=515,pY=516,vY=517,gY=518,mY=519,pS=35044,Qse=35048,ele=35040,tle=35045,nle=35049,rle=35041,ile=35046,ale=35050,ole=35042,sle="100",AL="300 es",xu=2e3,vS=2001;let uf=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const a=i.indexOf(t);a!==-1&&i.splice(a,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let a=0,o=i.length;a<o;a++)i[a].call(this,e);e.target=null}}};const Pa=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let JB=1234567;const iv=Math.PI/180,yy=180/Math.PI;function us(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Pa[n&255]+Pa[n>>8&255]+Pa[n>>16&255]+Pa[n>>24&255]+"-"+Pa[e&255]+Pa[e>>8&255]+"-"+Pa[e>>16&15|64]+Pa[e>>24&255]+"-"+Pa[t&63|128]+Pa[t>>8&255]+"-"+Pa[t>>16&255]+Pa[t>>24&255]+Pa[r&255]+Pa[r>>8&255]+Pa[r>>16&255]+Pa[r>>24&255]).toLowerCase()}function ui(n,e,t){return Math.max(e,Math.min(t,n))}function PO(n,e){return(n%e+e)%e}function lle(n,e,t,r,i){return r+(n-e)*(i-r)/(t-e)}function ule(n,e,t){return n!==e?(t-n)/(e-n):0}function Px(n,e,t){return(1-t)*n+t*e}function cle(n,e,t,r){return Px(n,e,1-Math.exp(-t*r))}function fle(n,e=1){return e-Math.abs(PO(n,e*2)-e)}function hle(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function dle(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function ple(n,e){return n+Math.floor(Math.random()*(e-n+1))}function vle(n,e){return n+Math.random()*(e-n)}function gle(n){return n*(.5-Math.random())}function mle(n){n!==void 0&&(JB=n);let e=JB+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function yle(n){return n*iv}function _le(n){return n*yy}function xle(n){return(n&n-1)===0&&n!==0}function Sle(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function wle(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function Mle(n,e,t,r,i){const a=Math.cos,o=Math.sin,s=a(t/2),l=o(t/2),u=a((e+r)/2),c=o((e+r)/2),f=a((e-r)/2),h=o((e-r)/2),d=a((r-e)/2),p=o((r-e)/2);switch(i){case"XYX":n.set(s*c,l*f,l*h,s*u);break;case"YZY":n.set(l*h,s*c,l*f,s*u);break;case"ZXZ":n.set(l*f,l*h,s*c,s*u);break;case"XZX":n.set(s*c,l*p,l*d,s*u);break;case"YXY":n.set(l*d,s*c,l*p,s*u);break;case"ZYZ":n.set(l*p,l*d,s*c,s*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function ho(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function Bn(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const Tle={DEG2RAD:iv,RAD2DEG:yy,generateUUID:us,clamp:ui,euclideanModulo:PO,mapLinear:lle,inverseLerp:ule,lerp:Px,damp:cle,pingpong:fle,smoothstep:hle,smootherstep:dle,randInt:ple,randFloat:vle,randFloatSpread:gle,seededRandom:mle,degToRad:yle,radToDeg:_le,isPowerOfTwo:xle,ceilPowerOfTwo:Sle,floorPowerOfTwo:wle,setQuaternionFromProperEuler:Mle,normalize:Bn,denormalize:ho};class je{constructor(e=0,t=0){je.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(ui(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),a=this.x-e.x,o=this.y-e.y;return this.x=a*r-o*i+e.x,this.y=a*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class zn{constructor(e,t,r,i,a,o,s,l,u){zn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,r,i,a,o,s,l,u)}set(e,t,r,i,a,o,s,l,u){const c=this.elements;return c[0]=e,c[1]=i,c[2]=s,c[3]=t,c[4]=a,c[5]=l,c[6]=r,c[7]=o,c[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,a=this.elements,o=r[0],s=r[3],l=r[6],u=r[1],c=r[4],f=r[7],h=r[2],d=r[5],p=r[8],g=i[0],m=i[3],y=i[6],S=i[1],M=i[4],b=i[7],C=i[2],A=i[5],E=i[8];return a[0]=o*g+s*S+l*C,a[3]=o*m+s*M+l*A,a[6]=o*y+s*b+l*E,a[1]=u*g+c*S+f*C,a[4]=u*m+c*M+f*A,a[7]=u*y+c*b+f*E,a[2]=h*g+d*S+p*C,a[5]=h*m+d*M+p*A,a[8]=h*y+d*b+p*E,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=e[6],u=e[7],c=e[8];return t*o*c-t*s*u-r*a*c+r*s*l+i*a*u-i*o*l}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=e[6],u=e[7],c=e[8],f=c*o-s*u,h=s*l-c*a,d=u*a-o*l,p=t*f+r*h+i*d;if(p===0)return this.set(0,0,0,0,0,0,0,0,0);const g=1/p;return e[0]=f*g,e[1]=(i*u-c*r)*g,e[2]=(s*r-i*o)*g,e[3]=h*g,e[4]=(c*t-i*l)*g,e[5]=(i*a-s*t)*g,e[6]=d*g,e[7]=(r*l-u*t)*g,e[8]=(o*t-r*a)*g,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,a,o,s){const l=Math.cos(a),u=Math.sin(a);return this.set(r*l,r*u,-r*(l*o+u*s)+o+e,-i*u,i*l,-i*(-u*o+l*s)+s+t,0,0,1),this}scale(e,t){return this.premultiply(JE.makeScale(e,t)),this}rotate(e){return this.premultiply(JE.makeRotation(-e)),this}translate(e,t){return this.premultiply(JE.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,r,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const JE=new zn;function yY(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const ble={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function qm(n,e){return new ble[n](e)}function gS(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function _Y(){const n=gS("canvas");return n.style.display="block",n}const QB={};function DO(n){n in QB||(QB[n]=!0,console.warn(n))}function Ale(n,e,t){return new Promise(function(r,i){function a(){switch(n.clientWaitSync(e,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:i();break;case n.TIMEOUT_EXPIRED:setTimeout(a,t);break;default:r()}}setTimeout(a,t)})}const eU=new zn().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),tU=new zn().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),Bw={[lf]:{transfer:fS,primaries:hS,toReference:n=>n,fromReference:n=>n},[Fo]:{transfer:kr,primaries:hS,toReference:n=>n.convertSRGBToLinear(),fromReference:n=>n.convertLinearToSRGB()},[l1]:{transfer:fS,primaries:dS,toReference:n=>n.applyMatrix3(tU),fromReference:n=>n.applyMatrix3(eU)},[UA]:{transfer:kr,primaries:dS,toReference:n=>n.convertSRGBToLinear().applyMatrix3(tU),fromReference:n=>n.applyMatrix3(eU).convertLinearToSRGB()}},Cle=new Set([lf,l1]),vr={enabled:!0,_workingColorSpace:lf,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(n){if(!Cle.has(n))throw new Error(`Unsupported working color space, "${n}".`);this._workingColorSpace=n},convert:function(n,e,t){if(this.enabled===!1||e===t||!e||!t)return n;const r=Bw[e].toReference,i=Bw[t].fromReference;return i(r(n))},fromWorkingColorSpace:function(n,e){return this.convert(n,this._workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this._workingColorSpace)},getPrimaries:function(n){return Bw[n].primaries},getTransfer:function(n){return n===Nc?fS:Bw[n].transfer}};function ay(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function QE(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let Hg;class xY{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{Hg===void 0&&(Hg=gS("canvas")),Hg.width=e.width,Hg.height=e.height;const r=Hg.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=Hg}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=gS("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),a=i.data;for(let o=0;o<a.length;o++)a[o]=ay(a[o]/255)*255;return r.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor(ay(t[r]/255)*255):t[r]=ay(t[r]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let Ele=0;class Hp{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Ele++}),this.uuid=us(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let a;if(Array.isArray(i)){a=[];for(let o=0,s=i.length;o<s;o++)i[o].isDataTexture?a.push(eP(i[o].image)):a.push(eP(i[o]))}else a=eP(i);r.url=a}return t||(e.images[this.uuid]=r),r}}function eP(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?xY.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Ple=0;class $r extends uf{constructor(e=$r.DEFAULT_IMAGE,t=$r.DEFAULT_MAPPING,r=Bs,i=Bs,a=Ei,o=_u,s=po,l=Ru,u=$r.DEFAULT_ANISOTROPY,c=Nc){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Ple++}),this.uuid=us(),this.name="",this.source=new Hp(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=a,this.minFilter=o,this.anisotropy=u,this.format=s,this.internalFormat=null,this.type=l,this.offset=new je(0,0),this.repeat=new je(1,1),this.center=new je(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new zn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=c,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==zA)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case oS:e.x=e.x-Math.floor(e.x);break;case Bs:e.x=e.x<0?0:1;break;case sS:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case oS:e.y=e.y-Math.floor(e.y);break;case Bs:e.y=e.y<0?0:1;break;case sS:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}$r.DEFAULT_IMAGE=null;$r.DEFAULT_MAPPING=zA;$r.DEFAULT_ANISOTROPY=1;class Mr{constructor(e=0,t=0,r=0,i=1){Mr.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,a=this.w,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*i+o[12]*a,this.y=o[1]*t+o[5]*r+o[9]*i+o[13]*a,this.z=o[2]*t+o[6]*r+o[10]*i+o[14]*a,this.w=o[3]*t+o[7]*r+o[11]*i+o[15]*a,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,a;const l=e.elements,u=l[0],c=l[4],f=l[8],h=l[1],d=l[5],p=l[9],g=l[2],m=l[6],y=l[10];if(Math.abs(c-h)<.01&&Math.abs(f-g)<.01&&Math.abs(p-m)<.01){if(Math.abs(c+h)<.1&&Math.abs(f+g)<.1&&Math.abs(p+m)<.1&&Math.abs(u+d+y-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const M=(u+1)/2,b=(d+1)/2,C=(y+1)/2,A=(c+h)/4,E=(f+g)/4,I=(p+m)/4;return M>b&&M>C?M<.01?(r=0,i=.707106781,a=.707106781):(r=Math.sqrt(M),i=A/r,a=E/r):b>C?b<.01?(r=.707106781,i=0,a=.707106781):(i=Math.sqrt(b),r=A/i,a=I/i):C<.01?(r=.707106781,i=.707106781,a=0):(a=Math.sqrt(C),r=E/a,i=I/a),this.set(r,i,a,t),this}let S=Math.sqrt((m-p)*(m-p)+(f-g)*(f-g)+(h-c)*(h-c));return Math.abs(S)<.001&&(S=1),this.x=(m-p)/S,this.y=(f-g)/S,this.z=(h-c)/S,this.w=Math.acos((u+d+y-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class SY extends uf{constructor(e=1,t=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Mr(0,0,e,t),this.scissorTest=!1,this.viewport=new Mr(0,0,e,t);const i={width:e,height:t,depth:1};r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Ei,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},r);const a=new $r(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace);a.flipY=!1,a.generateMipmaps=r.generateMipmaps,a.internalFormat=r.internalFormat,this.textures=[];const o=r.count;for(let s=0;s<o;s++)this.textures[s]=a.clone(),this.textures[s].isRenderTargetTexture=!0;this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this.depthTexture=r.depthTexture,this.samples=r.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let i=0,a=this.textures.length;i<a;i++)this.textures[i].image.width=e,this.textures[i].image.height=t,this.textures[i].image.depth=r;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let r=0,i=e.textures.length;r<i;r++)this.textures[r]=e.textures[r].clone(),this.textures[r].isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new Hp(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Bl extends SY{constructor(e=1,t=1,r={}){super(e,t,r),this.isWebGLRenderTarget=!0}}class VA extends $r{constructor(e=null,t=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=ra,this.minFilter=ra,this.wrapR=Bs,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class Dle extends Bl{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new VA(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class RO extends $r{constructor(e=null,t=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=ra,this.minFilter=ra,this.wrapR=Bs,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Rle extends Bl{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new RO(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class Ua{constructor(e=0,t=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=i}static slerpFlat(e,t,r,i,a,o,s){let l=r[i+0],u=r[i+1],c=r[i+2],f=r[i+3];const h=a[o+0],d=a[o+1],p=a[o+2],g=a[o+3];if(s===0){e[t+0]=l,e[t+1]=u,e[t+2]=c,e[t+3]=f;return}if(s===1){e[t+0]=h,e[t+1]=d,e[t+2]=p,e[t+3]=g;return}if(f!==g||l!==h||u!==d||c!==p){let m=1-s;const y=l*h+u*d+c*p+f*g,S=y>=0?1:-1,M=1-y*y;if(M>Number.EPSILON){const C=Math.sqrt(M),A=Math.atan2(C,y*S);m=Math.sin(m*A)/C,s=Math.sin(s*A)/C}const b=s*S;if(l=l*m+h*b,u=u*m+d*b,c=c*m+p*b,f=f*m+g*b,m===1-s){const C=1/Math.sqrt(l*l+u*u+c*c+f*f);l*=C,u*=C,c*=C,f*=C}}e[t]=l,e[t+1]=u,e[t+2]=c,e[t+3]=f}static multiplyQuaternionsFlat(e,t,r,i,a,o){const s=r[i],l=r[i+1],u=r[i+2],c=r[i+3],f=a[o],h=a[o+1],d=a[o+2],p=a[o+3];return e[t]=s*p+c*f+l*d-u*h,e[t+1]=l*p+c*h+u*f-s*d,e[t+2]=u*p+c*d+s*h-l*f,e[t+3]=c*p-s*f-l*h-u*d,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const r=e._x,i=e._y,a=e._z,o=e._order,s=Math.cos,l=Math.sin,u=s(r/2),c=s(i/2),f=s(a/2),h=l(r/2),d=l(i/2),p=l(a/2);switch(o){case"XYZ":this._x=h*c*f+u*d*p,this._y=u*d*f-h*c*p,this._z=u*c*p+h*d*f,this._w=u*c*f-h*d*p;break;case"YXZ":this._x=h*c*f+u*d*p,this._y=u*d*f-h*c*p,this._z=u*c*p-h*d*f,this._w=u*c*f+h*d*p;break;case"ZXY":this._x=h*c*f-u*d*p,this._y=u*d*f+h*c*p,this._z=u*c*p+h*d*f,this._w=u*c*f-h*d*p;break;case"ZYX":this._x=h*c*f-u*d*p,this._y=u*d*f+h*c*p,this._z=u*c*p-h*d*f,this._w=u*c*f+h*d*p;break;case"YZX":this._x=h*c*f+u*d*p,this._y=u*d*f+h*c*p,this._z=u*c*p-h*d*f,this._w=u*c*f-h*d*p;break;case"XZY":this._x=h*c*f-u*d*p,this._y=u*d*f-h*c*p,this._z=u*c*p+h*d*f,this._w=u*c*f+h*d*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],a=t[8],o=t[1],s=t[5],l=t[9],u=t[2],c=t[6],f=t[10],h=r+s+f;if(h>0){const d=.5/Math.sqrt(h+1);this._w=.25/d,this._x=(c-l)*d,this._y=(a-u)*d,this._z=(o-i)*d}else if(r>s&&r>f){const d=2*Math.sqrt(1+r-s-f);this._w=(c-l)/d,this._x=.25*d,this._y=(i+o)/d,this._z=(a+u)/d}else if(s>f){const d=2*Math.sqrt(1+s-r-f);this._w=(a-u)/d,this._x=(i+o)/d,this._y=.25*d,this._z=(l+c)/d}else{const d=2*Math.sqrt(1+f-r-s);this._w=(o-i)/d,this._x=(a+u)/d,this._y=(l+c)/d,this._z=.25*d}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(ui(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,a=e._z,o=e._w,s=t._x,l=t._y,u=t._z,c=t._w;return this._x=r*c+o*s+i*u-a*l,this._y=i*c+o*l+a*s-r*u,this._z=a*c+o*u+r*l-i*s,this._w=o*c-r*s-i*l-a*u,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const r=this._x,i=this._y,a=this._z,o=this._w;let s=o*e._w+r*e._x+i*e._y+a*e._z;if(s<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,s=-s):this.copy(e),s>=1)return this._w=o,this._x=r,this._y=i,this._z=a,this;const l=1-s*s;if(l<=Number.EPSILON){const d=1-t;return this._w=d*o+t*this._w,this._x=d*r+t*this._x,this._y=d*i+t*this._y,this._z=d*a+t*this._z,this.normalize(),this}const u=Math.sqrt(l),c=Math.atan2(u,s),f=Math.sin((1-t)*c)/u,h=Math.sin(t*c)/u;return this._w=o*f+this._w*h,this._x=r*f+this._x*h,this._y=i*f+this._y*h,this._z=a*f+this._z*h,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),r=Math.random(),i=Math.sqrt(1-r),a=Math.sqrt(r);return this.set(i*Math.sin(e),i*Math.cos(e),a*Math.sin(t),a*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class ne{constructor(e=0,t=0,r=0){ne.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(nU.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(nU.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,a=e.elements;return this.x=a[0]*t+a[3]*r+a[6]*i,this.y=a[1]*t+a[4]*r+a[7]*i,this.z=a[2]*t+a[5]*r+a[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,a=e.elements,o=1/(a[3]*t+a[7]*r+a[11]*i+a[15]);return this.x=(a[0]*t+a[4]*r+a[8]*i+a[12])*o,this.y=(a[1]*t+a[5]*r+a[9]*i+a[13])*o,this.z=(a[2]*t+a[6]*r+a[10]*i+a[14])*o,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,a=e.x,o=e.y,s=e.z,l=e.w,u=2*(o*i-s*r),c=2*(s*t-a*i),f=2*(a*r-o*t);return this.x=t+l*u+o*f-s*c,this.y=r+l*c+s*u-a*f,this.z=i+l*f+a*c-o*u,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,a=e.elements;return this.x=a[0]*t+a[4]*r+a[8]*i,this.y=a[1]*t+a[5]*r+a[9]*i,this.z=a[2]*t+a[6]*r+a[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,a=e.z,o=t.x,s=t.y,l=t.z;return this.x=i*l-a*s,this.y=a*o-r*l,this.z=r*s-i*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return tP.copy(this).projectOnVector(e),this.sub(tP)}reflect(e){return this.sub(tP.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(ui(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,r=Math.sqrt(1-t*t);return this.x=r*Math.cos(e),this.y=t,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const tP=new ne,nU=new Ua;class vo{constructor(e=new ne(1/0,1/0,1/0),t=new ne(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t+=3)this.expandByPoint(_l.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,r=e.count;t<r;t++)this.expandByPoint(_l.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=_l.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const a=r.getAttribute("position");if(t===!0&&a!==void 0&&e.isInstancedMesh!==!0)for(let o=0,s=a.count;o<s;o++)e.isMesh===!0?e.getVertexPosition(o,_l):_l.fromBufferAttribute(a,o),_l.applyMatrix4(e.matrixWorld),this.expandByPoint(_l);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),Uw.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),Uw.copy(r.boundingBox)),Uw.applyMatrix4(e.matrixWorld),this.union(Uw)}const i=e.children;for(let a=0,o=i.length;a<o;a++)this.expandByObject(i[a],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,_l),_l.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(c_),Vw.subVectors(this.max,c_),Wg.subVectors(e.a,c_),Xg.subVectors(e.b,c_),Yg.subVectors(e.c,c_),Wf.subVectors(Xg,Wg),Xf.subVectors(Yg,Xg),zd.subVectors(Wg,Yg);let t=[0,-Wf.z,Wf.y,0,-Xf.z,Xf.y,0,-zd.z,zd.y,Wf.z,0,-Wf.x,Xf.z,0,-Xf.x,zd.z,0,-zd.x,-Wf.y,Wf.x,0,-Xf.y,Xf.x,0,-zd.y,zd.x,0];return!nP(t,Wg,Xg,Yg,Vw)||(t=[1,0,0,0,1,0,0,0,1],!nP(t,Wg,Xg,Yg,Vw))?!1:(Gw.crossVectors(Wf,Xf),t=[Gw.x,Gw.y,Gw.z],nP(t,Wg,Xg,Yg,Vw))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,_l).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(_l).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(yc[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),yc[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),yc[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),yc[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),yc[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),yc[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),yc[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),yc[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(yc),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const yc=[new ne,new ne,new ne,new ne,new ne,new ne,new ne,new ne],_l=new ne,Uw=new vo,Wg=new ne,Xg=new ne,Yg=new ne,Wf=new ne,Xf=new ne,zd=new ne,c_=new ne,Vw=new ne,Gw=new ne,Bd=new ne;function nP(n,e,t,r,i){for(let a=0,o=n.length-3;a<=o;a+=3){Bd.fromArray(n,a);const s=i.x*Math.abs(Bd.x)+i.y*Math.abs(Bd.y)+i.z*Math.abs(Bd.z),l=e.dot(Bd),u=t.dot(Bd),c=r.dot(Bd);if(Math.max(-Math.max(l,u,c),Math.min(l,u,c))>s)return!1}return!0}const Lle=new vo,f_=new ne,rP=new ne;class Va{constructor(e=new ne,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;t!==void 0?r.copy(t):Lle.setFromPoints(e).getCenter(r);let i=0;for(let a=0,o=e.length;a<o;a++)i=Math.max(i,r.distanceToSquared(e[a]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;f_.subVectors(e,this.center);const t=f_.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=(r-this.radius)*.5;this.center.addScaledVector(f_,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(rP.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(f_.copy(e.center).add(rP)),this.expandByPoint(f_.copy(e.center).sub(rP))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const _c=new ne,iP=new ne,Hw=new ne,Yf=new ne,aP=new ne,Ww=new ne,oP=new ne;class Lv{constructor(e=new ne,t=new ne(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,_c)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=_c.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(_c.copy(this.origin).addScaledVector(this.direction,t),_c.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){iP.copy(e).add(t).multiplyScalar(.5),Hw.copy(t).sub(e).normalize(),Yf.copy(this.origin).sub(iP);const a=e.distanceTo(t)*.5,o=-this.direction.dot(Hw),s=Yf.dot(this.direction),l=-Yf.dot(Hw),u=Yf.lengthSq(),c=Math.abs(1-o*o);let f,h,d,p;if(c>0)if(f=o*l-s,h=o*s-l,p=a*c,f>=0)if(h>=-p)if(h<=p){const g=1/c;f*=g,h*=g,d=f*(f+o*h+2*s)+h*(o*f+h+2*l)+u}else h=a,f=Math.max(0,-(o*h+s)),d=-f*f+h*(h+2*l)+u;else h=-a,f=Math.max(0,-(o*h+s)),d=-f*f+h*(h+2*l)+u;else h<=-p?(f=Math.max(0,-(-o*a+s)),h=f>0?-a:Math.min(Math.max(-a,-l),a),d=-f*f+h*(h+2*l)+u):h<=p?(f=0,h=Math.min(Math.max(-a,-l),a),d=h*(h+2*l)+u):(f=Math.max(0,-(o*a+s)),h=f>0?a:Math.min(Math.max(-a,-l),a),d=-f*f+h*(h+2*l)+u);else h=o>0?-a:a,f=Math.max(0,-(o*h+s)),d=-f*f+h*(h+2*l)+u;return r&&r.copy(this.origin).addScaledVector(this.direction,f),i&&i.copy(iP).addScaledVector(Hw,h),d}intersectSphere(e,t){_c.subVectors(e.center,this.origin);const r=_c.dot(this.direction),i=_c.dot(_c)-r*r,a=e.radius*e.radius;if(i>a)return null;const o=Math.sqrt(a-i),s=r-o,l=r+o;return l<0?null:s<0?this.at(l,t):this.at(s,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,a,o,s,l;const u=1/this.direction.x,c=1/this.direction.y,f=1/this.direction.z,h=this.origin;return u>=0?(r=(e.min.x-h.x)*u,i=(e.max.x-h.x)*u):(r=(e.max.x-h.x)*u,i=(e.min.x-h.x)*u),c>=0?(a=(e.min.y-h.y)*c,o=(e.max.y-h.y)*c):(a=(e.max.y-h.y)*c,o=(e.min.y-h.y)*c),r>o||a>i||((a>r||isNaN(r))&&(r=a),(o<i||isNaN(i))&&(i=o),f>=0?(s=(e.min.z-h.z)*f,l=(e.max.z-h.z)*f):(s=(e.max.z-h.z)*f,l=(e.min.z-h.z)*f),r>l||s>i)||((s>r||r!==r)&&(r=s),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return this.intersectBox(e,_c)!==null}intersectTriangle(e,t,r,i,a){aP.subVectors(t,e),Ww.subVectors(r,e),oP.crossVectors(aP,Ww);let o=this.direction.dot(oP),s;if(o>0){if(i)return null;s=1}else if(o<0)s=-1,o=-o;else return null;Yf.subVectors(this.origin,e);const l=s*this.direction.dot(Ww.crossVectors(Yf,Ww));if(l<0)return null;const u=s*this.direction.dot(aP.cross(Yf));if(u<0||l+u>o)return null;const c=-s*Yf.dot(oP);return c<0?null:this.at(c/o,a)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class xn{constructor(e,t,r,i,a,o,s,l,u,c,f,h,d,p,g,m){xn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,r,i,a,o,s,l,u,c,f,h,d,p,g,m)}set(e,t,r,i,a,o,s,l,u,c,f,h,d,p,g,m){const y=this.elements;return y[0]=e,y[4]=t,y[8]=r,y[12]=i,y[1]=a,y[5]=o,y[9]=s,y[13]=l,y[2]=u,y[6]=c,y[10]=f,y[14]=h,y[3]=d,y[7]=p,y[11]=g,y[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new xn().fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,i=1/jg.setFromMatrixColumn(e,0).length(),a=1/jg.setFromMatrixColumn(e,1).length(),o=1/jg.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*a,t[5]=r[5]*a,t[6]=r[6]*a,t[7]=0,t[8]=r[8]*o,t[9]=r[9]*o,t[10]=r[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,r=e.x,i=e.y,a=e.z,o=Math.cos(r),s=Math.sin(r),l=Math.cos(i),u=Math.sin(i),c=Math.cos(a),f=Math.sin(a);if(e.order==="XYZ"){const h=o*c,d=o*f,p=s*c,g=s*f;t[0]=l*c,t[4]=-l*f,t[8]=u,t[1]=d+p*u,t[5]=h-g*u,t[9]=-s*l,t[2]=g-h*u,t[6]=p+d*u,t[10]=o*l}else if(e.order==="YXZ"){const h=l*c,d=l*f,p=u*c,g=u*f;t[0]=h+g*s,t[4]=p*s-d,t[8]=o*u,t[1]=o*f,t[5]=o*c,t[9]=-s,t[2]=d*s-p,t[6]=g+h*s,t[10]=o*l}else if(e.order==="ZXY"){const h=l*c,d=l*f,p=u*c,g=u*f;t[0]=h-g*s,t[4]=-o*f,t[8]=p+d*s,t[1]=d+p*s,t[5]=o*c,t[9]=g-h*s,t[2]=-o*u,t[6]=s,t[10]=o*l}else if(e.order==="ZYX"){const h=o*c,d=o*f,p=s*c,g=s*f;t[0]=l*c,t[4]=p*u-d,t[8]=h*u+g,t[1]=l*f,t[5]=g*u+h,t[9]=d*u-p,t[2]=-u,t[6]=s*l,t[10]=o*l}else if(e.order==="YZX"){const h=o*l,d=o*u,p=s*l,g=s*u;t[0]=l*c,t[4]=g-h*f,t[8]=p*f+d,t[1]=f,t[5]=o*c,t[9]=-s*c,t[2]=-u*c,t[6]=d*f+p,t[10]=h-g*f}else if(e.order==="XZY"){const h=o*l,d=o*u,p=s*l,g=s*u;t[0]=l*c,t[4]=-f,t[8]=u*c,t[1]=h*f+g,t[5]=o*c,t[9]=d*f-p,t[2]=p*f-d,t[6]=s*c,t[10]=g*f+h}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Ile,e,Nle)}lookAt(e,t,r){const i=this.elements;return Qo.subVectors(e,t),Qo.lengthSq()===0&&(Qo.z=1),Qo.normalize(),jf.crossVectors(r,Qo),jf.lengthSq()===0&&(Math.abs(r.z)===1?Qo.x+=1e-4:Qo.z+=1e-4,Qo.normalize(),jf.crossVectors(r,Qo)),jf.normalize(),Xw.crossVectors(Qo,jf),i[0]=jf.x,i[4]=Xw.x,i[8]=Qo.x,i[1]=jf.y,i[5]=Xw.y,i[9]=Qo.y,i[2]=jf.z,i[6]=Xw.z,i[10]=Qo.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,a=this.elements,o=r[0],s=r[4],l=r[8],u=r[12],c=r[1],f=r[5],h=r[9],d=r[13],p=r[2],g=r[6],m=r[10],y=r[14],S=r[3],M=r[7],b=r[11],C=r[15],A=i[0],E=i[4],I=i[8],L=i[12],R=i[1],O=i[5],U=i[9],V=i[13],W=i[2],X=i[6],j=i[10],Q=i[14],B=i[3],Z=i[7],q=i[11],Y=i[15];return a[0]=o*A+s*R+l*W+u*B,a[4]=o*E+s*O+l*X+u*Z,a[8]=o*I+s*U+l*j+u*q,a[12]=o*L+s*V+l*Q+u*Y,a[1]=c*A+f*R+h*W+d*B,a[5]=c*E+f*O+h*X+d*Z,a[9]=c*I+f*U+h*j+d*q,a[13]=c*L+f*V+h*Q+d*Y,a[2]=p*A+g*R+m*W+y*B,a[6]=p*E+g*O+m*X+y*Z,a[10]=p*I+g*U+m*j+y*q,a[14]=p*L+g*V+m*Q+y*Y,a[3]=S*A+M*R+b*W+C*B,a[7]=S*E+M*O+b*X+C*Z,a[11]=S*I+M*U+b*j+C*q,a[15]=S*L+M*V+b*Q+C*Y,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],a=e[12],o=e[1],s=e[5],l=e[9],u=e[13],c=e[2],f=e[6],h=e[10],d=e[14],p=e[3],g=e[7],m=e[11],y=e[15];return p*(+a*l*f-i*u*f-a*s*h+r*u*h+i*s*d-r*l*d)+g*(+t*l*d-t*u*h+a*o*h-i*o*d+i*u*c-a*l*c)+m*(+t*u*f-t*s*d-a*o*f+r*o*d+a*s*c-r*u*c)+y*(-i*s*c-t*l*f+t*s*h+i*o*f-r*o*h+r*l*c)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=e[6],u=e[7],c=e[8],f=e[9],h=e[10],d=e[11],p=e[12],g=e[13],m=e[14],y=e[15],S=f*m*u-g*h*u+g*l*d-s*m*d-f*l*y+s*h*y,M=p*h*u-c*m*u-p*l*d+o*m*d+c*l*y-o*h*y,b=c*g*u-p*f*u+p*s*d-o*g*d-c*s*y+o*f*y,C=p*f*l-c*g*l-p*s*h+o*g*h+c*s*m-o*f*m,A=t*S+r*M+i*b+a*C;if(A===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const E=1/A;return e[0]=S*E,e[1]=(g*h*a-f*m*a-g*i*d+r*m*d+f*i*y-r*h*y)*E,e[2]=(s*m*a-g*l*a+g*i*u-r*m*u-s*i*y+r*l*y)*E,e[3]=(f*l*a-s*h*a-f*i*u+r*h*u+s*i*d-r*l*d)*E,e[4]=M*E,e[5]=(c*m*a-p*h*a+p*i*d-t*m*d-c*i*y+t*h*y)*E,e[6]=(p*l*a-o*m*a-p*i*u+t*m*u+o*i*y-t*l*y)*E,e[7]=(o*h*a-c*l*a+c*i*u-t*h*u-o*i*d+t*l*d)*E,e[8]=b*E,e[9]=(p*f*a-c*g*a-p*r*d+t*g*d+c*r*y-t*f*y)*E,e[10]=(o*g*a-p*s*a+p*r*u-t*g*u-o*r*y+t*s*y)*E,e[11]=(c*s*a-o*f*a-c*r*u+t*f*u+o*r*d-t*s*d)*E,e[12]=C*E,e[13]=(c*g*i-p*f*i+p*r*h-t*g*h-c*r*m+t*f*m)*E,e[14]=(p*s*i-o*g*i-p*r*l+t*g*l+o*r*m-t*s*m)*E,e[15]=(o*f*i-c*s*i+c*r*l-t*f*l-o*r*h+t*s*h)*E,this}scale(e){const t=this.elements,r=e.x,i=e.y,a=e.z;return t[0]*=r,t[4]*=i,t[8]*=a,t[1]*=r,t[5]*=i,t[9]*=a,t[2]*=r,t[6]*=i,t[10]*=a,t[3]*=r,t[7]*=i,t[11]*=a,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,i))}makeTranslation(e,t,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),a=1-r,o=e.x,s=e.y,l=e.z,u=a*o,c=a*s;return this.set(u*o+r,u*s-i*l,u*l+i*s,0,u*s+i*l,c*s+r,c*l-i*o,0,u*l-i*s,c*l+i*o,a*l*l+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,a,o){return this.set(1,r,a,0,e,1,o,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,a=t._x,o=t._y,s=t._z,l=t._w,u=a+a,c=o+o,f=s+s,h=a*u,d=a*c,p=a*f,g=o*c,m=o*f,y=s*f,S=l*u,M=l*c,b=l*f,C=r.x,A=r.y,E=r.z;return i[0]=(1-(g+y))*C,i[1]=(d+b)*C,i[2]=(p-M)*C,i[3]=0,i[4]=(d-b)*A,i[5]=(1-(h+y))*A,i[6]=(m+S)*A,i[7]=0,i[8]=(p+M)*E,i[9]=(m-S)*E,i[10]=(1-(h+g))*E,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;let a=jg.set(i[0],i[1],i[2]).length();const o=jg.set(i[4],i[5],i[6]).length(),s=jg.set(i[8],i[9],i[10]).length();this.determinant()<0&&(a=-a),e.x=i[12],e.y=i[13],e.z=i[14],xl.copy(this);const u=1/a,c=1/o,f=1/s;return xl.elements[0]*=u,xl.elements[1]*=u,xl.elements[2]*=u,xl.elements[4]*=c,xl.elements[5]*=c,xl.elements[6]*=c,xl.elements[8]*=f,xl.elements[9]*=f,xl.elements[10]*=f,t.setFromRotationMatrix(xl),r.x=a,r.y=o,r.z=s,this}makePerspective(e,t,r,i,a,o,s=xu){const l=this.elements,u=2*a/(t-e),c=2*a/(r-i),f=(t+e)/(t-e),h=(r+i)/(r-i);let d,p;if(s===xu)d=-(o+a)/(o-a),p=-2*o*a/(o-a);else if(s===vS)d=-o/(o-a),p=-o*a/(o-a);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+s);return l[0]=u,l[4]=0,l[8]=f,l[12]=0,l[1]=0,l[5]=c,l[9]=h,l[13]=0,l[2]=0,l[6]=0,l[10]=d,l[14]=p,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,r,i,a,o,s=xu){const l=this.elements,u=1/(t-e),c=1/(r-i),f=1/(o-a),h=(t+e)*u,d=(r+i)*c;let p,g;if(s===xu)p=(o+a)*f,g=-2*f;else if(s===vS)p=a*f,g=-1*f;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+s);return l[0]=2*u,l[4]=0,l[8]=0,l[12]=-h,l[1]=0,l[5]=2*c,l[9]=0,l[13]=-d,l[2]=0,l[6]=0,l[10]=g,l[14]=-p,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}const jg=new ne,xl=new xn,Ile=new ne(0,0,0),Nle=new ne(1,1,1),jf=new ne,Xw=new ne,Qo=new ne,rU=new xn,iU=new Ua;class hs{constructor(e=0,t=0,r=0,i=hs.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,i=this._order){return this._x=e,this._y=t,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){const i=e.elements,a=i[0],o=i[4],s=i[8],l=i[1],u=i[5],c=i[9],f=i[2],h=i[6],d=i[10];switch(t){case"XYZ":this._y=Math.asin(ui(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-c,d),this._z=Math.atan2(-o,a)):(this._x=Math.atan2(h,u),this._z=0);break;case"YXZ":this._x=Math.asin(-ui(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(s,d),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-f,a),this._z=0);break;case"ZXY":this._x=Math.asin(ui(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-f,d),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(l,a));break;case"ZYX":this._y=Math.asin(-ui(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(h,d),this._z=Math.atan2(l,a)):(this._x=0,this._z=Math.atan2(-o,u));break;case"YZX":this._z=Math.asin(ui(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-c,u),this._y=Math.atan2(-f,a)):(this._x=0,this._y=Math.atan2(s,d));break;case"XZY":this._z=Math.asin(-ui(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(h,u),this._y=Math.atan2(s,a)):(this._x=Math.atan2(-c,d),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return rU.makeRotationFromQuaternion(e),this.setFromRotationMatrix(rU,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return iU.setFromEuler(this),this.setFromQuaternion(iU,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}hs.DEFAULT_ORDER="XYZ";class av{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let Ole=0;const aU=new ne,Zg=new Ua,xc=new xn,Yw=new ne,h_=new ne,kle=new ne,Fle=new Ua,oU=new ne(1,0,0),sU=new ne(0,1,0),lU=new ne(0,0,1),uU={type:"added"},zle={type:"removed"},$g={type:"childadded",child:null},sP={type:"childremoved",child:null};class hr extends uf{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Ole++}),this.uuid=us(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=hr.DEFAULT_UP.clone();const e=new ne,t=new hs,r=new Ua,i=new ne(1,1,1);function a(){r.setFromEuler(t,!1)}function o(){t.setFromQuaternion(r,void 0,!1)}t._onChange(a),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new xn},normalMatrix:{value:new zn}}),this.matrix=new xn,this.matrixWorld=new xn,this.matrixAutoUpdate=hr.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=hr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new av,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Zg.setFromAxisAngle(e,t),this.quaternion.multiply(Zg),this}rotateOnWorldAxis(e,t){return Zg.setFromAxisAngle(e,t),this.quaternion.premultiply(Zg),this}rotateX(e){return this.rotateOnAxis(oU,e)}rotateY(e){return this.rotateOnAxis(sU,e)}rotateZ(e){return this.rotateOnAxis(lU,e)}translateOnAxis(e,t){return aU.copy(e).applyQuaternion(this.quaternion),this.position.add(aU.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(oU,e)}translateY(e){return this.translateOnAxis(sU,e)}translateZ(e){return this.translateOnAxis(lU,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(xc.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?Yw.copy(e):Yw.set(e,t,r);const i=this.parent;this.updateWorldMatrix(!0,!1),h_.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?xc.lookAt(h_,Yw,this.up):xc.lookAt(Yw,h_,this.up),this.quaternion.setFromRotationMatrix(xc),i&&(xc.extractRotation(i.matrixWorld),Zg.setFromRotationMatrix(xc),this.quaternion.premultiply(Zg.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(uU),$g.child=e,this.dispatchEvent($g),$g.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(zle),sP.child=e,this.dispatchEvent(sP),sP.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),xc.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),xc.multiply(e.parent.matrixWorld)),e.applyMatrix4(xc),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(uU),$g.child=e,this.dispatchEvent($g),$g.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t,r=[]){this[e]===t&&r.push(this);const i=this.children;for(let a=0,o=i.length;a<o;a++)i[a].getObjectsByProperty(e,t,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(h_,e,kle),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(h_,Fle,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,i=t.length;r<i;r++){const a=t[r];(a.matrixWorldAutoUpdate===!0||e===!0)&&a.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const i=this.children;for(let a=0,o=i.length;a<o;a++){const s=i[a];s.matrixWorldAutoUpdate===!0&&s.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.visibility=this._visibility,i.active=this._active,i.bounds=this._bounds.map(s=>({boxInitialized:s.boxInitialized,boxMin:s.box.min.toArray(),boxMax:s.box.max.toArray(),sphereInitialized:s.sphereInitialized,sphereRadius:s.sphere.radius,sphereCenter:s.sphere.center.toArray()})),i.maxGeometryCount=this._maxGeometryCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.geometryCount=this._geometryCount,i.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(i.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(i.boundingSphere={center:i.boundingSphere.center.toArray(),radius:i.boundingSphere.radius}),this.boundingBox!==null&&(i.boundingBox={min:i.boundingBox.min.toArray(),max:i.boundingBox.max.toArray()}));function a(s,l){return s[l.uuid]===void 0&&(s[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=a(e.geometries,this.geometry);const s=this.geometry.parameters;if(s!==void 0&&s.shapes!==void 0){const l=s.shapes;if(Array.isArray(l))for(let u=0,c=l.length;u<c;u++){const f=l[u];a(e.shapes,f)}else a(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(a(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const s=[];for(let l=0,u=this.material.length;l<u;l++)s.push(a(e.materials,this.material[l]));i.material=s}else i.material=a(e.materials,this.material);if(this.children.length>0){i.children=[];for(let s=0;s<this.children.length;s++)i.children.push(this.children[s].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let s=0;s<this.animations.length;s++){const l=this.animations[s];i.animations.push(a(e.animations,l))}}if(t){const s=o(e.geometries),l=o(e.materials),u=o(e.textures),c=o(e.images),f=o(e.shapes),h=o(e.skeletons),d=o(e.animations),p=o(e.nodes);s.length>0&&(r.geometries=s),l.length>0&&(r.materials=l),u.length>0&&(r.textures=u),c.length>0&&(r.images=c),f.length>0&&(r.shapes=f),h.length>0&&(r.skeletons=h),d.length>0&&(r.animations=d),p.length>0&&(r.nodes=p)}return r.object=i,r;function o(s){const l=[];for(const u in s){const c=s[u];delete c.metadata,l.push(c)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}hr.DEFAULT_UP=new ne(0,1,0);hr.DEFAULT_MATRIX_AUTO_UPDATE=!0;hr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Sl=new ne,Sc=new ne,lP=new ne,wc=new ne,qg=new ne,Kg=new ne,cU=new ne,uP=new ne,cP=new ne,fP=new ne;let Wp=class km{constructor(e=new ne,t=new ne,r=new ne){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),Sl.subVectors(e,t),i.cross(Sl);const a=i.lengthSq();return a>0?i.multiplyScalar(1/Math.sqrt(a)):i.set(0,0,0)}static getBarycoord(e,t,r,i,a){Sl.subVectors(i,t),Sc.subVectors(r,t),lP.subVectors(e,t);const o=Sl.dot(Sl),s=Sl.dot(Sc),l=Sl.dot(lP),u=Sc.dot(Sc),c=Sc.dot(lP),f=o*u-s*s;if(f===0)return a.set(0,0,0),null;const h=1/f,d=(u*l-s*c)*h,p=(o*c-s*l)*h;return a.set(1-d-p,p,d)}static containsPoint(e,t,r,i){return this.getBarycoord(e,t,r,i,wc)===null?!1:wc.x>=0&&wc.y>=0&&wc.x+wc.y<=1}static getInterpolation(e,t,r,i,a,o,s,l){return this.getBarycoord(e,t,r,i,wc)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(a,wc.x),l.addScaledVector(o,wc.y),l.addScaledVector(s,wc.z),l)}static isFrontFacing(e,t,r,i){return Sl.subVectors(r,t),Sc.subVectors(e,t),Sl.cross(Sc).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Sl.subVectors(this.c,this.b),Sc.subVectors(this.a,this.b),Sl.cross(Sc).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return km.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return km.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,r,i,a){return km.getInterpolation(e,this.a,this.b,this.c,t,r,i,a)}containsPoint(e){return km.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return km.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,i=this.b,a=this.c;let o,s;qg.subVectors(i,r),Kg.subVectors(a,r),uP.subVectors(e,r);const l=qg.dot(uP),u=Kg.dot(uP);if(l<=0&&u<=0)return t.copy(r);cP.subVectors(e,i);const c=qg.dot(cP),f=Kg.dot(cP);if(c>=0&&f<=c)return t.copy(i);const h=l*f-c*u;if(h<=0&&l>=0&&c<=0)return o=l/(l-c),t.copy(r).addScaledVector(qg,o);fP.subVectors(e,a);const d=qg.dot(fP),p=Kg.dot(fP);if(p>=0&&d<=p)return t.copy(a);const g=d*u-l*p;if(g<=0&&u>=0&&p<=0)return s=u/(u-p),t.copy(r).addScaledVector(Kg,s);const m=c*p-d*f;if(m<=0&&f-c>=0&&d-p>=0)return cU.subVectors(a,i),s=(f-c)/(f-c+(d-p)),t.copy(i).addScaledVector(cU,s);const y=1/(m+g+h);return o=g*y,s=h*y,t.copy(r).addScaledVector(qg,o).addScaledVector(Kg,s)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}};const wY={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Zf={h:0,s:0,l:0},jw={h:0,s:0,l:0};function hP(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class zt{constructor(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,r)}set(e,t,r){if(t===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,t,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Fo){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,vr.toWorkingColorSpace(this,t),this}setRGB(e,t,r,i=vr.workingColorSpace){return this.r=e,this.g=t,this.b=r,vr.toWorkingColorSpace(this,i),this}setHSL(e,t,r,i=vr.workingColorSpace){if(e=PO(e,1),t=ui(t,0,1),r=ui(r,0,1),t===0)this.r=this.g=this.b=r;else{const a=r<=.5?r*(1+t):r+t-r*t,o=2*r-a;this.r=hP(o,a,e+1/3),this.g=hP(o,a,e),this.b=hP(o,a,e-1/3)}return vr.toWorkingColorSpace(this,i),this}setStyle(e,t=Fo){function r(a){a!==void 0&&parseFloat(a)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let a;const o=i[1],s=i[2];switch(o){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(a[4]),this.setRGB(Math.min(255,parseInt(a[1],10))/255,Math.min(255,parseInt(a[2],10))/255,Math.min(255,parseInt(a[3],10))/255,t);if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(a[4]),this.setRGB(Math.min(100,parseInt(a[1],10))/100,Math.min(100,parseInt(a[2],10))/100,Math.min(100,parseInt(a[3],10))/100,t);break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(a[4]),this.setHSL(parseFloat(a[1])/360,parseFloat(a[2])/100,parseFloat(a[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const a=i[1],o=a.length;if(o===3)return this.setRGB(parseInt(a.charAt(0),16)/15,parseInt(a.charAt(1),16)/15,parseInt(a.charAt(2),16)/15,t);if(o===6)return this.setHex(parseInt(a,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=Fo){const r=wY[e.toLowerCase()];return r!==void 0?this.setHex(r,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=ay(e.r),this.g=ay(e.g),this.b=ay(e.b),this}copyLinearToSRGB(e){return this.r=QE(e.r),this.g=QE(e.g),this.b=QE(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Fo){return vr.fromWorkingColorSpace(Da.copy(this),e),Math.round(ui(Da.r*255,0,255))*65536+Math.round(ui(Da.g*255,0,255))*256+Math.round(ui(Da.b*255,0,255))}getHexString(e=Fo){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=vr.workingColorSpace){vr.fromWorkingColorSpace(Da.copy(this),t);const r=Da.r,i=Da.g,a=Da.b,o=Math.max(r,i,a),s=Math.min(r,i,a);let l,u;const c=(s+o)/2;if(s===o)l=0,u=0;else{const f=o-s;switch(u=c<=.5?f/(o+s):f/(2-o-s),o){case r:l=(i-a)/f+(i<a?6:0);break;case i:l=(a-r)/f+2;break;case a:l=(r-i)/f+4;break}l/=6}return e.h=l,e.s=u,e.l=c,e}getRGB(e,t=vr.workingColorSpace){return vr.fromWorkingColorSpace(Da.copy(this),t),e.r=Da.r,e.g=Da.g,e.b=Da.b,e}getStyle(e=Fo){vr.fromWorkingColorSpace(Da.copy(this),e);const t=Da.r,r=Da.g,i=Da.b;return e!==Fo?`color(${e} ${t.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,t,r){return this.getHSL(Zf),this.setHSL(Zf.h+e,Zf.s+t,Zf.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(Zf),e.getHSL(jw);const r=Px(Zf.h,jw.h,t),i=Px(Zf.s,jw.s,t),a=Px(Zf.l,jw.l,t);return this.setHSL(r,i,a),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,r=this.g,i=this.b,a=e.elements;return this.r=a[0]*t+a[3]*r+a[6]*i,this.g=a[1]*t+a[4]*r+a[7]*i,this.b=a[2]*t+a[5]*r+a[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Da=new zt;zt.NAMES=wY;let Ble=0;class ja extends uf{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Ble++}),this.uuid=us(),this.name="",this.type="Material",this.blending=nv,this.side=qc,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=Mb,this.blendDst=Tb,this.blendEquation=dh,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new zt(0,0,0),this.blendAlpha=0,this.depthFunc=rS,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=bL,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Tp,this.stencilZFail=Tp,this.stencilZPass=Tp,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const r=e[t];if(r===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const i=this[t];if(i===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==nv&&(r.blending=this.blending),this.side!==qc&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==Mb&&(r.blendSrc=this.blendSrc),this.blendDst!==Tb&&(r.blendDst=this.blendDst),this.blendEquation!==dh&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==rS&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==bL&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Tp&&(r.stencilFail=this.stencilFail),this.stencilZFail!==Tp&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==Tp&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(a){const o=[];for(const s in a){const l=a[s];delete l.metadata,o.push(l)}return o}if(t){const a=i(e.textures),o=i(e.images);a.length>0&&(r.textures=a),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(t!==null){const i=t.length;r=new Array(i);for(let a=0;a!==i;++a)r[a]=t[a].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Hh extends ja{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new zt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new hs,this.combine=o1,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Oc=Ule();function Ule(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const u=l-127;u<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):u<-14?(r[l]=1024>>-u-14,r[l|256]=1024>>-u-14|32768,i[l]=-u-1,i[l|256]=-u-1):u<=15?(r[l]=u+15<<10,r[l|256]=u+15<<10|32768,i[l]=13,i[l|256]=13):u<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const a=new Uint32Array(2048),o=new Uint32Array(64),s=new Uint32Array(64);for(let l=1;l<1024;++l){let u=l<<13,c=0;for(;(u&8388608)===0;)u<<=1,c-=8388608;u&=-8388609,c+=947912704,a[l]=u|c}for(let l=1024;l<2048;++l)a[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(s[l]=1024);return{floatView:e,uint32View:t,baseTable:r,shiftTable:i,mantissaTable:a,exponentTable:o,offsetTable:s}}function Oo(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=ui(n,-65504,65504),Oc.floatView[0]=n;const e=Oc.uint32View[0],t=e>>23&511;return Oc.baseTable[t]+((e&8388607)>>Oc.shiftTable[t])}function sx(n){const e=n>>10;return Oc.uint32View[0]=Oc.mantissaTable[Oc.offsetTable[e]+(n&1023)]+Oc.exponentTable[e],Oc.floatView[0]}const Vle={toHalfFloat:Oo,fromHalfFloat:sx},Ai=new ne,Zw=new je;class Tr{constructor(e,t,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r,this.usage=pS,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=as,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return DO("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,a=this.itemSize;i<a;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)Zw.fromBufferAttribute(this,t),Zw.applyMatrix3(e),this.setXY(t,Zw.x,Zw.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)Ai.fromBufferAttribute(this,t),Ai.applyMatrix3(e),this.setXYZ(t,Ai.x,Ai.y,Ai.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)Ai.fromBufferAttribute(this,t),Ai.applyMatrix4(e),this.setXYZ(t,Ai.x,Ai.y,Ai.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Ai.fromBufferAttribute(this,t),Ai.applyNormalMatrix(e),this.setXYZ(t,Ai.x,Ai.y,Ai.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Ai.fromBufferAttribute(this,t),Ai.transformDirection(e),this.setXYZ(t,Ai.x,Ai.y,Ai.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let r=this.array[e*this.itemSize+t];return this.normalized&&(r=ho(r,this.array)),r}setComponent(e,t,r){return this.normalized&&(r=Bn(r,this.array)),this.array[e*this.itemSize+t]=r,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=ho(t,this.array)),t}setX(e,t){return this.normalized&&(t=Bn(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=ho(t,this.array)),t}setY(e,t){return this.normalized&&(t=Bn(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=ho(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Bn(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=ho(t,this.array)),t}setW(e,t){return this.normalized&&(t=Bn(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=Bn(t,this.array),r=Bn(r,this.array)),this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=Bn(t,this.array),r=Bn(r,this.array),i=Bn(i,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,a){return e*=this.itemSize,this.normalized&&(t=Bn(t,this.array),r=Bn(r,this.array),i=Bn(i,this.array),a=Bn(a,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=a,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==pS&&(e.usage=this.usage),e}}class Gle extends Tr{constructor(e,t,r){super(new Int8Array(e),t,r)}}class Hle extends Tr{constructor(e,t,r){super(new Uint8Array(e),t,r)}}class Wle extends Tr{constructor(e,t,r){super(new Uint8ClampedArray(e),t,r)}}class Xle extends Tr{constructor(e,t,r){super(new Int16Array(e),t,r)}}class LO extends Tr{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class Yle extends Tr{constructor(e,t,r){super(new Int32Array(e),t,r)}}class IO extends Tr{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class jle extends Tr{constructor(e,t,r){super(new Uint16Array(e),t,r),this.isFloat16BufferAttribute=!0}getX(e){let t=sx(this.array[e*this.itemSize]);return this.normalized&&(t=ho(t,this.array)),t}setX(e,t){return this.normalized&&(t=Bn(t,this.array)),this.array[e*this.itemSize]=Oo(t),this}getY(e){let t=sx(this.array[e*this.itemSize+1]);return this.normalized&&(t=ho(t,this.array)),t}setY(e,t){return this.normalized&&(t=Bn(t,this.array)),this.array[e*this.itemSize+1]=Oo(t),this}getZ(e){let t=sx(this.array[e*this.itemSize+2]);return this.normalized&&(t=ho(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Bn(t,this.array)),this.array[e*this.itemSize+2]=Oo(t),this}getW(e){let t=sx(this.array[e*this.itemSize+3]);return this.normalized&&(t=ho(t,this.array)),t}setW(e,t){return this.normalized&&(t=Bn(t,this.array)),this.array[e*this.itemSize+3]=Oo(t),this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=Bn(t,this.array),r=Bn(r,this.array)),this.array[e+0]=Oo(t),this.array[e+1]=Oo(r),this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=Bn(t,this.array),r=Bn(r,this.array),i=Bn(i,this.array)),this.array[e+0]=Oo(t),this.array[e+1]=Oo(r),this.array[e+2]=Oo(i),this}setXYZW(e,t,r,i,a){return e*=this.itemSize,this.normalized&&(t=Bn(t,this.array),r=Bn(r,this.array),i=Bn(i,this.array),a=Bn(a,this.array)),this.array[e+0]=Oo(t),this.array[e+1]=Oo(r),this.array[e+2]=Oo(i),this.array[e+3]=Oo(a),this}}class Qt extends Tr{constructor(e,t,r){super(new Float32Array(e),t,r)}}let Zle=0;const bs=new xn,dP=new hr,Jg=new ne,es=new vo,d_=new vo,ta=new ne;class Wn extends uf{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Zle++}),this.uuid=us(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(yY(e)?IO:LO)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const a=new zn().getNormalMatrix(e);r.applyNormalMatrix(a),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return bs.makeRotationFromQuaternion(e),this.applyMatrix4(bs),this}rotateX(e){return bs.makeRotationX(e),this.applyMatrix4(bs),this}rotateY(e){return bs.makeRotationY(e),this.applyMatrix4(bs),this}rotateZ(e){return bs.makeRotationZ(e),this.applyMatrix4(bs),this}translate(e,t,r){return bs.makeTranslation(e,t,r),this.applyMatrix4(bs),this}scale(e,t,r){return bs.makeScale(e,t,r),this.applyMatrix4(bs),this}lookAt(e){return dP.lookAt(e),dP.updateMatrix(),this.applyMatrix4(dP.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Jg).negate(),this.translate(Jg.x,Jg.y,Jg.z),this}setFromPoints(e){const t=[];for(let r=0,i=e.length;r<i;r++){const a=e[r];t.push(a.x,a.y,a.z||0)}return this.setAttribute("position",new Qt(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new vo);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new ne(-1/0,-1/0,-1/0),new ne(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++){const a=t[r];es.setFromBufferAttribute(a),this.morphTargetsRelative?(ta.addVectors(this.boundingBox.min,es.min),this.boundingBox.expandByPoint(ta),ta.addVectors(this.boundingBox.max,es.max),this.boundingBox.expandByPoint(ta)):(this.boundingBox.expandByPoint(es.min),this.boundingBox.expandByPoint(es.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Va);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new ne,1/0);return}if(e){const r=this.boundingSphere.center;if(es.setFromBufferAttribute(e),t)for(let a=0,o=t.length;a<o;a++){const s=t[a];d_.setFromBufferAttribute(s),this.morphTargetsRelative?(ta.addVectors(es.min,d_.min),es.expandByPoint(ta),ta.addVectors(es.max,d_.max),es.expandByPoint(ta)):(es.expandByPoint(d_.min),es.expandByPoint(d_.max))}es.getCenter(r);let i=0;for(let a=0,o=e.count;a<o;a++)ta.fromBufferAttribute(e,a),i=Math.max(i,r.distanceToSquared(ta));if(t)for(let a=0,o=t.length;a<o;a++){const s=t[a],l=this.morphTargetsRelative;for(let u=0,c=s.count;u<c;u++)ta.fromBufferAttribute(s,u),l&&(Jg.fromBufferAttribute(e,u),ta.add(Jg)),i=Math.max(i,r.distanceToSquared(ta))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=t.position,i=t.normal,a=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Tr(new Float32Array(4*r.count),4));const o=this.getAttribute("tangent"),s=[],l=[];for(let I=0;I<r.count;I++)s[I]=new ne,l[I]=new ne;const u=new ne,c=new ne,f=new ne,h=new je,d=new je,p=new je,g=new ne,m=new ne;function y(I,L,R){u.fromBufferAttribute(r,I),c.fromBufferAttribute(r,L),f.fromBufferAttribute(r,R),h.fromBufferAttribute(a,I),d.fromBufferAttribute(a,L),p.fromBufferAttribute(a,R),c.sub(u),f.sub(u),d.sub(h),p.sub(h);const O=1/(d.x*p.y-p.x*d.y);isFinite(O)&&(g.copy(c).multiplyScalar(p.y).addScaledVector(f,-d.y).multiplyScalar(O),m.copy(f).multiplyScalar(d.x).addScaledVector(c,-p.x).multiplyScalar(O),s[I].add(g),s[L].add(g),s[R].add(g),l[I].add(m),l[L].add(m),l[R].add(m))}let S=this.groups;S.length===0&&(S=[{start:0,count:e.count}]);for(let I=0,L=S.length;I<L;++I){const R=S[I],O=R.start,U=R.count;for(let V=O,W=O+U;V<W;V+=3)y(e.getX(V+0),e.getX(V+1),e.getX(V+2))}const M=new ne,b=new ne,C=new ne,A=new ne;function E(I){C.fromBufferAttribute(i,I),A.copy(C);const L=s[I];M.copy(L),M.sub(C.multiplyScalar(C.dot(L))).normalize(),b.crossVectors(A,L);const O=b.dot(l[I])<0?-1:1;o.setXYZW(I,M.x,M.y,M.z,O)}for(let I=0,L=S.length;I<L;++I){const R=S[I],O=R.start,U=R.count;for(let V=O,W=O+U;V<W;V+=3)E(e.getX(V+0)),E(e.getX(V+1)),E(e.getX(V+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Tr(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let h=0,d=r.count;h<d;h++)r.setXYZ(h,0,0,0);const i=new ne,a=new ne,o=new ne,s=new ne,l=new ne,u=new ne,c=new ne,f=new ne;if(e)for(let h=0,d=e.count;h<d;h+=3){const p=e.getX(h+0),g=e.getX(h+1),m=e.getX(h+2);i.fromBufferAttribute(t,p),a.fromBufferAttribute(t,g),o.fromBufferAttribute(t,m),c.subVectors(o,a),f.subVectors(i,a),c.cross(f),s.fromBufferAttribute(r,p),l.fromBufferAttribute(r,g),u.fromBufferAttribute(r,m),s.add(c),l.add(c),u.add(c),r.setXYZ(p,s.x,s.y,s.z),r.setXYZ(g,l.x,l.y,l.z),r.setXYZ(m,u.x,u.y,u.z)}else for(let h=0,d=t.count;h<d;h+=3)i.fromBufferAttribute(t,h+0),a.fromBufferAttribute(t,h+1),o.fromBufferAttribute(t,h+2),c.subVectors(o,a),f.subVectors(i,a),c.cross(f),r.setXYZ(h+0,c.x,c.y,c.z),r.setXYZ(h+1,c.x,c.y,c.z),r.setXYZ(h+2,c.x,c.y,c.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)ta.fromBufferAttribute(e,t),ta.normalize(),e.setXYZ(t,ta.x,ta.y,ta.z)}toNonIndexed(){function e(s,l){const u=s.array,c=s.itemSize,f=s.normalized,h=new u.constructor(l.length*c);let d=0,p=0;for(let g=0,m=l.length;g<m;g++){s.isInterleavedBufferAttribute?d=l[g]*s.data.stride+s.offset:d=l[g]*c;for(let y=0;y<c;y++)h[p++]=u[d++]}return new Tr(h,c,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Wn,r=this.index.array,i=this.attributes;for(const s in i){const l=i[s],u=e(l,r);t.setAttribute(s,u)}const a=this.morphAttributes;for(const s in a){const l=[],u=a[s];for(let c=0,f=u.length;c<f;c++){const h=u[c],d=e(h,r);l.push(d)}t.morphAttributes[s]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let s=0,l=o.length;s<l;s++){const u=o[s];t.addGroup(u.start,u.count,u.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const l in r){const u=r[l];e.data.attributes[l]=u.toJSON(e.data)}const i={};let a=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],c=[];for(let f=0,h=u.length;f<h;f++){const d=u[f];c.push(d.toJSON(e.data))}c.length>0&&(i[l]=c,a=!0)}a&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const s=this.boundingSphere;return s!==null&&(e.data.boundingSphere={center:s.center.toArray(),radius:s.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(t));const i=e.attributes;for(const u in i){const c=i[u];this.setAttribute(u,c.clone(t))}const a=e.morphAttributes;for(const u in a){const c=[],f=a[u];for(let h=0,d=f.length;h<d;h++)c.push(f[h].clone(t));this.morphAttributes[u]=c}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let u=0,c=o.length;u<c;u++){const f=o[u];this.addGroup(f.start,f.count,f.materialIndex)}const s=e.boundingBox;s!==null&&(this.boundingBox=s.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const fU=new xn,Ud=new Lv,$w=new Va,hU=new ne,Qg=new ne,em=new ne,tm=new ne,pP=new ne,qw=new ne,Kw=new je,Jw=new je,Qw=new je,dU=new ne,pU=new ne,vU=new ne,eM=new ne,tM=new ne;class Pi extends hr{constructor(e=new Wn,t=new Hh){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=i.length;a<o;a++){const s=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=a}}}}getVertexPosition(e,t){const r=this.geometry,i=r.attributes.position,a=r.morphAttributes.position,o=r.morphTargetsRelative;t.fromBufferAttribute(i,e);const s=this.morphTargetInfluences;if(a&&s){qw.set(0,0,0);for(let l=0,u=a.length;l<u;l++){const c=s[l],f=a[l];c!==0&&(pP.fromBufferAttribute(f,e),o?qw.addScaledVector(pP,c):qw.addScaledVector(pP.sub(t),c))}t.add(qw)}return t}raycast(e,t){const r=this.geometry,i=this.material,a=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),$w.copy(r.boundingSphere),$w.applyMatrix4(a),Ud.copy(e.ray).recast(e.near),!($w.containsPoint(Ud.origin)===!1&&(Ud.intersectSphere($w,hU)===null||Ud.origin.distanceToSquared(hU)>(e.far-e.near)**2))&&(fU.copy(a).invert(),Ud.copy(e.ray).applyMatrix4(fU),!(r.boundingBox!==null&&Ud.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,t,Ud)))}_computeIntersections(e,t,r){let i;const a=this.geometry,o=this.material,s=a.index,l=a.attributes.position,u=a.attributes.uv,c=a.attributes.uv1,f=a.attributes.normal,h=a.groups,d=a.drawRange;if(s!==null)if(Array.isArray(o))for(let p=0,g=h.length;p<g;p++){const m=h[p],y=o[m.materialIndex],S=Math.max(m.start,d.start),M=Math.min(s.count,Math.min(m.start+m.count,d.start+d.count));for(let b=S,C=M;b<C;b+=3){const A=s.getX(b),E=s.getX(b+1),I=s.getX(b+2);i=nM(this,y,e,r,u,c,f,A,E,I),i&&(i.faceIndex=Math.floor(b/3),i.face.materialIndex=m.materialIndex,t.push(i))}}else{const p=Math.max(0,d.start),g=Math.min(s.count,d.start+d.count);for(let m=p,y=g;m<y;m+=3){const S=s.getX(m),M=s.getX(m+1),b=s.getX(m+2);i=nM(this,o,e,r,u,c,f,S,M,b),i&&(i.faceIndex=Math.floor(m/3),t.push(i))}}else if(l!==void 0)if(Array.isArray(o))for(let p=0,g=h.length;p<g;p++){const m=h[p],y=o[m.materialIndex],S=Math.max(m.start,d.start),M=Math.min(l.count,Math.min(m.start+m.count,d.start+d.count));for(let b=S,C=M;b<C;b+=3){const A=b,E=b+1,I=b+2;i=nM(this,y,e,r,u,c,f,A,E,I),i&&(i.faceIndex=Math.floor(b/3),i.face.materialIndex=m.materialIndex,t.push(i))}}else{const p=Math.max(0,d.start),g=Math.min(l.count,d.start+d.count);for(let m=p,y=g;m<y;m+=3){const S=m,M=m+1,b=m+2;i=nM(this,o,e,r,u,c,f,S,M,b),i&&(i.faceIndex=Math.floor(m/3),t.push(i))}}}}function $le(n,e,t,r,i,a,o,s){let l;if(e.side===ya?l=r.intersectTriangle(o,a,i,!0,s):l=r.intersectTriangle(i,a,o,e.side===qc,s),l===null)return null;tM.copy(s),tM.applyMatrix4(n.matrixWorld);const u=t.ray.origin.distanceTo(tM);return u<t.near||u>t.far?null:{distance:u,point:tM.clone(),object:n}}function nM(n,e,t,r,i,a,o,s,l,u){n.getVertexPosition(s,Qg),n.getVertexPosition(l,em),n.getVertexPosition(u,tm);const c=$le(n,e,t,r,Qg,em,tm,eM);if(c){i&&(Kw.fromBufferAttribute(i,s),Jw.fromBufferAttribute(i,l),Qw.fromBufferAttribute(i,u),c.uv=Wp.getInterpolation(eM,Qg,em,tm,Kw,Jw,Qw,new je)),a&&(Kw.fromBufferAttribute(a,s),Jw.fromBufferAttribute(a,l),Qw.fromBufferAttribute(a,u),c.uv1=Wp.getInterpolation(eM,Qg,em,tm,Kw,Jw,Qw,new je)),o&&(dU.fromBufferAttribute(o,s),pU.fromBufferAttribute(o,l),vU.fromBufferAttribute(o,u),c.normal=Wp.getInterpolation(eM,Qg,em,tm,dU,pU,vU,new ne),c.normal.dot(r.direction)>0&&c.normal.multiplyScalar(-1));const f={a:s,b:l,c:u,normal:new ne,materialIndex:0};Wp.getNormal(Qg,em,tm,f.normal),c.face=f}return c}class Iv extends Wn{constructor(e=1,t=1,r=1,i=1,a=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:a,depthSegments:o};const s=this;i=Math.floor(i),a=Math.floor(a),o=Math.floor(o);const l=[],u=[],c=[],f=[];let h=0,d=0;p("z","y","x",-1,-1,r,t,e,o,a,0),p("z","y","x",1,-1,r,t,-e,o,a,1),p("x","z","y",1,1,e,r,t,i,o,2),p("x","z","y",1,-1,e,r,-t,i,o,3),p("x","y","z",1,-1,e,t,r,i,a,4),p("x","y","z",-1,-1,e,t,-r,i,a,5),this.setIndex(l),this.setAttribute("position",new Qt(u,3)),this.setAttribute("normal",new Qt(c,3)),this.setAttribute("uv",new Qt(f,2));function p(g,m,y,S,M,b,C,A,E,I,L){const R=b/E,O=C/I,U=b/2,V=C/2,W=A/2,X=E+1,j=I+1;let Q=0,B=0;const Z=new ne;for(let q=0;q<j;q++){const Y=q*O-V;for(let te=0;te<X;te++){const me=te*R-U;Z[g]=me*S,Z[m]=Y*M,Z[y]=W,u.push(Z.x,Z.y,Z.z),Z[g]=0,Z[m]=0,Z[y]=A>0?1:-1,c.push(Z.x,Z.y,Z.z),f.push(te/E),f.push(1-q/I),Q+=1}}for(let q=0;q<I;q++)for(let Y=0;Y<E;Y++){const te=h+Y+X*q,me=h+Y+X*(q+1),ae=h+(Y+1)+X*(q+1),fe=h+(Y+1)+X*q;l.push(te,me,fe),l.push(me,ae,fe),B+=6}s.addGroup(d,B,L),d+=B,h+=Q}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Iv(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function _y(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const i=n[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][r]=null):e[t][r]=i.clone():Array.isArray(i)?e[t][r]=i.slice():e[t][r]=i}}return e}function lo(n){const e={};for(let t=0;t<n.length;t++){const r=_y(n[t]);for(const i in r)e[i]=r[i]}return e}function qle(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function MY(n){const e=n.getRenderTarget();return e===null?n.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:vr.workingColorSpace}const TY={clone:_y,merge:lo};var Kle=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Jle=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Ul extends ja{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Kle,this.fragmentShader=Jle,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=_y(e.uniforms),this.uniformsGroups=qle(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?t.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[i]={type:"m4",value:o.toArray()}:t.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}class u1 extends hr{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new xn,this.projectionMatrix=new xn,this.projectionMatrixInverse=new xn,this.coordinateSystem=xu}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const $f=new ne,gU=new je,mU=new je;class mi extends u1{constructor(e=50,t=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=yy*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(iv*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return yy*2*Math.atan(Math.tan(iv*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,r){$f.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set($f.x,$f.y).multiplyScalar(-e/$f.z),$f.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set($f.x,$f.y).multiplyScalar(-e/$f.z)}getViewSize(e,t){return this.getViewBounds(e,gU,mU),t.subVectors(mU,gU)}setViewOffset(e,t,r,i,a,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=a,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(iv*.5*this.fov)/this.zoom,r=2*t,i=this.aspect*r,a=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,u=o.fullHeight;a+=o.offsetX*i/l,t-=o.offsetY*r/u,i*=o.width/l,r*=o.height/u}const s=this.filmOffset;s!==0&&(a+=e*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+i,t,t-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const nm=-90,rm=1;class bY extends hr{constructor(e,t,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new mi(nm,rm,e,t);i.layers=this.layers,this.add(i);const a=new mi(nm,rm,e,t);a.layers=this.layers,this.add(a);const o=new mi(nm,rm,e,t);o.layers=this.layers,this.add(o);const s=new mi(nm,rm,e,t);s.layers=this.layers,this.add(s);const l=new mi(nm,rm,e,t);l.layers=this.layers,this.add(l);const u=new mi(nm,rm,e,t);u.layers=this.layers,this.add(u)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[r,i,a,o,s,l]=t;for(const u of t)this.remove(u);if(e===xu)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),a.up.set(0,0,-1),a.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),s.up.set(0,1,0),s.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===vS)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),a.up.set(0,0,1),a.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),s.up.set(0,-1,0),s.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const u of t)this.add(u),u.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[a,o,s,l,u,c]=this.children,f=e.getRenderTarget(),h=e.getActiveCubeFace(),d=e.getActiveMipmapLevel(),p=e.xr.enabled;e.xr.enabled=!1;const g=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(t,a),e.setRenderTarget(r,1,i),e.render(t,o),e.setRenderTarget(r,2,i),e.render(t,s),e.setRenderTarget(r,3,i),e.render(t,l),e.setRenderTarget(r,4,i),e.render(t,u),r.texture.generateMipmaps=g,e.setRenderTarget(r,5,i),e.render(t,c),e.setRenderTarget(f,h,d),e.xr.enabled=p,r.texture.needsPMREMUpdate=!0}}class c1 extends $r{constructor(e,t,r,i,a,o,s,l,u,c){e=e!==void 0?e:[],t=t!==void 0?t:Kc,super(e,t,r,i,a,o,s,l,u,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class AY extends Bl{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new c1(i,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:Ei}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Iv(5,5,5),a=new Ul({name:"CubemapFromEquirect",uniforms:_y(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:ya,blending:Xc});a.uniforms.tEquirect.value=t;const o=new Pi(i,a),s=t.minFilter;return t.minFilter===_u&&(t.minFilter=Ei),new bY(1,10,this).update(e,o),t.minFilter=s,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,r,i){const a=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,r,i);e.setRenderTarget(a)}}const vP=new ne,Qle=new ne,eue=new zn;class Ic{constructor(e=new ne(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=vP.subVectors(r,t).cross(Qle.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const r=e.delta(vP),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const a=-(e.start.dot(this.normal)+this.constant)/i;return a<0||a>1?null:t.copy(e.start).addScaledVector(r,a)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||eue.getNormalMatrix(e),i=this.coplanarPoint(vP).applyMatrix4(e),a=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(a),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Vd=new Va,rM=new ne;class f1{constructor(e=new Ic,t=new Ic,r=new Ic,i=new Ic,a=new Ic,o=new Ic){this.planes=[e,t,r,i,a,o]}set(e,t,r,i,a,o){const s=this.planes;return s[0].copy(e),s[1].copy(t),s[2].copy(r),s[3].copy(i),s[4].copy(a),s[5].copy(o),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,t=xu){const r=this.planes,i=e.elements,a=i[0],o=i[1],s=i[2],l=i[3],u=i[4],c=i[5],f=i[6],h=i[7],d=i[8],p=i[9],g=i[10],m=i[11],y=i[12],S=i[13],M=i[14],b=i[15];if(r[0].setComponents(l-a,h-u,m-d,b-y).normalize(),r[1].setComponents(l+a,h+u,m+d,b+y).normalize(),r[2].setComponents(l+o,h+c,m+p,b+S).normalize(),r[3].setComponents(l-o,h-c,m-p,b-S).normalize(),r[4].setComponents(l-s,h-f,m-g,b-M).normalize(),t===xu)r[5].setComponents(l+s,h+f,m+g,b+M).normalize();else if(t===vS)r[5].setComponents(s,f,g,M).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Vd.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),Vd.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Vd)}intersectsSprite(e){return Vd.center.set(0,0,0),Vd.radius=.7071067811865476,Vd.applyMatrix4(e.matrixWorld),this.intersectsSphere(Vd)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let a=0;a<6;a++)if(t[a].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if(rM.x=i.normal.x>0?e.max.x:e.min.x,rM.y=i.normal.y>0?e.max.y:e.min.y,rM.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(rM)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function CY(){let n=null,e=!1,t=null,r=null;function i(a,o){t(a,o),r=n.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(a){t=a},setContext:function(a){n=a}}}function tue(n){const e=new WeakMap;function t(s,l){const u=s.array,c=s.usage,f=u.byteLength,h=n.createBuffer();n.bindBuffer(l,h),n.bufferData(l,u,c),s.onUploadCallback();let d;if(u instanceof Float32Array)d=n.FLOAT;else if(u instanceof Uint16Array)s.isFloat16BufferAttribute?d=n.HALF_FLOAT:d=n.UNSIGNED_SHORT;else if(u instanceof Int16Array)d=n.SHORT;else if(u instanceof Uint32Array)d=n.UNSIGNED_INT;else if(u instanceof Int32Array)d=n.INT;else if(u instanceof Int8Array)d=n.BYTE;else if(u instanceof Uint8Array)d=n.UNSIGNED_BYTE;else if(u instanceof Uint8ClampedArray)d=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+u);return{buffer:h,type:d,bytesPerElement:u.BYTES_PER_ELEMENT,version:s.version,size:f}}function r(s,l,u){const c=l.array,f=l._updateRange,h=l.updateRanges;if(n.bindBuffer(u,s),f.count===-1&&h.length===0&&n.bufferSubData(u,0,c),h.length!==0){for(let d=0,p=h.length;d<p;d++){const g=h[d];n.bufferSubData(u,g.start*c.BYTES_PER_ELEMENT,c,g.start,g.count)}l.clearUpdateRanges()}f.count!==-1&&(n.bufferSubData(u,f.offset*c.BYTES_PER_ELEMENT,c,f.offset,f.count),f.count=-1),l.onUploadCallback()}function i(s){return s.isInterleavedBufferAttribute&&(s=s.data),e.get(s)}function a(s){s.isInterleavedBufferAttribute&&(s=s.data);const l=e.get(s);l&&(n.deleteBuffer(l.buffer),e.delete(s))}function o(s,l){if(s.isGLBufferAttribute){const c=e.get(s);(!c||c.version<s.version)&&e.set(s,{buffer:s.buffer,type:s.type,bytesPerElement:s.elementSize,version:s.version});return}s.isInterleavedBufferAttribute&&(s=s.data);const u=e.get(s);if(u===void 0)e.set(s,t(s,l));else if(u.version<s.version){if(u.size!==s.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(u.buffer,s,l),u.version=s.version}}return{get:i,remove:a,update:o}}class Uy extends Wn{constructor(e=1,t=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};const a=e/2,o=t/2,s=Math.floor(r),l=Math.floor(i),u=s+1,c=l+1,f=e/s,h=t/l,d=[],p=[],g=[],m=[];for(let y=0;y<c;y++){const S=y*h-o;for(let M=0;M<u;M++){const b=M*f-a;p.push(b,-S,0),g.push(0,0,1),m.push(M/s),m.push(1-y/l)}}for(let y=0;y<l;y++)for(let S=0;S<s;S++){const M=S+u*y,b=S+u*(y+1),C=S+1+u*(y+1),A=S+1+u*y;d.push(M,b,A),d.push(b,C,A)}this.setIndex(d),this.setAttribute("position",new Qt(p,3)),this.setAttribute("normal",new Qt(g,3)),this.setAttribute("uv",new Qt(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Uy(e.width,e.height,e.widthSegments,e.heightSegments)}}var nue=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,rue=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,iue=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,aue=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,oue=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,sue=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,lue=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,uue=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,cue=`#ifdef USE_BATCHING
	attribute float batchId;
	uniform highp sampler2D batchingTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,fue=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( batchId );
#endif`,hue=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,due=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,pue=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,vue=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,gue=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,mue=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,yue=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,_ue=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,xue=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,Sue=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,wue=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Mue=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,Tue=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( batchId );
	vColor.xyz *= batchingColor.xyz;
#endif`,bue=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,Aue=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,Cue=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Eue=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Pue=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,Due=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Rue=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Lue="gl_FragColor = linearToOutputTexel( gl_FragColor );",Iue=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,Nue=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Oue=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,kue=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Fue=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,zue=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Bue=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Uue=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Vue=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Gue=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Hue=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,Wue=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Xue=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Yue=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,jue=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Zue=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,$ue=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,que=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,Kue=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Jue=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,Que=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,ece=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,tce=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,nce=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,rce=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,ice=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,ace=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,oce=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,sce=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,lce=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,uce=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,cce=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,fce=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,hce=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,dce=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,pce=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,vce=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,gce=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,mce=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,yce=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,_ce=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,xce=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,Sce=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,wce=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Mce=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Tce=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,bce=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,Ace=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,Cce=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,Ece=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,Pce=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Dce=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,Rce=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,Lce=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Ice=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Nce=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Oce=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,kce=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Fce=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return shadow;
	}
#endif`,zce=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Bce=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,Uce=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Vce=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Gce=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,Hce=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Wce=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Xce=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Yce=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,jce=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Zce=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,$ce=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,qce=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
		
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
		
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		
		#else
		
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,Kce=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Jce=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Qce=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,efe=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const tfe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,nfe=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,rfe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,ife=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,afe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,ofe=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,sfe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,lfe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,ufe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,cfe=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,ffe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,hfe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,dfe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,pfe=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vfe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,gfe=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,mfe=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,yfe=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,_fe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,xfe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Sfe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,wfe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Mfe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Tfe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,bfe=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Afe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Cfe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Efe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Pfe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Dfe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Rfe=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Lfe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Ife=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Nfe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Gn={alphahash_fragment:nue,alphahash_pars_fragment:rue,alphamap_fragment:iue,alphamap_pars_fragment:aue,alphatest_fragment:oue,alphatest_pars_fragment:sue,aomap_fragment:lue,aomap_pars_fragment:uue,batching_pars_vertex:cue,batching_vertex:fue,begin_vertex:hue,beginnormal_vertex:due,bsdfs:pue,iridescence_fragment:vue,bumpmap_pars_fragment:gue,clipping_planes_fragment:mue,clipping_planes_pars_fragment:yue,clipping_planes_pars_vertex:_ue,clipping_planes_vertex:xue,color_fragment:Sue,color_pars_fragment:wue,color_pars_vertex:Mue,color_vertex:Tue,common:bue,cube_uv_reflection_fragment:Aue,defaultnormal_vertex:Cue,displacementmap_pars_vertex:Eue,displacementmap_vertex:Pue,emissivemap_fragment:Due,emissivemap_pars_fragment:Rue,colorspace_fragment:Lue,colorspace_pars_fragment:Iue,envmap_fragment:Nue,envmap_common_pars_fragment:Oue,envmap_pars_fragment:kue,envmap_pars_vertex:Fue,envmap_physical_pars_fragment:Zue,envmap_vertex:zue,fog_vertex:Bue,fog_pars_vertex:Uue,fog_fragment:Vue,fog_pars_fragment:Gue,gradientmap_pars_fragment:Hue,lightmap_pars_fragment:Wue,lights_lambert_fragment:Xue,lights_lambert_pars_fragment:Yue,lights_pars_begin:jue,lights_toon_fragment:$ue,lights_toon_pars_fragment:que,lights_phong_fragment:Kue,lights_phong_pars_fragment:Jue,lights_physical_fragment:Que,lights_physical_pars_fragment:ece,lights_fragment_begin:tce,lights_fragment_maps:nce,lights_fragment_end:rce,logdepthbuf_fragment:ice,logdepthbuf_pars_fragment:ace,logdepthbuf_pars_vertex:oce,logdepthbuf_vertex:sce,map_fragment:lce,map_pars_fragment:uce,map_particle_fragment:cce,map_particle_pars_fragment:fce,metalnessmap_fragment:hce,metalnessmap_pars_fragment:dce,morphinstance_vertex:pce,morphcolor_vertex:vce,morphnormal_vertex:gce,morphtarget_pars_vertex:mce,morphtarget_vertex:yce,normal_fragment_begin:_ce,normal_fragment_maps:xce,normal_pars_fragment:Sce,normal_pars_vertex:wce,normal_vertex:Mce,normalmap_pars_fragment:Tce,clearcoat_normal_fragment_begin:bce,clearcoat_normal_fragment_maps:Ace,clearcoat_pars_fragment:Cce,iridescence_pars_fragment:Ece,opaque_fragment:Pce,packing:Dce,premultiplied_alpha_fragment:Rce,project_vertex:Lce,dithering_fragment:Ice,dithering_pars_fragment:Nce,roughnessmap_fragment:Oce,roughnessmap_pars_fragment:kce,shadowmap_pars_fragment:Fce,shadowmap_pars_vertex:zce,shadowmap_vertex:Bce,shadowmask_pars_fragment:Uce,skinbase_vertex:Vce,skinning_pars_vertex:Gce,skinning_vertex:Hce,skinnormal_vertex:Wce,specularmap_fragment:Xce,specularmap_pars_fragment:Yce,tonemapping_fragment:jce,tonemapping_pars_fragment:Zce,transmission_fragment:$ce,transmission_pars_fragment:qce,uv_pars_fragment:Kce,uv_pars_vertex:Jce,uv_vertex:Qce,worldpos_vertex:efe,background_vert:tfe,background_frag:nfe,backgroundCube_vert:rfe,backgroundCube_frag:ife,cube_vert:afe,cube_frag:ofe,depth_vert:sfe,depth_frag:lfe,distanceRGBA_vert:ufe,distanceRGBA_frag:cfe,equirect_vert:ffe,equirect_frag:hfe,linedashed_vert:dfe,linedashed_frag:pfe,meshbasic_vert:vfe,meshbasic_frag:gfe,meshlambert_vert:mfe,meshlambert_frag:yfe,meshmatcap_vert:_fe,meshmatcap_frag:xfe,meshnormal_vert:Sfe,meshnormal_frag:wfe,meshphong_vert:Mfe,meshphong_frag:Tfe,meshphysical_vert:bfe,meshphysical_frag:Afe,meshtoon_vert:Cfe,meshtoon_frag:Efe,points_vert:Pfe,points_frag:Dfe,shadow_vert:Rfe,shadow_frag:Lfe,sprite_vert:Ife,sprite_frag:Nfe},Tt={common:{diffuse:{value:new zt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new zn},alphaMap:{value:null},alphaMapTransform:{value:new zn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new zn}},envmap:{envMap:{value:null},envMapRotation:{value:new zn},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new zn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new zn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new zn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new zn},normalScale:{value:new je(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new zn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new zn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new zn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new zn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new zt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new zt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new zn},alphaTest:{value:0},uvTransform:{value:new zn}},sprite:{diffuse:{value:new zt(16777215)},opacity:{value:1},center:{value:new je(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new zn},alphaMap:{value:null},alphaMapTransform:{value:new zn},alphaTest:{value:0}}},Rl={basic:{uniforms:lo([Tt.common,Tt.specularmap,Tt.envmap,Tt.aomap,Tt.lightmap,Tt.fog]),vertexShader:Gn.meshbasic_vert,fragmentShader:Gn.meshbasic_frag},lambert:{uniforms:lo([Tt.common,Tt.specularmap,Tt.envmap,Tt.aomap,Tt.lightmap,Tt.emissivemap,Tt.bumpmap,Tt.normalmap,Tt.displacementmap,Tt.fog,Tt.lights,{emissive:{value:new zt(0)}}]),vertexShader:Gn.meshlambert_vert,fragmentShader:Gn.meshlambert_frag},phong:{uniforms:lo([Tt.common,Tt.specularmap,Tt.envmap,Tt.aomap,Tt.lightmap,Tt.emissivemap,Tt.bumpmap,Tt.normalmap,Tt.displacementmap,Tt.fog,Tt.lights,{emissive:{value:new zt(0)},specular:{value:new zt(1118481)},shininess:{value:30}}]),vertexShader:Gn.meshphong_vert,fragmentShader:Gn.meshphong_frag},standard:{uniforms:lo([Tt.common,Tt.envmap,Tt.aomap,Tt.lightmap,Tt.emissivemap,Tt.bumpmap,Tt.normalmap,Tt.displacementmap,Tt.roughnessmap,Tt.metalnessmap,Tt.fog,Tt.lights,{emissive:{value:new zt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Gn.meshphysical_vert,fragmentShader:Gn.meshphysical_frag},toon:{uniforms:lo([Tt.common,Tt.aomap,Tt.lightmap,Tt.emissivemap,Tt.bumpmap,Tt.normalmap,Tt.displacementmap,Tt.gradientmap,Tt.fog,Tt.lights,{emissive:{value:new zt(0)}}]),vertexShader:Gn.meshtoon_vert,fragmentShader:Gn.meshtoon_frag},matcap:{uniforms:lo([Tt.common,Tt.bumpmap,Tt.normalmap,Tt.displacementmap,Tt.fog,{matcap:{value:null}}]),vertexShader:Gn.meshmatcap_vert,fragmentShader:Gn.meshmatcap_frag},points:{uniforms:lo([Tt.points,Tt.fog]),vertexShader:Gn.points_vert,fragmentShader:Gn.points_frag},dashed:{uniforms:lo([Tt.common,Tt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Gn.linedashed_vert,fragmentShader:Gn.linedashed_frag},depth:{uniforms:lo([Tt.common,Tt.displacementmap]),vertexShader:Gn.depth_vert,fragmentShader:Gn.depth_frag},normal:{uniforms:lo([Tt.common,Tt.bumpmap,Tt.normalmap,Tt.displacementmap,{opacity:{value:1}}]),vertexShader:Gn.meshnormal_vert,fragmentShader:Gn.meshnormal_frag},sprite:{uniforms:lo([Tt.sprite,Tt.fog]),vertexShader:Gn.sprite_vert,fragmentShader:Gn.sprite_frag},background:{uniforms:{uvTransform:{value:new zn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Gn.background_vert,fragmentShader:Gn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new zn}},vertexShader:Gn.backgroundCube_vert,fragmentShader:Gn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Gn.cube_vert,fragmentShader:Gn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Gn.equirect_vert,fragmentShader:Gn.equirect_frag},distanceRGBA:{uniforms:lo([Tt.common,Tt.displacementmap,{referencePosition:{value:new ne},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Gn.distanceRGBA_vert,fragmentShader:Gn.distanceRGBA_frag},shadow:{uniforms:lo([Tt.lights,Tt.fog,{color:{value:new zt(0)},opacity:{value:1}}]),vertexShader:Gn.shadow_vert,fragmentShader:Gn.shadow_frag}};Rl.physical={uniforms:lo([Rl.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new zn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new zn},clearcoatNormalScale:{value:new je(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new zn},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new zn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new zn},sheen:{value:0},sheenColor:{value:new zt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new zn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new zn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new zn},transmissionSamplerSize:{value:new je},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new zn},attenuationDistance:{value:0},attenuationColor:{value:new zt(0)},specularColor:{value:new zt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new zn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new zn},anisotropyVector:{value:new je},anisotropyMap:{value:null},anisotropyMapTransform:{value:new zn}}]),vertexShader:Gn.meshphysical_vert,fragmentShader:Gn.meshphysical_frag};const iM={r:0,b:0,g:0},Gd=new hs,Ofe=new xn;function kfe(n,e,t,r,i,a,o){const s=new zt(0);let l=a===!0?0:1,u,c,f=null,h=0,d=null;function p(S){let M=S.isScene===!0?S.background:null;return M&&M.isTexture&&(M=(S.backgroundBlurriness>0?t:e).get(M)),M}function g(S){let M=!1;const b=p(S);b===null?y(s,l):b&&b.isColor&&(y(b,1),M=!0);const C=n.xr.getEnvironmentBlendMode();C==="additive"?r.buffers.color.setClear(0,0,0,1,o):C==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,o),(n.autoClear||M)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function m(S,M){const b=p(M);b&&(b.isCubeTexture||b.mapping===By)?(c===void 0&&(c=new Pi(new Iv(1,1,1),new Ul({name:"BackgroundCubeMaterial",uniforms:_y(Rl.backgroundCube.uniforms),vertexShader:Rl.backgroundCube.vertexShader,fragmentShader:Rl.backgroundCube.fragmentShader,side:ya,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(C,A,E){this.matrixWorld.copyPosition(E.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(c)),Gd.copy(M.backgroundRotation),Gd.x*=-1,Gd.y*=-1,Gd.z*=-1,b.isCubeTexture&&b.isRenderTargetTexture===!1&&(Gd.y*=-1,Gd.z*=-1),c.material.uniforms.envMap.value=b,c.material.uniforms.flipEnvMap.value=b.isCubeTexture&&b.isRenderTargetTexture===!1?-1:1,c.material.uniforms.backgroundBlurriness.value=M.backgroundBlurriness,c.material.uniforms.backgroundIntensity.value=M.backgroundIntensity,c.material.uniforms.backgroundRotation.value.setFromMatrix4(Ofe.makeRotationFromEuler(Gd)),c.material.toneMapped=vr.getTransfer(b.colorSpace)!==kr,(f!==b||h!==b.version||d!==n.toneMapping)&&(c.material.needsUpdate=!0,f=b,h=b.version,d=n.toneMapping),c.layers.enableAll(),S.unshift(c,c.geometry,c.material,0,0,null)):b&&b.isTexture&&(u===void 0&&(u=new Pi(new Uy(2,2),new Ul({name:"BackgroundMaterial",uniforms:_y(Rl.background.uniforms),vertexShader:Rl.background.vertexShader,fragmentShader:Rl.background.fragmentShader,side:qc,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(u)),u.material.uniforms.t2D.value=b,u.material.uniforms.backgroundIntensity.value=M.backgroundIntensity,u.material.toneMapped=vr.getTransfer(b.colorSpace)!==kr,b.matrixAutoUpdate===!0&&b.updateMatrix(),u.material.uniforms.uvTransform.value.copy(b.matrix),(f!==b||h!==b.version||d!==n.toneMapping)&&(u.material.needsUpdate=!0,f=b,h=b.version,d=n.toneMapping),u.layers.enableAll(),S.unshift(u,u.geometry,u.material,0,0,null))}function y(S,M){S.getRGB(iM,MY(n)),r.buffers.color.setClear(iM.r,iM.g,iM.b,M,o)}return{getClearColor:function(){return s},setClearColor:function(S,M=1){s.set(S),l=M,y(s,l)},getClearAlpha:function(){return l},setClearAlpha:function(S){l=S,y(s,l)},render:g,addToRenderList:m}}function Ffe(n,e){const t=n.getParameter(n.MAX_VERTEX_ATTRIBS),r={},i=h(null);let a=i,o=!1;function s(R,O,U,V,W){let X=!1;const j=f(V,U,O);a!==j&&(a=j,u(a.object)),X=d(R,V,U,W),X&&p(R,V,U,W),W!==null&&e.update(W,n.ELEMENT_ARRAY_BUFFER),(X||o)&&(o=!1,b(R,O,U,V),W!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(W).buffer))}function l(){return n.createVertexArray()}function u(R){return n.bindVertexArray(R)}function c(R){return n.deleteVertexArray(R)}function f(R,O,U){const V=U.wireframe===!0;let W=r[R.id];W===void 0&&(W={},r[R.id]=W);let X=W[O.id];X===void 0&&(X={},W[O.id]=X);let j=X[V];return j===void 0&&(j=h(l()),X[V]=j),j}function h(R){const O=[],U=[],V=[];for(let W=0;W<t;W++)O[W]=0,U[W]=0,V[W]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:O,enabledAttributes:U,attributeDivisors:V,object:R,attributes:{},index:null}}function d(R,O,U,V){const W=a.attributes,X=O.attributes;let j=0;const Q=U.getAttributes();for(const B in Q)if(Q[B].location>=0){const q=W[B];let Y=X[B];if(Y===void 0&&(B==="instanceMatrix"&&R.instanceMatrix&&(Y=R.instanceMatrix),B==="instanceColor"&&R.instanceColor&&(Y=R.instanceColor)),q===void 0||q.attribute!==Y||Y&&q.data!==Y.data)return!0;j++}return a.attributesNum!==j||a.index!==V}function p(R,O,U,V){const W={},X=O.attributes;let j=0;const Q=U.getAttributes();for(const B in Q)if(Q[B].location>=0){let q=X[B];q===void 0&&(B==="instanceMatrix"&&R.instanceMatrix&&(q=R.instanceMatrix),B==="instanceColor"&&R.instanceColor&&(q=R.instanceColor));const Y={};Y.attribute=q,q&&q.data&&(Y.data=q.data),W[B]=Y,j++}a.attributes=W,a.attributesNum=j,a.index=V}function g(){const R=a.newAttributes;for(let O=0,U=R.length;O<U;O++)R[O]=0}function m(R){y(R,0)}function y(R,O){const U=a.newAttributes,V=a.enabledAttributes,W=a.attributeDivisors;U[R]=1,V[R]===0&&(n.enableVertexAttribArray(R),V[R]=1),W[R]!==O&&(n.vertexAttribDivisor(R,O),W[R]=O)}function S(){const R=a.newAttributes,O=a.enabledAttributes;for(let U=0,V=O.length;U<V;U++)O[U]!==R[U]&&(n.disableVertexAttribArray(U),O[U]=0)}function M(R,O,U,V,W,X,j){j===!0?n.vertexAttribIPointer(R,O,U,W,X):n.vertexAttribPointer(R,O,U,V,W,X)}function b(R,O,U,V){g();const W=V.attributes,X=U.getAttributes(),j=O.defaultAttributeValues;for(const Q in X){const B=X[Q];if(B.location>=0){let Z=W[Q];if(Z===void 0&&(Q==="instanceMatrix"&&R.instanceMatrix&&(Z=R.instanceMatrix),Q==="instanceColor"&&R.instanceColor&&(Z=R.instanceColor)),Z!==void 0){const q=Z.normalized,Y=Z.itemSize,te=e.get(Z);if(te===void 0)continue;const me=te.buffer,ae=te.type,fe=te.bytesPerElement,be=ae===n.INT||ae===n.UNSIGNED_INT||Z.gpuType===xO;if(Z.isInterleavedBufferAttribute){const Ee=Z.data,Be=Ee.stride,Oe=Z.offset;if(Ee.isInstancedInterleavedBuffer){for(let $e=0;$e<B.locationSize;$e++)y(B.location+$e,Ee.meshPerAttribute);R.isInstancedMesh!==!0&&V._maxInstanceCount===void 0&&(V._maxInstanceCount=Ee.meshPerAttribute*Ee.count)}else for(let $e=0;$e<B.locationSize;$e++)m(B.location+$e);n.bindBuffer(n.ARRAY_BUFFER,me);for(let $e=0;$e<B.locationSize;$e++)M(B.location+$e,Y/B.locationSize,ae,q,Be*fe,(Oe+Y/B.locationSize*$e)*fe,be)}else{if(Z.isInstancedBufferAttribute){for(let Ee=0;Ee<B.locationSize;Ee++)y(B.location+Ee,Z.meshPerAttribute);R.isInstancedMesh!==!0&&V._maxInstanceCount===void 0&&(V._maxInstanceCount=Z.meshPerAttribute*Z.count)}else for(let Ee=0;Ee<B.locationSize;Ee++)m(B.location+Ee);n.bindBuffer(n.ARRAY_BUFFER,me);for(let Ee=0;Ee<B.locationSize;Ee++)M(B.location+Ee,Y/B.locationSize,ae,q,Y*fe,Y/B.locationSize*Ee*fe,be)}}else if(j!==void 0){const q=j[Q];if(q!==void 0)switch(q.length){case 2:n.vertexAttrib2fv(B.location,q);break;case 3:n.vertexAttrib3fv(B.location,q);break;case 4:n.vertexAttrib4fv(B.location,q);break;default:n.vertexAttrib1fv(B.location,q)}}}}S()}function C(){I();for(const R in r){const O=r[R];for(const U in O){const V=O[U];for(const W in V)c(V[W].object),delete V[W];delete O[U]}delete r[R]}}function A(R){if(r[R.id]===void 0)return;const O=r[R.id];for(const U in O){const V=O[U];for(const W in V)c(V[W].object),delete V[W];delete O[U]}delete r[R.id]}function E(R){for(const O in r){const U=r[O];if(U[R.id]===void 0)continue;const V=U[R.id];for(const W in V)c(V[W].object),delete V[W];delete U[R.id]}}function I(){L(),o=!0,a!==i&&(a=i,u(a.object))}function L(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:s,reset:I,resetDefaultState:L,dispose:C,releaseStatesOfGeometry:A,releaseStatesOfProgram:E,initAttributes:g,enableAttribute:m,disableUnusedAttributes:S}}function zfe(n,e,t){let r;function i(u){r=u}function a(u,c){n.drawArrays(r,u,c),t.update(c,r,1)}function o(u,c,f){f!==0&&(n.drawArraysInstanced(r,u,c,f),t.update(c,r,f))}function s(u,c,f){if(f===0)return;const h=e.get("WEBGL_multi_draw");if(h===null)for(let d=0;d<f;d++)this.render(u[d],c[d]);else{h.multiDrawArraysWEBGL(r,u,0,c,0,f);let d=0;for(let p=0;p<f;p++)d+=c[p];t.update(d,r,1)}}function l(u,c,f,h){if(f===0)return;const d=e.get("WEBGL_multi_draw");if(d===null)for(let p=0;p<u.length;p++)o(u[p],c[p],h[p]);else{d.multiDrawArraysInstancedWEBGL(r,u,0,c,0,h,0,f);let p=0;for(let g=0;g<f;g++)p+=c[g];for(let g=0;g<h.length;g++)t.update(p,r,h[g])}}this.setMode=i,this.render=a,this.renderInstances=o,this.renderMultiDraw=s,this.renderMultiDrawInstances=l}function Bfe(n,e,t,r){let i;function a(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const A=e.get("EXT_texture_filter_anisotropic");i=n.getParameter(A.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function o(A){return!(A!==po&&r.convert(A)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function s(A){const E=A===s1&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(A!==Ru&&r.convert(A)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&A!==as&&!E)}function l(A){if(A==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";A="mediump"}return A==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let u=t.precision!==void 0?t.precision:"highp";const c=l(u);c!==u&&(console.warn("THREE.WebGLRenderer:",u,"not supported, using",c,"instead."),u=c);const f=t.logarithmicDepthBuffer===!0,h=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),d=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),p=n.getParameter(n.MAX_TEXTURE_SIZE),g=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),m=n.getParameter(n.MAX_VERTEX_ATTRIBS),y=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),S=n.getParameter(n.MAX_VARYING_VECTORS),M=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),b=d>0,C=n.getParameter(n.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:a,getMaxPrecision:l,textureFormatReadable:o,textureTypeReadable:s,precision:u,logarithmicDepthBuffer:f,maxTextures:h,maxVertexTextures:d,maxTextureSize:p,maxCubemapSize:g,maxAttributes:m,maxVertexUniforms:y,maxVaryings:S,maxFragmentUniforms:M,vertexTextures:b,maxSamples:C}}function Ufe(n){const e=this;let t=null,r=0,i=!1,a=!1;const o=new Ic,s=new zn,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(f,h){const d=f.length!==0||h||r!==0||i;return i=h,r=f.length,d},this.beginShadows=function(){a=!0,c(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(f,h){t=c(f,h,0)},this.setState=function(f,h,d){const p=f.clippingPlanes,g=f.clipIntersection,m=f.clipShadows,y=n.get(f);if(!i||p===null||p.length===0||a&&!m)a?c(null):u();else{const S=a?0:r,M=S*4;let b=y.clippingState||null;l.value=b,b=c(p,h,M,d);for(let C=0;C!==M;++C)b[C]=t[C];y.clippingState=b,this.numIntersection=g?this.numPlanes:0,this.numPlanes+=S}};function u(){l.value!==t&&(l.value=t,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function c(f,h,d,p){const g=f!==null?f.length:0;let m=null;if(g!==0){if(m=l.value,p!==!0||m===null){const y=d+g*4,S=h.matrixWorldInverse;s.getNormalMatrix(S),(m===null||m.length<y)&&(m=new Float32Array(y));for(let M=0,b=d;M!==g;++M,b+=4)o.copy(f[M]).applyMatrix4(S,s),o.normal.toArray(m,b),m[b+3]=o.constant}l.value=m,l.needsUpdate=!0}return e.numPlanes=g,e.numIntersection=0,m}}function Vfe(n){let e=new WeakMap;function t(o,s){return s===iS?o.mapping=Kc:s===aS&&(o.mapping=Lh),o}function r(o){if(o&&o.isTexture){const s=o.mapping;if(s===iS||s===aS)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const u=new AY(l.height);return u.fromEquirectangularTexture(n,o),e.set(o,u),o.addEventListener("dispose",i),t(u.texture,o.mapping)}else return null}}return o}function i(o){const s=o.target;s.removeEventListener("dispose",i);const l=e.get(s);l!==void 0&&(e.delete(s),l.dispose())}function a(){e=new WeakMap}return{get:r,dispose:a}}class wh extends u1{constructor(e=-1,t=1,r=1,i=-1,a=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=a,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,a,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=a,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let a=r-e,o=r+e,s=i+t,l=i-t;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,c=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=u*this.view.offsetX,o=a+u*this.view.width,s-=c*this.view.offsetY,l=s-c*this.view.height}this.projectionMatrix.makeOrthographic(a,o,s,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const Km=4,yU=[.125,.215,.35,.446,.526,.582],Np=20,gP=new wh,_U=new zt;let mP=null,yP=0,_P=0,xP=!1;const bp=(1+Math.sqrt(5))/2,im=1/bp,xU=[new ne(-bp,im,0),new ne(bp,im,0),new ne(-im,0,bp),new ne(im,0,bp),new ne(0,bp,-im),new ne(0,bp,im),new ne(-1,1,-1),new ne(1,1,-1),new ne(-1,1,1),new ne(1,1,1)];class CL{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,i=100){mP=this._renderer.getRenderTarget(),yP=this._renderer.getActiveCubeFace(),_P=this._renderer.getActiveMipmapLevel(),xP=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const a=this._allocateTargets();return a.depthBuffer=!0,this._sceneToCubeUV(e,r,i,a),t>0&&this._blur(a,0,0,t),this._applyPMREM(a),this._cleanup(a),a}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=MU(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=wU(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(mP,yP,_P),this._renderer.xr.enabled=xP,e.scissorTest=!1,aM(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Kc||e.mapping===Lh?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),mP=this._renderer.getRenderTarget(),yP=this._renderer.getActiveCubeFace(),_P=this._renderer.getActiveMipmapLevel(),xP=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:Ei,minFilter:Ei,generateMipmaps:!1,type:s1,format:po,colorSpace:lf,depthBuffer:!1},i=SU(e,t,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=SU(e,t,r);const{_lodMax:a}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Gfe(a)),this._blurMaterial=Hfe(a,e,t)}return i}_compileMaterial(e){const t=new Pi(this._lodPlanes[0],e);this._renderer.compile(t,gP)}_sceneToCubeUV(e,t,r,i){const s=new mi(90,1,t,r),l=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],c=this._renderer,f=c.autoClear,h=c.toneMapping;c.getClearColor(_U),c.toneMapping=Au,c.autoClear=!1;const d=new Hh({name:"PMREM.Background",side:ya,depthWrite:!1,depthTest:!1}),p=new Pi(new Iv,d);let g=!1;const m=e.background;m?m.isColor&&(d.color.copy(m),e.background=null,g=!0):(d.color.copy(_U),g=!0);for(let y=0;y<6;y++){const S=y%3;S===0?(s.up.set(0,l[y],0),s.lookAt(u[y],0,0)):S===1?(s.up.set(0,0,l[y]),s.lookAt(0,u[y],0)):(s.up.set(0,l[y],0),s.lookAt(0,0,u[y]));const M=this._cubeSize;aM(i,S*M,y>2?M:0,M,M),c.setRenderTarget(i),g&&c.render(p,s),c.render(e,s)}p.geometry.dispose(),p.material.dispose(),c.toneMapping=h,c.autoClear=f,e.background=m}_textureToCubeUV(e,t){const r=this._renderer,i=e.mapping===Kc||e.mapping===Lh;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=MU()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=wU());const a=i?this._cubemapMaterial:this._equirectMaterial,o=new Pi(this._lodPlanes[0],a),s=a.uniforms;s.envMap.value=e;const l=this._cubeSize;aM(t,0,0,3*l,2*l),r.setRenderTarget(t),r.render(o,gP)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;const i=this._lodPlanes.length;for(let a=1;a<i;a++){const o=Math.sqrt(this._sigmas[a]*this._sigmas[a]-this._sigmas[a-1]*this._sigmas[a-1]),s=xU[(i-a-1)%xU.length];this._blur(e,a-1,a,o,s)}t.autoClear=r}_blur(e,t,r,i,a){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,r,i,"latitudinal",a),this._halfBlur(o,e,r,r,i,"longitudinal",a)}_halfBlur(e,t,r,i,a,o,s){const l=this._renderer,u=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const c=3,f=new Pi(this._lodPlanes[i],u),h=u.uniforms,d=this._sizeLods[r]-1,p=isFinite(a)?Math.PI/(2*d):2*Math.PI/(2*Np-1),g=a/p,m=isFinite(a)?1+Math.floor(c*g):Np;m>Np&&console.warn(`sigmaRadians, ${a}, is too large and will clip, as it requested ${m} samples when the maximum is set to ${Np}`);const y=[];let S=0;for(let E=0;E<Np;++E){const I=E/g,L=Math.exp(-I*I/2);y.push(L),E===0?S+=L:E<m&&(S+=2*L)}for(let E=0;E<y.length;E++)y[E]=y[E]/S;h.envMap.value=e.texture,h.samples.value=m,h.weights.value=y,h.latitudinal.value=o==="latitudinal",s&&(h.poleAxis.value=s);const{_lodMax:M}=this;h.dTheta.value=p,h.mipInt.value=M-r;const b=this._sizeLods[i],C=3*b*(i>M-Km?i-M+Km:0),A=4*(this._cubeSize-b);aM(t,C,A,3*b,2*b),l.setRenderTarget(t),l.render(f,gP)}}function Gfe(n){const e=[],t=[],r=[];let i=n;const a=n-Km+1+yU.length;for(let o=0;o<a;o++){const s=Math.pow(2,i);t.push(s);let l=1/s;o>n-Km?l=yU[o-n+Km-1]:o===0&&(l=0),r.push(l);const u=1/(s-2),c=-u,f=1+u,h=[c,c,f,c,f,f,c,c,f,f,c,f],d=6,p=6,g=3,m=2,y=1,S=new Float32Array(g*p*d),M=new Float32Array(m*p*d),b=new Float32Array(y*p*d);for(let A=0;A<d;A++){const E=A%3*2/3-1,I=A>2?0:-1,L=[E,I,0,E+2/3,I,0,E+2/3,I+1,0,E,I,0,E+2/3,I+1,0,E,I+1,0];S.set(L,g*p*A),M.set(h,m*p*A);const R=[A,A,A,A,A,A];b.set(R,y*p*A)}const C=new Wn;C.setAttribute("position",new Tr(S,g)),C.setAttribute("uv",new Tr(M,m)),C.setAttribute("faceIndex",new Tr(b,y)),e.push(C),i>Km&&i--}return{lodPlanes:e,sizeLods:t,sigmas:r}}function SU(n,e,t){const r=new Bl(n,e,t);return r.texture.mapping=By,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function aM(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function Hfe(n,e,t){const r=new Float32Array(Np),i=new ne(0,1,0);return new Ul({name:"SphericalGaussianBlur",defines:{n:Np,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:NO(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Xc,depthTest:!1,depthWrite:!1})}function wU(){return new Ul({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:NO(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Xc,depthTest:!1,depthWrite:!1})}function MU(){return new Ul({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:NO(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Xc,depthTest:!1,depthWrite:!1})}function NO(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Wfe(n){let e=new WeakMap,t=null;function r(s){if(s&&s.isTexture){const l=s.mapping,u=l===iS||l===aS,c=l===Kc||l===Lh;if(u||c){let f=e.get(s);const h=f!==void 0?f.texture.pmremVersion:0;if(s.isRenderTargetTexture&&s.pmremVersion!==h)return t===null&&(t=new CL(n)),f=u?t.fromEquirectangular(s,f):t.fromCubemap(s,f),f.texture.pmremVersion=s.pmremVersion,e.set(s,f),f.texture;if(f!==void 0)return f.texture;{const d=s.image;return u&&d&&d.height>0||c&&d&&i(d)?(t===null&&(t=new CL(n)),f=u?t.fromEquirectangular(s):t.fromCubemap(s),f.texture.pmremVersion=s.pmremVersion,e.set(s,f),s.addEventListener("dispose",a),f.texture):null}}}return s}function i(s){let l=0;const u=6;for(let c=0;c<u;c++)s[c]!==void 0&&l++;return l===u}function a(s){const l=s.target;l.removeEventListener("dispose",a);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:r,dispose:o}}function Xfe(n){const e={};function t(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(r)}return e[r]=i,i}return{has:function(r){return t(r)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(r){const i=t(r);return i===null&&DO("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function Yfe(n,e,t,r){const i={},a=new WeakMap;function o(f){const h=f.target;h.index!==null&&e.remove(h.index);for(const p in h.attributes)e.remove(h.attributes[p]);for(const p in h.morphAttributes){const g=h.morphAttributes[p];for(let m=0,y=g.length;m<y;m++)e.remove(g[m])}h.removeEventListener("dispose",o),delete i[h.id];const d=a.get(h);d&&(e.remove(d),a.delete(h)),r.releaseStatesOfGeometry(h),h.isInstancedBufferGeometry===!0&&delete h._maxInstanceCount,t.memory.geometries--}function s(f,h){return i[h.id]===!0||(h.addEventListener("dispose",o),i[h.id]=!0,t.memory.geometries++),h}function l(f){const h=f.attributes;for(const p in h)e.update(h[p],n.ARRAY_BUFFER);const d=f.morphAttributes;for(const p in d){const g=d[p];for(let m=0,y=g.length;m<y;m++)e.update(g[m],n.ARRAY_BUFFER)}}function u(f){const h=[],d=f.index,p=f.attributes.position;let g=0;if(d!==null){const S=d.array;g=d.version;for(let M=0,b=S.length;M<b;M+=3){const C=S[M+0],A=S[M+1],E=S[M+2];h.push(C,A,A,E,E,C)}}else if(p!==void 0){const S=p.array;g=p.version;for(let M=0,b=S.length/3-1;M<b;M+=3){const C=M+0,A=M+1,E=M+2;h.push(C,A,A,E,E,C)}}else return;const m=new(yY(h)?IO:LO)(h,1);m.version=g;const y=a.get(f);y&&e.remove(y),a.set(f,m)}function c(f){const h=a.get(f);if(h){const d=f.index;d!==null&&h.version<d.version&&u(f)}else u(f);return a.get(f)}return{get:s,update:l,getWireframeAttribute:c}}function jfe(n,e,t){let r;function i(h){r=h}let a,o;function s(h){a=h.type,o=h.bytesPerElement}function l(h,d){n.drawElements(r,d,a,h*o),t.update(d,r,1)}function u(h,d,p){p!==0&&(n.drawElementsInstanced(r,d,a,h*o,p),t.update(d,r,p))}function c(h,d,p){if(p===0)return;const g=e.get("WEBGL_multi_draw");if(g===null)for(let m=0;m<p;m++)this.render(h[m]/o,d[m]);else{g.multiDrawElementsWEBGL(r,d,0,a,h,0,p);let m=0;for(let y=0;y<p;y++)m+=d[y];t.update(m,r,1)}}function f(h,d,p,g){if(p===0)return;const m=e.get("WEBGL_multi_draw");if(m===null)for(let y=0;y<h.length;y++)u(h[y]/o,d[y],g[y]);else{m.multiDrawElementsInstancedWEBGL(r,d,0,a,h,0,g,0,p);let y=0;for(let S=0;S<p;S++)y+=d[S];for(let S=0;S<g.length;S++)t.update(y,r,g[S])}}this.setMode=i,this.setIndex=s,this.render=l,this.renderInstances=u,this.renderMultiDraw=c,this.renderMultiDrawInstances=f}function Zfe(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function r(a,o,s){switch(t.calls++,o){case n.TRIANGLES:t.triangles+=s*(a/3);break;case n.LINES:t.lines+=s*(a/2);break;case n.LINE_STRIP:t.lines+=s*(a-1);break;case n.LINE_LOOP:t.lines+=s*a;break;case n.POINTS:t.points+=s*a;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:r}}function $fe(n,e,t){const r=new WeakMap,i=new Mr;function a(o,s,l){const u=o.morphTargetInfluences,c=s.morphAttributes.position||s.morphAttributes.normal||s.morphAttributes.color,f=c!==void 0?c.length:0;let h=r.get(s);if(h===void 0||h.count!==f){let R=function(){I.dispose(),r.delete(s),s.removeEventListener("dispose",R)};var d=R;h!==void 0&&h.texture.dispose();const p=s.morphAttributes.position!==void 0,g=s.morphAttributes.normal!==void 0,m=s.morphAttributes.color!==void 0,y=s.morphAttributes.position||[],S=s.morphAttributes.normal||[],M=s.morphAttributes.color||[];let b=0;p===!0&&(b=1),g===!0&&(b=2),m===!0&&(b=3);let C=s.attributes.position.count*b,A=1;C>e.maxTextureSize&&(A=Math.ceil(C/e.maxTextureSize),C=e.maxTextureSize);const E=new Float32Array(C*A*4*f),I=new VA(E,C,A,f);I.type=as,I.needsUpdate=!0;const L=b*4;for(let O=0;O<f;O++){const U=y[O],V=S[O],W=M[O],X=C*A*4*O;for(let j=0;j<U.count;j++){const Q=j*L;p===!0&&(i.fromBufferAttribute(U,j),E[X+Q+0]=i.x,E[X+Q+1]=i.y,E[X+Q+2]=i.z,E[X+Q+3]=0),g===!0&&(i.fromBufferAttribute(V,j),E[X+Q+4]=i.x,E[X+Q+5]=i.y,E[X+Q+6]=i.z,E[X+Q+7]=0),m===!0&&(i.fromBufferAttribute(W,j),E[X+Q+8]=i.x,E[X+Q+9]=i.y,E[X+Q+10]=i.z,E[X+Q+11]=W.itemSize===4?i.w:1)}}h={count:f,texture:I,size:new je(C,A)},r.set(s,h),s.addEventListener("dispose",R)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)l.getUniforms().setValue(n,"morphTexture",o.morphTexture,t);else{let p=0;for(let m=0;m<u.length;m++)p+=u[m];const g=s.morphTargetsRelative?1:1-p;l.getUniforms().setValue(n,"morphTargetBaseInfluence",g),l.getUniforms().setValue(n,"morphTargetInfluences",u)}l.getUniforms().setValue(n,"morphTargetsTexture",h.texture,t),l.getUniforms().setValue(n,"morphTargetsTextureSize",h.size)}return{update:a}}function qfe(n,e,t,r){let i=new WeakMap;function a(l){const u=r.render.frame,c=l.geometry,f=e.get(l,c);if(i.get(f)!==u&&(e.update(f),i.set(f,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",s)===!1&&l.addEventListener("dispose",s),i.get(l)!==u&&(t.update(l.instanceMatrix,n.ARRAY_BUFFER),l.instanceColor!==null&&t.update(l.instanceColor,n.ARRAY_BUFFER),i.set(l,u))),l.isSkinnedMesh){const h=l.skeleton;i.get(h)!==u&&(h.update(),i.set(h,u))}return f}function o(){i=new WeakMap}function s(l){const u=l.target;u.removeEventListener("dispose",s),t.remove(u.instanceMatrix),u.instanceColor!==null&&t.remove(u.instanceColor)}return{update:a,dispose:o}}class OO extends $r{constructor(e,t,r,i,a,o,s,l,u,c=rv){if(c!==rv&&c!==mv)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&c===rv&&(r=vv),r===void 0&&c===mv&&(r=gv),super(null,i,a,o,s,l,c,r,u),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=s!==void 0?s:ra,this.minFilter=l!==void 0?l:ra,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}const EY=new $r,PY=new OO(1,1);PY.compareFunction=EO;const DY=new VA,RY=new RO,LY=new c1,TU=[],bU=[],AU=new Float32Array(16),CU=new Float32Array(9),EU=new Float32Array(4);function Vy(n,e,t){const r=n[0];if(r<=0||r>0)return n;const i=e*t;let a=TU[i];if(a===void 0&&(a=new Float32Array(i),TU[i]=a),e!==0){r.toArray(a,0);for(let o=1,s=0;o!==e;++o)s+=t,n[o].toArray(a,s)}return a}function Xi(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function Yi(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function GA(n,e){let t=bU[e];t===void 0&&(t=new Int32Array(e),bU[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function Kfe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function Jfe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Xi(t,e))return;n.uniform2fv(this.addr,e),Yi(t,e)}}function Qfe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Xi(t,e))return;n.uniform3fv(this.addr,e),Yi(t,e)}}function ehe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Xi(t,e))return;n.uniform4fv(this.addr,e),Yi(t,e)}}function the(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Xi(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Yi(t,e)}else{if(Xi(t,r))return;EU.set(r),n.uniformMatrix2fv(this.addr,!1,EU),Yi(t,r)}}function nhe(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Xi(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Yi(t,e)}else{if(Xi(t,r))return;CU.set(r),n.uniformMatrix3fv(this.addr,!1,CU),Yi(t,r)}}function rhe(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Xi(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Yi(t,e)}else{if(Xi(t,r))return;AU.set(r),n.uniformMatrix4fv(this.addr,!1,AU),Yi(t,r)}}function ihe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function ahe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Xi(t,e))return;n.uniform2iv(this.addr,e),Yi(t,e)}}function ohe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Xi(t,e))return;n.uniform3iv(this.addr,e),Yi(t,e)}}function she(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Xi(t,e))return;n.uniform4iv(this.addr,e),Yi(t,e)}}function lhe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function uhe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Xi(t,e))return;n.uniform2uiv(this.addr,e),Yi(t,e)}}function che(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Xi(t,e))return;n.uniform3uiv(this.addr,e),Yi(t,e)}}function fhe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Xi(t,e))return;n.uniform4uiv(this.addr,e),Yi(t,e)}}function hhe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i);const a=this.type===n.SAMPLER_2D_SHADOW?PY:EY;t.setTexture2D(e||a,i)}function dhe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||RY,i)}function phe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTextureCube(e||LY,i)}function vhe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||DY,i)}function ghe(n){switch(n){case 5126:return Kfe;case 35664:return Jfe;case 35665:return Qfe;case 35666:return ehe;case 35674:return the;case 35675:return nhe;case 35676:return rhe;case 5124:case 35670:return ihe;case 35667:case 35671:return ahe;case 35668:case 35672:return ohe;case 35669:case 35673:return she;case 5125:return lhe;case 36294:return uhe;case 36295:return che;case 36296:return fhe;case 35678:case 36198:case 36298:case 36306:case 35682:return hhe;case 35679:case 36299:case 36307:return dhe;case 35680:case 36300:case 36308:case 36293:return phe;case 36289:case 36303:case 36311:case 36292:return vhe}}function mhe(n,e){n.uniform1fv(this.addr,e)}function yhe(n,e){const t=Vy(e,this.size,2);n.uniform2fv(this.addr,t)}function _he(n,e){const t=Vy(e,this.size,3);n.uniform3fv(this.addr,t)}function xhe(n,e){const t=Vy(e,this.size,4);n.uniform4fv(this.addr,t)}function She(n,e){const t=Vy(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function whe(n,e){const t=Vy(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function Mhe(n,e){const t=Vy(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function The(n,e){n.uniform1iv(this.addr,e)}function bhe(n,e){n.uniform2iv(this.addr,e)}function Ahe(n,e){n.uniform3iv(this.addr,e)}function Che(n,e){n.uniform4iv(this.addr,e)}function Ehe(n,e){n.uniform1uiv(this.addr,e)}function Phe(n,e){n.uniform2uiv(this.addr,e)}function Dhe(n,e){n.uniform3uiv(this.addr,e)}function Rhe(n,e){n.uniform4uiv(this.addr,e)}function Lhe(n,e,t){const r=this.cache,i=e.length,a=GA(t,i);Xi(r,a)||(n.uniform1iv(this.addr,a),Yi(r,a));for(let o=0;o!==i;++o)t.setTexture2D(e[o]||EY,a[o])}function Ihe(n,e,t){const r=this.cache,i=e.length,a=GA(t,i);Xi(r,a)||(n.uniform1iv(this.addr,a),Yi(r,a));for(let o=0;o!==i;++o)t.setTexture3D(e[o]||RY,a[o])}function Nhe(n,e,t){const r=this.cache,i=e.length,a=GA(t,i);Xi(r,a)||(n.uniform1iv(this.addr,a),Yi(r,a));for(let o=0;o!==i;++o)t.setTextureCube(e[o]||LY,a[o])}function Ohe(n,e,t){const r=this.cache,i=e.length,a=GA(t,i);Xi(r,a)||(n.uniform1iv(this.addr,a),Yi(r,a));for(let o=0;o!==i;++o)t.setTexture2DArray(e[o]||DY,a[o])}function khe(n){switch(n){case 5126:return mhe;case 35664:return yhe;case 35665:return _he;case 35666:return xhe;case 35674:return She;case 35675:return whe;case 35676:return Mhe;case 5124:case 35670:return The;case 35667:case 35671:return bhe;case 35668:case 35672:return Ahe;case 35669:case 35673:return Che;case 5125:return Ehe;case 36294:return Phe;case 36295:return Dhe;case 36296:return Rhe;case 35678:case 36198:case 36298:case 36306:case 35682:return Lhe;case 35679:case 36299:case 36307:return Ihe;case 35680:case 36300:case 36308:case 36293:return Nhe;case 36289:case 36303:case 36311:case 36292:return Ohe}}class Fhe{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.type=t.type,this.setValue=ghe(t.type)}}class zhe{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=khe(t.type)}}class Bhe{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){const i=this.seq;for(let a=0,o=i.length;a!==o;++a){const s=i[a];s.setValue(e,t[s.id],r)}}}const SP=/(\w+)(\])?(\[|\.)?/g;function PU(n,e){n.seq.push(e),n.map[e.id]=e}function Uhe(n,e,t){const r=n.name,i=r.length;for(SP.lastIndex=0;;){const a=SP.exec(r),o=SP.lastIndex;let s=a[1];const l=a[2]==="]",u=a[3];if(l&&(s=s|0),u===void 0||u==="["&&o+2===i){PU(t,u===void 0?new Fhe(s,n,e):new zhe(s,n,e));break}else{let f=t.map[s];f===void 0&&(f=new Bhe(s),PU(t,f)),t=f}}}class YT{constructor(e,t){this.seq=[],this.map={};const r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const a=e.getActiveUniform(t,i),o=e.getUniformLocation(t,a.name);Uhe(a,o,this)}}setValue(e,t,r,i){const a=this.map[t];a!==void 0&&a.setValue(e,r,i)}setOptional(e,t,r){const i=t[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,t,r,i){for(let a=0,o=t.length;a!==o;++a){const s=t[a],l=r[s.id];l.needsUpdate!==!1&&s.setValue(e,l.value,i)}}static seqWithValue(e,t){const r=[];for(let i=0,a=e.length;i!==a;++i){const o=e[i];o.id in t&&r.push(o)}return r}}function DU(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}const Vhe=37297;let Ghe=0;function Hhe(n,e){const t=n.split(`
`),r=[],i=Math.max(e-6,0),a=Math.min(e+6,t.length);for(let o=i;o<a;o++){const s=o+1;r.push(`${s===e?">":" "} ${s}: ${t[o]}`)}return r.join(`
`)}function Whe(n){const e=vr.getPrimaries(vr.workingColorSpace),t=vr.getPrimaries(n);let r;switch(e===t?r="":e===dS&&t===hS?r="LinearDisplayP3ToLinearSRGB":e===hS&&t===dS&&(r="LinearSRGBToLinearDisplayP3"),n){case lf:case l1:return[r,"LinearTransferOETF"];case Fo:case UA:return[r,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",n),[r,"LinearTransferOETF"]}}function RU(n,e,t){const r=n.getShaderParameter(e,n.COMPILE_STATUS),i=n.getShaderInfoLog(e).trim();if(r&&i==="")return"";const a=/ERROR: 0:(\d+)/.exec(i);if(a){const o=parseInt(a[1]);return t.toUpperCase()+`

`+i+`

`+Hhe(n.getShaderSource(e),o)}else return i}function Xhe(n,e){const t=Whe(e);return`vec4 ${n}( vec4 value ) { return ${t[0]}( ${t[1]}( value ) ); }`}function Yhe(n,e){let t;switch(e){case HX:t="Linear";break;case WX:t="Reinhard";break;case XX:t="OptimizedCineon";break;case yO:t="ACESFilmic";break;case jX:t="AgX";break;case ZX:t="Neutral";break;case YX:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function jhe(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(lx).join(`
`)}function Zhe(n){const e=[];for(const t in n){const r=n[t];r!==!1&&e.push("#define "+t+" "+r)}return e.join(`
`)}function $he(n,e){const t={},r=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const a=n.getActiveAttrib(e,i),o=a.name;let s=1;a.type===n.FLOAT_MAT2&&(s=2),a.type===n.FLOAT_MAT3&&(s=3),a.type===n.FLOAT_MAT4&&(s=4),t[o]={type:a.type,location:n.getAttribLocation(e,o),locationSize:s}}return t}function lx(n){return n!==""}function LU(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function IU(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const qhe=/^[ \t]*#include +<([\w\d./]+)>/gm;function EL(n){return n.replace(qhe,Jhe)}const Khe=new Map;function Jhe(n,e){let t=Gn[e];if(t===void 0){const r=Khe.get(e);if(r!==void 0)t=Gn[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return EL(t)}const Qhe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function NU(n){return n.replace(Qhe,ede)}function ede(n,e,t,r){let i="";for(let a=parseInt(e);a<parseInt(t);a++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return i}function OU(n){let e=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function tde(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===FA?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===Cx?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===El&&(e="SHADOWMAP_TYPE_VSM"),e}function nde(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Kc:case Lh:e="ENVMAP_TYPE_CUBE";break;case By:e="ENVMAP_TYPE_CUBE_UV";break}return e}function rde(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Lh:e="ENVMAP_MODE_REFRACTION";break}return e}function ide(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case o1:e="ENVMAP_BLENDING_MULTIPLY";break;case VX:e="ENVMAP_BLENDING_MIX";break;case GX:e="ENVMAP_BLENDING_ADD";break}return e}function ade(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:r,maxMip:t}}function ode(n,e,t,r){const i=n.getContext(),a=t.defines;let o=t.vertexShader,s=t.fragmentShader;const l=tde(t),u=nde(t),c=rde(t),f=ide(t),h=ade(t),d=jhe(t),p=Zhe(a),g=i.createProgram();let m,y,S=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(m=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,p].filter(lx).join(`
`),m.length>0&&(m+=`
`),y=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,p].filter(lx).join(`
`),y.length>0&&(y+=`
`)):(m=[OU(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,p,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(lx).join(`
`),y=[OU(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,p,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.envMap?"#define "+c:"",t.envMap?"#define "+f:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Au?"#define TONE_MAPPING":"",t.toneMapping!==Au?Gn.tonemapping_pars_fragment:"",t.toneMapping!==Au?Yhe("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Gn.colorspace_pars_fragment,Xhe("linearToOutputTexel",t.outputColorSpace),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(lx).join(`
`)),o=EL(o),o=LU(o,t),o=IU(o,t),s=EL(s),s=LU(s,t),s=IU(s,t),o=NU(o),s=NU(s),t.isRawShaderMaterial!==!0&&(S=`#version 300 es
`,m=[d,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+m,y=["#define varying in",t.glslVersion===AL?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===AL?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+y);const M=S+m+o,b=S+y+s,C=DU(i,i.VERTEX_SHADER,M),A=DU(i,i.FRAGMENT_SHADER,b);i.attachShader(g,C),i.attachShader(g,A),t.index0AttributeName!==void 0?i.bindAttribLocation(g,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(g,0,"position"),i.linkProgram(g);function E(O){if(n.debug.checkShaderErrors){const U=i.getProgramInfoLog(g).trim(),V=i.getShaderInfoLog(C).trim(),W=i.getShaderInfoLog(A).trim();let X=!0,j=!0;if(i.getProgramParameter(g,i.LINK_STATUS)===!1)if(X=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(i,g,C,A);else{const Q=RU(i,C,"vertex"),B=RU(i,A,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(g,i.VALIDATE_STATUS)+`

Material Name: `+O.name+`
Material Type: `+O.type+`

Program Info Log: `+U+`
`+Q+`
`+B)}else U!==""?console.warn("THREE.WebGLProgram: Program Info Log:",U):(V===""||W==="")&&(j=!1);j&&(O.diagnostics={runnable:X,programLog:U,vertexShader:{log:V,prefix:m},fragmentShader:{log:W,prefix:y}})}i.deleteShader(C),i.deleteShader(A),I=new YT(i,g),L=$he(i,g)}let I;this.getUniforms=function(){return I===void 0&&E(this),I};let L;this.getAttributes=function(){return L===void 0&&E(this),L};let R=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return R===!1&&(R=i.getProgramParameter(g,Vhe)),R},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(g),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=Ghe++,this.cacheKey=e,this.usedTimes=1,this.program=g,this.vertexShader=C,this.fragmentShader=A,this}let sde=0;class lde{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(t),a=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(a)===!1&&(o.add(a),a.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let r=t.get(e);return r===void 0&&(r=new Set,t.set(e,r)),r}_getShaderStage(e){const t=this.shaderCache;let r=t.get(e);return r===void 0&&(r=new ude(e),t.set(e,r)),r}}class ude{constructor(e){this.id=sde++,this.code=e,this.usedTimes=0}}function cde(n,e,t,r,i,a,o){const s=new av,l=new lde,u=new Set,c=[],f=i.logarithmicDepthBuffer,h=i.vertexTextures;let d=i.precision;const p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function g(L){return u.add(L),L===0?"uv":`uv${L}`}function m(L,R,O,U,V){const W=U.fog,X=V.geometry,j=L.isMeshStandardMaterial?U.environment:null,Q=(L.isMeshStandardMaterial?t:e).get(L.envMap||j),B=Q&&Q.mapping===By?Q.image.height:null,Z=p[L.type];L.precision!==null&&(d=i.getMaxPrecision(L.precision),d!==L.precision&&console.warn("THREE.WebGLProgram.getParameters:",L.precision,"not supported, using",d,"instead."));const q=X.morphAttributes.position||X.morphAttributes.normal||X.morphAttributes.color,Y=q!==void 0?q.length:0;let te=0;X.morphAttributes.position!==void 0&&(te=1),X.morphAttributes.normal!==void 0&&(te=2),X.morphAttributes.color!==void 0&&(te=3);let me,ae,fe,be;if(Z){const Pn=Rl[Z];me=Pn.vertexShader,ae=Pn.fragmentShader}else me=L.vertexShader,ae=L.fragmentShader,l.update(L),fe=l.getVertexShaderID(L),be=l.getFragmentShaderID(L);const Ee=n.getRenderTarget(),Be=V.isInstancedMesh===!0,Oe=V.isBatchedMesh===!0,$e=!!L.map,ee=!!L.matcap,ve=!!Q,Ae=!!L.aoMap,Ue=!!L.lightMap,Ge=!!L.bumpMap,He=!!L.normalMap,ot=!!L.displacementMap,ct=!!L.emissiveMap,Rt=!!L.metalnessMap,re=!!L.roughnessMap,K=L.anisotropy>0,Pe=L.clearcoat>0,Ze=L.dispersion>0,Ye=L.iridescence>0,Qe=L.sheen>0,Yt=L.transmission>0,vt=K&&!!L.anisotropyMap,ft=Pe&&!!L.clearcoatMap,rn=Pe&&!!L.clearcoatNormalMap,at=Pe&&!!L.clearcoatRoughnessMap,bt=Ye&&!!L.iridescenceMap,Rn=Ye&&!!L.iridescenceThicknessMap,Kt=Qe&&!!L.sheenColorMap,St=Qe&&!!L.sheenRoughnessMap,mn=!!L.specularMap,ce=!!L.specularColorMap,et=!!L.specularIntensityMap,oe=Yt&&!!L.transmissionMap,Ke=Yt&&!!L.thicknessMap,ke=!!L.gradientMap,Xe=!!L.alphaMap,tt=L.alphaTest>0,hn=!!L.alphaHash,In=!!L.extensions;let Yn=Au;L.toneMapped&&(Ee===null||Ee.isXRRenderTarget===!0)&&(Yn=n.toneMapping);const Kn={shaderID:Z,shaderType:L.type,shaderName:L.name,vertexShader:me,fragmentShader:ae,defines:L.defines,customVertexShaderID:fe,customFragmentShaderID:be,isRawShaderMaterial:L.isRawShaderMaterial===!0,glslVersion:L.glslVersion,precision:d,batching:Oe,batchingColor:Oe&&V._colorsTexture!==null,instancing:Be,instancingColor:Be&&V.instanceColor!==null,instancingMorph:Be&&V.morphTexture!==null,supportsVertexTextures:h,outputColorSpace:Ee===null?n.outputColorSpace:Ee.isXRRenderTarget===!0?Ee.texture.colorSpace:lf,alphaToCoverage:!!L.alphaToCoverage,map:$e,matcap:ee,envMap:ve,envMapMode:ve&&Q.mapping,envMapCubeUVHeight:B,aoMap:Ae,lightMap:Ue,bumpMap:Ge,normalMap:He,displacementMap:h&&ot,emissiveMap:ct,normalMapObjectSpace:He&&L.normalMapType===cY,normalMapTangentSpace:He&&L.normalMapType===Gh,metalnessMap:Rt,roughnessMap:re,anisotropy:K,anisotropyMap:vt,clearcoat:Pe,clearcoatMap:ft,clearcoatNormalMap:rn,clearcoatRoughnessMap:at,dispersion:Ze,iridescence:Ye,iridescenceMap:bt,iridescenceThicknessMap:Rn,sheen:Qe,sheenColorMap:Kt,sheenRoughnessMap:St,specularMap:mn,specularColorMap:ce,specularIntensityMap:et,transmission:Yt,transmissionMap:oe,thicknessMap:Ke,gradientMap:ke,opaque:L.transparent===!1&&L.blending===nv&&L.alphaToCoverage===!1,alphaMap:Xe,alphaTest:tt,alphaHash:hn,combine:L.combine,mapUv:$e&&g(L.map.channel),aoMapUv:Ae&&g(L.aoMap.channel),lightMapUv:Ue&&g(L.lightMap.channel),bumpMapUv:Ge&&g(L.bumpMap.channel),normalMapUv:He&&g(L.normalMap.channel),displacementMapUv:ot&&g(L.displacementMap.channel),emissiveMapUv:ct&&g(L.emissiveMap.channel),metalnessMapUv:Rt&&g(L.metalnessMap.channel),roughnessMapUv:re&&g(L.roughnessMap.channel),anisotropyMapUv:vt&&g(L.anisotropyMap.channel),clearcoatMapUv:ft&&g(L.clearcoatMap.channel),clearcoatNormalMapUv:rn&&g(L.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:at&&g(L.clearcoatRoughnessMap.channel),iridescenceMapUv:bt&&g(L.iridescenceMap.channel),iridescenceThicknessMapUv:Rn&&g(L.iridescenceThicknessMap.channel),sheenColorMapUv:Kt&&g(L.sheenColorMap.channel),sheenRoughnessMapUv:St&&g(L.sheenRoughnessMap.channel),specularMapUv:mn&&g(L.specularMap.channel),specularColorMapUv:ce&&g(L.specularColorMap.channel),specularIntensityMapUv:et&&g(L.specularIntensityMap.channel),transmissionMapUv:oe&&g(L.transmissionMap.channel),thicknessMapUv:Ke&&g(L.thicknessMap.channel),alphaMapUv:Xe&&g(L.alphaMap.channel),vertexTangents:!!X.attributes.tangent&&(He||K),vertexColors:L.vertexColors,vertexAlphas:L.vertexColors===!0&&!!X.attributes.color&&X.attributes.color.itemSize===4,pointsUvs:V.isPoints===!0&&!!X.attributes.uv&&($e||Xe),fog:!!W,useFog:L.fog===!0,fogExp2:!!W&&W.isFogExp2,flatShading:L.flatShading===!0,sizeAttenuation:L.sizeAttenuation===!0,logarithmicDepthBuffer:f,skinning:V.isSkinnedMesh===!0,morphTargets:X.morphAttributes.position!==void 0,morphNormals:X.morphAttributes.normal!==void 0,morphColors:X.morphAttributes.color!==void 0,morphTargetsCount:Y,morphTextureStride:te,numDirLights:R.directional.length,numPointLights:R.point.length,numSpotLights:R.spot.length,numSpotLightMaps:R.spotLightMap.length,numRectAreaLights:R.rectArea.length,numHemiLights:R.hemi.length,numDirLightShadows:R.directionalShadowMap.length,numPointLightShadows:R.pointShadowMap.length,numSpotLightShadows:R.spotShadowMap.length,numSpotLightShadowsWithMaps:R.numSpotLightShadowsWithMaps,numLightProbes:R.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:L.dithering,shadowMapEnabled:n.shadowMap.enabled&&O.length>0,shadowMapType:n.shadowMap.type,toneMapping:Yn,decodeVideoTexture:$e&&L.map.isVideoTexture===!0&&vr.getTransfer(L.map.colorSpace)===kr,premultipliedAlpha:L.premultipliedAlpha,doubleSided:L.side===gu,flipSided:L.side===ya,useDepthPacking:L.depthPacking>=0,depthPacking:L.depthPacking||0,index0AttributeName:L.index0AttributeName,extensionClipCullDistance:In&&L.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:In&&L.extensions.multiDraw===!0&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:L.customProgramCacheKey()};return Kn.vertexUv1s=u.has(1),Kn.vertexUv2s=u.has(2),Kn.vertexUv3s=u.has(3),u.clear(),Kn}function y(L){const R=[];if(L.shaderID?R.push(L.shaderID):(R.push(L.customVertexShaderID),R.push(L.customFragmentShaderID)),L.defines!==void 0)for(const O in L.defines)R.push(O),R.push(L.defines[O]);return L.isRawShaderMaterial===!1&&(S(R,L),M(R,L),R.push(n.outputColorSpace)),R.push(L.customProgramCacheKey),R.join()}function S(L,R){L.push(R.precision),L.push(R.outputColorSpace),L.push(R.envMapMode),L.push(R.envMapCubeUVHeight),L.push(R.mapUv),L.push(R.alphaMapUv),L.push(R.lightMapUv),L.push(R.aoMapUv),L.push(R.bumpMapUv),L.push(R.normalMapUv),L.push(R.displacementMapUv),L.push(R.emissiveMapUv),L.push(R.metalnessMapUv),L.push(R.roughnessMapUv),L.push(R.anisotropyMapUv),L.push(R.clearcoatMapUv),L.push(R.clearcoatNormalMapUv),L.push(R.clearcoatRoughnessMapUv),L.push(R.iridescenceMapUv),L.push(R.iridescenceThicknessMapUv),L.push(R.sheenColorMapUv),L.push(R.sheenRoughnessMapUv),L.push(R.specularMapUv),L.push(R.specularColorMapUv),L.push(R.specularIntensityMapUv),L.push(R.transmissionMapUv),L.push(R.thicknessMapUv),L.push(R.combine),L.push(R.fogExp2),L.push(R.sizeAttenuation),L.push(R.morphTargetsCount),L.push(R.morphAttributeCount),L.push(R.numDirLights),L.push(R.numPointLights),L.push(R.numSpotLights),L.push(R.numSpotLightMaps),L.push(R.numHemiLights),L.push(R.numRectAreaLights),L.push(R.numDirLightShadows),L.push(R.numPointLightShadows),L.push(R.numSpotLightShadows),L.push(R.numSpotLightShadowsWithMaps),L.push(R.numLightProbes),L.push(R.shadowMapType),L.push(R.toneMapping),L.push(R.numClippingPlanes),L.push(R.numClipIntersection),L.push(R.depthPacking)}function M(L,R){s.disableAll(),R.supportsVertexTextures&&s.enable(0),R.instancing&&s.enable(1),R.instancingColor&&s.enable(2),R.instancingMorph&&s.enable(3),R.matcap&&s.enable(4),R.envMap&&s.enable(5),R.normalMapObjectSpace&&s.enable(6),R.normalMapTangentSpace&&s.enable(7),R.clearcoat&&s.enable(8),R.iridescence&&s.enable(9),R.alphaTest&&s.enable(10),R.vertexColors&&s.enable(11),R.vertexAlphas&&s.enable(12),R.vertexUv1s&&s.enable(13),R.vertexUv2s&&s.enable(14),R.vertexUv3s&&s.enable(15),R.vertexTangents&&s.enable(16),R.anisotropy&&s.enable(17),R.alphaHash&&s.enable(18),R.batching&&s.enable(19),R.dispersion&&s.enable(20),R.batchingColor&&s.enable(21),L.push(s.mask),s.disableAll(),R.fog&&s.enable(0),R.useFog&&s.enable(1),R.flatShading&&s.enable(2),R.logarithmicDepthBuffer&&s.enable(3),R.skinning&&s.enable(4),R.morphTargets&&s.enable(5),R.morphNormals&&s.enable(6),R.morphColors&&s.enable(7),R.premultipliedAlpha&&s.enable(8),R.shadowMapEnabled&&s.enable(9),R.doubleSided&&s.enable(10),R.flipSided&&s.enable(11),R.useDepthPacking&&s.enable(12),R.dithering&&s.enable(13),R.transmission&&s.enable(14),R.sheen&&s.enable(15),R.opaque&&s.enable(16),R.pointsUvs&&s.enable(17),R.decodeVideoTexture&&s.enable(18),R.alphaToCoverage&&s.enable(19),L.push(s.mask)}function b(L){const R=p[L.type];let O;if(R){const U=Rl[R];O=TY.clone(U.uniforms)}else O=L.uniforms;return O}function C(L,R){let O;for(let U=0,V=c.length;U<V;U++){const W=c[U];if(W.cacheKey===R){O=W,++O.usedTimes;break}}return O===void 0&&(O=new ode(n,R,L,a),c.push(O)),O}function A(L){if(--L.usedTimes===0){const R=c.indexOf(L);c[R]=c[c.length-1],c.pop(),L.destroy()}}function E(L){l.remove(L)}function I(){l.dispose()}return{getParameters:m,getProgramCacheKey:y,getUniforms:b,acquireProgram:C,releaseProgram:A,releaseShaderCache:E,programs:c,dispose:I}}function fde(){let n=new WeakMap;function e(a){let o=n.get(a);return o===void 0&&(o={},n.set(a,o)),o}function t(a){n.delete(a)}function r(a,o,s){n.get(a)[o]=s}function i(){n=new WeakMap}return{get:e,remove:t,update:r,dispose:i}}function hde(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function kU(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function FU(){const n=[];let e=0;const t=[],r=[],i=[];function a(){e=0,t.length=0,r.length=0,i.length=0}function o(f,h,d,p,g,m){let y=n[e];return y===void 0?(y={id:f.id,object:f,geometry:h,material:d,groupOrder:p,renderOrder:f.renderOrder,z:g,group:m},n[e]=y):(y.id=f.id,y.object=f,y.geometry=h,y.material=d,y.groupOrder=p,y.renderOrder=f.renderOrder,y.z=g,y.group=m),e++,y}function s(f,h,d,p,g,m){const y=o(f,h,d,p,g,m);d.transmission>0?r.push(y):d.transparent===!0?i.push(y):t.push(y)}function l(f,h,d,p,g,m){const y=o(f,h,d,p,g,m);d.transmission>0?r.unshift(y):d.transparent===!0?i.unshift(y):t.unshift(y)}function u(f,h){t.length>1&&t.sort(f||hde),r.length>1&&r.sort(h||kU),i.length>1&&i.sort(h||kU)}function c(){for(let f=e,h=n.length;f<h;f++){const d=n[f];if(d.id===null)break;d.id=null,d.object=null,d.geometry=null,d.material=null,d.group=null}}return{opaque:t,transmissive:r,transparent:i,init:a,push:s,unshift:l,finish:c,sort:u}}function dde(){let n=new WeakMap;function e(r,i){const a=n.get(r);let o;return a===void 0?(o=new FU,n.set(r,[o])):i>=a.length?(o=new FU,a.push(o)):o=a[i],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function pde(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new ne,color:new zt};break;case"SpotLight":t={position:new ne,direction:new ne,color:new zt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new ne,color:new zt,distance:0,decay:0};break;case"HemisphereLight":t={direction:new ne,skyColor:new zt,groundColor:new zt};break;case"RectAreaLight":t={color:new zt,position:new ne,halfWidth:new ne,halfHeight:new ne};break}return n[e.id]=t,t}}}function vde(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new je};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new je};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new je,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let gde=0;function mde(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function yde(n){const e=new pde,t=vde(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let u=0;u<9;u++)r.probe.push(new ne);const i=new ne,a=new xn,o=new xn;function s(u){let c=0,f=0,h=0;for(let L=0;L<9;L++)r.probe[L].set(0,0,0);let d=0,p=0,g=0,m=0,y=0,S=0,M=0,b=0,C=0,A=0,E=0;u.sort(mde);for(let L=0,R=u.length;L<R;L++){const O=u[L],U=O.color,V=O.intensity,W=O.distance,X=O.shadow&&O.shadow.map?O.shadow.map.texture:null;if(O.isAmbientLight)c+=U.r*V,f+=U.g*V,h+=U.b*V;else if(O.isLightProbe){for(let j=0;j<9;j++)r.probe[j].addScaledVector(O.sh.coefficients[j],V);E++}else if(O.isDirectionalLight){const j=e.get(O);if(j.color.copy(O.color).multiplyScalar(O.intensity),O.castShadow){const Q=O.shadow,B=t.get(O);B.shadowBias=Q.bias,B.shadowNormalBias=Q.normalBias,B.shadowRadius=Q.radius,B.shadowMapSize=Q.mapSize,r.directionalShadow[d]=B,r.directionalShadowMap[d]=X,r.directionalShadowMatrix[d]=O.shadow.matrix,S++}r.directional[d]=j,d++}else if(O.isSpotLight){const j=e.get(O);j.position.setFromMatrixPosition(O.matrixWorld),j.color.copy(U).multiplyScalar(V),j.distance=W,j.coneCos=Math.cos(O.angle),j.penumbraCos=Math.cos(O.angle*(1-O.penumbra)),j.decay=O.decay,r.spot[g]=j;const Q=O.shadow;if(O.map&&(r.spotLightMap[C]=O.map,C++,Q.updateMatrices(O),O.castShadow&&A++),r.spotLightMatrix[g]=Q.matrix,O.castShadow){const B=t.get(O);B.shadowBias=Q.bias,B.shadowNormalBias=Q.normalBias,B.shadowRadius=Q.radius,B.shadowMapSize=Q.mapSize,r.spotShadow[g]=B,r.spotShadowMap[g]=X,b++}g++}else if(O.isRectAreaLight){const j=e.get(O);j.color.copy(U).multiplyScalar(V),j.halfWidth.set(O.width*.5,0,0),j.halfHeight.set(0,O.height*.5,0),r.rectArea[m]=j,m++}else if(O.isPointLight){const j=e.get(O);if(j.color.copy(O.color).multiplyScalar(O.intensity),j.distance=O.distance,j.decay=O.decay,O.castShadow){const Q=O.shadow,B=t.get(O);B.shadowBias=Q.bias,B.shadowNormalBias=Q.normalBias,B.shadowRadius=Q.radius,B.shadowMapSize=Q.mapSize,B.shadowCameraNear=Q.camera.near,B.shadowCameraFar=Q.camera.far,r.pointShadow[p]=B,r.pointShadowMap[p]=X,r.pointShadowMatrix[p]=O.shadow.matrix,M++}r.point[p]=j,p++}else if(O.isHemisphereLight){const j=e.get(O);j.skyColor.copy(O.color).multiplyScalar(V),j.groundColor.copy(O.groundColor).multiplyScalar(V),r.hemi[y]=j,y++}}m>0&&(n.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Tt.LTC_FLOAT_1,r.rectAreaLTC2=Tt.LTC_FLOAT_2):(r.rectAreaLTC1=Tt.LTC_HALF_1,r.rectAreaLTC2=Tt.LTC_HALF_2)),r.ambient[0]=c,r.ambient[1]=f,r.ambient[2]=h;const I=r.hash;(I.directionalLength!==d||I.pointLength!==p||I.spotLength!==g||I.rectAreaLength!==m||I.hemiLength!==y||I.numDirectionalShadows!==S||I.numPointShadows!==M||I.numSpotShadows!==b||I.numSpotMaps!==C||I.numLightProbes!==E)&&(r.directional.length=d,r.spot.length=g,r.rectArea.length=m,r.point.length=p,r.hemi.length=y,r.directionalShadow.length=S,r.directionalShadowMap.length=S,r.pointShadow.length=M,r.pointShadowMap.length=M,r.spotShadow.length=b,r.spotShadowMap.length=b,r.directionalShadowMatrix.length=S,r.pointShadowMatrix.length=M,r.spotLightMatrix.length=b+C-A,r.spotLightMap.length=C,r.numSpotLightShadowsWithMaps=A,r.numLightProbes=E,I.directionalLength=d,I.pointLength=p,I.spotLength=g,I.rectAreaLength=m,I.hemiLength=y,I.numDirectionalShadows=S,I.numPointShadows=M,I.numSpotShadows=b,I.numSpotMaps=C,I.numLightProbes=E,r.version=gde++)}function l(u,c){let f=0,h=0,d=0,p=0,g=0;const m=c.matrixWorldInverse;for(let y=0,S=u.length;y<S;y++){const M=u[y];if(M.isDirectionalLight){const b=r.directional[f];b.direction.setFromMatrixPosition(M.matrixWorld),i.setFromMatrixPosition(M.target.matrixWorld),b.direction.sub(i),b.direction.transformDirection(m),f++}else if(M.isSpotLight){const b=r.spot[d];b.position.setFromMatrixPosition(M.matrixWorld),b.position.applyMatrix4(m),b.direction.setFromMatrixPosition(M.matrixWorld),i.setFromMatrixPosition(M.target.matrixWorld),b.direction.sub(i),b.direction.transformDirection(m),d++}else if(M.isRectAreaLight){const b=r.rectArea[p];b.position.setFromMatrixPosition(M.matrixWorld),b.position.applyMatrix4(m),o.identity(),a.copy(M.matrixWorld),a.premultiply(m),o.extractRotation(a),b.halfWidth.set(M.width*.5,0,0),b.halfHeight.set(0,M.height*.5,0),b.halfWidth.applyMatrix4(o),b.halfHeight.applyMatrix4(o),p++}else if(M.isPointLight){const b=r.point[h];b.position.setFromMatrixPosition(M.matrixWorld),b.position.applyMatrix4(m),h++}else if(M.isHemisphereLight){const b=r.hemi[g];b.direction.setFromMatrixPosition(M.matrixWorld),b.direction.transformDirection(m),g++}}}return{setup:s,setupView:l,state:r}}function zU(n){const e=new yde(n),t=[],r=[];function i(c){u.camera=c,t.length=0,r.length=0}function a(c){t.push(c)}function o(c){r.push(c)}function s(){e.setup(t)}function l(c){e.setupView(t,c)}const u={lightsArray:t,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:i,state:u,setupLights:s,setupLightsView:l,pushLight:a,pushShadow:o}}function _de(n){let e=new WeakMap;function t(i,a=0){const o=e.get(i);let s;return o===void 0?(s=new zU(n),e.set(i,[s])):a>=o.length?(s=new zU(n),o.push(s)):s=o[a],s}function r(){e=new WeakMap}return{get:t,dispose:r}}class kO extends ja{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=lY,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class FO extends ja{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const xde=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,Sde=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function wde(n,e,t){let r=new f1;const i=new je,a=new je,o=new Mr,s=new kO({depthPacking:uY}),l=new FO,u={},c=t.maxTextureSize,f={[qc]:ya,[ya]:qc,[gu]:gu},h=new Ul({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new je},radius:{value:4}},vertexShader:xde,fragmentShader:Sde}),d=h.clone();d.defines.HORIZONTAL_PASS=1;const p=new Wn;p.setAttribute("position",new Tr(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const g=new Pi(p,h),m=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=FA;let y=this.type;this.render=function(A,E,I){if(m.enabled===!1||m.autoUpdate===!1&&m.needsUpdate===!1||A.length===0)return;const L=n.getRenderTarget(),R=n.getActiveCubeFace(),O=n.getActiveMipmapLevel(),U=n.state;U.setBlending(Xc),U.buffers.color.setClear(1,1,1,1),U.buffers.depth.setTest(!0),U.setScissorTest(!1);const V=y!==El&&this.type===El,W=y===El&&this.type!==El;for(let X=0,j=A.length;X<j;X++){const Q=A[X],B=Q.shadow;if(B===void 0){console.warn("THREE.WebGLShadowMap:",Q,"has no shadow.");continue}if(B.autoUpdate===!1&&B.needsUpdate===!1)continue;i.copy(B.mapSize);const Z=B.getFrameExtents();if(i.multiply(Z),a.copy(B.mapSize),(i.x>c||i.y>c)&&(i.x>c&&(a.x=Math.floor(c/Z.x),i.x=a.x*Z.x,B.mapSize.x=a.x),i.y>c&&(a.y=Math.floor(c/Z.y),i.y=a.y*Z.y,B.mapSize.y=a.y)),B.map===null||V===!0||W===!0){const Y=this.type!==El?{minFilter:ra,magFilter:ra}:{};B.map!==null&&B.map.dispose(),B.map=new Bl(i.x,i.y,Y),B.map.texture.name=Q.name+".shadowMap",B.camera.updateProjectionMatrix()}n.setRenderTarget(B.map),n.clear();const q=B.getViewportCount();for(let Y=0;Y<q;Y++){const te=B.getViewport(Y);o.set(a.x*te.x,a.y*te.y,a.x*te.z,a.y*te.w),U.viewport(o),B.updateMatrices(Q,Y),r=B.getFrustum(),b(E,I,B.camera,Q,this.type)}B.isPointLightShadow!==!0&&this.type===El&&S(B,I),B.needsUpdate=!1}y=this.type,m.needsUpdate=!1,n.setRenderTarget(L,R,O)};function S(A,E){const I=e.update(g);h.defines.VSM_SAMPLES!==A.blurSamples&&(h.defines.VSM_SAMPLES=A.blurSamples,d.defines.VSM_SAMPLES=A.blurSamples,h.needsUpdate=!0,d.needsUpdate=!0),A.mapPass===null&&(A.mapPass=new Bl(i.x,i.y)),h.uniforms.shadow_pass.value=A.map.texture,h.uniforms.resolution.value=A.mapSize,h.uniforms.radius.value=A.radius,n.setRenderTarget(A.mapPass),n.clear(),n.renderBufferDirect(E,null,I,h,g,null),d.uniforms.shadow_pass.value=A.mapPass.texture,d.uniforms.resolution.value=A.mapSize,d.uniforms.radius.value=A.radius,n.setRenderTarget(A.map),n.clear(),n.renderBufferDirect(E,null,I,d,g,null)}function M(A,E,I,L){let R=null;const O=I.isPointLight===!0?A.customDistanceMaterial:A.customDepthMaterial;if(O!==void 0)R=O;else if(R=I.isPointLight===!0?l:s,n.localClippingEnabled&&E.clipShadows===!0&&Array.isArray(E.clippingPlanes)&&E.clippingPlanes.length!==0||E.displacementMap&&E.displacementScale!==0||E.alphaMap&&E.alphaTest>0||E.map&&E.alphaTest>0){const U=R.uuid,V=E.uuid;let W=u[U];W===void 0&&(W={},u[U]=W);let X=W[V];X===void 0&&(X=R.clone(),W[V]=X,E.addEventListener("dispose",C)),R=X}if(R.visible=E.visible,R.wireframe=E.wireframe,L===El?R.side=E.shadowSide!==null?E.shadowSide:E.side:R.side=E.shadowSide!==null?E.shadowSide:f[E.side],R.alphaMap=E.alphaMap,R.alphaTest=E.alphaTest,R.map=E.map,R.clipShadows=E.clipShadows,R.clippingPlanes=E.clippingPlanes,R.clipIntersection=E.clipIntersection,R.displacementMap=E.displacementMap,R.displacementScale=E.displacementScale,R.displacementBias=E.displacementBias,R.wireframeLinewidth=E.wireframeLinewidth,R.linewidth=E.linewidth,I.isPointLight===!0&&R.isMeshDistanceMaterial===!0){const U=n.properties.get(R);U.light=I}return R}function b(A,E,I,L,R){if(A.visible===!1)return;if(A.layers.test(E.layers)&&(A.isMesh||A.isLine||A.isPoints)&&(A.castShadow||A.receiveShadow&&R===El)&&(!A.frustumCulled||r.intersectsObject(A))){A.modelViewMatrix.multiplyMatrices(I.matrixWorldInverse,A.matrixWorld);const V=e.update(A),W=A.material;if(Array.isArray(W)){const X=V.groups;for(let j=0,Q=X.length;j<Q;j++){const B=X[j],Z=W[B.materialIndex];if(Z&&Z.visible){const q=M(A,Z,L,R);A.onBeforeShadow(n,A,E,I,V,q,B),n.renderBufferDirect(I,null,V,q,A,B),A.onAfterShadow(n,A,E,I,V,q,B)}}}else if(W.visible){const X=M(A,W,L,R);A.onBeforeShadow(n,A,E,I,V,X,null),n.renderBufferDirect(I,null,V,X,A,null),A.onAfterShadow(n,A,E,I,V,X,null)}}const U=A.children;for(let V=0,W=U.length;V<W;V++)b(U[V],E,I,L,R)}function C(A){A.target.removeEventListener("dispose",C);for(const I in u){const L=u[I],R=A.target.uuid;R in L&&(L[R].dispose(),delete L[R])}}}function Mde(n){function e(){let oe=!1;const Ke=new Mr;let ke=null;const Xe=new Mr(0,0,0,0);return{setMask:function(tt){ke!==tt&&!oe&&(n.colorMask(tt,tt,tt,tt),ke=tt)},setLocked:function(tt){oe=tt},setClear:function(tt,hn,In,Yn,Kn){Kn===!0&&(tt*=Yn,hn*=Yn,In*=Yn),Ke.set(tt,hn,In,Yn),Xe.equals(Ke)===!1&&(n.clearColor(tt,hn,In,Yn),Xe.copy(Ke))},reset:function(){oe=!1,ke=null,Xe.set(-1,0,0,0)}}}function t(){let oe=!1,Ke=null,ke=null,Xe=null;return{setTest:function(tt){tt?be(n.DEPTH_TEST):Ee(n.DEPTH_TEST)},setMask:function(tt){Ke!==tt&&!oe&&(n.depthMask(tt),Ke=tt)},setFunc:function(tt){if(ke!==tt){switch(tt){case NX:n.depthFunc(n.NEVER);break;case OX:n.depthFunc(n.ALWAYS);break;case kX:n.depthFunc(n.LESS);break;case rS:n.depthFunc(n.LEQUAL);break;case FX:n.depthFunc(n.EQUAL);break;case zX:n.depthFunc(n.GEQUAL);break;case BX:n.depthFunc(n.GREATER);break;case UX:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}ke=tt}},setLocked:function(tt){oe=tt},setClear:function(tt){Xe!==tt&&(n.clearDepth(tt),Xe=tt)},reset:function(){oe=!1,Ke=null,ke=null,Xe=null}}}function r(){let oe=!1,Ke=null,ke=null,Xe=null,tt=null,hn=null,In=null,Yn=null,Kn=null;return{setTest:function(Pn){oe||(Pn?be(n.STENCIL_TEST):Ee(n.STENCIL_TEST))},setMask:function(Pn){Ke!==Pn&&!oe&&(n.stencilMask(Pn),Ke=Pn)},setFunc:function(Pn,Ar,Gr){(ke!==Pn||Xe!==Ar||tt!==Gr)&&(n.stencilFunc(Pn,Ar,Gr),ke=Pn,Xe=Ar,tt=Gr)},setOp:function(Pn,Ar,Gr){(hn!==Pn||In!==Ar||Yn!==Gr)&&(n.stencilOp(Pn,Ar,Gr),hn=Pn,In=Ar,Yn=Gr)},setLocked:function(Pn){oe=Pn},setClear:function(Pn){Kn!==Pn&&(n.clearStencil(Pn),Kn=Pn)},reset:function(){oe=!1,Ke=null,ke=null,Xe=null,tt=null,hn=null,In=null,Yn=null,Kn=null}}}const i=new e,a=new t,o=new r,s=new WeakMap,l=new WeakMap;let u={},c={},f=new WeakMap,h=[],d=null,p=!1,g=null,m=null,y=null,S=null,M=null,b=null,C=null,A=new zt(0,0,0),E=0,I=!1,L=null,R=null,O=null,U=null,V=null;const W=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let X=!1,j=0;const Q=n.getParameter(n.VERSION);Q.indexOf("WebGL")!==-1?(j=parseFloat(/^WebGL (\d)/.exec(Q)[1]),X=j>=1):Q.indexOf("OpenGL ES")!==-1&&(j=parseFloat(/^OpenGL ES (\d)/.exec(Q)[1]),X=j>=2);let B=null,Z={};const q=n.getParameter(n.SCISSOR_BOX),Y=n.getParameter(n.VIEWPORT),te=new Mr().fromArray(q),me=new Mr().fromArray(Y);function ae(oe,Ke,ke,Xe){const tt=new Uint8Array(4),hn=n.createTexture();n.bindTexture(oe,hn),n.texParameteri(oe,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(oe,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let In=0;In<ke;In++)oe===n.TEXTURE_3D||oe===n.TEXTURE_2D_ARRAY?n.texImage3D(Ke,0,n.RGBA,1,1,Xe,0,n.RGBA,n.UNSIGNED_BYTE,tt):n.texImage2D(Ke+In,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,tt);return hn}const fe={};fe[n.TEXTURE_2D]=ae(n.TEXTURE_2D,n.TEXTURE_2D,1),fe[n.TEXTURE_CUBE_MAP]=ae(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),fe[n.TEXTURE_2D_ARRAY]=ae(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),fe[n.TEXTURE_3D]=ae(n.TEXTURE_3D,n.TEXTURE_3D,1,1),i.setClear(0,0,0,1),a.setClear(1),o.setClear(0),be(n.DEPTH_TEST),a.setFunc(rS),Ge(!1),He(Z2),be(n.CULL_FACE),Ae(Xc);function be(oe){u[oe]!==!0&&(n.enable(oe),u[oe]=!0)}function Ee(oe){u[oe]!==!1&&(n.disable(oe),u[oe]=!1)}function Be(oe,Ke){return c[oe]!==Ke?(n.bindFramebuffer(oe,Ke),c[oe]=Ke,oe===n.DRAW_FRAMEBUFFER&&(c[n.FRAMEBUFFER]=Ke),oe===n.FRAMEBUFFER&&(c[n.DRAW_FRAMEBUFFER]=Ke),!0):!1}function Oe(oe,Ke){let ke=h,Xe=!1;if(oe){ke=f.get(Ke),ke===void 0&&(ke=[],f.set(Ke,ke));const tt=oe.textures;if(ke.length!==tt.length||ke[0]!==n.COLOR_ATTACHMENT0){for(let hn=0,In=tt.length;hn<In;hn++)ke[hn]=n.COLOR_ATTACHMENT0+hn;ke.length=tt.length,Xe=!0}}else ke[0]!==n.BACK&&(ke[0]=n.BACK,Xe=!0);Xe&&n.drawBuffers(ke)}function $e(oe){return d!==oe?(n.useProgram(oe),d=oe,!0):!1}const ee={[dh]:n.FUNC_ADD,[mX]:n.FUNC_SUBTRACT,[yX]:n.FUNC_REVERSE_SUBTRACT};ee[_X]=n.MIN,ee[xX]=n.MAX;const ve={[SX]:n.ZERO,[wX]:n.ONE,[MX]:n.SRC_COLOR,[Mb]:n.SRC_ALPHA,[PX]:n.SRC_ALPHA_SATURATE,[CX]:n.DST_COLOR,[bX]:n.DST_ALPHA,[TX]:n.ONE_MINUS_SRC_COLOR,[Tb]:n.ONE_MINUS_SRC_ALPHA,[EX]:n.ONE_MINUS_DST_COLOR,[AX]:n.ONE_MINUS_DST_ALPHA,[DX]:n.CONSTANT_COLOR,[RX]:n.ONE_MINUS_CONSTANT_COLOR,[LX]:n.CONSTANT_ALPHA,[IX]:n.ONE_MINUS_CONSTANT_ALPHA};function Ae(oe,Ke,ke,Xe,tt,hn,In,Yn,Kn,Pn){if(oe===Xc){p===!0&&(Ee(n.BLEND),p=!1);return}if(p===!1&&(be(n.BLEND),p=!0),oe!==gX){if(oe!==g||Pn!==I){if((m!==dh||M!==dh)&&(n.blendEquation(n.FUNC_ADD),m=dh,M=dh),Pn)switch(oe){case nv:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case $2:n.blendFunc(n.ONE,n.ONE);break;case q2:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case K2:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",oe);break}else switch(oe){case nv:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case $2:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case q2:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case K2:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",oe);break}y=null,S=null,b=null,C=null,A.set(0,0,0),E=0,g=oe,I=Pn}return}tt=tt||Ke,hn=hn||ke,In=In||Xe,(Ke!==m||tt!==M)&&(n.blendEquationSeparate(ee[Ke],ee[tt]),m=Ke,M=tt),(ke!==y||Xe!==S||hn!==b||In!==C)&&(n.blendFuncSeparate(ve[ke],ve[Xe],ve[hn],ve[In]),y=ke,S=Xe,b=hn,C=In),(Yn.equals(A)===!1||Kn!==E)&&(n.blendColor(Yn.r,Yn.g,Yn.b,Kn),A.copy(Yn),E=Kn),g=oe,I=!1}function Ue(oe,Ke){oe.side===gu?Ee(n.CULL_FACE):be(n.CULL_FACE);let ke=oe.side===ya;Ke&&(ke=!ke),Ge(ke),oe.blending===nv&&oe.transparent===!1?Ae(Xc):Ae(oe.blending,oe.blendEquation,oe.blendSrc,oe.blendDst,oe.blendEquationAlpha,oe.blendSrcAlpha,oe.blendDstAlpha,oe.blendColor,oe.blendAlpha,oe.premultipliedAlpha),a.setFunc(oe.depthFunc),a.setTest(oe.depthTest),a.setMask(oe.depthWrite),i.setMask(oe.colorWrite);const Xe=oe.stencilWrite;o.setTest(Xe),Xe&&(o.setMask(oe.stencilWriteMask),o.setFunc(oe.stencilFunc,oe.stencilRef,oe.stencilFuncMask),o.setOp(oe.stencilFail,oe.stencilZFail,oe.stencilZPass)),ct(oe.polygonOffset,oe.polygonOffsetFactor,oe.polygonOffsetUnits),oe.alphaToCoverage===!0?be(n.SAMPLE_ALPHA_TO_COVERAGE):Ee(n.SAMPLE_ALPHA_TO_COVERAGE)}function Ge(oe){L!==oe&&(oe?n.frontFace(n.CW):n.frontFace(n.CCW),L=oe)}function He(oe){oe!==dX?(be(n.CULL_FACE),oe!==R&&(oe===Z2?n.cullFace(n.BACK):oe===pX?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):Ee(n.CULL_FACE),R=oe}function ot(oe){oe!==O&&(X&&n.lineWidth(oe),O=oe)}function ct(oe,Ke,ke){oe?(be(n.POLYGON_OFFSET_FILL),(U!==Ke||V!==ke)&&(n.polygonOffset(Ke,ke),U=Ke,V=ke)):Ee(n.POLYGON_OFFSET_FILL)}function Rt(oe){oe?be(n.SCISSOR_TEST):Ee(n.SCISSOR_TEST)}function re(oe){oe===void 0&&(oe=n.TEXTURE0+W-1),B!==oe&&(n.activeTexture(oe),B=oe)}function K(oe,Ke,ke){ke===void 0&&(B===null?ke=n.TEXTURE0+W-1:ke=B);let Xe=Z[ke];Xe===void 0&&(Xe={type:void 0,texture:void 0},Z[ke]=Xe),(Xe.type!==oe||Xe.texture!==Ke)&&(B!==ke&&(n.activeTexture(ke),B=ke),n.bindTexture(oe,Ke||fe[oe]),Xe.type=oe,Xe.texture=Ke)}function Pe(){const oe=Z[B];oe!==void 0&&oe.type!==void 0&&(n.bindTexture(oe.type,null),oe.type=void 0,oe.texture=void 0)}function Ze(){try{n.compressedTexImage2D.apply(n,arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}function Ye(){try{n.compressedTexImage3D.apply(n,arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}function Qe(){try{n.texSubImage2D.apply(n,arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}function Yt(){try{n.texSubImage3D.apply(n,arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}function vt(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}function ft(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}function rn(){try{n.texStorage2D.apply(n,arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}function at(){try{n.texStorage3D.apply(n,arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}function bt(){try{n.texImage2D.apply(n,arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}function Rn(){try{n.texImage3D.apply(n,arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}function Kt(oe){te.equals(oe)===!1&&(n.scissor(oe.x,oe.y,oe.z,oe.w),te.copy(oe))}function St(oe){me.equals(oe)===!1&&(n.viewport(oe.x,oe.y,oe.z,oe.w),me.copy(oe))}function mn(oe,Ke){let ke=l.get(Ke);ke===void 0&&(ke=new WeakMap,l.set(Ke,ke));let Xe=ke.get(oe);Xe===void 0&&(Xe=n.getUniformBlockIndex(Ke,oe.name),ke.set(oe,Xe))}function ce(oe,Ke){const Xe=l.get(Ke).get(oe);s.get(Ke)!==Xe&&(n.uniformBlockBinding(Ke,Xe,oe.__bindingPointIndex),s.set(Ke,Xe))}function et(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),u={},B=null,Z={},c={},f=new WeakMap,h=[],d=null,p=!1,g=null,m=null,y=null,S=null,M=null,b=null,C=null,A=new zt(0,0,0),E=0,I=!1,L=null,R=null,O=null,U=null,V=null,te.set(0,0,n.canvas.width,n.canvas.height),me.set(0,0,n.canvas.width,n.canvas.height),i.reset(),a.reset(),o.reset()}return{buffers:{color:i,depth:a,stencil:o},enable:be,disable:Ee,bindFramebuffer:Be,drawBuffers:Oe,useProgram:$e,setBlending:Ae,setMaterial:Ue,setFlipSided:Ge,setCullFace:He,setLineWidth:ot,setPolygonOffset:ct,setScissorTest:Rt,activeTexture:re,bindTexture:K,unbindTexture:Pe,compressedTexImage2D:Ze,compressedTexImage3D:Ye,texImage2D:bt,texImage3D:Rn,updateUBOMapping:mn,uniformBlockBinding:ce,texStorage2D:rn,texStorage3D:at,texSubImage2D:Qe,texSubImage3D:Yt,compressedTexSubImage2D:vt,compressedTexSubImage3D:ft,scissor:Kt,viewport:St,reset:et}}function Tde(n,e,t,r,i,a,o){const s=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),u=new je,c=new WeakMap;let f;const h=new WeakMap;let d=!1;try{d=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function p(re,K){return d?new OffscreenCanvas(re,K):gS("canvas")}function g(re,K,Pe){let Ze=1;const Ye=Rt(re);if((Ye.width>Pe||Ye.height>Pe)&&(Ze=Pe/Math.max(Ye.width,Ye.height)),Ze<1)if(typeof HTMLImageElement<"u"&&re instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&re instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&re instanceof ImageBitmap||typeof VideoFrame<"u"&&re instanceof VideoFrame){const Qe=Math.floor(Ze*Ye.width),Yt=Math.floor(Ze*Ye.height);f===void 0&&(f=p(Qe,Yt));const vt=K?p(Qe,Yt):f;return vt.width=Qe,vt.height=Yt,vt.getContext("2d").drawImage(re,0,0,Qe,Yt),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Ye.width+"x"+Ye.height+") to ("+Qe+"x"+Yt+")."),vt}else return"data"in re&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Ye.width+"x"+Ye.height+")."),re;return re}function m(re){return re.generateMipmaps&&re.minFilter!==ra&&re.minFilter!==Ei}function y(re){n.generateMipmap(re)}function S(re,K,Pe,Ze,Ye=!1){if(re!==null){if(n[re]!==void 0)return n[re];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+re+"'")}let Qe=K;if(K===n.RED&&(Pe===n.FLOAT&&(Qe=n.R32F),Pe===n.HALF_FLOAT&&(Qe=n.R16F),Pe===n.UNSIGNED_BYTE&&(Qe=n.R8)),K===n.RED_INTEGER&&(Pe===n.UNSIGNED_BYTE&&(Qe=n.R8UI),Pe===n.UNSIGNED_SHORT&&(Qe=n.R16UI),Pe===n.UNSIGNED_INT&&(Qe=n.R32UI),Pe===n.BYTE&&(Qe=n.R8I),Pe===n.SHORT&&(Qe=n.R16I),Pe===n.INT&&(Qe=n.R32I)),K===n.RG&&(Pe===n.FLOAT&&(Qe=n.RG32F),Pe===n.HALF_FLOAT&&(Qe=n.RG16F),Pe===n.UNSIGNED_BYTE&&(Qe=n.RG8)),K===n.RG_INTEGER&&(Pe===n.UNSIGNED_BYTE&&(Qe=n.RG8UI),Pe===n.UNSIGNED_SHORT&&(Qe=n.RG16UI),Pe===n.UNSIGNED_INT&&(Qe=n.RG32UI),Pe===n.BYTE&&(Qe=n.RG8I),Pe===n.SHORT&&(Qe=n.RG16I),Pe===n.INT&&(Qe=n.RG32I)),K===n.RGB&&Pe===n.UNSIGNED_INT_5_9_9_9_REV&&(Qe=n.RGB9_E5),K===n.RGBA){const Yt=Ye?fS:vr.getTransfer(Ze);Pe===n.FLOAT&&(Qe=n.RGBA32F),Pe===n.HALF_FLOAT&&(Qe=n.RGBA16F),Pe===n.UNSIGNED_BYTE&&(Qe=Yt===kr?n.SRGB8_ALPHA8:n.RGBA8),Pe===n.UNSIGNED_SHORT_4_4_4_4&&(Qe=n.RGBA4),Pe===n.UNSIGNED_SHORT_5_5_5_1&&(Qe=n.RGB5_A1)}return(Qe===n.R16F||Qe===n.R32F||Qe===n.RG16F||Qe===n.RG32F||Qe===n.RGBA16F||Qe===n.RGBA32F)&&e.get("EXT_color_buffer_float"),Qe}function M(re,K){let Pe;return re?K===null||K===vv||K===gv?Pe=n.DEPTH24_STENCIL8:K===as?Pe=n.DEPTH32F_STENCIL8:K===lS&&(Pe=n.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):K===null||K===vv||K===gv?Pe=n.DEPTH_COMPONENT24:K===as?Pe=n.DEPTH_COMPONENT32F:K===lS&&(Pe=n.DEPTH_COMPONENT16),Pe}function b(re,K){return m(re)===!0||re.isFramebufferTexture&&re.minFilter!==ra&&re.minFilter!==Ei?Math.log2(Math.max(K.width,K.height))+1:re.mipmaps!==void 0&&re.mipmaps.length>0?re.mipmaps.length:re.isCompressedTexture&&Array.isArray(re.image)?K.mipmaps.length:1}function C(re){const K=re.target;K.removeEventListener("dispose",C),E(K),K.isVideoTexture&&c.delete(K)}function A(re){const K=re.target;K.removeEventListener("dispose",A),L(K)}function E(re){const K=r.get(re);if(K.__webglInit===void 0)return;const Pe=re.source,Ze=h.get(Pe);if(Ze){const Ye=Ze[K.__cacheKey];Ye.usedTimes--,Ye.usedTimes===0&&I(re),Object.keys(Ze).length===0&&h.delete(Pe)}r.remove(re)}function I(re){const K=r.get(re);n.deleteTexture(K.__webglTexture);const Pe=re.source,Ze=h.get(Pe);delete Ze[K.__cacheKey],o.memory.textures--}function L(re){const K=r.get(re);if(re.depthTexture&&re.depthTexture.dispose(),re.isWebGLCubeRenderTarget)for(let Ze=0;Ze<6;Ze++){if(Array.isArray(K.__webglFramebuffer[Ze]))for(let Ye=0;Ye<K.__webglFramebuffer[Ze].length;Ye++)n.deleteFramebuffer(K.__webglFramebuffer[Ze][Ye]);else n.deleteFramebuffer(K.__webglFramebuffer[Ze]);K.__webglDepthbuffer&&n.deleteRenderbuffer(K.__webglDepthbuffer[Ze])}else{if(Array.isArray(K.__webglFramebuffer))for(let Ze=0;Ze<K.__webglFramebuffer.length;Ze++)n.deleteFramebuffer(K.__webglFramebuffer[Ze]);else n.deleteFramebuffer(K.__webglFramebuffer);if(K.__webglDepthbuffer&&n.deleteRenderbuffer(K.__webglDepthbuffer),K.__webglMultisampledFramebuffer&&n.deleteFramebuffer(K.__webglMultisampledFramebuffer),K.__webglColorRenderbuffer)for(let Ze=0;Ze<K.__webglColorRenderbuffer.length;Ze++)K.__webglColorRenderbuffer[Ze]&&n.deleteRenderbuffer(K.__webglColorRenderbuffer[Ze]);K.__webglDepthRenderbuffer&&n.deleteRenderbuffer(K.__webglDepthRenderbuffer)}const Pe=re.textures;for(let Ze=0,Ye=Pe.length;Ze<Ye;Ze++){const Qe=r.get(Pe[Ze]);Qe.__webglTexture&&(n.deleteTexture(Qe.__webglTexture),o.memory.textures--),r.remove(Pe[Ze])}r.remove(re)}let R=0;function O(){R=0}function U(){const re=R;return re>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+re+" texture units while this GPU supports only "+i.maxTextures),R+=1,re}function V(re){const K=[];return K.push(re.wrapS),K.push(re.wrapT),K.push(re.wrapR||0),K.push(re.magFilter),K.push(re.minFilter),K.push(re.anisotropy),K.push(re.internalFormat),K.push(re.format),K.push(re.type),K.push(re.generateMipmaps),K.push(re.premultiplyAlpha),K.push(re.flipY),K.push(re.unpackAlignment),K.push(re.colorSpace),K.join()}function W(re,K){const Pe=r.get(re);if(re.isVideoTexture&&ot(re),re.isRenderTargetTexture===!1&&re.version>0&&Pe.__version!==re.version){const Ze=re.image;if(Ze===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Ze.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{me(Pe,re,K);return}}t.bindTexture(n.TEXTURE_2D,Pe.__webglTexture,n.TEXTURE0+K)}function X(re,K){const Pe=r.get(re);if(re.version>0&&Pe.__version!==re.version){me(Pe,re,K);return}t.bindTexture(n.TEXTURE_2D_ARRAY,Pe.__webglTexture,n.TEXTURE0+K)}function j(re,K){const Pe=r.get(re);if(re.version>0&&Pe.__version!==re.version){me(Pe,re,K);return}t.bindTexture(n.TEXTURE_3D,Pe.__webglTexture,n.TEXTURE0+K)}function Q(re,K){const Pe=r.get(re);if(re.version>0&&Pe.__version!==re.version){ae(Pe,re,K);return}t.bindTexture(n.TEXTURE_CUBE_MAP,Pe.__webglTexture,n.TEXTURE0+K)}const B={[oS]:n.REPEAT,[Bs]:n.CLAMP_TO_EDGE,[sS]:n.MIRRORED_REPEAT},Z={[ra]:n.NEAREST,[_O]:n.NEAREST_MIPMAP_NEAREST,[$m]:n.NEAREST_MIPMAP_LINEAR,[Ei]:n.LINEAR,[Ex]:n.LINEAR_MIPMAP_NEAREST,[_u]:n.LINEAR_MIPMAP_LINEAR},q={[fY]:n.NEVER,[mY]:n.ALWAYS,[hY]:n.LESS,[EO]:n.LEQUAL,[dY]:n.EQUAL,[gY]:n.GEQUAL,[pY]:n.GREATER,[vY]:n.NOTEQUAL};function Y(re,K){if(K.type===as&&e.has("OES_texture_float_linear")===!1&&(K.magFilter===Ei||K.magFilter===Ex||K.magFilter===$m||K.magFilter===_u||K.minFilter===Ei||K.minFilter===Ex||K.minFilter===$m||K.minFilter===_u)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(re,n.TEXTURE_WRAP_S,B[K.wrapS]),n.texParameteri(re,n.TEXTURE_WRAP_T,B[K.wrapT]),(re===n.TEXTURE_3D||re===n.TEXTURE_2D_ARRAY)&&n.texParameteri(re,n.TEXTURE_WRAP_R,B[K.wrapR]),n.texParameteri(re,n.TEXTURE_MAG_FILTER,Z[K.magFilter]),n.texParameteri(re,n.TEXTURE_MIN_FILTER,Z[K.minFilter]),K.compareFunction&&(n.texParameteri(re,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(re,n.TEXTURE_COMPARE_FUNC,q[K.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(K.magFilter===ra||K.minFilter!==$m&&K.minFilter!==_u||K.type===as&&e.has("OES_texture_float_linear")===!1)return;if(K.anisotropy>1||r.get(K).__currentAnisotropy){const Pe=e.get("EXT_texture_filter_anisotropic");n.texParameterf(re,Pe.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(K.anisotropy,i.getMaxAnisotropy())),r.get(K).__currentAnisotropy=K.anisotropy}}}function te(re,K){let Pe=!1;re.__webglInit===void 0&&(re.__webglInit=!0,K.addEventListener("dispose",C));const Ze=K.source;let Ye=h.get(Ze);Ye===void 0&&(Ye={},h.set(Ze,Ye));const Qe=V(K);if(Qe!==re.__cacheKey){Ye[Qe]===void 0&&(Ye[Qe]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,Pe=!0),Ye[Qe].usedTimes++;const Yt=Ye[re.__cacheKey];Yt!==void 0&&(Ye[re.__cacheKey].usedTimes--,Yt.usedTimes===0&&I(K)),re.__cacheKey=Qe,re.__webglTexture=Ye[Qe].texture}return Pe}function me(re,K,Pe){let Ze=n.TEXTURE_2D;(K.isDataArrayTexture||K.isCompressedArrayTexture)&&(Ze=n.TEXTURE_2D_ARRAY),K.isData3DTexture&&(Ze=n.TEXTURE_3D);const Ye=te(re,K),Qe=K.source;t.bindTexture(Ze,re.__webglTexture,n.TEXTURE0+Pe);const Yt=r.get(Qe);if(Qe.version!==Yt.__version||Ye===!0){t.activeTexture(n.TEXTURE0+Pe);const vt=vr.getPrimaries(vr.workingColorSpace),ft=K.colorSpace===Nc?null:vr.getPrimaries(K.colorSpace),rn=K.colorSpace===Nc||vt===ft?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,K.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,K.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,K.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,rn);let at=g(K.image,!1,i.maxTextureSize);at=ct(K,at);const bt=a.convert(K.format,K.colorSpace),Rn=a.convert(K.type);let Kt=S(K.internalFormat,bt,Rn,K.colorSpace,K.isVideoTexture);Y(Ze,K);let St;const mn=K.mipmaps,ce=K.isVideoTexture!==!0,et=Yt.__version===void 0||Ye===!0,oe=Qe.dataReady,Ke=b(K,at);if(K.isDepthTexture)Kt=M(K.format===mv,K.type),et&&(ce?t.texStorage2D(n.TEXTURE_2D,1,Kt,at.width,at.height):t.texImage2D(n.TEXTURE_2D,0,Kt,at.width,at.height,0,bt,Rn,null));else if(K.isDataTexture)if(mn.length>0){ce&&et&&t.texStorage2D(n.TEXTURE_2D,Ke,Kt,mn[0].width,mn[0].height);for(let ke=0,Xe=mn.length;ke<Xe;ke++)St=mn[ke],ce?oe&&t.texSubImage2D(n.TEXTURE_2D,ke,0,0,St.width,St.height,bt,Rn,St.data):t.texImage2D(n.TEXTURE_2D,ke,Kt,St.width,St.height,0,bt,Rn,St.data);K.generateMipmaps=!1}else ce?(et&&t.texStorage2D(n.TEXTURE_2D,Ke,Kt,at.width,at.height),oe&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,at.width,at.height,bt,Rn,at.data)):t.texImage2D(n.TEXTURE_2D,0,Kt,at.width,at.height,0,bt,Rn,at.data);else if(K.isCompressedTexture)if(K.isCompressedArrayTexture){ce&&et&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Ke,Kt,mn[0].width,mn[0].height,at.depth);for(let ke=0,Xe=mn.length;ke<Xe;ke++)if(St=mn[ke],K.format!==po)if(bt!==null)if(ce){if(oe)if(K.layerUpdates.size>0){for(const tt of K.layerUpdates){const hn=St.width*St.height;t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,ke,0,0,tt,St.width,St.height,1,bt,St.data.slice(hn*tt,hn*(tt+1)),0,0)}K.clearLayerUpdates()}else t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,ke,0,0,0,St.width,St.height,at.depth,bt,St.data,0,0)}else t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,ke,Kt,St.width,St.height,at.depth,0,St.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else ce?oe&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,ke,0,0,0,St.width,St.height,at.depth,bt,Rn,St.data):t.texImage3D(n.TEXTURE_2D_ARRAY,ke,Kt,St.width,St.height,at.depth,0,bt,Rn,St.data)}else{ce&&et&&t.texStorage2D(n.TEXTURE_2D,Ke,Kt,mn[0].width,mn[0].height);for(let ke=0,Xe=mn.length;ke<Xe;ke++)St=mn[ke],K.format!==po?bt!==null?ce?oe&&t.compressedTexSubImage2D(n.TEXTURE_2D,ke,0,0,St.width,St.height,bt,St.data):t.compressedTexImage2D(n.TEXTURE_2D,ke,Kt,St.width,St.height,0,St.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ce?oe&&t.texSubImage2D(n.TEXTURE_2D,ke,0,0,St.width,St.height,bt,Rn,St.data):t.texImage2D(n.TEXTURE_2D,ke,Kt,St.width,St.height,0,bt,Rn,St.data)}else if(K.isDataArrayTexture)if(ce){if(et&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Ke,Kt,at.width,at.height,at.depth),oe)if(K.layerUpdates.size>0){let ke;switch(Rn){case n.UNSIGNED_BYTE:switch(bt){case n.ALPHA:ke=1;break;case n.LUMINANCE:ke=1;break;case n.LUMINANCE_ALPHA:ke=2;break;case n.RGB:ke=3;break;case n.RGBA:ke=4;break;default:throw new Error(`Unknown texel size for format ${bt}.`)}break;case n.UNSIGNED_SHORT_4_4_4_4:case n.UNSIGNED_SHORT_5_5_5_1:case n.UNSIGNED_SHORT_5_6_5:ke=1;break;default:throw new Error(`Unknown texel size for type ${Rn}.`)}const Xe=at.width*at.height*ke;for(const tt of K.layerUpdates)t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,tt,at.width,at.height,1,bt,Rn,at.data.slice(Xe*tt,Xe*(tt+1)));K.clearLayerUpdates()}else t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,at.width,at.height,at.depth,bt,Rn,at.data)}else t.texImage3D(n.TEXTURE_2D_ARRAY,0,Kt,at.width,at.height,at.depth,0,bt,Rn,at.data);else if(K.isData3DTexture)ce?(et&&t.texStorage3D(n.TEXTURE_3D,Ke,Kt,at.width,at.height,at.depth),oe&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,at.width,at.height,at.depth,bt,Rn,at.data)):t.texImage3D(n.TEXTURE_3D,0,Kt,at.width,at.height,at.depth,0,bt,Rn,at.data);else if(K.isFramebufferTexture){if(et)if(ce)t.texStorage2D(n.TEXTURE_2D,Ke,Kt,at.width,at.height);else{let ke=at.width,Xe=at.height;for(let tt=0;tt<Ke;tt++)t.texImage2D(n.TEXTURE_2D,tt,Kt,ke,Xe,0,bt,Rn,null),ke>>=1,Xe>>=1}}else if(mn.length>0){if(ce&&et){const ke=Rt(mn[0]);t.texStorage2D(n.TEXTURE_2D,Ke,Kt,ke.width,ke.height)}for(let ke=0,Xe=mn.length;ke<Xe;ke++)St=mn[ke],ce?oe&&t.texSubImage2D(n.TEXTURE_2D,ke,0,0,bt,Rn,St):t.texImage2D(n.TEXTURE_2D,ke,Kt,bt,Rn,St);K.generateMipmaps=!1}else if(ce){if(et){const ke=Rt(at);t.texStorage2D(n.TEXTURE_2D,Ke,Kt,ke.width,ke.height)}oe&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,bt,Rn,at)}else t.texImage2D(n.TEXTURE_2D,0,Kt,bt,Rn,at);m(K)&&y(Ze),Yt.__version=Qe.version,K.onUpdate&&K.onUpdate(K)}re.__version=K.version}function ae(re,K,Pe){if(K.image.length!==6)return;const Ze=te(re,K),Ye=K.source;t.bindTexture(n.TEXTURE_CUBE_MAP,re.__webglTexture,n.TEXTURE0+Pe);const Qe=r.get(Ye);if(Ye.version!==Qe.__version||Ze===!0){t.activeTexture(n.TEXTURE0+Pe);const Yt=vr.getPrimaries(vr.workingColorSpace),vt=K.colorSpace===Nc?null:vr.getPrimaries(K.colorSpace),ft=K.colorSpace===Nc||Yt===vt?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,K.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,K.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,K.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,ft);const rn=K.isCompressedTexture||K.image[0].isCompressedTexture,at=K.image[0]&&K.image[0].isDataTexture,bt=[];for(let Xe=0;Xe<6;Xe++)!rn&&!at?bt[Xe]=g(K.image[Xe],!0,i.maxCubemapSize):bt[Xe]=at?K.image[Xe].image:K.image[Xe],bt[Xe]=ct(K,bt[Xe]);const Rn=bt[0],Kt=a.convert(K.format,K.colorSpace),St=a.convert(K.type),mn=S(K.internalFormat,Kt,St,K.colorSpace),ce=K.isVideoTexture!==!0,et=Qe.__version===void 0||Ze===!0,oe=Ye.dataReady;let Ke=b(K,Rn);Y(n.TEXTURE_CUBE_MAP,K);let ke;if(rn){ce&&et&&t.texStorage2D(n.TEXTURE_CUBE_MAP,Ke,mn,Rn.width,Rn.height);for(let Xe=0;Xe<6;Xe++){ke=bt[Xe].mipmaps;for(let tt=0;tt<ke.length;tt++){const hn=ke[tt];K.format!==po?Kt!==null?ce?oe&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Xe,tt,0,0,hn.width,hn.height,Kt,hn.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Xe,tt,mn,hn.width,hn.height,0,hn.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):ce?oe&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Xe,tt,0,0,hn.width,hn.height,Kt,St,hn.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Xe,tt,mn,hn.width,hn.height,0,Kt,St,hn.data)}}}else{if(ke=K.mipmaps,ce&&et){ke.length>0&&Ke++;const Xe=Rt(bt[0]);t.texStorage2D(n.TEXTURE_CUBE_MAP,Ke,mn,Xe.width,Xe.height)}for(let Xe=0;Xe<6;Xe++)if(at){ce?oe&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Xe,0,0,0,bt[Xe].width,bt[Xe].height,Kt,St,bt[Xe].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Xe,0,mn,bt[Xe].width,bt[Xe].height,0,Kt,St,bt[Xe].data);for(let tt=0;tt<ke.length;tt++){const In=ke[tt].image[Xe].image;ce?oe&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Xe,tt+1,0,0,In.width,In.height,Kt,St,In.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Xe,tt+1,mn,In.width,In.height,0,Kt,St,In.data)}}else{ce?oe&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Xe,0,0,0,Kt,St,bt[Xe]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Xe,0,mn,Kt,St,bt[Xe]);for(let tt=0;tt<ke.length;tt++){const hn=ke[tt];ce?oe&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Xe,tt+1,0,0,Kt,St,hn.image[Xe]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Xe,tt+1,mn,Kt,St,hn.image[Xe])}}}m(K)&&y(n.TEXTURE_CUBE_MAP),Qe.__version=Ye.version,K.onUpdate&&K.onUpdate(K)}re.__version=K.version}function fe(re,K,Pe,Ze,Ye,Qe){const Yt=a.convert(Pe.format,Pe.colorSpace),vt=a.convert(Pe.type),ft=S(Pe.internalFormat,Yt,vt,Pe.colorSpace);if(!r.get(K).__hasExternalTextures){const at=Math.max(1,K.width>>Qe),bt=Math.max(1,K.height>>Qe);Ye===n.TEXTURE_3D||Ye===n.TEXTURE_2D_ARRAY?t.texImage3D(Ye,Qe,ft,at,bt,K.depth,0,Yt,vt,null):t.texImage2D(Ye,Qe,ft,at,bt,0,Yt,vt,null)}t.bindFramebuffer(n.FRAMEBUFFER,re),He(K)?s.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,Ze,Ye,r.get(Pe).__webglTexture,0,Ge(K)):(Ye===n.TEXTURE_2D||Ye>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&Ye<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,Ze,Ye,r.get(Pe).__webglTexture,Qe),t.bindFramebuffer(n.FRAMEBUFFER,null)}function be(re,K,Pe){if(n.bindRenderbuffer(n.RENDERBUFFER,re),K.depthBuffer){const Ze=K.depthTexture,Ye=Ze&&Ze.isDepthTexture?Ze.type:null,Qe=M(K.stencilBuffer,Ye),Yt=K.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,vt=Ge(K);He(K)?s.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,vt,Qe,K.width,K.height):Pe?n.renderbufferStorageMultisample(n.RENDERBUFFER,vt,Qe,K.width,K.height):n.renderbufferStorage(n.RENDERBUFFER,Qe,K.width,K.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,Yt,n.RENDERBUFFER,re)}else{const Ze=K.textures;for(let Ye=0;Ye<Ze.length;Ye++){const Qe=Ze[Ye],Yt=a.convert(Qe.format,Qe.colorSpace),vt=a.convert(Qe.type),ft=S(Qe.internalFormat,Yt,vt,Qe.colorSpace),rn=Ge(K);Pe&&He(K)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,rn,ft,K.width,K.height):He(K)?s.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,rn,ft,K.width,K.height):n.renderbufferStorage(n.RENDERBUFFER,ft,K.width,K.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function Ee(re,K){if(K&&K.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,re),!(K.depthTexture&&K.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(K.depthTexture).__webglTexture||K.depthTexture.image.width!==K.width||K.depthTexture.image.height!==K.height)&&(K.depthTexture.image.width=K.width,K.depthTexture.image.height=K.height,K.depthTexture.needsUpdate=!0),W(K.depthTexture,0);const Ze=r.get(K.depthTexture).__webglTexture,Ye=Ge(K);if(K.depthTexture.format===rv)He(K)?s.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Ze,0,Ye):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Ze,0);else if(K.depthTexture.format===mv)He(K)?s.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Ze,0,Ye):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Ze,0);else throw new Error("Unknown depthTexture format")}function Be(re){const K=r.get(re),Pe=re.isWebGLCubeRenderTarget===!0;if(re.depthTexture&&!K.__autoAllocateDepthBuffer){if(Pe)throw new Error("target.depthTexture not supported in Cube render targets");Ee(K.__webglFramebuffer,re)}else if(Pe){K.__webglDepthbuffer=[];for(let Ze=0;Ze<6;Ze++)t.bindFramebuffer(n.FRAMEBUFFER,K.__webglFramebuffer[Ze]),K.__webglDepthbuffer[Ze]=n.createRenderbuffer(),be(K.__webglDepthbuffer[Ze],re,!1)}else t.bindFramebuffer(n.FRAMEBUFFER,K.__webglFramebuffer),K.__webglDepthbuffer=n.createRenderbuffer(),be(K.__webglDepthbuffer,re,!1);t.bindFramebuffer(n.FRAMEBUFFER,null)}function Oe(re,K,Pe){const Ze=r.get(re);K!==void 0&&fe(Ze.__webglFramebuffer,re,re.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),Pe!==void 0&&Be(re)}function $e(re){const K=re.texture,Pe=r.get(re),Ze=r.get(K);re.addEventListener("dispose",A);const Ye=re.textures,Qe=re.isWebGLCubeRenderTarget===!0,Yt=Ye.length>1;if(Yt||(Ze.__webglTexture===void 0&&(Ze.__webglTexture=n.createTexture()),Ze.__version=K.version,o.memory.textures++),Qe){Pe.__webglFramebuffer=[];for(let vt=0;vt<6;vt++)if(K.mipmaps&&K.mipmaps.length>0){Pe.__webglFramebuffer[vt]=[];for(let ft=0;ft<K.mipmaps.length;ft++)Pe.__webglFramebuffer[vt][ft]=n.createFramebuffer()}else Pe.__webglFramebuffer[vt]=n.createFramebuffer()}else{if(K.mipmaps&&K.mipmaps.length>0){Pe.__webglFramebuffer=[];for(let vt=0;vt<K.mipmaps.length;vt++)Pe.__webglFramebuffer[vt]=n.createFramebuffer()}else Pe.__webglFramebuffer=n.createFramebuffer();if(Yt)for(let vt=0,ft=Ye.length;vt<ft;vt++){const rn=r.get(Ye[vt]);rn.__webglTexture===void 0&&(rn.__webglTexture=n.createTexture(),o.memory.textures++)}if(re.samples>0&&He(re)===!1){Pe.__webglMultisampledFramebuffer=n.createFramebuffer(),Pe.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,Pe.__webglMultisampledFramebuffer);for(let vt=0;vt<Ye.length;vt++){const ft=Ye[vt];Pe.__webglColorRenderbuffer[vt]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,Pe.__webglColorRenderbuffer[vt]);const rn=a.convert(ft.format,ft.colorSpace),at=a.convert(ft.type),bt=S(ft.internalFormat,rn,at,ft.colorSpace,re.isXRRenderTarget===!0),Rn=Ge(re);n.renderbufferStorageMultisample(n.RENDERBUFFER,Rn,bt,re.width,re.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+vt,n.RENDERBUFFER,Pe.__webglColorRenderbuffer[vt])}n.bindRenderbuffer(n.RENDERBUFFER,null),re.depthBuffer&&(Pe.__webglDepthRenderbuffer=n.createRenderbuffer(),be(Pe.__webglDepthRenderbuffer,re,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(Qe){t.bindTexture(n.TEXTURE_CUBE_MAP,Ze.__webglTexture),Y(n.TEXTURE_CUBE_MAP,K);for(let vt=0;vt<6;vt++)if(K.mipmaps&&K.mipmaps.length>0)for(let ft=0;ft<K.mipmaps.length;ft++)fe(Pe.__webglFramebuffer[vt][ft],re,K,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+vt,ft);else fe(Pe.__webglFramebuffer[vt],re,K,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+vt,0);m(K)&&y(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(Yt){for(let vt=0,ft=Ye.length;vt<ft;vt++){const rn=Ye[vt],at=r.get(rn);t.bindTexture(n.TEXTURE_2D,at.__webglTexture),Y(n.TEXTURE_2D,rn),fe(Pe.__webglFramebuffer,re,rn,n.COLOR_ATTACHMENT0+vt,n.TEXTURE_2D,0),m(rn)&&y(n.TEXTURE_2D)}t.unbindTexture()}else{let vt=n.TEXTURE_2D;if((re.isWebGL3DRenderTarget||re.isWebGLArrayRenderTarget)&&(vt=re.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(vt,Ze.__webglTexture),Y(vt,K),K.mipmaps&&K.mipmaps.length>0)for(let ft=0;ft<K.mipmaps.length;ft++)fe(Pe.__webglFramebuffer[ft],re,K,n.COLOR_ATTACHMENT0,vt,ft);else fe(Pe.__webglFramebuffer,re,K,n.COLOR_ATTACHMENT0,vt,0);m(K)&&y(vt),t.unbindTexture()}re.depthBuffer&&Be(re)}function ee(re){const K=re.textures;for(let Pe=0,Ze=K.length;Pe<Ze;Pe++){const Ye=K[Pe];if(m(Ye)){const Qe=re.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:n.TEXTURE_2D,Yt=r.get(Ye).__webglTexture;t.bindTexture(Qe,Yt),y(Qe),t.unbindTexture()}}}const ve=[],Ae=[];function Ue(re){if(re.samples>0){if(He(re)===!1){const K=re.textures,Pe=re.width,Ze=re.height;let Ye=n.COLOR_BUFFER_BIT;const Qe=re.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Yt=r.get(re),vt=K.length>1;if(vt)for(let ft=0;ft<K.length;ft++)t.bindFramebuffer(n.FRAMEBUFFER,Yt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+ft,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,Yt.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+ft,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,Yt.__webglMultisampledFramebuffer),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Yt.__webglFramebuffer);for(let ft=0;ft<K.length;ft++){if(re.resolveDepthBuffer&&(re.depthBuffer&&(Ye|=n.DEPTH_BUFFER_BIT),re.stencilBuffer&&re.resolveStencilBuffer&&(Ye|=n.STENCIL_BUFFER_BIT)),vt){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,Yt.__webglColorRenderbuffer[ft]);const rn=r.get(K[ft]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,rn,0)}n.blitFramebuffer(0,0,Pe,Ze,0,0,Pe,Ze,Ye,n.NEAREST),l===!0&&(ve.length=0,Ae.length=0,ve.push(n.COLOR_ATTACHMENT0+ft),re.depthBuffer&&re.resolveDepthBuffer===!1&&(ve.push(Qe),Ae.push(Qe),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,Ae)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,ve))}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),vt)for(let ft=0;ft<K.length;ft++){t.bindFramebuffer(n.FRAMEBUFFER,Yt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+ft,n.RENDERBUFFER,Yt.__webglColorRenderbuffer[ft]);const rn=r.get(K[ft]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,Yt.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+ft,n.TEXTURE_2D,rn,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Yt.__webglMultisampledFramebuffer)}else if(re.depthBuffer&&re.resolveDepthBuffer===!1&&l){const K=re.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[K])}}}function Ge(re){return Math.min(i.maxSamples,re.samples)}function He(re){const K=r.get(re);return re.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&K.__useRenderToTexture!==!1}function ot(re){const K=o.render.frame;c.get(re)!==K&&(c.set(re,K),re.update())}function ct(re,K){const Pe=re.colorSpace,Ze=re.format,Ye=re.type;return re.isCompressedTexture===!0||re.isVideoTexture===!0||Pe!==lf&&Pe!==Nc&&(vr.getTransfer(Pe)===kr?(Ze!==po||Ye!==Ru)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",Pe)),K}function Rt(re){return typeof HTMLImageElement<"u"&&re instanceof HTMLImageElement?(u.width=re.naturalWidth||re.width,u.height=re.naturalHeight||re.height):typeof VideoFrame<"u"&&re instanceof VideoFrame?(u.width=re.displayWidth,u.height=re.displayHeight):(u.width=re.width,u.height=re.height),u}this.allocateTextureUnit=U,this.resetTextureUnits=O,this.setTexture2D=W,this.setTexture2DArray=X,this.setTexture3D=j,this.setTextureCube=Q,this.rebindTextures=Oe,this.setupRenderTarget=$e,this.updateRenderTargetMipmap=ee,this.updateMultisampleRenderTarget=Ue,this.setupDepthRenderbuffer=Be,this.setupFrameBufferTexture=fe,this.useMultisampledRTT=He}function IY(n,e){function t(r,i=Nc){let a;const o=vr.getTransfer(i);if(r===Ru)return n.UNSIGNED_BYTE;if(r===SO)return n.UNSIGNED_SHORT_4_4_4_4;if(r===wO)return n.UNSIGNED_SHORT_5_5_5_1;if(r===JX)return n.UNSIGNED_INT_5_9_9_9_REV;if(r===qX)return n.BYTE;if(r===KX)return n.SHORT;if(r===lS)return n.UNSIGNED_SHORT;if(r===xO)return n.INT;if(r===vv)return n.UNSIGNED_INT;if(r===as)return n.FLOAT;if(r===s1)return n.HALF_FLOAT;if(r===QX)return n.ALPHA;if(r===eY)return n.RGB;if(r===po)return n.RGBA;if(r===tY)return n.LUMINANCE;if(r===nY)return n.LUMINANCE_ALPHA;if(r===rv)return n.DEPTH_COMPONENT;if(r===mv)return n.DEPTH_STENCIL;if(r===MO)return n.RED;if(r===TO)return n.RED_INTEGER;if(r===rY)return n.RG;if(r===bO)return n.RG_INTEGER;if(r===AO)return n.RGBA_INTEGER;if(r===UT||r===VT||r===GT||r===HT)if(o===kr)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(r===UT)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===VT)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===GT)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===HT)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(r===UT)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===VT)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===GT)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===HT)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===Q2||r===eL||r===tL||r===nL)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(r===Q2)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===eL)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===tL)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===nL)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===rL||r===iL||r===aL)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(r===rL||r===iL)return o===kr?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(r===aL)return o===kr?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(r===oL||r===sL||r===lL||r===uL||r===cL||r===fL||r===hL||r===dL||r===pL||r===vL||r===gL||r===mL||r===yL||r===_L)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(r===oL)return o===kr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===sL)return o===kr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===lL)return o===kr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===uL)return o===kr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===cL)return o===kr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===fL)return o===kr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===hL)return o===kr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===dL)return o===kr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===pL)return o===kr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===vL)return o===kr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===gL)return o===kr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===mL)return o===kr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===yL)return o===kr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===_L)return o===kr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===WT||r===xL||r===SL)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(r===WT)return o===kr?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===xL)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===SL)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===iY||r===wL||r===ML||r===TL)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(r===WT)return a.COMPRESSED_RED_RGTC1_EXT;if(r===wL)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===ML)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===TL)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===gv?n.UNSIGNED_INT_24_8:n[r]!==void 0?n[r]:null}return{convert:t}}class NY extends mi{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}let Jm=class extends hr{constructor(){super(),this.isGroup=!0,this.type="Group"}};const bde={type:"move"};class wP{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Jm,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Jm,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ne,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ne),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Jm,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ne,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ne),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const r of e.hand.values())this._getHandJoint(t,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let i=null,a=null,o=null;const s=this._targetRay,l=this._grip,u=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(u&&e.hand){o=!0;for(const g of e.hand.values()){const m=t.getJointPose(g,r),y=this._getHandJoint(u,g);m!==null&&(y.matrix.fromArray(m.transform.matrix),y.matrix.decompose(y.position,y.rotation,y.scale),y.matrixWorldNeedsUpdate=!0,y.jointRadius=m.radius),y.visible=m!==null}const c=u.joints["index-finger-tip"],f=u.joints["thumb-tip"],h=c.position.distanceTo(f.position),d=.02,p=.005;u.inputState.pinching&&h>d+p?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&h<=d-p&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(a=t.getPose(e.gripSpace,r),a!==null&&(l.matrix.fromArray(a.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,a.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(a.linearVelocity)):l.hasLinearVelocity=!1,a.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(a.angularVelocity)):l.hasAngularVelocity=!1));s!==null&&(i=t.getPose(e.targetRaySpace,r),i===null&&a!==null&&(i=a),i!==null&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.matrixWorldNeedsUpdate=!0,i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1,this.dispatchEvent(bde)))}return s!==null&&(s.visible=i!==null),l!==null&&(l.visible=a!==null),u!==null&&(u.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const r=new Jm;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[t.jointName]=r,e.add(r)}return e.joints[t.jointName]}}const Ade=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,Cde=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class Ede{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,r){if(this.texture===null){const i=new $r,a=e.properties.get(i);a.__webglTexture=t.texture,(t.depthNear!=r.depthNear||t.depthFar!=r.depthFar)&&(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=i}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,r=new Ul({vertexShader:Ade,fragmentShader:Cde,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new Pi(new Uy(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}}class Pde extends uf{constructor(e,t){super();const r=this;let i=null,a=1,o=null,s="local-floor",l=1,u=null,c=null,f=null,h=null,d=null,p=null;const g=new Ede,m=t.getContextAttributes();let y=null,S=null;const M=[],b=[],C=new je;let A=null;const E=new mi;E.layers.enable(1),E.viewport=new Mr;const I=new mi;I.layers.enable(2),I.viewport=new Mr;const L=[E,I],R=new NY;R.layers.enable(1),R.layers.enable(2);let O=null,U=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ae){let fe=M[ae];return fe===void 0&&(fe=new wP,M[ae]=fe),fe.getTargetRaySpace()},this.getControllerGrip=function(ae){let fe=M[ae];return fe===void 0&&(fe=new wP,M[ae]=fe),fe.getGripSpace()},this.getHand=function(ae){let fe=M[ae];return fe===void 0&&(fe=new wP,M[ae]=fe),fe.getHandSpace()};function V(ae){const fe=b.indexOf(ae.inputSource);if(fe===-1)return;const be=M[fe];be!==void 0&&(be.update(ae.inputSource,ae.frame,u||o),be.dispatchEvent({type:ae.type,data:ae.inputSource}))}function W(){i.removeEventListener("select",V),i.removeEventListener("selectstart",V),i.removeEventListener("selectend",V),i.removeEventListener("squeeze",V),i.removeEventListener("squeezestart",V),i.removeEventListener("squeezeend",V),i.removeEventListener("end",W),i.removeEventListener("inputsourceschange",X);for(let ae=0;ae<M.length;ae++){const fe=b[ae];fe!==null&&(b[ae]=null,M[ae].disconnect(fe))}O=null,U=null,g.reset(),e.setRenderTarget(y),d=null,h=null,f=null,i=null,S=null,me.stop(),r.isPresenting=!1,e.setPixelRatio(A),e.setSize(C.width,C.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ae){a=ae,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ae){s=ae,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||o},this.setReferenceSpace=function(ae){u=ae},this.getBaseLayer=function(){return h!==null?h:d},this.getBinding=function(){return f},this.getFrame=function(){return p},this.getSession=function(){return i},this.setSession=async function(ae){if(i=ae,i!==null){if(y=e.getRenderTarget(),i.addEventListener("select",V),i.addEventListener("selectstart",V),i.addEventListener("selectend",V),i.addEventListener("squeeze",V),i.addEventListener("squeezestart",V),i.addEventListener("squeezeend",V),i.addEventListener("end",W),i.addEventListener("inputsourceschange",X),m.xrCompatible!==!0&&await t.makeXRCompatible(),A=e.getPixelRatio(),e.getSize(C),i.renderState.layers===void 0){const fe={antialias:m.antialias,alpha:!0,depth:m.depth,stencil:m.stencil,framebufferScaleFactor:a};d=new XRWebGLLayer(i,t,fe),i.updateRenderState({baseLayer:d}),e.setPixelRatio(1),e.setSize(d.framebufferWidth,d.framebufferHeight,!1),S=new Bl(d.framebufferWidth,d.framebufferHeight,{format:po,type:Ru,colorSpace:e.outputColorSpace,stencilBuffer:m.stencil})}else{let fe=null,be=null,Ee=null;m.depth&&(Ee=m.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,fe=m.stencil?mv:rv,be=m.stencil?gv:vv);const Be={colorFormat:t.RGBA8,depthFormat:Ee,scaleFactor:a};f=new XRWebGLBinding(i,t),h=f.createProjectionLayer(Be),i.updateRenderState({layers:[h]}),e.setPixelRatio(1),e.setSize(h.textureWidth,h.textureHeight,!1),S=new Bl(h.textureWidth,h.textureHeight,{format:po,type:Ru,depthTexture:new OO(h.textureWidth,h.textureHeight,be,void 0,void 0,void 0,void 0,void 0,void 0,fe),stencilBuffer:m.stencil,colorSpace:e.outputColorSpace,samples:m.antialias?4:0,resolveDepthBuffer:h.ignoreDepthValues===!1})}S.isXRRenderTarget=!0,this.setFoveation(l),u=null,o=await i.requestReferenceSpace(s),me.setContext(i),me.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode};function X(ae){for(let fe=0;fe<ae.removed.length;fe++){const be=ae.removed[fe],Ee=b.indexOf(be);Ee>=0&&(b[Ee]=null,M[Ee].disconnect(be))}for(let fe=0;fe<ae.added.length;fe++){const be=ae.added[fe];let Ee=b.indexOf(be);if(Ee===-1){for(let Oe=0;Oe<M.length;Oe++)if(Oe>=b.length){b.push(be),Ee=Oe;break}else if(b[Oe]===null){b[Oe]=be,Ee=Oe;break}if(Ee===-1)break}const Be=M[Ee];Be&&Be.connect(be)}}const j=new ne,Q=new ne;function B(ae,fe,be){j.setFromMatrixPosition(fe.matrixWorld),Q.setFromMatrixPosition(be.matrixWorld);const Ee=j.distanceTo(Q),Be=fe.projectionMatrix.elements,Oe=be.projectionMatrix.elements,$e=Be[14]/(Be[10]-1),ee=Be[14]/(Be[10]+1),ve=(Be[9]+1)/Be[5],Ae=(Be[9]-1)/Be[5],Ue=(Be[8]-1)/Be[0],Ge=(Oe[8]+1)/Oe[0],He=$e*Ue,ot=$e*Ge,ct=Ee/(-Ue+Ge),Rt=ct*-Ue;fe.matrixWorld.decompose(ae.position,ae.quaternion,ae.scale),ae.translateX(Rt),ae.translateZ(ct),ae.matrixWorld.compose(ae.position,ae.quaternion,ae.scale),ae.matrixWorldInverse.copy(ae.matrixWorld).invert();const re=$e+ct,K=ee+ct,Pe=He-Rt,Ze=ot+(Ee-Rt),Ye=ve*ee/K*re,Qe=Ae*ee/K*re;ae.projectionMatrix.makePerspective(Pe,Ze,Ye,Qe,re,K),ae.projectionMatrixInverse.copy(ae.projectionMatrix).invert()}function Z(ae,fe){fe===null?ae.matrixWorld.copy(ae.matrix):ae.matrixWorld.multiplyMatrices(fe.matrixWorld,ae.matrix),ae.matrixWorldInverse.copy(ae.matrixWorld).invert()}this.updateCamera=function(ae){if(i===null)return;g.texture!==null&&(ae.near=g.depthNear,ae.far=g.depthFar),R.near=I.near=E.near=ae.near,R.far=I.far=E.far=ae.far,(O!==R.near||U!==R.far)&&(i.updateRenderState({depthNear:R.near,depthFar:R.far}),O=R.near,U=R.far,E.near=O,E.far=U,I.near=O,I.far=U,E.updateProjectionMatrix(),I.updateProjectionMatrix(),ae.updateProjectionMatrix());const fe=ae.parent,be=R.cameras;Z(R,fe);for(let Ee=0;Ee<be.length;Ee++)Z(be[Ee],fe);be.length===2?B(R,E,I):R.projectionMatrix.copy(E.projectionMatrix),q(ae,R,fe)};function q(ae,fe,be){be===null?ae.matrix.copy(fe.matrixWorld):(ae.matrix.copy(be.matrixWorld),ae.matrix.invert(),ae.matrix.multiply(fe.matrixWorld)),ae.matrix.decompose(ae.position,ae.quaternion,ae.scale),ae.updateMatrixWorld(!0),ae.projectionMatrix.copy(fe.projectionMatrix),ae.projectionMatrixInverse.copy(fe.projectionMatrixInverse),ae.isPerspectiveCamera&&(ae.fov=yy*2*Math.atan(1/ae.projectionMatrix.elements[5]),ae.zoom=1)}this.getCamera=function(){return R},this.getFoveation=function(){if(!(h===null&&d===null))return l},this.setFoveation=function(ae){l=ae,h!==null&&(h.fixedFoveation=ae),d!==null&&d.fixedFoveation!==void 0&&(d.fixedFoveation=ae)},this.hasDepthSensing=function(){return g.texture!==null},this.getDepthSensingMesh=function(){return g.getMesh(R)};let Y=null;function te(ae,fe){if(c=fe.getViewerPose(u||o),p=fe,c!==null){const be=c.views;d!==null&&(e.setRenderTargetFramebuffer(S,d.framebuffer),e.setRenderTarget(S));let Ee=!1;be.length!==R.cameras.length&&(R.cameras.length=0,Ee=!0);for(let Oe=0;Oe<be.length;Oe++){const $e=be[Oe];let ee=null;if(d!==null)ee=d.getViewport($e);else{const Ae=f.getViewSubImage(h,$e);ee=Ae.viewport,Oe===0&&(e.setRenderTargetTextures(S,Ae.colorTexture,h.ignoreDepthValues?void 0:Ae.depthStencilTexture),e.setRenderTarget(S))}let ve=L[Oe];ve===void 0&&(ve=new mi,ve.layers.enable(Oe),ve.viewport=new Mr,L[Oe]=ve),ve.matrix.fromArray($e.transform.matrix),ve.matrix.decompose(ve.position,ve.quaternion,ve.scale),ve.projectionMatrix.fromArray($e.projectionMatrix),ve.projectionMatrixInverse.copy(ve.projectionMatrix).invert(),ve.viewport.set(ee.x,ee.y,ee.width,ee.height),Oe===0&&(R.matrix.copy(ve.matrix),R.matrix.decompose(R.position,R.quaternion,R.scale)),Ee===!0&&R.cameras.push(ve)}const Be=i.enabledFeatures;if(Be&&Be.includes("depth-sensing")){const Oe=f.getDepthInformation(be[0]);Oe&&Oe.isValid&&Oe.texture&&g.init(e,Oe,i.renderState)}}for(let be=0;be<M.length;be++){const Ee=b[be],Be=M[be];Ee!==null&&Be!==void 0&&Be.update(Ee,fe,u||o)}Y&&Y(ae,fe),fe.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:fe}),p=null}const me=new CY;me.setAnimationLoop(te),this.setAnimationLoop=function(ae){Y=ae},this.dispose=function(){}}}const Hd=new hs,Dde=new xn;function Rde(n,e){function t(m,y){m.matrixAutoUpdate===!0&&m.updateMatrix(),y.value.copy(m.matrix)}function r(m,y){y.color.getRGB(m.fogColor.value,MY(n)),y.isFog?(m.fogNear.value=y.near,m.fogFar.value=y.far):y.isFogExp2&&(m.fogDensity.value=y.density)}function i(m,y,S,M,b){y.isMeshBasicMaterial||y.isMeshLambertMaterial?a(m,y):y.isMeshToonMaterial?(a(m,y),f(m,y)):y.isMeshPhongMaterial?(a(m,y),c(m,y)):y.isMeshStandardMaterial?(a(m,y),h(m,y),y.isMeshPhysicalMaterial&&d(m,y,b)):y.isMeshMatcapMaterial?(a(m,y),p(m,y)):y.isMeshDepthMaterial?a(m,y):y.isMeshDistanceMaterial?(a(m,y),g(m,y)):y.isMeshNormalMaterial?a(m,y):y.isLineBasicMaterial?(o(m,y),y.isLineDashedMaterial&&s(m,y)):y.isPointsMaterial?l(m,y,S,M):y.isSpriteMaterial?u(m,y):y.isShadowMaterial?(m.color.value.copy(y.color),m.opacity.value=y.opacity):y.isShaderMaterial&&(y.uniformsNeedUpdate=!1)}function a(m,y){m.opacity.value=y.opacity,y.color&&m.diffuse.value.copy(y.color),y.emissive&&m.emissive.value.copy(y.emissive).multiplyScalar(y.emissiveIntensity),y.map&&(m.map.value=y.map,t(y.map,m.mapTransform)),y.alphaMap&&(m.alphaMap.value=y.alphaMap,t(y.alphaMap,m.alphaMapTransform)),y.bumpMap&&(m.bumpMap.value=y.bumpMap,t(y.bumpMap,m.bumpMapTransform),m.bumpScale.value=y.bumpScale,y.side===ya&&(m.bumpScale.value*=-1)),y.normalMap&&(m.normalMap.value=y.normalMap,t(y.normalMap,m.normalMapTransform),m.normalScale.value.copy(y.normalScale),y.side===ya&&m.normalScale.value.negate()),y.displacementMap&&(m.displacementMap.value=y.displacementMap,t(y.displacementMap,m.displacementMapTransform),m.displacementScale.value=y.displacementScale,m.displacementBias.value=y.displacementBias),y.emissiveMap&&(m.emissiveMap.value=y.emissiveMap,t(y.emissiveMap,m.emissiveMapTransform)),y.specularMap&&(m.specularMap.value=y.specularMap,t(y.specularMap,m.specularMapTransform)),y.alphaTest>0&&(m.alphaTest.value=y.alphaTest);const S=e.get(y),M=S.envMap,b=S.envMapRotation;M&&(m.envMap.value=M,Hd.copy(b),Hd.x*=-1,Hd.y*=-1,Hd.z*=-1,M.isCubeTexture&&M.isRenderTargetTexture===!1&&(Hd.y*=-1,Hd.z*=-1),m.envMapRotation.value.setFromMatrix4(Dde.makeRotationFromEuler(Hd)),m.flipEnvMap.value=M.isCubeTexture&&M.isRenderTargetTexture===!1?-1:1,m.reflectivity.value=y.reflectivity,m.ior.value=y.ior,m.refractionRatio.value=y.refractionRatio),y.lightMap&&(m.lightMap.value=y.lightMap,m.lightMapIntensity.value=y.lightMapIntensity,t(y.lightMap,m.lightMapTransform)),y.aoMap&&(m.aoMap.value=y.aoMap,m.aoMapIntensity.value=y.aoMapIntensity,t(y.aoMap,m.aoMapTransform))}function o(m,y){m.diffuse.value.copy(y.color),m.opacity.value=y.opacity,y.map&&(m.map.value=y.map,t(y.map,m.mapTransform))}function s(m,y){m.dashSize.value=y.dashSize,m.totalSize.value=y.dashSize+y.gapSize,m.scale.value=y.scale}function l(m,y,S,M){m.diffuse.value.copy(y.color),m.opacity.value=y.opacity,m.size.value=y.size*S,m.scale.value=M*.5,y.map&&(m.map.value=y.map,t(y.map,m.uvTransform)),y.alphaMap&&(m.alphaMap.value=y.alphaMap,t(y.alphaMap,m.alphaMapTransform)),y.alphaTest>0&&(m.alphaTest.value=y.alphaTest)}function u(m,y){m.diffuse.value.copy(y.color),m.opacity.value=y.opacity,m.rotation.value=y.rotation,y.map&&(m.map.value=y.map,t(y.map,m.mapTransform)),y.alphaMap&&(m.alphaMap.value=y.alphaMap,t(y.alphaMap,m.alphaMapTransform)),y.alphaTest>0&&(m.alphaTest.value=y.alphaTest)}function c(m,y){m.specular.value.copy(y.specular),m.shininess.value=Math.max(y.shininess,1e-4)}function f(m,y){y.gradientMap&&(m.gradientMap.value=y.gradientMap)}function h(m,y){m.metalness.value=y.metalness,y.metalnessMap&&(m.metalnessMap.value=y.metalnessMap,t(y.metalnessMap,m.metalnessMapTransform)),m.roughness.value=y.roughness,y.roughnessMap&&(m.roughnessMap.value=y.roughnessMap,t(y.roughnessMap,m.roughnessMapTransform)),y.envMap&&(m.envMapIntensity.value=y.envMapIntensity)}function d(m,y,S){m.ior.value=y.ior,y.sheen>0&&(m.sheenColor.value.copy(y.sheenColor).multiplyScalar(y.sheen),m.sheenRoughness.value=y.sheenRoughness,y.sheenColorMap&&(m.sheenColorMap.value=y.sheenColorMap,t(y.sheenColorMap,m.sheenColorMapTransform)),y.sheenRoughnessMap&&(m.sheenRoughnessMap.value=y.sheenRoughnessMap,t(y.sheenRoughnessMap,m.sheenRoughnessMapTransform))),y.clearcoat>0&&(m.clearcoat.value=y.clearcoat,m.clearcoatRoughness.value=y.clearcoatRoughness,y.clearcoatMap&&(m.clearcoatMap.value=y.clearcoatMap,t(y.clearcoatMap,m.clearcoatMapTransform)),y.clearcoatRoughnessMap&&(m.clearcoatRoughnessMap.value=y.clearcoatRoughnessMap,t(y.clearcoatRoughnessMap,m.clearcoatRoughnessMapTransform)),y.clearcoatNormalMap&&(m.clearcoatNormalMap.value=y.clearcoatNormalMap,t(y.clearcoatNormalMap,m.clearcoatNormalMapTransform),m.clearcoatNormalScale.value.copy(y.clearcoatNormalScale),y.side===ya&&m.clearcoatNormalScale.value.negate())),y.dispersion>0&&(m.dispersion.value=y.dispersion),y.iridescence>0&&(m.iridescence.value=y.iridescence,m.iridescenceIOR.value=y.iridescenceIOR,m.iridescenceThicknessMinimum.value=y.iridescenceThicknessRange[0],m.iridescenceThicknessMaximum.value=y.iridescenceThicknessRange[1],y.iridescenceMap&&(m.iridescenceMap.value=y.iridescenceMap,t(y.iridescenceMap,m.iridescenceMapTransform)),y.iridescenceThicknessMap&&(m.iridescenceThicknessMap.value=y.iridescenceThicknessMap,t(y.iridescenceThicknessMap,m.iridescenceThicknessMapTransform))),y.transmission>0&&(m.transmission.value=y.transmission,m.transmissionSamplerMap.value=S.texture,m.transmissionSamplerSize.value.set(S.width,S.height),y.transmissionMap&&(m.transmissionMap.value=y.transmissionMap,t(y.transmissionMap,m.transmissionMapTransform)),m.thickness.value=y.thickness,y.thicknessMap&&(m.thicknessMap.value=y.thicknessMap,t(y.thicknessMap,m.thicknessMapTransform)),m.attenuationDistance.value=y.attenuationDistance,m.attenuationColor.value.copy(y.attenuationColor)),y.anisotropy>0&&(m.anisotropyVector.value.set(y.anisotropy*Math.cos(y.anisotropyRotation),y.anisotropy*Math.sin(y.anisotropyRotation)),y.anisotropyMap&&(m.anisotropyMap.value=y.anisotropyMap,t(y.anisotropyMap,m.anisotropyMapTransform))),m.specularIntensity.value=y.specularIntensity,m.specularColor.value.copy(y.specularColor),y.specularColorMap&&(m.specularColorMap.value=y.specularColorMap,t(y.specularColorMap,m.specularColorMapTransform)),y.specularIntensityMap&&(m.specularIntensityMap.value=y.specularIntensityMap,t(y.specularIntensityMap,m.specularIntensityMapTransform))}function p(m,y){y.matcap&&(m.matcap.value=y.matcap)}function g(m,y){const S=e.get(y).light;m.referencePosition.value.setFromMatrixPosition(S.matrixWorld),m.nearDistance.value=S.shadow.camera.near,m.farDistance.value=S.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function Lde(n,e,t,r){let i={},a={},o=[];const s=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function l(S,M){const b=M.program;r.uniformBlockBinding(S,b)}function u(S,M){let b=i[S.id];b===void 0&&(p(S),b=c(S),i[S.id]=b,S.addEventListener("dispose",m));const C=M.program;r.updateUBOMapping(S,C);const A=e.render.frame;a[S.id]!==A&&(h(S),a[S.id]=A)}function c(S){const M=f();S.__bindingPointIndex=M;const b=n.createBuffer(),C=S.__size,A=S.usage;return n.bindBuffer(n.UNIFORM_BUFFER,b),n.bufferData(n.UNIFORM_BUFFER,C,A),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,M,b),b}function f(){for(let S=0;S<s;S++)if(o.indexOf(S)===-1)return o.push(S),S;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function h(S){const M=i[S.id],b=S.uniforms,C=S.__cache;n.bindBuffer(n.UNIFORM_BUFFER,M);for(let A=0,E=b.length;A<E;A++){const I=Array.isArray(b[A])?b[A]:[b[A]];for(let L=0,R=I.length;L<R;L++){const O=I[L];if(d(O,A,L,C)===!0){const U=O.__offset,V=Array.isArray(O.value)?O.value:[O.value];let W=0;for(let X=0;X<V.length;X++){const j=V[X],Q=g(j);typeof j=="number"||typeof j=="boolean"?(O.__data[0]=j,n.bufferSubData(n.UNIFORM_BUFFER,U+W,O.__data)):j.isMatrix3?(O.__data[0]=j.elements[0],O.__data[1]=j.elements[1],O.__data[2]=j.elements[2],O.__data[3]=0,O.__data[4]=j.elements[3],O.__data[5]=j.elements[4],O.__data[6]=j.elements[5],O.__data[7]=0,O.__data[8]=j.elements[6],O.__data[9]=j.elements[7],O.__data[10]=j.elements[8],O.__data[11]=0):(j.toArray(O.__data,W),W+=Q.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,U,O.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function d(S,M,b,C){const A=S.value,E=M+"_"+b;if(C[E]===void 0)return typeof A=="number"||typeof A=="boolean"?C[E]=A:C[E]=A.clone(),!0;{const I=C[E];if(typeof A=="number"||typeof A=="boolean"){if(I!==A)return C[E]=A,!0}else if(I.equals(A)===!1)return I.copy(A),!0}return!1}function p(S){const M=S.uniforms;let b=0;const C=16;for(let E=0,I=M.length;E<I;E++){const L=Array.isArray(M[E])?M[E]:[M[E]];for(let R=0,O=L.length;R<O;R++){const U=L[R],V=Array.isArray(U.value)?U.value:[U.value];for(let W=0,X=V.length;W<X;W++){const j=V[W],Q=g(j),B=b%C;B!==0&&C-B<Q.boundary&&(b+=C-B),U.__data=new Float32Array(Q.storage/Float32Array.BYTES_PER_ELEMENT),U.__offset=b,b+=Q.storage}}}const A=b%C;return A>0&&(b+=C-A),S.__size=b,S.__cache={},this}function g(S){const M={boundary:0,storage:0};return typeof S=="number"||typeof S=="boolean"?(M.boundary=4,M.storage=4):S.isVector2?(M.boundary=8,M.storage=8):S.isVector3||S.isColor?(M.boundary=16,M.storage=12):S.isVector4?(M.boundary=16,M.storage=16):S.isMatrix3?(M.boundary=48,M.storage=48):S.isMatrix4?(M.boundary=64,M.storage=64):S.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",S),M}function m(S){const M=S.target;M.removeEventListener("dispose",m);const b=o.indexOf(M.__bindingPointIndex);o.splice(b,1),n.deleteBuffer(i[M.id]),delete i[M.id],delete a[M.id]}function y(){for(const S in i)n.deleteBuffer(i[S]);o=[],i={},a={}}return{bind:l,update:u,dispose:y}}class OY{constructor(e={}){const{canvas:t=_Y(),context:r=null,depth:i=!0,stencil:a=!1,alpha:o=!1,antialias:s=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:u=!1,powerPreference:c="default",failIfMajorPerformanceCaveat:f=!1}=e;this.isWebGLRenderer=!0;let h;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");h=r.getContextAttributes().alpha}else h=o;const d=new Uint32Array(4),p=new Int32Array(4);let g=null,m=null;const y=[],S=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=Fo,this.toneMapping=Au,this.toneMappingExposure=1;const M=this;let b=!1,C=0,A=0,E=null,I=-1,L=null;const R=new Mr,O=new Mr;let U=null;const V=new zt(0);let W=0,X=t.width,j=t.height,Q=1,B=null,Z=null;const q=new Mr(0,0,X,j),Y=new Mr(0,0,X,j);let te=!1;const me=new f1;let ae=!1,fe=!1;const be=new xn,Ee=new ne,Be={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Oe=!1;function $e(){return E===null?Q:1}let ee=r;function ve(J,ue){return t.getContext(J,ue)}try{const J={alpha:!0,depth:i,stencil:a,antialias:s,premultipliedAlpha:l,preserveDrawingBuffer:u,powerPreference:c,failIfMajorPerformanceCaveat:f};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${kA}`),t.addEventListener("webglcontextlost",Ke,!1),t.addEventListener("webglcontextrestored",ke,!1),t.addEventListener("webglcontextcreationerror",Xe,!1),ee===null){const ue="webgl2";if(ee=ve(ue,J),ee===null)throw ve(ue)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(J){throw console.error("THREE.WebGLRenderer: "+J.message),J}let Ae,Ue,Ge,He,ot,ct,Rt,re,K,Pe,Ze,Ye,Qe,Yt,vt,ft,rn,at,bt,Rn,Kt,St,mn,ce;function et(){Ae=new Xfe(ee),Ae.init(),St=new IY(ee,Ae),Ue=new Bfe(ee,Ae,e,St),Ge=new Mde(ee),He=new Zfe(ee),ot=new fde,ct=new Tde(ee,Ae,Ge,ot,Ue,St,He),Rt=new Vfe(M),re=new Wfe(M),K=new tue(ee),mn=new Ffe(ee,K),Pe=new Yfe(ee,K,He,mn),Ze=new qfe(ee,Pe,K,He),bt=new $fe(ee,Ue,ct),ft=new Ufe(ot),Ye=new cde(M,Rt,re,Ae,Ue,mn,ft),Qe=new Rde(M,ot),Yt=new dde,vt=new _de(Ae),at=new kfe(M,Rt,re,Ge,Ze,h,l),rn=new wde(M,Ze,Ue),ce=new Lde(ee,He,Ue,Ge),Rn=new zfe(ee,Ae,He),Kt=new jfe(ee,Ae,He),He.programs=Ye.programs,M.capabilities=Ue,M.extensions=Ae,M.properties=ot,M.renderLists=Yt,M.shadowMap=rn,M.state=Ge,M.info=He}et();const oe=new Pde(M,ee);this.xr=oe,this.getContext=function(){return ee},this.getContextAttributes=function(){return ee.getContextAttributes()},this.forceContextLoss=function(){const J=Ae.get("WEBGL_lose_context");J&&J.loseContext()},this.forceContextRestore=function(){const J=Ae.get("WEBGL_lose_context");J&&J.restoreContext()},this.getPixelRatio=function(){return Q},this.setPixelRatio=function(J){J!==void 0&&(Q=J,this.setSize(X,j,!1))},this.getSize=function(J){return J.set(X,j)},this.setSize=function(J,ue,Me=!0){if(oe.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}X=J,j=ue,t.width=Math.floor(J*Q),t.height=Math.floor(ue*Q),Me===!0&&(t.style.width=J+"px",t.style.height=ue+"px"),this.setViewport(0,0,J,ue)},this.getDrawingBufferSize=function(J){return J.set(X*Q,j*Q).floor()},this.setDrawingBufferSize=function(J,ue,Me){X=J,j=ue,Q=Me,t.width=Math.floor(J*Me),t.height=Math.floor(ue*Me),this.setViewport(0,0,J,ue)},this.getCurrentViewport=function(J){return J.copy(R)},this.getViewport=function(J){return J.copy(q)},this.setViewport=function(J,ue,Me,we){J.isVector4?q.set(J.x,J.y,J.z,J.w):q.set(J,ue,Me,we),Ge.viewport(R.copy(q).multiplyScalar(Q).round())},this.getScissor=function(J){return J.copy(Y)},this.setScissor=function(J,ue,Me,we){J.isVector4?Y.set(J.x,J.y,J.z,J.w):Y.set(J,ue,Me,we),Ge.scissor(O.copy(Y).multiplyScalar(Q).round())},this.getScissorTest=function(){return te},this.setScissorTest=function(J){Ge.setScissorTest(te=J)},this.setOpaqueSort=function(J){B=J},this.setTransparentSort=function(J){Z=J},this.getClearColor=function(J){return J.copy(at.getClearColor())},this.setClearColor=function(){at.setClearColor.apply(at,arguments)},this.getClearAlpha=function(){return at.getClearAlpha()},this.setClearAlpha=function(){at.setClearAlpha.apply(at,arguments)},this.clear=function(J=!0,ue=!0,Me=!0){let we=0;if(J){let pe=!1;if(E!==null){const Je=E.texture.format;pe=Je===AO||Je===bO||Je===TO}if(pe){const Je=E.texture.type,wt=Je===Ru||Je===vv||Je===lS||Je===gv||Je===SO||Je===wO,Et=at.getClearColor(),Pt=at.getClearAlpha(),yt=Et.r,an=Et.g,jt=Et.b;wt?(d[0]=yt,d[1]=an,d[2]=jt,d[3]=Pt,ee.clearBufferuiv(ee.COLOR,0,d)):(p[0]=yt,p[1]=an,p[2]=jt,p[3]=Pt,ee.clearBufferiv(ee.COLOR,0,p))}else we|=ee.COLOR_BUFFER_BIT}ue&&(we|=ee.DEPTH_BUFFER_BIT),Me&&(we|=ee.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),ee.clear(we)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Ke,!1),t.removeEventListener("webglcontextrestored",ke,!1),t.removeEventListener("webglcontextcreationerror",Xe,!1),Yt.dispose(),vt.dispose(),ot.dispose(),Rt.dispose(),re.dispose(),Ze.dispose(),mn.dispose(),ce.dispose(),Ye.dispose(),oe.dispose(),oe.removeEventListener("sessionstart",Ar),oe.removeEventListener("sessionend",Gr),ni.stop()};function Ke(J){J.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),b=!0}function ke(){console.log("THREE.WebGLRenderer: Context Restored."),b=!1;const J=He.autoReset,ue=rn.enabled,Me=rn.autoUpdate,we=rn.needsUpdate,pe=rn.type;et(),He.autoReset=J,rn.enabled=ue,rn.autoUpdate=Me,rn.needsUpdate=we,rn.type=pe}function Xe(J){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",J.statusMessage)}function tt(J){const ue=J.target;ue.removeEventListener("dispose",tt),hn(ue)}function hn(J){In(J),ot.remove(J)}function In(J){const ue=ot.get(J).programs;ue!==void 0&&(ue.forEach(function(Me){Ye.releaseProgram(Me)}),J.isShaderMaterial&&Ye.releaseShaderCache(J))}this.renderBufferDirect=function(J,ue,Me,we,pe,Je){ue===null&&(ue=Be);const wt=pe.isMesh&&pe.matrixWorld.determinant()<0,Et=Gt(J,ue,Me,we,pe);Ge.setMaterial(we,wt);let Pt=Me.index,yt=1;if(we.wireframe===!0){if(Pt=Pe.getWireframeAttribute(Me),Pt===void 0)return;yt=2}const an=Me.drawRange,jt=Me.attributes.position;let Dn=an.start*yt,ir=(an.start+an.count)*yt;Je!==null&&(Dn=Math.max(Dn,Je.start*yt),ir=Math.min(ir,(Je.start+Je.count)*yt)),Pt!==null?(Dn=Math.max(Dn,0),ir=Math.min(ir,Pt.count)):jt!=null&&(Dn=Math.max(Dn,0),ir=Math.min(ir,jt.count));const lr=ir-Dn;if(lr<0||lr===1/0)return;mn.setup(pe,we,Et,Me,Pt);let sn,Ht=Rn;if(Pt!==null&&(sn=K.get(Pt),Ht=Kt,Ht.setIndex(sn)),pe.isMesh)we.wireframe===!0?(Ge.setLineWidth(we.wireframeLinewidth*$e()),Ht.setMode(ee.LINES)):Ht.setMode(ee.TRIANGLES);else if(pe.isLine){let st=we.linewidth;st===void 0&&(st=1),Ge.setLineWidth(st*$e()),pe.isLineSegments?Ht.setMode(ee.LINES):pe.isLineLoop?Ht.setMode(ee.LINE_LOOP):Ht.setMode(ee.LINE_STRIP)}else pe.isPoints?Ht.setMode(ee.POINTS):pe.isSprite&&Ht.setMode(ee.TRIANGLES);if(pe.isBatchedMesh)pe._multiDrawInstances!==null?Ht.renderMultiDrawInstances(pe._multiDrawStarts,pe._multiDrawCounts,pe._multiDrawCount,pe._multiDrawInstances):Ht.renderMultiDraw(pe._multiDrawStarts,pe._multiDrawCounts,pe._multiDrawCount);else if(pe.isInstancedMesh)Ht.renderInstances(Dn,lr,pe.count);else if(Me.isInstancedBufferGeometry){const st=Me._maxInstanceCount!==void 0?Me._maxInstanceCount:1/0,yn=Math.min(Me.instanceCount,st);Ht.renderInstances(Dn,lr,yn)}else Ht.render(Dn,lr)};function Yn(J,ue,Me){J.transparent===!0&&J.side===gu&&J.forceSinglePass===!1?(J.side=ya,J.needsUpdate=!0,Lt(J,ue,Me),J.side=qc,J.needsUpdate=!0,Lt(J,ue,Me),J.side=gu):Lt(J,ue,Me)}this.compile=function(J,ue,Me=null){Me===null&&(Me=J),m=vt.get(Me),m.init(ue),S.push(m),Me.traverseVisible(function(pe){pe.isLight&&pe.layers.test(ue.layers)&&(m.pushLight(pe),pe.castShadow&&m.pushShadow(pe))}),J!==Me&&J.traverseVisible(function(pe){pe.isLight&&pe.layers.test(ue.layers)&&(m.pushLight(pe),pe.castShadow&&m.pushShadow(pe))}),m.setupLights();const we=new Set;return J.traverse(function(pe){const Je=pe.material;if(Je)if(Array.isArray(Je))for(let wt=0;wt<Je.length;wt++){const Et=Je[wt];Yn(Et,Me,pe),we.add(Et)}else Yn(Je,Me,pe),we.add(Je)}),S.pop(),m=null,we},this.compileAsync=function(J,ue,Me=null){const we=this.compile(J,ue,Me);return new Promise(pe=>{function Je(){if(we.forEach(function(wt){ot.get(wt).currentProgram.isReady()&&we.delete(wt)}),we.size===0){pe(J);return}setTimeout(Je,10)}Ae.get("KHR_parallel_shader_compile")!==null?Je():setTimeout(Je,10)})};let Kn=null;function Pn(J){Kn&&Kn(J)}function Ar(){ni.stop()}function Gr(){ni.start()}const ni=new CY;ni.setAnimationLoop(Pn),typeof self<"u"&&ni.setContext(self),this.setAnimationLoop=function(J){Kn=J,oe.setAnimationLoop(J),J===null?ni.stop():ni.start()},oe.addEventListener("sessionstart",Ar),oe.addEventListener("sessionend",Gr),this.render=function(J,ue){if(ue!==void 0&&ue.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(b===!0)return;if(J.matrixWorldAutoUpdate===!0&&J.updateMatrixWorld(),ue.parent===null&&ue.matrixWorldAutoUpdate===!0&&ue.updateMatrixWorld(),oe.enabled===!0&&oe.isPresenting===!0&&(oe.cameraAutoUpdate===!0&&oe.updateCamera(ue),ue=oe.getCamera()),J.isScene===!0&&J.onBeforeRender(M,J,ue,E),m=vt.get(J,S.length),m.init(ue),S.push(m),be.multiplyMatrices(ue.projectionMatrix,ue.matrixWorldInverse),me.setFromProjectionMatrix(be),fe=this.localClippingEnabled,ae=ft.init(this.clippingPlanes,fe),g=Yt.get(J,y.length),g.init(),y.push(g),oe.enabled===!0&&oe.isPresenting===!0){const Je=M.xr.getDepthSensingMesh();Je!==null&&le(Je,ue,-1/0,M.sortObjects)}le(J,ue,0,M.sortObjects),g.finish(),M.sortObjects===!0&&g.sort(B,Z),Oe=oe.enabled===!1||oe.isPresenting===!1||oe.hasDepthSensing()===!1,Oe&&at.addToRenderList(g,J),this.info.render.frame++,ae===!0&&ft.beginShadows();const Me=m.state.shadowsArray;rn.render(Me,J,ue),ae===!0&&ft.endShadows(),this.info.autoReset===!0&&this.info.reset();const we=g.opaque,pe=g.transmissive;if(m.setupLights(),ue.isArrayCamera){const Je=ue.cameras;if(pe.length>0)for(let wt=0,Et=Je.length;wt<Et;wt++){const Pt=Je[wt];Ie(we,pe,J,Pt)}Oe&&at.render(J);for(let wt=0,Et=Je.length;wt<Et;wt++){const Pt=Je[wt];_e(g,J,Pt,Pt.viewport)}}else pe.length>0&&Ie(we,pe,J,ue),Oe&&at.render(J),_e(g,J,ue);E!==null&&(ct.updateMultisampleRenderTarget(E),ct.updateRenderTargetMipmap(E)),J.isScene===!0&&J.onAfterRender(M,J,ue),mn.resetDefaultState(),I=-1,L=null,S.pop(),S.length>0?(m=S[S.length-1],ae===!0&&ft.setGlobalState(M.clippingPlanes,m.state.camera)):m=null,y.pop(),y.length>0?g=y[y.length-1]:g=null};function le(J,ue,Me,we){if(J.visible===!1)return;if(J.layers.test(ue.layers)){if(J.isGroup)Me=J.renderOrder;else if(J.isLOD)J.autoUpdate===!0&&J.update(ue);else if(J.isLight)m.pushLight(J),J.castShadow&&m.pushShadow(J);else if(J.isSprite){if(!J.frustumCulled||me.intersectsSprite(J)){we&&Ee.setFromMatrixPosition(J.matrixWorld).applyMatrix4(be);const wt=Ze.update(J),Et=J.material;Et.visible&&g.push(J,wt,Et,Me,Ee.z,null)}}else if((J.isMesh||J.isLine||J.isPoints)&&(!J.frustumCulled||me.intersectsObject(J))){const wt=Ze.update(J),Et=J.material;if(we&&(J.boundingSphere!==void 0?(J.boundingSphere===null&&J.computeBoundingSphere(),Ee.copy(J.boundingSphere.center)):(wt.boundingSphere===null&&wt.computeBoundingSphere(),Ee.copy(wt.boundingSphere.center)),Ee.applyMatrix4(J.matrixWorld).applyMatrix4(be)),Array.isArray(Et)){const Pt=wt.groups;for(let yt=0,an=Pt.length;yt<an;yt++){const jt=Pt[yt],Dn=Et[jt.materialIndex];Dn&&Dn.visible&&g.push(J,wt,Dn,Me,Ee.z,jt)}}else Et.visible&&g.push(J,wt,Et,Me,Ee.z,null)}}const Je=J.children;for(let wt=0,Et=Je.length;wt<Et;wt++)le(Je[wt],ue,Me,we)}function _e(J,ue,Me,we){const pe=J.opaque,Je=J.transmissive,wt=J.transparent;m.setupLightsView(Me),ae===!0&&ft.setGlobalState(M.clippingPlanes,Me),we&&Ge.viewport(R.copy(we)),pe.length>0&&qe(pe,ue,Me),Je.length>0&&qe(Je,ue,Me),wt.length>0&&qe(wt,ue,Me),Ge.buffers.depth.setTest(!0),Ge.buffers.depth.setMask(!0),Ge.buffers.color.setMask(!0),Ge.setPolygonOffset(!1)}function Ie(J,ue,Me,we){if((Me.isScene===!0?Me.overrideMaterial:null)!==null)return;m.state.transmissionRenderTarget[we.id]===void 0&&(m.state.transmissionRenderTarget[we.id]=new Bl(1,1,{generateMipmaps:!0,type:Ae.has("EXT_color_buffer_half_float")||Ae.has("EXT_color_buffer_float")?s1:Ru,minFilter:_u,samples:4,stencilBuffer:a,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:vr.workingColorSpace}));const Je=m.state.transmissionRenderTarget[we.id],wt=we.viewport||R;Je.setSize(wt.z,wt.w);const Et=M.getRenderTarget();M.setRenderTarget(Je),M.getClearColor(V),W=M.getClearAlpha(),W<1&&M.setClearColor(16777215,.5),Oe?at.render(Me):M.clear();const Pt=M.toneMapping;M.toneMapping=Au;const yt=we.viewport;if(we.viewport!==void 0&&(we.viewport=void 0),m.setupLightsView(we),ae===!0&&ft.setGlobalState(M.clippingPlanes,we),qe(J,Me,we),ct.updateMultisampleRenderTarget(Je),ct.updateRenderTargetMipmap(Je),Ae.has("WEBGL_multisampled_render_to_texture")===!1){let an=!1;for(let jt=0,Dn=ue.length;jt<Dn;jt++){const ir=ue[jt],lr=ir.object,sn=ir.geometry,Ht=ir.material,st=ir.group;if(Ht.side===gu&&lr.layers.test(we.layers)){const yn=Ht.side;Ht.side=ya,Ht.needsUpdate=!0,mt(lr,Me,we,sn,Ht,st),Ht.side=yn,Ht.needsUpdate=!0,an=!0}}an===!0&&(ct.updateMultisampleRenderTarget(Je),ct.updateRenderTargetMipmap(Je))}M.setRenderTarget(Et),M.setClearColor(V,W),yt!==void 0&&(we.viewport=yt),M.toneMapping=Pt}function qe(J,ue,Me){const we=ue.isScene===!0?ue.overrideMaterial:null;for(let pe=0,Je=J.length;pe<Je;pe++){const wt=J[pe],Et=wt.object,Pt=wt.geometry,yt=we===null?wt.material:we,an=wt.group;Et.layers.test(Me.layers)&&mt(Et,ue,Me,Pt,yt,an)}}function mt(J,ue,Me,we,pe,Je){J.onBeforeRender(M,ue,Me,we,pe,Je),J.modelViewMatrix.multiplyMatrices(Me.matrixWorldInverse,J.matrixWorld),J.normalMatrix.getNormalMatrix(J.modelViewMatrix),pe.onBeforeRender(M,ue,Me,we,J,Je),pe.transparent===!0&&pe.side===gu&&pe.forceSinglePass===!1?(pe.side=ya,pe.needsUpdate=!0,M.renderBufferDirect(Me,ue,we,pe,J,Je),pe.side=qc,pe.needsUpdate=!0,M.renderBufferDirect(Me,ue,we,pe,J,Je),pe.side=gu):M.renderBufferDirect(Me,ue,we,pe,J,Je),J.onAfterRender(M,ue,Me,we,pe,Je)}function Lt(J,ue,Me){ue.isScene!==!0&&(ue=Be);const we=ot.get(J),pe=m.state.lights,Je=m.state.shadowsArray,wt=pe.state.version,Et=Ye.getParameters(J,pe.state,Je,ue,Me),Pt=Ye.getProgramCacheKey(Et);let yt=we.programs;we.environment=J.isMeshStandardMaterial?ue.environment:null,we.fog=ue.fog,we.envMap=(J.isMeshStandardMaterial?re:Rt).get(J.envMap||we.environment),we.envMapRotation=we.environment!==null&&J.envMap===null?ue.environmentRotation:J.envMapRotation,yt===void 0&&(J.addEventListener("dispose",tt),yt=new Map,we.programs=yt);let an=yt.get(Pt);if(an!==void 0){if(we.currentProgram===an&&we.lightsStateVersion===wt)return kt(J,Et),an}else Et.uniforms=Ye.getUniforms(J),J.onBuild(Me,Et,M),J.onBeforeCompile(Et,M),an=Ye.acquireProgram(Et,Pt),yt.set(Pt,an),we.uniforms=Et.uniforms;const jt=we.uniforms;return(!J.isShaderMaterial&&!J.isRawShaderMaterial||J.clipping===!0)&&(jt.clippingPlanes=ft.uniform),kt(J,Et),we.needsLights=Ft(J),we.lightsStateVersion=wt,we.needsLights&&(jt.ambientLightColor.value=pe.state.ambient,jt.lightProbe.value=pe.state.probe,jt.directionalLights.value=pe.state.directional,jt.directionalLightShadows.value=pe.state.directionalShadow,jt.spotLights.value=pe.state.spot,jt.spotLightShadows.value=pe.state.spotShadow,jt.rectAreaLights.value=pe.state.rectArea,jt.ltc_1.value=pe.state.rectAreaLTC1,jt.ltc_2.value=pe.state.rectAreaLTC2,jt.pointLights.value=pe.state.point,jt.pointLightShadows.value=pe.state.pointShadow,jt.hemisphereLights.value=pe.state.hemi,jt.directionalShadowMap.value=pe.state.directionalShadowMap,jt.directionalShadowMatrix.value=pe.state.directionalShadowMatrix,jt.spotShadowMap.value=pe.state.spotShadowMap,jt.spotLightMatrix.value=pe.state.spotLightMatrix,jt.spotLightMap.value=pe.state.spotLightMap,jt.pointShadowMap.value=pe.state.pointShadowMap,jt.pointShadowMatrix.value=pe.state.pointShadowMatrix),we.currentProgram=an,we.uniformsList=null,an}function ln(J){if(J.uniformsList===null){const ue=J.currentProgram.getUniforms();J.uniformsList=YT.seqWithValue(ue.seq,J.uniforms)}return J.uniformsList}function kt(J,ue){const Me=ot.get(J);Me.outputColorSpace=ue.outputColorSpace,Me.batching=ue.batching,Me.batchingColor=ue.batchingColor,Me.instancing=ue.instancing,Me.instancingColor=ue.instancingColor,Me.instancingMorph=ue.instancingMorph,Me.skinning=ue.skinning,Me.morphTargets=ue.morphTargets,Me.morphNormals=ue.morphNormals,Me.morphColors=ue.morphColors,Me.morphTargetsCount=ue.morphTargetsCount,Me.numClippingPlanes=ue.numClippingPlanes,Me.numIntersection=ue.numClipIntersection,Me.vertexAlphas=ue.vertexAlphas,Me.vertexTangents=ue.vertexTangents,Me.toneMapping=ue.toneMapping}function Gt(J,ue,Me,we,pe){ue.isScene!==!0&&(ue=Be),ct.resetTextureUnits();const Je=ue.fog,wt=we.isMeshStandardMaterial?ue.environment:null,Et=E===null?M.outputColorSpace:E.isXRRenderTarget===!0?E.texture.colorSpace:lf,Pt=(we.isMeshStandardMaterial?re:Rt).get(we.envMap||wt),yt=we.vertexColors===!0&&!!Me.attributes.color&&Me.attributes.color.itemSize===4,an=!!Me.attributes.tangent&&(!!we.normalMap||we.anisotropy>0),jt=!!Me.morphAttributes.position,Dn=!!Me.morphAttributes.normal,ir=!!Me.morphAttributes.color;let lr=Au;we.toneMapped&&(E===null||E.isXRRenderTarget===!0)&&(lr=M.toneMapping);const sn=Me.morphAttributes.position||Me.morphAttributes.normal||Me.morphAttributes.color,Ht=sn!==void 0?sn.length:0,st=ot.get(we),yn=m.state.lights;if(ae===!0&&(fe===!0||J!==L)){const aa=J===L&&we.id===I;ft.setState(we,J,aa)}let Nt=!1;we.version===st.__version?(st.needsLights&&st.lightsStateVersion!==yn.state.version||st.outputColorSpace!==Et||pe.isBatchedMesh&&st.batching===!1||!pe.isBatchedMesh&&st.batching===!0||pe.isBatchedMesh&&st.batchingColor===!0&&pe.colorTexture===null||pe.isBatchedMesh&&st.batchingColor===!1&&pe.colorTexture!==null||pe.isInstancedMesh&&st.instancing===!1||!pe.isInstancedMesh&&st.instancing===!0||pe.isSkinnedMesh&&st.skinning===!1||!pe.isSkinnedMesh&&st.skinning===!0||pe.isInstancedMesh&&st.instancingColor===!0&&pe.instanceColor===null||pe.isInstancedMesh&&st.instancingColor===!1&&pe.instanceColor!==null||pe.isInstancedMesh&&st.instancingMorph===!0&&pe.morphTexture===null||pe.isInstancedMesh&&st.instancingMorph===!1&&pe.morphTexture!==null||st.envMap!==Pt||we.fog===!0&&st.fog!==Je||st.numClippingPlanes!==void 0&&(st.numClippingPlanes!==ft.numPlanes||st.numIntersection!==ft.numIntersection)||st.vertexAlphas!==yt||st.vertexTangents!==an||st.morphTargets!==jt||st.morphNormals!==Dn||st.morphColors!==ir||st.toneMapping!==lr||st.morphTargetsCount!==Ht)&&(Nt=!0):(Nt=!0,st.__version=we.version);let nr=st.currentProgram;Nt===!0&&(nr=Lt(we,ue,pe));let Hr=!1,Li=!1,$a=!1;const jn=nr.getUniforms(),Ii=st.uniforms;if(Ge.useProgram(nr.program)&&(Hr=!0,Li=!0,$a=!0),we.id!==I&&(I=we.id,Li=!0),Hr||L!==J){jn.setValue(ee,"projectionMatrix",J.projectionMatrix),jn.setValue(ee,"viewMatrix",J.matrixWorldInverse);const aa=jn.map.cameraPosition;aa!==void 0&&aa.setValue(ee,Ee.setFromMatrixPosition(J.matrixWorld)),Ue.logarithmicDepthBuffer&&jn.setValue(ee,"logDepthBufFC",2/(Math.log(J.far+1)/Math.LN2)),(we.isMeshPhongMaterial||we.isMeshToonMaterial||we.isMeshLambertMaterial||we.isMeshBasicMaterial||we.isMeshStandardMaterial||we.isShaderMaterial)&&jn.setValue(ee,"isOrthographic",J.isOrthographicCamera===!0),L!==J&&(L=J,Li=!0,$a=!0)}if(pe.isSkinnedMesh){jn.setOptional(ee,pe,"bindMatrix"),jn.setOptional(ee,pe,"bindMatrixInverse");const aa=pe.skeleton;aa&&(aa.boneTexture===null&&aa.computeBoneTexture(),jn.setValue(ee,"boneTexture",aa.boneTexture,ct))}pe.isBatchedMesh&&(jn.setOptional(ee,pe,"batchingTexture"),jn.setValue(ee,"batchingTexture",pe._matricesTexture,ct),jn.setOptional(ee,pe,"batchingColorTexture"),pe._colorsTexture!==null&&jn.setValue(ee,"batchingColorTexture",pe._colorsTexture,ct));const $s=Me.morphAttributes;if(($s.position!==void 0||$s.normal!==void 0||$s.color!==void 0)&&bt.update(pe,Me,nr),(Li||st.receiveShadow!==pe.receiveShadow)&&(st.receiveShadow=pe.receiveShadow,jn.setValue(ee,"receiveShadow",pe.receiveShadow)),we.isMeshGouraudMaterial&&we.envMap!==null&&(Ii.envMap.value=Pt,Ii.flipEnvMap.value=Pt.isCubeTexture&&Pt.isRenderTargetTexture===!1?-1:1),we.isMeshStandardMaterial&&we.envMap===null&&ue.environment!==null&&(Ii.envMapIntensity.value=ue.environmentIntensity),Li&&(jn.setValue(ee,"toneMappingExposure",M.toneMappingExposure),st.needsLights&&It(Ii,$a),Je&&we.fog===!0&&Qe.refreshFogUniforms(Ii,Je),Qe.refreshMaterialUniforms(Ii,we,Q,j,m.state.transmissionRenderTarget[J.id]),YT.upload(ee,ln(st),Ii,ct)),we.isShaderMaterial&&we.uniformsNeedUpdate===!0&&(YT.upload(ee,ln(st),Ii,ct),we.uniformsNeedUpdate=!1),we.isSpriteMaterial&&jn.setValue(ee,"center",pe.center),jn.setValue(ee,"modelViewMatrix",pe.modelViewMatrix),jn.setValue(ee,"normalMatrix",pe.normalMatrix),jn.setValue(ee,"modelMatrix",pe.matrixWorld),we.isShaderMaterial||we.isRawShaderMaterial){const aa=we.uniformsGroups;for(let Zl=0,ff=aa.length;Zl<ff;Zl++){const oa=aa[Zl];ce.update(oa,nr),ce.bind(oa,nr)}}return nr}function It(J,ue){J.ambientLightColor.needsUpdate=ue,J.lightProbe.needsUpdate=ue,J.directionalLights.needsUpdate=ue,J.directionalLightShadows.needsUpdate=ue,J.pointLights.needsUpdate=ue,J.pointLightShadows.needsUpdate=ue,J.spotLights.needsUpdate=ue,J.spotLightShadows.needsUpdate=ue,J.rectAreaLights.needsUpdate=ue,J.hemisphereLights.needsUpdate=ue}function Ft(J){return J.isMeshLambertMaterial||J.isMeshToonMaterial||J.isMeshPhongMaterial||J.isMeshStandardMaterial||J.isShadowMaterial||J.isShaderMaterial&&J.lights===!0}this.getActiveCubeFace=function(){return C},this.getActiveMipmapLevel=function(){return A},this.getRenderTarget=function(){return E},this.setRenderTargetTextures=function(J,ue,Me){ot.get(J.texture).__webglTexture=ue,ot.get(J.depthTexture).__webglTexture=Me;const we=ot.get(J);we.__hasExternalTextures=!0,we.__autoAllocateDepthBuffer=Me===void 0,we.__autoAllocateDepthBuffer||Ae.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),we.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(J,ue){const Me=ot.get(J);Me.__webglFramebuffer=ue,Me.__useDefaultFramebuffer=ue===void 0},this.setRenderTarget=function(J,ue=0,Me=0){E=J,C=ue,A=Me;let we=!0,pe=null,Je=!1,wt=!1;if(J){const Pt=ot.get(J);Pt.__useDefaultFramebuffer!==void 0?(Ge.bindFramebuffer(ee.FRAMEBUFFER,null),we=!1):Pt.__webglFramebuffer===void 0?ct.setupRenderTarget(J):Pt.__hasExternalTextures&&ct.rebindTextures(J,ot.get(J.texture).__webglTexture,ot.get(J.depthTexture).__webglTexture);const yt=J.texture;(yt.isData3DTexture||yt.isDataArrayTexture||yt.isCompressedArrayTexture)&&(wt=!0);const an=ot.get(J).__webglFramebuffer;J.isWebGLCubeRenderTarget?(Array.isArray(an[ue])?pe=an[ue][Me]:pe=an[ue],Je=!0):J.samples>0&&ct.useMultisampledRTT(J)===!1?pe=ot.get(J).__webglMultisampledFramebuffer:Array.isArray(an)?pe=an[Me]:pe=an,R.copy(J.viewport),O.copy(J.scissor),U=J.scissorTest}else R.copy(q).multiplyScalar(Q).floor(),O.copy(Y).multiplyScalar(Q).floor(),U=te;if(Ge.bindFramebuffer(ee.FRAMEBUFFER,pe)&&we&&Ge.drawBuffers(J,pe),Ge.viewport(R),Ge.scissor(O),Ge.setScissorTest(U),Je){const Pt=ot.get(J.texture);ee.framebufferTexture2D(ee.FRAMEBUFFER,ee.COLOR_ATTACHMENT0,ee.TEXTURE_CUBE_MAP_POSITIVE_X+ue,Pt.__webglTexture,Me)}else if(wt){const Pt=ot.get(J.texture),yt=ue||0;ee.framebufferTextureLayer(ee.FRAMEBUFFER,ee.COLOR_ATTACHMENT0,Pt.__webglTexture,Me||0,yt)}I=-1},this.readRenderTargetPixels=function(J,ue,Me,we,pe,Je,wt){if(!(J&&J.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Et=ot.get(J).__webglFramebuffer;if(J.isWebGLCubeRenderTarget&&wt!==void 0&&(Et=Et[wt]),Et){Ge.bindFramebuffer(ee.FRAMEBUFFER,Et);try{const Pt=J.texture,yt=Pt.format,an=Pt.type;if(!Ue.textureFormatReadable(yt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Ue.textureTypeReadable(an)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ue>=0&&ue<=J.width-we&&Me>=0&&Me<=J.height-pe&&ee.readPixels(ue,Me,we,pe,St.convert(yt),St.convert(an),Je)}finally{const Pt=E!==null?ot.get(E).__webglFramebuffer:null;Ge.bindFramebuffer(ee.FRAMEBUFFER,Pt)}}},this.readRenderTargetPixelsAsync=async function(J,ue,Me,we,pe,Je,wt){if(!(J&&J.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Et=ot.get(J).__webglFramebuffer;if(J.isWebGLCubeRenderTarget&&wt!==void 0&&(Et=Et[wt]),Et){Ge.bindFramebuffer(ee.FRAMEBUFFER,Et);try{const Pt=J.texture,yt=Pt.format,an=Pt.type;if(!Ue.textureFormatReadable(yt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Ue.textureTypeReadable(an))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(ue>=0&&ue<=J.width-we&&Me>=0&&Me<=J.height-pe){const jt=ee.createBuffer();ee.bindBuffer(ee.PIXEL_PACK_BUFFER,jt),ee.bufferData(ee.PIXEL_PACK_BUFFER,Je.byteLength,ee.STREAM_READ),ee.readPixels(ue,Me,we,pe,St.convert(yt),St.convert(an),0),ee.flush();const Dn=ee.fenceSync(ee.SYNC_GPU_COMMANDS_COMPLETE,0);await Ale(ee,Dn,4);try{ee.bindBuffer(ee.PIXEL_PACK_BUFFER,jt),ee.getBufferSubData(ee.PIXEL_PACK_BUFFER,0,Je)}finally{ee.deleteBuffer(jt),ee.deleteSync(Dn)}return Je}}finally{const Pt=E!==null?ot.get(E).__webglFramebuffer:null;Ge.bindFramebuffer(ee.FRAMEBUFFER,Pt)}}},this.copyFramebufferToTexture=function(J,ue=null,Me=0){J.isTexture!==!0&&(console.warn("WebGLRenderer: copyFramebufferToTexture function signature has changed."),ue=arguments[0]||null,J=arguments[1]);const we=Math.pow(2,-Me),pe=Math.floor(J.image.width*we),Je=Math.floor(J.image.height*we),wt=ue!==null?ue.x:0,Et=ue!==null?ue.y:0;ct.setTexture2D(J,0),ee.copyTexSubImage2D(ee.TEXTURE_2D,Me,0,0,wt,Et,pe,Je),Ge.unbindTexture()},this.copyTextureToTexture=function(J,ue,Me=null,we=null,pe=0){J.isTexture!==!0&&(console.warn("WebGLRenderer: copyTextureToTexture function signature has changed."),we=arguments[0]||null,J=arguments[1],ue=arguments[2],pe=arguments[3]||0,Me=null);let Je,wt,Et,Pt,yt,an;Me!==null?(Je=Me.max.x-Me.min.x,wt=Me.max.y-Me.min.y,Et=Me.min.x,Pt=Me.min.y):(Je=J.image.width,wt=J.image.height,Et=0,Pt=0),we!==null?(yt=we.x,an=we.y):(yt=0,an=0);const jt=St.convert(ue.format),Dn=St.convert(ue.type);ct.setTexture2D(ue,0),ee.pixelStorei(ee.UNPACK_FLIP_Y_WEBGL,ue.flipY),ee.pixelStorei(ee.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ue.premultiplyAlpha),ee.pixelStorei(ee.UNPACK_ALIGNMENT,ue.unpackAlignment);const ir=ee.getParameter(ee.UNPACK_ROW_LENGTH),lr=ee.getParameter(ee.UNPACK_IMAGE_HEIGHT),sn=ee.getParameter(ee.UNPACK_SKIP_PIXELS),Ht=ee.getParameter(ee.UNPACK_SKIP_ROWS),st=ee.getParameter(ee.UNPACK_SKIP_IMAGES),yn=J.isCompressedTexture?J.mipmaps[pe]:J.image;ee.pixelStorei(ee.UNPACK_ROW_LENGTH,yn.width),ee.pixelStorei(ee.UNPACK_IMAGE_HEIGHT,yn.height),ee.pixelStorei(ee.UNPACK_SKIP_PIXELS,Et),ee.pixelStorei(ee.UNPACK_SKIP_ROWS,Pt),J.isDataTexture?ee.texSubImage2D(ee.TEXTURE_2D,pe,yt,an,Je,wt,jt,Dn,yn.data):J.isCompressedTexture?ee.compressedTexSubImage2D(ee.TEXTURE_2D,pe,yt,an,yn.width,yn.height,jt,yn.data):ee.texSubImage2D(ee.TEXTURE_2D,pe,yt,an,jt,Dn,yn),ee.pixelStorei(ee.UNPACK_ROW_LENGTH,ir),ee.pixelStorei(ee.UNPACK_IMAGE_HEIGHT,lr),ee.pixelStorei(ee.UNPACK_SKIP_PIXELS,sn),ee.pixelStorei(ee.UNPACK_SKIP_ROWS,Ht),ee.pixelStorei(ee.UNPACK_SKIP_IMAGES,st),pe===0&&ue.generateMipmaps&&ee.generateMipmap(ee.TEXTURE_2D),Ge.unbindTexture()},this.copyTextureToTexture3D=function(J,ue,Me=null,we=null,pe=0){J.isTexture!==!0&&(console.warn("WebGLRenderer: copyTextureToTexture3D function signature has changed."),Me=arguments[0]||null,we=arguments[1]||null,J=arguments[2],ue=arguments[3],pe=arguments[4]||0);let Je,wt,Et,Pt,yt,an,jt,Dn,ir;const lr=J.isCompressedTexture?J.mipmaps[pe]:J.image;Me!==null?(Je=Me.max.x-Me.min.x,wt=Me.max.y-Me.min.y,Et=Me.max.z-Me.min.z,Pt=Me.min.x,yt=Me.min.y,an=Me.min.z):(Je=lr.width,wt=lr.height,Et=lr.depth,Pt=0,yt=0,an=0),we!==null?(jt=we.x,Dn=we.y,ir=we.z):(jt=0,Dn=0,ir=0);const sn=St.convert(ue.format),Ht=St.convert(ue.type);let st;if(ue.isData3DTexture)ct.setTexture3D(ue,0),st=ee.TEXTURE_3D;else if(ue.isDataArrayTexture||ue.isCompressedArrayTexture)ct.setTexture2DArray(ue,0),st=ee.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}ee.pixelStorei(ee.UNPACK_FLIP_Y_WEBGL,ue.flipY),ee.pixelStorei(ee.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ue.premultiplyAlpha),ee.pixelStorei(ee.UNPACK_ALIGNMENT,ue.unpackAlignment);const yn=ee.getParameter(ee.UNPACK_ROW_LENGTH),Nt=ee.getParameter(ee.UNPACK_IMAGE_HEIGHT),nr=ee.getParameter(ee.UNPACK_SKIP_PIXELS),Hr=ee.getParameter(ee.UNPACK_SKIP_ROWS),Li=ee.getParameter(ee.UNPACK_SKIP_IMAGES);ee.pixelStorei(ee.UNPACK_ROW_LENGTH,lr.width),ee.pixelStorei(ee.UNPACK_IMAGE_HEIGHT,lr.height),ee.pixelStorei(ee.UNPACK_SKIP_PIXELS,Pt),ee.pixelStorei(ee.UNPACK_SKIP_ROWS,yt),ee.pixelStorei(ee.UNPACK_SKIP_IMAGES,an),J.isDataTexture||J.isData3DTexture?ee.texSubImage3D(st,pe,jt,Dn,ir,Je,wt,Et,sn,Ht,lr.data):ue.isCompressedArrayTexture?ee.compressedTexSubImage3D(st,pe,jt,Dn,ir,Je,wt,Et,sn,lr.data):ee.texSubImage3D(st,pe,jt,Dn,ir,Je,wt,Et,sn,Ht,lr),ee.pixelStorei(ee.UNPACK_ROW_LENGTH,yn),ee.pixelStorei(ee.UNPACK_IMAGE_HEIGHT,Nt),ee.pixelStorei(ee.UNPACK_SKIP_PIXELS,nr),ee.pixelStorei(ee.UNPACK_SKIP_ROWS,Hr),ee.pixelStorei(ee.UNPACK_SKIP_IMAGES,Li),pe===0&&ue.generateMipmaps&&ee.generateMipmap(st),Ge.unbindTexture()},this.initRenderTarget=function(J){ot.get(J).__webglFramebuffer===void 0&&ct.setupRenderTarget(J)},this.initTexture=function(J){J.isCubeTexture?ct.setTextureCube(J,0):J.isData3DTexture?ct.setTexture3D(J,0):J.isDataArrayTexture||J.isCompressedArrayTexture?ct.setTexture2DArray(J,0):ct.setTexture2D(J,0),Ge.unbindTexture()},this.resetState=function(){C=0,A=0,E=null,Ge.reset(),mn.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return xu}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=e===UA?"display-p3":"srgb",t.unpackColorSpace=vr.workingColorSpace===l1?"display-p3":"srgb"}}class HA{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new zt(e),this.density=t}clone(){return new HA(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class WA{constructor(e,t=1,r=1e3){this.isFog=!0,this.name="",this.color=new zt(e),this.near=t,this.far=r}clone(){return new WA(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class zO extends hr{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new hs,this.environmentIntensity=1,this.environmentRotation=new hs,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class XA{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=pS,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=us()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return DO("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let i=0,a=this.stride;i<a;i++)this.array[e+i]=t.array[r+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=us()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=us()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const oo=new ne;class yv{constructor(e,t,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)oo.fromBufferAttribute(this,t),oo.applyMatrix4(e),this.setXYZ(t,oo.x,oo.y,oo.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)oo.fromBufferAttribute(this,t),oo.applyNormalMatrix(e),this.setXYZ(t,oo.x,oo.y,oo.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)oo.fromBufferAttribute(this,t),oo.transformDirection(e),this.setXYZ(t,oo.x,oo.y,oo.z);return this}getComponent(e,t){let r=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(r=ho(r,this.array)),r}setComponent(e,t,r){return this.normalized&&(r=Bn(r,this.array)),this.data.array[e*this.data.stride+this.offset+t]=r,this}setX(e,t){return this.normalized&&(t=Bn(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Bn(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Bn(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Bn(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=ho(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=ho(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=ho(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=ho(t,this.array)),t}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Bn(t,this.array),r=Bn(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=Bn(t,this.array),r=Bn(r,this.array),i=Bn(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,t,r,i,a){return e=e*this.data.stride+this.offset,this.normalized&&(t=Bn(t,this.array),r=Bn(r,this.array),i=Bn(i,this.array),a=Bn(a,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=a,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[i+a])}return new Tr(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new yv(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[i+a])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class BO extends ja{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new zt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let am;const p_=new ne,om=new ne,sm=new ne,lm=new je,v_=new je,kY=new xn,oM=new ne,g_=new ne,sM=new ne,BU=new je,MP=new je,UU=new je;class FY extends hr{constructor(e=new BO){if(super(),this.isSprite=!0,this.type="Sprite",am===void 0){am=new Wn;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new XA(t,5);am.setIndex([0,1,2,0,2,3]),am.setAttribute("position",new yv(r,3,0,!1)),am.setAttribute("uv",new yv(r,2,3,!1))}this.geometry=am,this.material=e,this.center=new je(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),om.setFromMatrixScale(this.matrixWorld),kY.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),sm.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&om.multiplyScalar(-sm.z);const r=this.material.rotation;let i,a;r!==0&&(a=Math.cos(r),i=Math.sin(r));const o=this.center;lM(oM.set(-.5,-.5,0),sm,o,om,i,a),lM(g_.set(.5,-.5,0),sm,o,om,i,a),lM(sM.set(.5,.5,0),sm,o,om,i,a),BU.set(0,0),MP.set(1,0),UU.set(1,1);let s=e.ray.intersectTriangle(oM,g_,sM,!1,p_);if(s===null&&(lM(g_.set(-.5,.5,0),sm,o,om,i,a),MP.set(0,1),s=e.ray.intersectTriangle(oM,sM,g_,!1,p_),s===null))return;const l=e.ray.origin.distanceTo(p_);l<e.near||l>e.far||t.push({distance:l,point:p_.clone(),uv:Wp.getInterpolation(p_,oM,g_,sM,BU,MP,UU,new je),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function lM(n,e,t,r,i,a){lm.subVectors(n,t).addScalar(.5).multiply(r),i!==void 0?(v_.x=a*lm.x-i*lm.y,v_.y=i*lm.x+a*lm.y):v_.copy(lm),n.copy(e),n.x+=v_.x,n.y+=v_.y,n.applyMatrix4(kY)}const uM=new ne,VU=new ne;class zY extends hr{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let r=0,i=t.length;r<i;r++){const a=t[r];this.addLevel(a.object.clone(),a.distance,a.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,r=0){t=Math.abs(t);const i=this.levels;let a;for(a=0;a<i.length&&!(t<i[a].distance);a++);return i.splice(a,0,{distance:t,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let r,i;for(r=1,i=t.length;r<i;r++){let a=t[r].distance;if(t[r].object.visible&&(a-=a*t[r].hysteresis),e<a)break}return t[r-1].object}return null}raycast(e,t){if(this.levels.length>0){uM.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(uM);this.getObjectForDistance(i).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){uM.setFromMatrixPosition(e.matrixWorld),VU.setFromMatrixPosition(this.matrixWorld);const r=uM.distanceTo(VU)/e.zoom;t[0].object.visible=!0;let i,a;for(i=1,a=t.length;i<a;i++){let o=t[i].distance;if(t[i].object.visible&&(o-=o*t[i].hysteresis),r>=o)t[i-1].object.visible=!1,t[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<a;i++)t[i].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const r=this.levels;for(let i=0,a=r.length;i<a;i++){const o=r[i];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const GU=new ne,HU=new Mr,WU=new Mr,Ide=new ne,XU=new xn,cM=new ne,TP=new Va,YU=new xn,bP=new Lv;class BY extends Pi{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=J2,this.bindMatrix=new xn,this.bindMatrixInverse=new xn,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new vo),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let r=0;r<t.count;r++)this.getVertexPosition(r,cM),this.boundingBox.expandByPoint(cM)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Va),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let r=0;r<t.count;r++)this.getVertexPosition(r,cM),this.boundingSphere.expandByPoint(cM)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),TP.copy(this.boundingSphere),TP.applyMatrix4(i),e.ray.intersectsSphere(TP)!==!1&&(YU.copy(i).invert(),bP.copy(e.ray).applyMatrix4(YU),!(this.boundingBox!==null&&bP.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,bP)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Mr,t=this.geometry.attributes.skinWeight;for(let r=0,i=t.count;r<i;r++){e.fromBufferAttribute(t,r);const a=1/e.manhattanLength();a!==1/0?e.multiplyScalar(a):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===J2?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===$X?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const r=this.skeleton,i=this.geometry;HU.fromBufferAttribute(i.attributes.skinIndex,e),WU.fromBufferAttribute(i.attributes.skinWeight,e),GU.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let a=0;a<4;a++){const o=WU.getComponent(a);if(o!==0){const s=HU.getComponent(a);XU.multiplyMatrices(r.bones[s].matrixWorld,r.boneInverses[s]),t.addScaledVector(Ide.copy(GU).applyMatrix4(XU),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}class UO extends hr{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Yc extends $r{constructor(e=null,t=1,r=1,i,a,o,s,l,u=ra,c=ra,f,h){super(null,o,s,l,u,c,i,a,f,h),this.isDataTexture=!0,this.image={data:e,width:t,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const jU=new xn,Nde=new xn;class YA{constructor(e=[],t=[]){this.uuid=us(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new xn)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const r=new xn;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,t=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let a=0,o=e.length;a<o;a++){const s=e[a]?e[a].matrixWorld:Nde;jU.multiplyMatrices(s,t[a]),jU.toArray(r,a*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new YA(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const r=new Yc(t,e,e,po,as);return r.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=r,this}getBoneByName(e){for(let t=0,r=this.bones.length;t<r;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const a=e.bones[r];let o=t[a];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",a),o=new UO),this.bones.push(o),this.boneInverses.push(new xn().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,r=this.boneInverses;for(let i=0,a=t.length;i<a;i++){const o=t[i];e.bones.push(o.uuid);const s=r[i];e.boneInverses.push(s.toArray())}return e}}class xy extends Tr{constructor(e,t,r,i=1){super(e,t,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const um=new xn,ZU=new xn,fM=[],$U=new vo,Ode=new xn,m_=new Pi,y_=new Va;class UY extends Pi{constructor(e,t,r){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new xy(new Float32Array(r*16),16),this.instanceColor=null,this.morphTexture=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,Ode)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new vo),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,um),$U.copy(e.boundingBox).applyMatrix4(um),this.boundingBox.union($U)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new Va),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,um),y_.copy(e.boundingSphere).applyMatrix4(um),this.boundingSphere.union(y_)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const r=t.morphTargetInfluences,i=this.morphTexture.source.data.data,a=r.length+1,o=e*a+1;for(let s=0;s<r.length;s++)r[s]=i[o+s]}raycast(e,t){const r=this.matrixWorld,i=this.count;if(m_.geometry=this.geometry,m_.material=this.material,m_.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),y_.copy(this.boundingSphere),y_.applyMatrix4(r),e.ray.intersectsSphere(y_)!==!1))for(let a=0;a<i;a++){this.getMatrixAt(a,um),ZU.multiplyMatrices(r,um),m_.matrixWorld=ZU,m_.raycast(e,fM);for(let o=0,s=fM.length;o<s;o++){const l=fM[o];l.instanceId=a,l.object=this,t.push(l)}fM.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new xy(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const r=t.morphTargetInfluences,i=r.length+1;this.morphTexture===null&&(this.morphTexture=new Yc(new Float32Array(i*this.count),i,this.count,MO,as));const a=this.morphTexture.source.data.data;let o=0;for(let u=0;u<r.length;u++)o+=r[u];const s=this.geometry.morphTargetsRelative?1:1-o,l=i*e;a[l]=s,a.set(r,l+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null),this}}function kde(n,e){return n.z-e.z}function Fde(n,e){return e.z-n.z}class zde{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t){const r=this.pool,i=this.list;this.index>=r.length&&r.push({start:-1,count:-1,z:-1});const a=r[this.index];i.push(a),this.index++,a.start=e.start,a.count=e.count,a.z=t}reset(){this.list.length=0,this.index=0}}const cm="batchId",qf=new xn,AP=new xn,Bde=new xn,Ude=new zt(1,1,1),qU=new xn,CP=new f1,hM=new vo,Wd=new Va,__=new ne,KU=new ne,Vde=new ne,EP=new zde,Ra=new Pi,dM=[];function Gde(n,e,t=0){const r=e.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==e.array.constructor){const i=n.count;for(let a=0;a<i;a++)for(let o=0;o<r;o++)e.setComponent(a+t,o,n.getComponent(a,o))}else e.array.set(n.array,t*r);e.needsUpdate=!0}class VY extends Pi{get maxGeometryCount(){return this._maxGeometryCount}constructor(e,t,r=t*2,i){super(new Wn,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._drawRanges=[],this._reservedRanges=[],this._visibility=[],this._active=[],this._bounds=[],this._maxGeometryCount=e,this._maxVertexCount=t,this._maxIndexCount=r,this._geometryInitialized=!1,this._geometryCount=0,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._visibilityChanged=!0,this._matricesTexture=null,this._initMatricesTexture(),this._colorsTexture=null}_initMatricesTexture(){let e=Math.sqrt(this._maxGeometryCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),r=new Yc(t,e,e,po,as);this._matricesTexture=r}_initColorsTexture(){let e=Math.sqrt(this._maxGeometryCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),r=new Yc(t,e,e,po,as);r.colorSpace=vr.workingColorSpace,this._colorsTexture=r}_initializeGeometry(e){const t=this.geometry,r=this._maxVertexCount,i=this._maxGeometryCount,a=this._maxIndexCount;if(this._geometryInitialized===!1){for(const s in e.attributes){const l=e.getAttribute(s),{array:u,itemSize:c,normalized:f}=l,h=new u.constructor(r*c),d=new Tr(h,c,f);t.setAttribute(s,d)}if(e.getIndex()!==null){const s=r>65536?new Uint32Array(a):new Uint16Array(a);t.setIndex(new Tr(s,1))}const o=i>65536?new Uint32Array(r):new Uint16Array(r);t.setAttribute(cm,new Tr(o,1)),this._geometryInitialized=!0}}_validateGeometry(e){if(e.getAttribute(cm))throw new Error(`BatchedMesh: Geometry cannot use attribute "${cm}"`);const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const r in t.attributes){if(r===cm)continue;if(!e.hasAttribute(r))throw new Error(`BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const i=e.getAttribute(r),a=t.getAttribute(r);if(i.itemSize!==a.itemSize||i.normalized!==a.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new vo);const e=this._geometryCount,t=this.boundingBox,r=this._active;t.makeEmpty();for(let i=0;i<e;i++)r[i]!==!1&&(this.getMatrixAt(i,qf),this.getBoundingBoxAt(i,hM).applyMatrix4(qf),t.union(hM))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Va);const e=this._geometryCount,t=this.boundingSphere,r=this._active;t.makeEmpty();for(let i=0;i<e;i++)r[i]!==!1&&(this.getMatrixAt(i,qf),this.getBoundingSphereAt(i,Wd).applyMatrix4(qf),t.union(Wd))}addGeometry(e,t=-1,r=-1){if(this._initializeGeometry(e),this._validateGeometry(e),this._geometryCount>=this._maxGeometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");const i={vertexStart:-1,vertexCount:-1,indexStart:-1,indexCount:-1};let a=null;const o=this._reservedRanges,s=this._drawRanges,l=this._bounds;this._geometryCount!==0&&(a=o[o.length-1]),t===-1?i.vertexCount=e.getAttribute("position").count:i.vertexCount=t,a===null?i.vertexStart=0:i.vertexStart=a.vertexStart+a.vertexCount;const u=e.getIndex(),c=u!==null;if(c&&(r===-1?i.indexCount=u.count:i.indexCount=r,a===null?i.indexStart=0:i.indexStart=a.indexStart+a.indexCount),i.indexStart!==-1&&i.indexStart+i.indexCount>this._maxIndexCount||i.vertexStart+i.vertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");const f=this._visibility,h=this._active,d=this._matricesTexture,p=this._matricesTexture.image.data,g=this._colorsTexture;f.push(!0),h.push(!0);const m=this._geometryCount;this._geometryCount++,Bde.toArray(p,m*16),d.needsUpdate=!0,g!==null&&(Ude.toArray(g.image.data,m*4),g.needsUpdate=!0),o.push(i),s.push({start:c?i.indexStart:i.vertexStart,count:-1}),l.push({boxInitialized:!1,box:new vo,sphereInitialized:!1,sphere:new Va});const y=this.geometry.getAttribute(cm);for(let S=0;S<i.vertexCount;S++)y.setX(i.vertexStart+S,m);return y.needsUpdate=!0,this.setGeometryAt(m,e),m}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const r=this.geometry,i=r.getIndex()!==null,a=r.getIndex(),o=t.getIndex(),s=this._reservedRanges[e];if(i&&o.count>s.indexCount||t.attributes.position.count>s.vertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const l=s.vertexStart,u=s.vertexCount;for(const d in r.attributes){if(d===cm)continue;const p=t.getAttribute(d),g=r.getAttribute(d);Gde(p,g,l);const m=p.itemSize;for(let y=p.count,S=u;y<S;y++){const M=l+y;for(let b=0;b<m;b++)g.setComponent(M,b,0)}g.needsUpdate=!0,g.addUpdateRange(l*m,u*m)}if(i){const d=s.indexStart;for(let p=0;p<o.count;p++)a.setX(d+p,l+o.getX(p));for(let p=o.count,g=s.indexCount;p<g;p++)a.setX(d+p,l);a.needsUpdate=!0,a.addUpdateRange(d,s.indexCount)}const c=this._bounds[e];t.boundingBox!==null?(c.box.copy(t.boundingBox),c.boxInitialized=!0):c.boxInitialized=!1,t.boundingSphere!==null?(c.sphere.copy(t.boundingSphere),c.sphereInitialized=!0):c.sphereInitialized=!1;const f=this._drawRanges[e],h=t.getAttribute("position");return f.count=i?o.count:h.count,this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._active;return e>=t.length||t[e]===!1?this:(t[e]=!1,this._visibilityChanged=!0,this)}getInstanceCountAt(e){return this._multiDrawInstances===null?null:this._multiDrawInstances[e]}setInstanceCountAt(e,t){return this._multiDrawInstances===null&&(this._multiDrawInstances=new Int32Array(this._maxGeometryCount).fill(1)),this._multiDrawInstances[e]=t,e}getBoundingBoxAt(e,t){if(this._active[e]===!1)return null;const i=this._bounds[e],a=i.box,o=this.geometry;if(i.boxInitialized===!1){a.makeEmpty();const s=o.index,l=o.attributes.position,u=this._drawRanges[e];for(let c=u.start,f=u.start+u.count;c<f;c++){let h=c;s&&(h=s.getX(h)),a.expandByPoint(__.fromBufferAttribute(l,h))}i.boxInitialized=!0}return t.copy(a),t}getBoundingSphereAt(e,t){if(this._active[e]===!1)return null;const i=this._bounds[e],a=i.sphere,o=this.geometry;if(i.sphereInitialized===!1){a.makeEmpty(),this.getBoundingBoxAt(e,hM),hM.getCenter(a.center);const s=o.index,l=o.attributes.position,u=this._drawRanges[e];let c=0;for(let f=u.start,h=u.start+u.count;f<h;f++){let d=f;s&&(d=s.getX(d)),__.fromBufferAttribute(l,d),c=Math.max(c,a.center.distanceToSquared(__))}a.radius=Math.sqrt(c),i.sphereInitialized=!0}return t.copy(a),t}setMatrixAt(e,t){const r=this._active,i=this._matricesTexture,a=this._matricesTexture.image.data,o=this._geometryCount;return e>=o||r[e]===!1?this:(t.toArray(a,e*16),i.needsUpdate=!0,this)}getMatrixAt(e,t){const r=this._active,i=this._matricesTexture.image.data,a=this._geometryCount;return e>=a||r[e]===!1?null:t.fromArray(i,e*16)}setColorAt(e,t){this._colorsTexture===null&&this._initColorsTexture();const r=this._active,i=this._colorsTexture,a=this._colorsTexture.image.data,o=this._geometryCount;return e>=o||r[e]===!1?this:(t.toArray(a,e*4),i.needsUpdate=!0,this)}getColorAt(e,t){const r=this._active,i=this._colorsTexture.image.data,a=this._geometryCount;return e>=a||r[e]===!1?null:t.fromArray(i,e*4)}setVisibleAt(e,t){const r=this._visibility,i=this._active,a=this._geometryCount;return e>=a||i[e]===!1||r[e]===t?this:(r[e]=t,this._visibilityChanged=!0,this)}getVisibleAt(e){const t=this._visibility,r=this._active,i=this._geometryCount;return e>=i||r[e]===!1?!1:t[e]}raycast(e,t){const r=this._visibility,i=this._active,a=this._drawRanges,o=this._geometryCount,s=this.matrixWorld,l=this.geometry;Ra.material=this.material,Ra.geometry.index=l.index,Ra.geometry.attributes=l.attributes,Ra.geometry.boundingBox===null&&(Ra.geometry.boundingBox=new vo),Ra.geometry.boundingSphere===null&&(Ra.geometry.boundingSphere=new Va);for(let u=0;u<o;u++){if(!r[u]||!i[u])continue;const c=a[u];Ra.geometry.setDrawRange(c.start,c.count),this.getMatrixAt(u,Ra.matrixWorld).premultiply(s),this.getBoundingBoxAt(u,Ra.geometry.boundingBox),this.getBoundingSphereAt(u,Ra.geometry.boundingSphere),Ra.raycast(e,dM);for(let f=0,h=dM.length;f<h;f++){const d=dM[f];d.object=this,d.batchId=u,t.push(d)}dM.length=0}Ra.material=null,Ra.geometry.index=null,Ra.geometry.attributes={},Ra.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._drawRanges=e._drawRanges.map(t=>({...t})),this._reservedRanges=e._reservedRanges.map(t=>({...t})),this._visibility=e._visibility.slice(),this._active=e._active.slice(),this._bounds=e._bounds.map(t=>({boxInitialized:t.boxInitialized,box:t.box.clone(),sphereInitialized:t.sphereInitialized,sphere:t.sphere.clone()})),this._maxGeometryCount=e._maxGeometryCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.slice()),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null),this}onBeforeRender(e,t,r,i,a){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=i.getIndex(),s=o===null?1:o.array.BYTES_PER_ELEMENT,l=this._active,u=this._visibility,c=this._multiDrawStarts,f=this._multiDrawCounts,h=this._drawRanges,d=this.perObjectFrustumCulled;d&&(qU.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),CP.setFromProjectionMatrix(qU,e.coordinateSystem));let p=0;if(this.sortObjects){AP.copy(this.matrixWorld).invert(),__.setFromMatrixPosition(r.matrixWorld).applyMatrix4(AP),KU.set(0,0,-1).transformDirection(r.matrixWorld).transformDirection(AP);for(let y=0,S=u.length;y<S;y++)if(u[y]&&l[y]){this.getMatrixAt(y,qf),this.getBoundingSphereAt(y,Wd).applyMatrix4(qf);let M=!1;if(d&&(M=!CP.intersectsSphere(Wd)),!M){const b=Vde.subVectors(Wd.center,__).dot(KU);EP.push(h[y],b)}}const g=EP.list,m=this.customSort;m===null?g.sort(a.transparent?Fde:kde):m.call(this,g,r);for(let y=0,S=g.length;y<S;y++){const M=g[y];c[p]=M.start*s,f[p]=M.count,p++}EP.reset()}else for(let g=0,m=u.length;g<m;g++)if(u[g]&&l[g]){let y=!1;if(d&&(this.getMatrixAt(g,qf),this.getBoundingSphereAt(g,Wd).applyMatrix4(qf),y=!CP.intersectsSphere(Wd)),!y){const S=h[g];c[p]=S.start*s,f[p]=S.count,p++}}this._multiDrawCount=p,this._visibilityChanged=!1}onBeforeShadow(e,t,r,i,a,o){this.onBeforeRender(e,null,i,a,o)}}class xo extends ja{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new zt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const Ab=new ne,Cb=new ne,JU=new xn,x_=new Lv,pM=new Va,PP=new ne,QU=new ne;let Ih=class extends hr{constructor(e=new Wn,t=new xo){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[0];for(let i=1,a=t.count;i<a;i++)Ab.fromBufferAttribute(t,i-1),Cb.fromBufferAttribute(t,i),r[i]=r[i-1],r[i]+=Ab.distanceTo(Cb);e.setAttribute("lineDistance",new Qt(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,a=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),pM.copy(r.boundingSphere),pM.applyMatrix4(i),pM.radius+=a,e.ray.intersectsSphere(pM)===!1)return;JU.copy(i).invert(),x_.copy(e.ray).applyMatrix4(JU);const s=a/((this.scale.x+this.scale.y+this.scale.z)/3),l=s*s,u=this.isLineSegments?2:1,c=r.index,h=r.attributes.position;if(c!==null){const d=Math.max(0,o.start),p=Math.min(c.count,o.start+o.count);for(let g=d,m=p-1;g<m;g+=u){const y=c.getX(g),S=c.getX(g+1),M=vM(this,e,x_,l,y,S);M&&t.push(M)}if(this.isLineLoop){const g=c.getX(p-1),m=c.getX(d),y=vM(this,e,x_,l,g,m);y&&t.push(y)}}else{const d=Math.max(0,o.start),p=Math.min(h.count,o.start+o.count);for(let g=d,m=p-1;g<m;g+=u){const y=vM(this,e,x_,l,g,g+1);y&&t.push(y)}if(this.isLineLoop){const g=vM(this,e,x_,l,p-1,d);g&&t.push(g)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=i.length;a<o;a++){const s=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=a}}}}};function vM(n,e,t,r,i,a){const o=n.geometry.attributes.position;if(Ab.fromBufferAttribute(o,i),Cb.fromBufferAttribute(o,a),t.distanceSqToSegment(Ab,Cb,PP,QU)>r)return;PP.applyMatrix4(n.matrixWorld);const l=e.ray.origin.distanceTo(PP);if(!(l<e.near||l>e.far))return{distance:l,point:QU.clone().applyMatrix4(n.matrixWorld),index:i,face:null,faceIndex:null,object:n}}const eV=new ne,tV=new ne;class Ou extends Ih{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[];for(let i=0,a=t.count;i<a;i+=2)eV.fromBufferAttribute(t,i),tV.fromBufferAttribute(t,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+eV.distanceTo(tV);e.setAttribute("lineDistance",new Qt(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class GY extends Ih{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class VO extends ja{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new zt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const nV=new xn,PL=new Lv,gM=new Va,mM=new ne;class HY extends hr{constructor(e=new Wn,t=new VO){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,a=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),gM.copy(r.boundingSphere),gM.applyMatrix4(i),gM.radius+=a,e.ray.intersectsSphere(gM)===!1)return;nV.copy(i).invert(),PL.copy(e.ray).applyMatrix4(nV);const s=a/((this.scale.x+this.scale.y+this.scale.z)/3),l=s*s,u=r.index,f=r.attributes.position;if(u!==null){const h=Math.max(0,o.start),d=Math.min(u.count,o.start+o.count);for(let p=h,g=d;p<g;p++){const m=u.getX(p);mM.fromBufferAttribute(f,m),rV(mM,m,l,i,e,t,this)}}else{const h=Math.max(0,o.start),d=Math.min(f.count,o.start+o.count);for(let p=h,g=d;p<g;p++)mM.fromBufferAttribute(f,p),rV(mM,p,l,i,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=i.length;a<o;a++){const s=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=a}}}}}function rV(n,e,t,r,i,a,o){const s=PL.distanceSqToPoint(n);if(s<t){const l=new ne;PL.closestPointToPoint(n,l),l.applyMatrix4(r);const u=i.ray.origin.distanceTo(l);if(u<i.near||u>i.far)return;a.push({distance:u,distanceToRay:Math.sqrt(s),point:l,index:e,face:null,object:o})}}class Hde extends $r{constructor(e,t,r,i,a,o,s,l,u){super(e,t,r,i,a,o,s,l,u),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:Ei,this.magFilter=a!==void 0?a:Ei,this.generateMipmaps=!1;const c=this;function f(){c.needsUpdate=!0,e.requestVideoFrameCallback(f)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(f)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class Wde extends $r{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=ra,this.minFilter=ra,this.generateMipmaps=!1,this.needsUpdate=!0}}class jA extends $r{constructor(e,t,r,i,a,o,s,l,u,c,f,h){super(null,o,s,l,u,c,i,a,f,h),this.isCompressedTexture=!0,this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class Xde extends jA{constructor(e,t,r,i,a,o){super(e,t,r,a,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=Bs,this.layerUpdates=new Set}addLayerUpdates(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class Yde extends jA{constructor(e,t,r){super(void 0,e[0].width,e[0].height,t,r,Kc),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class jde extends $r{constructor(e,t,r,i,a,o,s,l,u){super(e,t,r,i,a,o,s,l,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Xl{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let r,i=this.getPoint(0),a=0;t.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),a+=r.distanceTo(i),t.push(a),i=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const r=this.getLengths();let i=0;const a=r.length;let o;t?o=t:o=e*r[a-1];let s=0,l=a-1,u;for(;s<=l;)if(i=Math.floor(s+(l-s)/2),u=r[i]-o,u<0)s=i+1;else if(u>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(a-1);const c=r[i],h=r[i+1]-c,d=(o-c)/h;return(i+d)/(a-1)}getTangent(e,t){let i=e-1e-4,a=e+1e-4;i<0&&(i=0),a>1&&(a=1);const o=this.getPoint(i),s=this.getPoint(a),l=t||(o.isVector2?new je:new ne);return l.copy(s).sub(o).normalize(),l}getTangentAt(e,t){const r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t){const r=new ne,i=[],a=[],o=[],s=new ne,l=new xn;for(let d=0;d<=e;d++){const p=d/e;i[d]=this.getTangentAt(p,new ne)}a[0]=new ne,o[0]=new ne;let u=Number.MAX_VALUE;const c=Math.abs(i[0].x),f=Math.abs(i[0].y),h=Math.abs(i[0].z);c<=u&&(u=c,r.set(1,0,0)),f<=u&&(u=f,r.set(0,1,0)),h<=u&&r.set(0,0,1),s.crossVectors(i[0],r).normalize(),a[0].crossVectors(i[0],s),o[0].crossVectors(i[0],a[0]);for(let d=1;d<=e;d++){if(a[d]=a[d-1].clone(),o[d]=o[d-1].clone(),s.crossVectors(i[d-1],i[d]),s.length()>Number.EPSILON){s.normalize();const p=Math.acos(ui(i[d-1].dot(i[d]),-1,1));a[d].applyMatrix4(l.makeRotationAxis(s,p))}o[d].crossVectors(i[d],a[d])}if(t===!0){let d=Math.acos(ui(a[0].dot(a[e]),-1,1));d/=e,i[0].dot(s.crossVectors(a[0],a[e]))>0&&(d=-d);for(let p=1;p<=e;p++)a[p].applyMatrix4(l.makeRotationAxis(i[p],d*p)),o[p].crossVectors(i[p],a[p])}return{tangents:i,normals:a,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class ZA extends Xl{constructor(e=0,t=0,r=1,i=1,a=0,o=Math.PI*2,s=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=i,this.aStartAngle=a,this.aEndAngle=o,this.aClockwise=s,this.aRotation=l}getPoint(e,t=new je){const r=t,i=Math.PI*2;let a=this.aEndAngle-this.aStartAngle;const o=Math.abs(a)<Number.EPSILON;for(;a<0;)a+=i;for(;a>i;)a-=i;a<Number.EPSILON&&(o?a=0:a=i),this.aClockwise===!0&&!o&&(a===i?a=-i:a=a-i);const s=this.aStartAngle+e*a;let l=this.aX+this.xRadius*Math.cos(s),u=this.aY+this.yRadius*Math.sin(s);if(this.aRotation!==0){const c=Math.cos(this.aRotation),f=Math.sin(this.aRotation),h=l-this.aX,d=u-this.aY;l=h*c-d*f+this.aX,u=h*f+d*c+this.aY}return r.set(l,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class WY extends ZA{constructor(e,t,r,i,a,o){super(e,t,r,r,i,a,o),this.isArcCurve=!0,this.type="ArcCurve"}}function GO(){let n=0,e=0,t=0,r=0;function i(a,o,s,l){n=a,e=s,t=-3*a+3*o-2*s-l,r=2*a-2*o+s+l}return{initCatmullRom:function(a,o,s,l,u){i(o,s,u*(s-a),u*(l-o))},initNonuniformCatmullRom:function(a,o,s,l,u,c,f){let h=(o-a)/u-(s-a)/(u+c)+(s-o)/c,d=(s-o)/c-(l-o)/(c+f)+(l-s)/f;h*=c,d*=c,i(o,s,h,d)},calc:function(a){const o=a*a,s=o*a;return n+e*a+t*o+r*s}}}const yM=new ne,DP=new GO,RP=new GO,LP=new GO;class XY extends Xl{constructor(e=[],t=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=i}getPoint(e,t=new ne){const r=t,i=this.points,a=i.length,o=(a-(this.closed?0:1))*e;let s=Math.floor(o),l=o-s;this.closed?s+=s>0?0:(Math.floor(Math.abs(s)/a)+1)*a:l===0&&s===a-1&&(s=a-2,l=1);let u,c;this.closed||s>0?u=i[(s-1)%a]:(yM.subVectors(i[0],i[1]).add(i[0]),u=yM);const f=i[s%a],h=i[(s+1)%a];if(this.closed||s+2<a?c=i[(s+2)%a]:(yM.subVectors(i[a-1],i[a-2]).add(i[a-1]),c=yM),this.curveType==="centripetal"||this.curveType==="chordal"){const d=this.curveType==="chordal"?.5:.25;let p=Math.pow(u.distanceToSquared(f),d),g=Math.pow(f.distanceToSquared(h),d),m=Math.pow(h.distanceToSquared(c),d);g<1e-4&&(g=1),p<1e-4&&(p=g),m<1e-4&&(m=g),DP.initNonuniformCatmullRom(u.x,f.x,h.x,c.x,p,g,m),RP.initNonuniformCatmullRom(u.y,f.y,h.y,c.y,p,g,m),LP.initNonuniformCatmullRom(u.z,f.z,h.z,c.z,p,g,m)}else this.curveType==="catmullrom"&&(DP.initCatmullRom(u.x,f.x,h.x,c.x,this.tension),RP.initCatmullRom(u.y,f.y,h.y,c.y,this.tension),LP.initCatmullRom(u.z,f.z,h.z,c.z,this.tension));return r.set(DP.calc(l),RP.calc(l),LP.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new ne().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function iV(n,e,t,r,i){const a=(r-e)*.5,o=(i-t)*.5,s=n*n,l=n*s;return(2*t-2*r+a+o)*l+(-3*t+3*r-2*a-o)*s+a*n+t}function Zde(n,e){const t=1-n;return t*t*e}function $de(n,e){return 2*(1-n)*n*e}function qde(n,e){return n*n*e}function Dx(n,e,t,r){return Zde(n,e)+$de(n,t)+qde(n,r)}function Kde(n,e){const t=1-n;return t*t*t*e}function Jde(n,e){const t=1-n;return 3*t*t*n*e}function Qde(n,e){return 3*(1-n)*n*n*e}function epe(n,e){return n*n*n*e}function Rx(n,e,t,r,i){return Kde(n,e)+Jde(n,t)+Qde(n,r)+epe(n,i)}class HO extends Xl{constructor(e=new je,t=new je,r=new je,i=new je){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new je){const r=t,i=this.v0,a=this.v1,o=this.v2,s=this.v3;return r.set(Rx(e,i.x,a.x,o.x,s.x),Rx(e,i.y,a.y,o.y,s.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class YY extends Xl{constructor(e=new ne,t=new ne,r=new ne,i=new ne){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new ne){const r=t,i=this.v0,a=this.v1,o=this.v2,s=this.v3;return r.set(Rx(e,i.x,a.x,o.x,s.x),Rx(e,i.y,a.y,o.y,s.y),Rx(e,i.z,a.z,o.z,s.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class WO extends Xl{constructor(e=new je,t=new je){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new je){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new je){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class jY extends Xl{constructor(e=new ne,t=new ne){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new ne){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new ne){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class XO extends Xl{constructor(e=new je,t=new je,r=new je){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new je){const r=t,i=this.v0,a=this.v1,o=this.v2;return r.set(Dx(e,i.x,a.x,o.x),Dx(e,i.y,a.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class YO extends Xl{constructor(e=new ne,t=new ne,r=new ne){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new ne){const r=t,i=this.v0,a=this.v1,o=this.v2;return r.set(Dx(e,i.x,a.x,o.x),Dx(e,i.y,a.y,o.y),Dx(e,i.z,a.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class jO extends Xl{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new je){const r=t,i=this.points,a=(i.length-1)*e,o=Math.floor(a),s=a-o,l=i[o===0?o:o-1],u=i[o],c=i[o>i.length-2?i.length-1:o+1],f=i[o>i.length-3?i.length-1:o+2];return r.set(iV(s,l.x,u.x,c.x,f.x),iV(s,l.y,u.y,c.y,f.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new je().fromArray(i))}return this}}var Eb=Object.freeze({__proto__:null,ArcCurve:WY,CatmullRomCurve3:XY,CubicBezierCurve:HO,CubicBezierCurve3:YY,EllipseCurve:ZA,LineCurve:WO,LineCurve3:jY,QuadraticBezierCurve:XO,QuadraticBezierCurve3:YO,SplineCurve:jO});class ZY extends Xl{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new Eb[r](t,e))}return this}getPoint(e,t){const r=e*this.getLength(),i=this.getCurveLengths();let a=0;for(;a<i.length;){if(i[a]>=r){const o=i[a]-r,s=this.curves[a],l=s.getLength(),u=l===0?0:1-o/l;return s.getPointAt(u,t)}a++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let r=0,i=this.curves.length;r<i;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let r;for(let i=0,a=this.curves;i<a.length;i++){const o=a[i],s=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(s);for(let u=0;u<l.length;u++){const c=l[u];r&&r.equals(c)||(t.push(c),r=c)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(new Eb[i.type]().fromJSON(i))}return this}}let mS=class extends ZY{constructor(e){super(),this.type="Path",this.currentPoint=new je,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const r=new WO(this.currentPoint.clone(),new je(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,i){const a=new XO(this.currentPoint.clone(),new je(e,t),new je(r,i));return this.curves.push(a),this.currentPoint.set(r,i),this}bezierCurveTo(e,t,r,i,a,o){const s=new HO(this.currentPoint.clone(),new je(e,t),new je(r,i),new je(a,o));return this.curves.push(s),this.currentPoint.set(a,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),r=new jO(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,i,a,o){const s=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+s,t+l,r,i,a,o),this}absarc(e,t,r,i,a,o){return this.absellipse(e,t,r,r,i,a,o),this}ellipse(e,t,r,i,a,o,s,l){const u=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+u,t+c,r,i,a,o,s,l),this}absellipse(e,t,r,i,a,o,s,l){const u=new ZA(e,t,r,i,a,o,s,l);if(this.curves.length>0){const f=u.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(u);const c=u.getPoint(1);return this.currentPoint.copy(c),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}};class h1 extends Wn{constructor(e=[new je(0,-.5),new je(.5,0),new je(0,.5)],t=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:i},t=Math.floor(t),i=ui(i,0,Math.PI*2);const a=[],o=[],s=[],l=[],u=[],c=1/t,f=new ne,h=new je,d=new ne,p=new ne,g=new ne;let m=0,y=0;for(let S=0;S<=e.length-1;S++)switch(S){case 0:m=e[S+1].x-e[S].x,y=e[S+1].y-e[S].y,d.x=y*1,d.y=-m,d.z=y*0,g.copy(d),d.normalize(),l.push(d.x,d.y,d.z);break;case e.length-1:l.push(g.x,g.y,g.z);break;default:m=e[S+1].x-e[S].x,y=e[S+1].y-e[S].y,d.x=y*1,d.y=-m,d.z=y*0,p.copy(d),d.x+=g.x,d.y+=g.y,d.z+=g.z,d.normalize(),l.push(d.x,d.y,d.z),g.copy(p)}for(let S=0;S<=t;S++){const M=r+S*c*i,b=Math.sin(M),C=Math.cos(M);for(let A=0;A<=e.length-1;A++){f.x=e[A].x*b,f.y=e[A].y,f.z=e[A].x*C,o.push(f.x,f.y,f.z),h.x=S/t,h.y=A/(e.length-1),s.push(h.x,h.y);const E=l[3*A+0]*b,I=l[3*A+1],L=l[3*A+0]*C;u.push(E,I,L)}}for(let S=0;S<t;S++)for(let M=0;M<e.length-1;M++){const b=M+S*e.length,C=b,A=b+e.length,E=b+e.length+1,I=b+1;a.push(C,A,I),a.push(E,I,A)}this.setIndex(a),this.setAttribute("position",new Qt(o,3)),this.setAttribute("uv",new Qt(s,2)),this.setAttribute("normal",new Qt(u,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new h1(e.points,e.segments,e.phiStart,e.phiLength)}}class $A extends h1{constructor(e=1,t=1,r=4,i=8){const a=new mS;a.absarc(0,-t/2,e,Math.PI*1.5,0),a.absarc(0,t/2,e,0,Math.PI*.5),super(a.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,length:t,capSegments:r,radialSegments:i}}static fromJSON(e){return new $A(e.radius,e.length,e.capSegments,e.radialSegments)}}class qA extends Wn{constructor(e=1,t=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:i},t=Math.max(3,t);const a=[],o=[],s=[],l=[],u=new ne,c=new je;o.push(0,0,0),s.push(0,0,1),l.push(.5,.5);for(let f=0,h=3;f<=t;f++,h+=3){const d=r+f/t*i;u.x=e*Math.cos(d),u.y=e*Math.sin(d),o.push(u.x,u.y,u.z),s.push(0,0,1),c.x=(o[h]/e+1)/2,c.y=(o[h+1]/e+1)/2,l.push(c.x,c.y)}for(let f=1;f<=t;f++)a.push(f,f+1,0);this.setIndex(a),this.setAttribute("position",new Qt(o,3)),this.setAttribute("normal",new Qt(s,3)),this.setAttribute("uv",new Qt(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new qA(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Gy extends Wn{constructor(e=1,t=1,r=1,i=32,a=1,o=!1,s=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:a,openEnded:o,thetaStart:s,thetaLength:l};const u=this;i=Math.floor(i),a=Math.floor(a);const c=[],f=[],h=[],d=[];let p=0;const g=[],m=r/2;let y=0;S(),o===!1&&(e>0&&M(!0),t>0&&M(!1)),this.setIndex(c),this.setAttribute("position",new Qt(f,3)),this.setAttribute("normal",new Qt(h,3)),this.setAttribute("uv",new Qt(d,2));function S(){const b=new ne,C=new ne;let A=0;const E=(t-e)/r;for(let I=0;I<=a;I++){const L=[],R=I/a,O=R*(t-e)+e;for(let U=0;U<=i;U++){const V=U/i,W=V*l+s,X=Math.sin(W),j=Math.cos(W);C.x=O*X,C.y=-R*r+m,C.z=O*j,f.push(C.x,C.y,C.z),b.set(X,E,j).normalize(),h.push(b.x,b.y,b.z),d.push(V,1-R),L.push(p++)}g.push(L)}for(let I=0;I<i;I++)for(let L=0;L<a;L++){const R=g[L][I],O=g[L+1][I],U=g[L+1][I+1],V=g[L][I+1];c.push(R,O,V),c.push(O,U,V),A+=6}u.addGroup(y,A,0),y+=A}function M(b){const C=p,A=new je,E=new ne;let I=0;const L=b===!0?e:t,R=b===!0?1:-1;for(let U=1;U<=i;U++)f.push(0,m*R,0),h.push(0,R,0),d.push(.5,.5),p++;const O=p;for(let U=0;U<=i;U++){const W=U/i*l+s,X=Math.cos(W),j=Math.sin(W);E.x=L*j,E.y=m*R,E.z=L*X,f.push(E.x,E.y,E.z),h.push(0,R,0),A.x=X*.5+.5,A.y=j*.5*R+.5,d.push(A.x,A.y),p++}for(let U=0;U<i;U++){const V=C+U,W=O+U;b===!0?c.push(W,W+1,V):c.push(W+1,W,V),I+=3}u.addGroup(y,I,b===!0?1:2),y+=I}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Gy(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class KA extends Gy{constructor(e=1,t=1,r=32,i=1,a=!1,o=0,s=Math.PI*2){super(0,e,t,r,i,a,o,s),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:i,openEnded:a,thetaStart:o,thetaLength:s}}static fromJSON(e){return new KA(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Wh extends Wn{constructor(e=[],t=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:i};const a=[],o=[];s(i),u(r),c(),this.setAttribute("position",new Qt(a,3)),this.setAttribute("normal",new Qt(a.slice(),3)),this.setAttribute("uv",new Qt(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function s(S){const M=new ne,b=new ne,C=new ne;for(let A=0;A<t.length;A+=3)d(t[A+0],M),d(t[A+1],b),d(t[A+2],C),l(M,b,C,S)}function l(S,M,b,C){const A=C+1,E=[];for(let I=0;I<=A;I++){E[I]=[];const L=S.clone().lerp(b,I/A),R=M.clone().lerp(b,I/A),O=A-I;for(let U=0;U<=O;U++)U===0&&I===A?E[I][U]=L:E[I][U]=L.clone().lerp(R,U/O)}for(let I=0;I<A;I++)for(let L=0;L<2*(A-I)-1;L++){const R=Math.floor(L/2);L%2===0?(h(E[I][R+1]),h(E[I+1][R]),h(E[I][R])):(h(E[I][R+1]),h(E[I+1][R+1]),h(E[I+1][R]))}}function u(S){const M=new ne;for(let b=0;b<a.length;b+=3)M.x=a[b+0],M.y=a[b+1],M.z=a[b+2],M.normalize().multiplyScalar(S),a[b+0]=M.x,a[b+1]=M.y,a[b+2]=M.z}function c(){const S=new ne;for(let M=0;M<a.length;M+=3){S.x=a[M+0],S.y=a[M+1],S.z=a[M+2];const b=m(S)/2/Math.PI+.5,C=y(S)/Math.PI+.5;o.push(b,1-C)}p(),f()}function f(){for(let S=0;S<o.length;S+=6){const M=o[S+0],b=o[S+2],C=o[S+4],A=Math.max(M,b,C),E=Math.min(M,b,C);A>.9&&E<.1&&(M<.2&&(o[S+0]+=1),b<.2&&(o[S+2]+=1),C<.2&&(o[S+4]+=1))}}function h(S){a.push(S.x,S.y,S.z)}function d(S,M){const b=S*3;M.x=e[b+0],M.y=e[b+1],M.z=e[b+2]}function p(){const S=new ne,M=new ne,b=new ne,C=new ne,A=new je,E=new je,I=new je;for(let L=0,R=0;L<a.length;L+=9,R+=6){S.set(a[L+0],a[L+1],a[L+2]),M.set(a[L+3],a[L+4],a[L+5]),b.set(a[L+6],a[L+7],a[L+8]),A.set(o[R+0],o[R+1]),E.set(o[R+2],o[R+3]),I.set(o[R+4],o[R+5]),C.copy(S).add(M).add(b).divideScalar(3);const O=m(C);g(A,R+0,S,O),g(E,R+2,M,O),g(I,R+4,b,O)}}function g(S,M,b,C){C<0&&S.x===1&&(o[M]=S.x-1),b.x===0&&b.z===0&&(o[M]=C/2/Math.PI+.5)}function m(S){return Math.atan2(S.z,-S.x)}function y(S){return Math.atan2(-S.y,Math.sqrt(S.x*S.x+S.z*S.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Wh(e.vertices,e.indices,e.radius,e.details)}}class JA extends Wh{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=1/r,a=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(a,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new JA(e.radius,e.detail)}}const _M=new ne,xM=new ne,IP=new ne,SM=new Wp;class $Y extends Wn{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const i=Math.pow(10,4),a=Math.cos(iv*t),o=e.getIndex(),s=e.getAttribute("position"),l=o?o.count:s.count,u=[0,0,0],c=["a","b","c"],f=new Array(3),h={},d=[];for(let p=0;p<l;p+=3){o?(u[0]=o.getX(p),u[1]=o.getX(p+1),u[2]=o.getX(p+2)):(u[0]=p,u[1]=p+1,u[2]=p+2);const{a:g,b:m,c:y}=SM;if(g.fromBufferAttribute(s,u[0]),m.fromBufferAttribute(s,u[1]),y.fromBufferAttribute(s,u[2]),SM.getNormal(IP),f[0]=`${Math.round(g.x*i)},${Math.round(g.y*i)},${Math.round(g.z*i)}`,f[1]=`${Math.round(m.x*i)},${Math.round(m.y*i)},${Math.round(m.z*i)}`,f[2]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,!(f[0]===f[1]||f[1]===f[2]||f[2]===f[0]))for(let S=0;S<3;S++){const M=(S+1)%3,b=f[S],C=f[M],A=SM[c[S]],E=SM[c[M]],I=`${b}_${C}`,L=`${C}_${b}`;L in h&&h[L]?(IP.dot(h[L].normal)<=a&&(d.push(A.x,A.y,A.z),d.push(E.x,E.y,E.z)),h[L]=null):I in h||(h[I]={index0:u[S],index1:u[M],normal:IP.clone()})}}for(const p in h)if(h[p]){const{index0:g,index1:m}=h[p];_M.fromBufferAttribute(s,g),xM.fromBufferAttribute(s,m),d.push(_M.x,_M.y,_M.z),d.push(xM.x,xM.y,xM.z)}this.setAttribute("position",new Qt(d,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class ov extends mS{constructor(e){super(e),this.uuid=us(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let r=0,i=this.holes.length;r<i;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(new mS().fromJSON(i))}return this}}const tpe={triangulate:function(n,e,t=2){const r=e&&e.length,i=r?e[0]*t:n.length;let a=qY(n,0,i,t,!0);const o=[];if(!a||a.next===a.prev)return o;let s,l,u,c,f,h,d;if(r&&(a=ope(n,e,a,t)),n.length>80*t){s=u=n[0],l=c=n[1];for(let p=t;p<i;p+=t)f=n[p],h=n[p+1],f<s&&(s=f),h<l&&(l=h),f>u&&(u=f),h>c&&(c=h);d=Math.max(u-s,c-l),d=d!==0?32767/d:0}return yS(a,o,t,s,l,d,0),o}};function qY(n,e,t,r,i){let a,o;if(i===mpe(n,e,t,r)>0)for(a=e;a<t;a+=r)o=aV(a,n[a],n[a+1],o);else for(a=t-r;a>=e;a-=r)o=aV(a,n[a],n[a+1],o);return o&&QA(o,o.next)&&(xS(o),o=o.next),o}function _v(n,e){if(!n)return n;e||(e=n);let t=n,r;do if(r=!1,!t.steiner&&(QA(t,t.next)||Qr(t.prev,t,t.next)===0)){if(xS(t),t=e=t.prev,t===t.next)break;r=!0}else t=t.next;while(r||t!==e);return e}function yS(n,e,t,r,i,a,o){if(!n)return;!o&&a&&fpe(n,r,i,a);let s=n,l,u;for(;n.prev!==n.next;){if(l=n.prev,u=n.next,a?rpe(n,r,i,a):npe(n)){e.push(l.i/t|0),e.push(n.i/t|0),e.push(u.i/t|0),xS(n),n=u.next,s=u.next;continue}if(n=u,n===s){o?o===1?(n=ipe(_v(n),e,t),yS(n,e,t,r,i,a,2)):o===2&&ape(n,e,t,r,i,a):yS(_v(n),e,t,r,i,a,1);break}}}function npe(n){const e=n.prev,t=n,r=n.next;if(Qr(e,t,r)>=0)return!1;const i=e.x,a=t.x,o=r.x,s=e.y,l=t.y,u=r.y,c=i<a?i<o?i:o:a<o?a:o,f=s<l?s<u?s:u:l<u?l:u,h=i>a?i>o?i:o:a>o?a:o,d=s>l?s>u?s:u:l>u?l:u;let p=r.next;for(;p!==e;){if(p.x>=c&&p.x<=h&&p.y>=f&&p.y<=d&&Qm(i,s,a,l,o,u,p.x,p.y)&&Qr(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function rpe(n,e,t,r){const i=n.prev,a=n,o=n.next;if(Qr(i,a,o)>=0)return!1;const s=i.x,l=a.x,u=o.x,c=i.y,f=a.y,h=o.y,d=s<l?s<u?s:u:l<u?l:u,p=c<f?c<h?c:h:f<h?f:h,g=s>l?s>u?s:u:l>u?l:u,m=c>f?c>h?c:h:f>h?f:h,y=DL(d,p,e,t,r),S=DL(g,m,e,t,r);let M=n.prevZ,b=n.nextZ;for(;M&&M.z>=y&&b&&b.z<=S;){if(M.x>=d&&M.x<=g&&M.y>=p&&M.y<=m&&M!==i&&M!==o&&Qm(s,c,l,f,u,h,M.x,M.y)&&Qr(M.prev,M,M.next)>=0||(M=M.prevZ,b.x>=d&&b.x<=g&&b.y>=p&&b.y<=m&&b!==i&&b!==o&&Qm(s,c,l,f,u,h,b.x,b.y)&&Qr(b.prev,b,b.next)>=0))return!1;b=b.nextZ}for(;M&&M.z>=y;){if(M.x>=d&&M.x<=g&&M.y>=p&&M.y<=m&&M!==i&&M!==o&&Qm(s,c,l,f,u,h,M.x,M.y)&&Qr(M.prev,M,M.next)>=0)return!1;M=M.prevZ}for(;b&&b.z<=S;){if(b.x>=d&&b.x<=g&&b.y>=p&&b.y<=m&&b!==i&&b!==o&&Qm(s,c,l,f,u,h,b.x,b.y)&&Qr(b.prev,b,b.next)>=0)return!1;b=b.nextZ}return!0}function ipe(n,e,t){let r=n;do{const i=r.prev,a=r.next.next;!QA(i,a)&&KY(i,r,r.next,a)&&_S(i,a)&&_S(a,i)&&(e.push(i.i/t|0),e.push(r.i/t|0),e.push(a.i/t|0),xS(r),xS(r.next),r=n=a),r=r.next}while(r!==n);return _v(r)}function ape(n,e,t,r,i,a){let o=n;do{let s=o.next.next;for(;s!==o.prev;){if(o.i!==s.i&&ppe(o,s)){let l=JY(o,s);o=_v(o,o.next),l=_v(l,l.next),yS(o,e,t,r,i,a,0),yS(l,e,t,r,i,a,0);return}s=s.next}o=o.next}while(o!==n)}function ope(n,e,t,r){const i=[];let a,o,s,l,u;for(a=0,o=e.length;a<o;a++)s=e[a]*r,l=a<o-1?e[a+1]*r:n.length,u=qY(n,s,l,r,!1),u===u.next&&(u.steiner=!0),i.push(dpe(u));for(i.sort(spe),a=0;a<i.length;a++)t=lpe(i[a],t);return t}function spe(n,e){return n.x-e.x}function lpe(n,e){const t=upe(n,e);if(!t)return e;const r=JY(t,n);return _v(r,r.next),_v(t,t.next)}function upe(n,e){let t=e,r=-1/0,i;const a=n.x,o=n.y;do{if(o<=t.y&&o>=t.next.y&&t.next.y!==t.y){const h=t.x+(o-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(h<=a&&h>r&&(r=h,i=t.x<t.next.x?t:t.next,h===a))return i}t=t.next}while(t!==e);if(!i)return null;const s=i,l=i.x,u=i.y;let c=1/0,f;t=i;do a>=t.x&&t.x>=l&&a!==t.x&&Qm(o<u?a:r,o,l,u,o<u?r:a,o,t.x,t.y)&&(f=Math.abs(o-t.y)/(a-t.x),_S(t,n)&&(f<c||f===c&&(t.x>i.x||t.x===i.x&&cpe(i,t)))&&(i=t,c=f)),t=t.next;while(t!==s);return i}function cpe(n,e){return Qr(n.prev,n,e.prev)<0&&Qr(e.next,n,n.next)<0}function fpe(n,e,t,r){let i=n;do i.z===0&&(i.z=DL(i.x,i.y,e,t,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==n);i.prevZ.nextZ=null,i.prevZ=null,hpe(i)}function hpe(n){let e,t,r,i,a,o,s,l,u=1;do{for(t=n,n=null,a=null,o=0;t;){for(o++,r=t,s=0,e=0;e<u&&(s++,r=r.nextZ,!!r);e++);for(l=u;s>0||l>0&&r;)s!==0&&(l===0||!r||t.z<=r.z)?(i=t,t=t.nextZ,s--):(i=r,r=r.nextZ,l--),a?a.nextZ=i:n=i,i.prevZ=a,a=i;t=r}a.nextZ=null,u*=2}while(o>1);return n}function DL(n,e,t,r,i){return n=(n-t)*i|0,e=(e-r)*i|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function dpe(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function Qm(n,e,t,r,i,a,o,s){return(i-o)*(e-s)>=(n-o)*(a-s)&&(n-o)*(r-s)>=(t-o)*(e-s)&&(t-o)*(a-s)>=(i-o)*(r-s)}function ppe(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!vpe(n,e)&&(_S(n,e)&&_S(e,n)&&gpe(n,e)&&(Qr(n.prev,n,e.prev)||Qr(n,e.prev,e))||QA(n,e)&&Qr(n.prev,n,n.next)>0&&Qr(e.prev,e,e.next)>0)}function Qr(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function QA(n,e){return n.x===e.x&&n.y===e.y}function KY(n,e,t,r){const i=MM(Qr(n,e,t)),a=MM(Qr(n,e,r)),o=MM(Qr(t,r,n)),s=MM(Qr(t,r,e));return!!(i!==a&&o!==s||i===0&&wM(n,t,e)||a===0&&wM(n,r,e)||o===0&&wM(t,n,r)||s===0&&wM(t,e,r))}function wM(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function MM(n){return n>0?1:n<0?-1:0}function vpe(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&KY(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function _S(n,e){return Qr(n.prev,n,n.next)<0?Qr(n,e,n.next)>=0&&Qr(n,n.prev,e)>=0:Qr(n,e,n.prev)<0||Qr(n,n.next,e)<0}function gpe(n,e){let t=n,r=!1;const i=(n.x+e.x)/2,a=(n.y+e.y)/2;do t.y>a!=t.next.y>a&&t.next.y!==t.y&&i<(t.next.x-t.x)*(a-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next;while(t!==n);return r}function JY(n,e){const t=new RL(n.i,n.x,n.y),r=new RL(e.i,e.x,e.y),i=n.next,a=e.prev;return n.next=e,e.prev=n,t.next=i,i.prev=t,r.next=t,t.prev=r,a.next=r,r.prev=a,r}function aV(n,e,t,r){const i=new RL(n,e,t);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function xS(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function RL(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function mpe(n,e,t,r){let i=0;for(let a=e,o=t-r;a<t;a+=r)i+=(n[o]-n[a])*(n[a+1]+n[o+1]),o=a;return i}class Cu{static area(e){const t=e.length;let r=0;for(let i=t-1,a=0;a<t;i=a++)r+=e[i].x*e[a].y-e[a].x*e[i].y;return r*.5}static isClockWise(e){return Cu.area(e)<0}static triangulateShape(e,t){const r=[],i=[],a=[];oV(e),sV(r,e);let o=e.length;t.forEach(oV);for(let l=0;l<t.length;l++)i.push(o),o+=t[l].length,sV(r,t[l]);const s=tpe.triangulate(r,i);for(let l=0;l<s.length;l+=3)a.push(s.slice(l,l+3));return a}}function oV(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function sV(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class eC extends Wn{constructor(e=new ov([new je(.5,.5),new je(-.5,.5),new je(-.5,-.5),new je(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const r=this,i=[],a=[];for(let s=0,l=e.length;s<l;s++){const u=e[s];o(u)}this.setAttribute("position",new Qt(i,3)),this.setAttribute("uv",new Qt(a,2)),this.computeVertexNormals();function o(s){const l=[],u=t.curveSegments!==void 0?t.curveSegments:12,c=t.steps!==void 0?t.steps:1,f=t.depth!==void 0?t.depth:1;let h=t.bevelEnabled!==void 0?t.bevelEnabled:!0,d=t.bevelThickness!==void 0?t.bevelThickness:.2,p=t.bevelSize!==void 0?t.bevelSize:d-.1,g=t.bevelOffset!==void 0?t.bevelOffset:0,m=t.bevelSegments!==void 0?t.bevelSegments:3;const y=t.extrudePath,S=t.UVGenerator!==void 0?t.UVGenerator:ype;let M,b=!1,C,A,E,I;y&&(M=y.getSpacedPoints(c),b=!0,h=!1,C=y.computeFrenetFrames(c,!1),A=new ne,E=new ne,I=new ne),h||(m=0,d=0,p=0,g=0);const L=s.extractPoints(u);let R=L.shape;const O=L.holes;if(!Cu.isClockWise(R)){R=R.reverse();for(let ve=0,Ae=O.length;ve<Ae;ve++){const Ue=O[ve];Cu.isClockWise(Ue)&&(O[ve]=Ue.reverse())}}const V=Cu.triangulateShape(R,O),W=R;for(let ve=0,Ae=O.length;ve<Ae;ve++){const Ue=O[ve];R=R.concat(Ue)}function X(ve,Ae,Ue){return Ae||console.error("THREE.ExtrudeGeometry: vec does not exist"),ve.clone().addScaledVector(Ae,Ue)}const j=R.length,Q=V.length;function B(ve,Ae,Ue){let Ge,He,ot;const ct=ve.x-Ae.x,Rt=ve.y-Ae.y,re=Ue.x-ve.x,K=Ue.y-ve.y,Pe=ct*ct+Rt*Rt,Ze=ct*K-Rt*re;if(Math.abs(Ze)>Number.EPSILON){const Ye=Math.sqrt(Pe),Qe=Math.sqrt(re*re+K*K),Yt=Ae.x-Rt/Ye,vt=Ae.y+ct/Ye,ft=Ue.x-K/Qe,rn=Ue.y+re/Qe,at=((ft-Yt)*K-(rn-vt)*re)/(ct*K-Rt*re);Ge=Yt+ct*at-ve.x,He=vt+Rt*at-ve.y;const bt=Ge*Ge+He*He;if(bt<=2)return new je(Ge,He);ot=Math.sqrt(bt/2)}else{let Ye=!1;ct>Number.EPSILON?re>Number.EPSILON&&(Ye=!0):ct<-Number.EPSILON?re<-Number.EPSILON&&(Ye=!0):Math.sign(Rt)===Math.sign(K)&&(Ye=!0),Ye?(Ge=-Rt,He=ct,ot=Math.sqrt(Pe)):(Ge=ct,He=Rt,ot=Math.sqrt(Pe/2))}return new je(Ge/ot,He/ot)}const Z=[];for(let ve=0,Ae=W.length,Ue=Ae-1,Ge=ve+1;ve<Ae;ve++,Ue++,Ge++)Ue===Ae&&(Ue=0),Ge===Ae&&(Ge=0),Z[ve]=B(W[ve],W[Ue],W[Ge]);const q=[];let Y,te=Z.concat();for(let ve=0,Ae=O.length;ve<Ae;ve++){const Ue=O[ve];Y=[];for(let Ge=0,He=Ue.length,ot=He-1,ct=Ge+1;Ge<He;Ge++,ot++,ct++)ot===He&&(ot=0),ct===He&&(ct=0),Y[Ge]=B(Ue[Ge],Ue[ot],Ue[ct]);q.push(Y),te=te.concat(Y)}for(let ve=0;ve<m;ve++){const Ae=ve/m,Ue=d*Math.cos(Ae*Math.PI/2),Ge=p*Math.sin(Ae*Math.PI/2)+g;for(let He=0,ot=W.length;He<ot;He++){const ct=X(W[He],Z[He],Ge);Ee(ct.x,ct.y,-Ue)}for(let He=0,ot=O.length;He<ot;He++){const ct=O[He];Y=q[He];for(let Rt=0,re=ct.length;Rt<re;Rt++){const K=X(ct[Rt],Y[Rt],Ge);Ee(K.x,K.y,-Ue)}}}const me=p+g;for(let ve=0;ve<j;ve++){const Ae=h?X(R[ve],te[ve],me):R[ve];b?(E.copy(C.normals[0]).multiplyScalar(Ae.x),A.copy(C.binormals[0]).multiplyScalar(Ae.y),I.copy(M[0]).add(E).add(A),Ee(I.x,I.y,I.z)):Ee(Ae.x,Ae.y,0)}for(let ve=1;ve<=c;ve++)for(let Ae=0;Ae<j;Ae++){const Ue=h?X(R[Ae],te[Ae],me):R[Ae];b?(E.copy(C.normals[ve]).multiplyScalar(Ue.x),A.copy(C.binormals[ve]).multiplyScalar(Ue.y),I.copy(M[ve]).add(E).add(A),Ee(I.x,I.y,I.z)):Ee(Ue.x,Ue.y,f/c*ve)}for(let ve=m-1;ve>=0;ve--){const Ae=ve/m,Ue=d*Math.cos(Ae*Math.PI/2),Ge=p*Math.sin(Ae*Math.PI/2)+g;for(let He=0,ot=W.length;He<ot;He++){const ct=X(W[He],Z[He],Ge);Ee(ct.x,ct.y,f+Ue)}for(let He=0,ot=O.length;He<ot;He++){const ct=O[He];Y=q[He];for(let Rt=0,re=ct.length;Rt<re;Rt++){const K=X(ct[Rt],Y[Rt],Ge);b?Ee(K.x,K.y+M[c-1].y,M[c-1].x+Ue):Ee(K.x,K.y,f+Ue)}}}ae(),fe();function ae(){const ve=i.length/3;if(h){let Ae=0,Ue=j*Ae;for(let Ge=0;Ge<Q;Ge++){const He=V[Ge];Be(He[2]+Ue,He[1]+Ue,He[0]+Ue)}Ae=c+m*2,Ue=j*Ae;for(let Ge=0;Ge<Q;Ge++){const He=V[Ge];Be(He[0]+Ue,He[1]+Ue,He[2]+Ue)}}else{for(let Ae=0;Ae<Q;Ae++){const Ue=V[Ae];Be(Ue[2],Ue[1],Ue[0])}for(let Ae=0;Ae<Q;Ae++){const Ue=V[Ae];Be(Ue[0]+j*c,Ue[1]+j*c,Ue[2]+j*c)}}r.addGroup(ve,i.length/3-ve,0)}function fe(){const ve=i.length/3;let Ae=0;be(W,Ae),Ae+=W.length;for(let Ue=0,Ge=O.length;Ue<Ge;Ue++){const He=O[Ue];be(He,Ae),Ae+=He.length}r.addGroup(ve,i.length/3-ve,1)}function be(ve,Ae){let Ue=ve.length;for(;--Ue>=0;){const Ge=Ue;let He=Ue-1;He<0&&(He=ve.length-1);for(let ot=0,ct=c+m*2;ot<ct;ot++){const Rt=j*ot,re=j*(ot+1),K=Ae+Ge+Rt,Pe=Ae+He+Rt,Ze=Ae+He+re,Ye=Ae+Ge+re;Oe(K,Pe,Ze,Ye)}}}function Ee(ve,Ae,Ue){l.push(ve),l.push(Ae),l.push(Ue)}function Be(ve,Ae,Ue){$e(ve),$e(Ae),$e(Ue);const Ge=i.length/3,He=S.generateTopUV(r,i,Ge-3,Ge-2,Ge-1);ee(He[0]),ee(He[1]),ee(He[2])}function Oe(ve,Ae,Ue,Ge){$e(ve),$e(Ae),$e(Ge),$e(Ae),$e(Ue),$e(Ge);const He=i.length/3,ot=S.generateSideWallUV(r,i,He-6,He-3,He-2,He-1);ee(ot[0]),ee(ot[1]),ee(ot[3]),ee(ot[1]),ee(ot[2]),ee(ot[3])}function $e(ve){i.push(l[ve*3+0]),i.push(l[ve*3+1]),i.push(l[ve*3+2])}function ee(ve){a.push(ve.x),a.push(ve.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,r=this.parameters.options;return _pe(t,r,e)}static fromJSON(e,t){const r=[];for(let a=0,o=e.shapes.length;a<o;a++){const s=t[e.shapes[a]];r.push(s)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new Eb[i.type]().fromJSON(i)),new eC(r,e.options)}}const ype={generateTopUV:function(n,e,t,r,i){const a=e[t*3],o=e[t*3+1],s=e[r*3],l=e[r*3+1],u=e[i*3],c=e[i*3+1];return[new je(a,o),new je(s,l),new je(u,c)]},generateSideWallUV:function(n,e,t,r,i,a){const o=e[t*3],s=e[t*3+1],l=e[t*3+2],u=e[r*3],c=e[r*3+1],f=e[r*3+2],h=e[i*3],d=e[i*3+1],p=e[i*3+2],g=e[a*3],m=e[a*3+1],y=e[a*3+2];return Math.abs(s-c)<Math.abs(o-u)?[new je(o,1-l),new je(u,1-f),new je(h,1-p),new je(g,1-y)]:[new je(s,1-l),new je(c,1-f),new je(d,1-p),new je(m,1-y)]}};function _pe(n,e,t){if(t.shapes=[],Array.isArray(n))for(let r=0,i=n.length;r<i;r++){const a=n[r];t.shapes.push(a.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class tC extends Wh{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],a=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,a,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new tC(e.radius,e.detail)}}class d1 extends Wh{constructor(e=1,t=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new d1(e.radius,e.detail)}}class nC extends Wn{constructor(e=.5,t=1,r=32,i=1,a=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:i,thetaStart:a,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const s=[],l=[],u=[],c=[];let f=e;const h=(t-e)/i,d=new ne,p=new je;for(let g=0;g<=i;g++){for(let m=0;m<=r;m++){const y=a+m/r*o;d.x=f*Math.cos(y),d.y=f*Math.sin(y),l.push(d.x,d.y,d.z),u.push(0,0,1),p.x=(d.x/t+1)/2,p.y=(d.y/t+1)/2,c.push(p.x,p.y)}f+=h}for(let g=0;g<i;g++){const m=g*(r+1);for(let y=0;y<r;y++){const S=y+m,M=S,b=S+r+1,C=S+r+2,A=S+1;s.push(M,b,A),s.push(b,C,A)}}this.setIndex(s),this.setAttribute("position",new Qt(l,3)),this.setAttribute("normal",new Qt(u,3)),this.setAttribute("uv",new Qt(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new nC(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class rC extends Wn{constructor(e=new ov([new je(0,.5),new je(-.5,-.5),new je(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const r=[],i=[],a=[],o=[];let s=0,l=0;if(Array.isArray(e)===!1)u(e);else for(let c=0;c<e.length;c++)u(e[c]),this.addGroup(s,l,c),s+=l,l=0;this.setIndex(r),this.setAttribute("position",new Qt(i,3)),this.setAttribute("normal",new Qt(a,3)),this.setAttribute("uv",new Qt(o,2));function u(c){const f=i.length/3,h=c.extractPoints(t);let d=h.shape;const p=h.holes;Cu.isClockWise(d)===!1&&(d=d.reverse());for(let m=0,y=p.length;m<y;m++){const S=p[m];Cu.isClockWise(S)===!0&&(p[m]=S.reverse())}const g=Cu.triangulateShape(d,p);for(let m=0,y=p.length;m<y;m++){const S=p[m];d=d.concat(S)}for(let m=0,y=d.length;m<y;m++){const S=d[m];i.push(S.x,S.y,0),a.push(0,0,1),o.push(S.x,S.y)}for(let m=0,y=g.length;m<y;m++){const S=g[m],M=S[0]+f,b=S[1]+f,C=S[2]+f;r.push(M,b,C),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return xpe(t,e)}static fromJSON(e,t){const r=[];for(let i=0,a=e.shapes.length;i<a;i++){const o=t[e.shapes[i]];r.push(o)}return new rC(r,e.curveSegments)}}function xpe(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const i=n[t];e.shapes.push(i.uuid)}else e.shapes.push(n.uuid);return e}class p1 extends Wn{constructor(e=1,t=32,r=16,i=0,a=Math.PI*2,o=0,s=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:i,phiLength:a,thetaStart:o,thetaLength:s},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));const l=Math.min(o+s,Math.PI);let u=0;const c=[],f=new ne,h=new ne,d=[],p=[],g=[],m=[];for(let y=0;y<=r;y++){const S=[],M=y/r;let b=0;y===0&&o===0?b=.5/t:y===r&&l===Math.PI&&(b=-.5/t);for(let C=0;C<=t;C++){const A=C/t;f.x=-e*Math.cos(i+A*a)*Math.sin(o+M*s),f.y=e*Math.cos(o+M*s),f.z=e*Math.sin(i+A*a)*Math.sin(o+M*s),p.push(f.x,f.y,f.z),h.copy(f).normalize(),g.push(h.x,h.y,h.z),m.push(A+b,1-M),S.push(u++)}c.push(S)}for(let y=0;y<r;y++)for(let S=0;S<t;S++){const M=c[y][S+1],b=c[y][S],C=c[y+1][S],A=c[y+1][S+1];(y!==0||o>0)&&d.push(M,b,A),(y!==r-1||l<Math.PI)&&d.push(b,C,A)}this.setIndex(d),this.setAttribute("position",new Qt(p,3)),this.setAttribute("normal",new Qt(g,3)),this.setAttribute("uv",new Qt(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new p1(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class iC extends Wh{constructor(e=1,t=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new iC(e.radius,e.detail)}}class aC extends Wn{constructor(e=1,t=.4,r=12,i=48,a=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:i,arc:a},r=Math.floor(r),i=Math.floor(i);const o=[],s=[],l=[],u=[],c=new ne,f=new ne,h=new ne;for(let d=0;d<=r;d++)for(let p=0;p<=i;p++){const g=p/i*a,m=d/r*Math.PI*2;f.x=(e+t*Math.cos(m))*Math.cos(g),f.y=(e+t*Math.cos(m))*Math.sin(g),f.z=t*Math.sin(m),s.push(f.x,f.y,f.z),c.x=e*Math.cos(g),c.y=e*Math.sin(g),h.subVectors(f,c).normalize(),l.push(h.x,h.y,h.z),u.push(p/i),u.push(d/r)}for(let d=1;d<=r;d++)for(let p=1;p<=i;p++){const g=(i+1)*d+p-1,m=(i+1)*(d-1)+p-1,y=(i+1)*(d-1)+p,S=(i+1)*d+p;o.push(g,m,S),o.push(m,y,S)}this.setIndex(o),this.setAttribute("position",new Qt(s,3)),this.setAttribute("normal",new Qt(l,3)),this.setAttribute("uv",new Qt(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new aC(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class oC extends Wn{constructor(e=1,t=.4,r=64,i=8,a=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:i,p:a,q:o},r=Math.floor(r),i=Math.floor(i);const s=[],l=[],u=[],c=[],f=new ne,h=new ne,d=new ne,p=new ne,g=new ne,m=new ne,y=new ne;for(let M=0;M<=r;++M){const b=M/r*a*Math.PI*2;S(b,a,o,e,d),S(b+.01,a,o,e,p),m.subVectors(p,d),y.addVectors(p,d),g.crossVectors(m,y),y.crossVectors(g,m),g.normalize(),y.normalize();for(let C=0;C<=i;++C){const A=C/i*Math.PI*2,E=-t*Math.cos(A),I=t*Math.sin(A);f.x=d.x+(E*y.x+I*g.x),f.y=d.y+(E*y.y+I*g.y),f.z=d.z+(E*y.z+I*g.z),l.push(f.x,f.y,f.z),h.subVectors(f,d).normalize(),u.push(h.x,h.y,h.z),c.push(M/r),c.push(C/i)}}for(let M=1;M<=r;M++)for(let b=1;b<=i;b++){const C=(i+1)*(M-1)+(b-1),A=(i+1)*M+(b-1),E=(i+1)*M+b,I=(i+1)*(M-1)+b;s.push(C,A,I),s.push(A,E,I)}this.setIndex(s),this.setAttribute("position",new Qt(l,3)),this.setAttribute("normal",new Qt(u,3)),this.setAttribute("uv",new Qt(c,2));function S(M,b,C,A,E){const I=Math.cos(M),L=Math.sin(M),R=C/b*M,O=Math.cos(R);E.x=A*(2+O)*.5*I,E.y=A*(2+O)*L*.5,E.z=A*Math.sin(R)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new oC(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class sC extends Wn{constructor(e=new YO(new ne(-1,-1,0),new ne(-1,1,0),new ne(1,1,0)),t=64,r=1,i=8,a=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:i,closed:a};const o=e.computeFrenetFrames(t,a);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const s=new ne,l=new ne,u=new je;let c=new ne;const f=[],h=[],d=[],p=[];g(),this.setIndex(p),this.setAttribute("position",new Qt(f,3)),this.setAttribute("normal",new Qt(h,3)),this.setAttribute("uv",new Qt(d,2));function g(){for(let M=0;M<t;M++)m(M);m(a===!1?t:0),S(),y()}function m(M){c=e.getPointAt(M/t,c);const b=o.normals[M],C=o.binormals[M];for(let A=0;A<=i;A++){const E=A/i*Math.PI*2,I=Math.sin(E),L=-Math.cos(E);l.x=L*b.x+I*C.x,l.y=L*b.y+I*C.y,l.z=L*b.z+I*C.z,l.normalize(),h.push(l.x,l.y,l.z),s.x=c.x+r*l.x,s.y=c.y+r*l.y,s.z=c.z+r*l.z,f.push(s.x,s.y,s.z)}}function y(){for(let M=1;M<=t;M++)for(let b=1;b<=i;b++){const C=(i+1)*(M-1)+(b-1),A=(i+1)*M+(b-1),E=(i+1)*M+b,I=(i+1)*(M-1)+b;p.push(C,A,I),p.push(A,E,I)}}function S(){for(let M=0;M<=t;M++)for(let b=0;b<=i;b++)u.x=M/t,u.y=b/i,d.push(u.x,u.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new sC(new Eb[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class QY extends Wn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],r=new Set,i=new ne,a=new ne;if(e.index!==null){const o=e.attributes.position,s=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:s.count,materialIndex:0}]);for(let u=0,c=l.length;u<c;++u){const f=l[u],h=f.start,d=f.count;for(let p=h,g=h+d;p<g;p+=3)for(let m=0;m<3;m++){const y=s.getX(p+m),S=s.getX(p+(m+1)%3);i.fromBufferAttribute(o,y),a.fromBufferAttribute(o,S),lV(i,a,r)===!0&&(t.push(i.x,i.y,i.z),t.push(a.x,a.y,a.z))}}}else{const o=e.attributes.position;for(let s=0,l=o.count/3;s<l;s++)for(let u=0;u<3;u++){const c=3*s+u,f=3*s+(u+1)%3;i.fromBufferAttribute(o,c),a.fromBufferAttribute(o,f),lV(i,a,r)===!0&&(t.push(i.x,i.y,i.z),t.push(a.x,a.y,a.z))}}this.setAttribute("position",new Qt(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function lV(n,e,t){const r=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(r)===!0||t.has(i)===!0?!1:(t.add(r),t.add(i),!0)}var uV=Object.freeze({__proto__:null,BoxGeometry:Iv,CapsuleGeometry:$A,CircleGeometry:qA,ConeGeometry:KA,CylinderGeometry:Gy,DodecahedronGeometry:JA,EdgesGeometry:$Y,ExtrudeGeometry:eC,IcosahedronGeometry:tC,LatheGeometry:h1,OctahedronGeometry:d1,PlaneGeometry:Uy,PolyhedronGeometry:Wh,RingGeometry:nC,ShapeGeometry:rC,SphereGeometry:p1,TetrahedronGeometry:iC,TorusGeometry:aC,TorusKnotGeometry:oC,TubeGeometry:sC,WireframeGeometry:QY});class ej extends ja{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new zt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class tj extends Ul{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class ZO extends ja{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new zt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new zt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Gh,this.normalScale=new je(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new hs,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class nj extends ZO{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new je(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return ui(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new zt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new zt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new zt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class rj extends ja{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new zt(16777215),this.specular=new zt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new zt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Gh,this.normalScale=new je(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new hs,this.combine=o1,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class ij extends ja{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new zt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new zt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Gh,this.normalScale=new je(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class aj extends ja{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Gh,this.normalScale=new je(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class oj extends ja{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new zt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new zt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Gh,this.normalScale=new je(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new hs,this.combine=o1,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class sj extends ja{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new zt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Gh,this.normalScale=new je(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class lj extends xo{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Xp(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function uj(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function cj(n){function e(i,a){return n[i]-n[a]}const t=n.length,r=new Array(t);for(let i=0;i!==t;++i)r[i]=i;return r.sort(e),r}function LL(n,e,t){const r=n.length,i=new n.constructor(r);for(let a=0,o=0;o!==r;++a){const s=t[a]*e;for(let l=0;l!==e;++l)i[o++]=n[s+l]}return i}function $O(n,e,t,r){let i=1,a=n[0];for(;a!==void 0&&a[r]===void 0;)a=n[i++];if(a===void 0)return;let o=a[r];if(o!==void 0)if(Array.isArray(o))do o=a[r],o!==void 0&&(e.push(a.time),t.push.apply(t,o)),a=n[i++];while(a!==void 0);else if(o.toArray!==void 0)do o=a[r],o!==void 0&&(e.push(a.time),o.toArray(t,t.length)),a=n[i++];while(a!==void 0);else do o=a[r],o!==void 0&&(e.push(a.time),t.push(o)),a=n[i++];while(a!==void 0)}function Spe(n,e,t,r,i=30){const a=n.clone();a.name=e;const o=[];for(let l=0;l<a.tracks.length;++l){const u=a.tracks[l],c=u.getValueSize(),f=[],h=[];for(let d=0;d<u.times.length;++d){const p=u.times[d]*i;if(!(p<t||p>=r)){f.push(u.times[d]);for(let g=0;g<c;++g)h.push(u.values[d*c+g])}}f.length!==0&&(u.times=Xp(f,u.times.constructor),u.values=Xp(h,u.values.constructor),o.push(u))}a.tracks=o;let s=1/0;for(let l=0;l<a.tracks.length;++l)s>a.tracks[l].times[0]&&(s=a.tracks[l].times[0]);for(let l=0;l<a.tracks.length;++l)a.tracks[l].shift(-1*s);return a.resetDuration(),a}function wpe(n,e=0,t=n,r=30){r<=0&&(r=30);const i=t.tracks.length,a=e/r;for(let o=0;o<i;++o){const s=t.tracks[o],l=s.ValueTypeName;if(l==="bool"||l==="string")continue;const u=n.tracks.find(function(y){return y.name===s.name&&y.ValueTypeName===l});if(u===void 0)continue;let c=0;const f=s.getValueSize();s.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=f/3);let h=0;const d=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=d/3);const p=s.times.length-1;let g;if(a<=s.times[0]){const y=c,S=f-c;g=s.values.slice(y,S)}else if(a>=s.times[p]){const y=p*f+c,S=y+f-c;g=s.values.slice(y,S)}else{const y=s.createInterpolant(),S=c,M=f-c;y.evaluate(a),g=y.resultBuffer.slice(S,M)}l==="quaternion"&&new Ua().fromArray(g).normalize().conjugate().toArray(g);const m=u.times.length;for(let y=0;y<m;++y){const S=y*d+h;if(l==="quaternion")Ua.multiplyQuaternionsFlat(u.values,S,g,0,u.values,S);else{const M=d-h*2;for(let b=0;b<M;++b)u.values[S+b]-=g[b]}}}return n.blendMode=CO,n}const Mpe={convertArray:Xp,isTypedArray:uj,getKeyframeOrder:cj,sortedArray:LL,flattenJSON:$O,subclip:Spe,makeClipAdditive:wpe};class v1{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,i=t[r],a=t[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let s=r+2;;){if(i===void 0){if(e<a)break r;return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===s)break;if(a=i,i=t[++r],e<i)break t}o=t.length;break n}if(!(e>=a)){const s=t[1];e<s&&(r=2,a=s);for(let l=r-2;;){if(a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=a,a=t[--r-1],e>=a)break t}o=r,r=0;break n}break e}for(;r<o;){const s=r+o>>>1;e<t[s]?o=s:r=s+1}if(i=t[r],a=t[r-1],a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,a,i)}return this.interpolate_(r,a,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,a=e*i;for(let o=0;o!==i;++o)t[o]=r[a+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class fj extends v1{constructor(e,t,r,i){super(e,t,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Vp,endingEnd:Vp}}intervalChanged_(e,t,r){const i=this.parameterPositions;let a=e-2,o=e+1,s=i[a],l=i[o];if(s===void 0)switch(this.getSettings_().endingStart){case Gp:a=e,s=2*t-r;break;case cS:a=i.length-2,s=t+i[a]-i[a+1];break;default:a=e,s=r}if(l===void 0)switch(this.getSettings_().endingEnd){case Gp:o=e,l=2*r-t;break;case cS:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=t}const u=(r-t)*.5,c=this.valueSize;this._weightPrev=u/(t-s),this._weightNext=u/(l-r),this._offsetPrev=a*c,this._offsetNext=o*c}interpolate_(e,t,r,i){const a=this.resultBuffer,o=this.sampleValues,s=this.valueSize,l=e*s,u=l-s,c=this._offsetPrev,f=this._offsetNext,h=this._weightPrev,d=this._weightNext,p=(r-t)/(i-t),g=p*p,m=g*p,y=-h*m+2*h*g-h*p,S=(1+h)*m+(-1.5-2*h)*g+(-.5+h)*p+1,M=(-1-d)*m+(1.5+d)*g+.5*p,b=d*m-d*g;for(let C=0;C!==s;++C)a[C]=y*o[c+C]+S*o[u+C]+M*o[l+C]+b*o[f+C];return a}}class qO extends v1{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const a=this.resultBuffer,o=this.sampleValues,s=this.valueSize,l=e*s,u=l-s,c=(r-t)/(i-t),f=1-c;for(let h=0;h!==s;++h)a[h]=o[u+h]*f+o[l+h]*c;return a}}class hj extends v1{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Yl{constructor(e,t,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Xp(t,this.TimeBufferType),this.values=Xp(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:Xp(e.times,Array),values:Xp(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new hj(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new qO(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new fj(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case uS:t=this.InterpolantFactoryMethodDiscrete;break;case bb:t=this.InterpolantFactoryMethodLinear;break;case XT:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return uS;case this.InterpolantFactoryMethodLinear:return bb;case this.InterpolantFactoryMethodSmooth:return XT}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]*=e}return this}trim(e,t){const r=this.times,i=r.length;let a=0,o=i-1;for(;a!==i&&r[a]<e;)++a;for(;o!==-1&&r[o]>t;)--o;if(++o,a!==0||o!==i){a>=o&&(o=Math.max(o,1),a=o-1);const s=this.getValueSize();this.times=r.slice(a,o),this.values=this.values.slice(a*s,o*s)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,a=r.length;a===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let s=0;s!==a;s++){const l=r[s];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,s,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,s,l,o),e=!1;break}o=l}if(i!==void 0&&uj(i))for(let s=0,l=i.length;s!==l;++s){const u=i[s];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,s,u),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),r=this.getValueSize(),i=this.getInterpolation()===XT,a=e.length-1;let o=1;for(let s=1;s<a;++s){let l=!1;const u=e[s],c=e[s+1];if(u!==c&&(s!==1||u!==e[0]))if(i)l=!0;else{const f=s*r,h=f-r,d=f+r;for(let p=0;p!==r;++p){const g=t[f+p];if(g!==t[h+p]||g!==t[d+p]){l=!0;break}}}if(l){if(s!==o){e[o]=e[s];const f=s*r,h=o*r;for(let d=0;d!==r;++d)t[h+d]=t[f+d]}++o}}if(a>0){e[o]=e[a];for(let s=a*r,l=o*r,u=0;u!==r;++u)t[l+u]=t[s+u];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=t.slice(0,o*r)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),r=this.constructor,i=new r(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}Yl.prototype.TimeBufferType=Float32Array;Yl.prototype.ValueBufferType=Float32Array;Yl.prototype.DefaultInterpolation=bb;class Nv extends Yl{constructor(e,t,r){super(e,t,r)}}Nv.prototype.ValueTypeName="bool";Nv.prototype.ValueBufferType=Array;Nv.prototype.DefaultInterpolation=uS;Nv.prototype.InterpolantFactoryMethodLinear=void 0;Nv.prototype.InterpolantFactoryMethodSmooth=void 0;class KO extends Yl{}KO.prototype.ValueTypeName="color";class SS extends Yl{}SS.prototype.ValueTypeName="number";class dj extends v1{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const a=this.resultBuffer,o=this.sampleValues,s=this.valueSize,l=(r-t)/(i-t);let u=e*s;for(let c=u+s;u!==c;u+=4)Ua.slerpFlat(a,0,o,u-s,o,u,l);return a}}class g1 extends Yl{InterpolantFactoryMethodLinear(e){return new dj(this.times,this.values,this.getValueSize(),e)}}g1.prototype.ValueTypeName="quaternion";g1.prototype.InterpolantFactoryMethodSmooth=void 0;class Ov extends Yl{constructor(e,t,r){super(e,t,r)}}Ov.prototype.ValueTypeName="string";Ov.prototype.ValueBufferType=Array;Ov.prototype.DefaultInterpolation=uS;Ov.prototype.InterpolantFactoryMethodLinear=void 0;Ov.prototype.InterpolantFactoryMethodSmooth=void 0;class wS extends Yl{}wS.prototype.ValueTypeName="vector";class MS{constructor(e="",t=-1,r=[],i=BA){this.name=e,this.tracks=r,this.duration=t,this.blendMode=i,this.uuid=us(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,s=r.length;o!==s;++o)t.push(bpe(r[o]).scale(i));const a=new this(e.name,e.duration,t,e.blendMode);return a.uuid=e.uuid,a}static toJSON(e){const t=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let a=0,o=r.length;a!==o;++a)t.push(Yl.toJSON(r[a]));return i}static CreateFromMorphTargetSequence(e,t,r,i){const a=t.length,o=[];for(let s=0;s<a;s++){let l=[],u=[];l.push((s+a-1)%a,s,(s+1)%a),u.push(0,1,0);const c=cj(l);l=LL(l,1,c),u=LL(u,1,c),!i&&l[0]===0&&(l.push(a),u.push(u[0])),o.push(new SS(".morphTargetInfluences["+t[s].name+"]",l,u).scale(1/r))}return new this(e,-1,o)}static findByName(e,t){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===t)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,t,r){const i={},a=/^([\w-]*?)([\d]+)$/;for(let s=0,l=e.length;s<l;s++){const u=e[s],c=u.name.match(a);if(c&&c.length>1){const f=c[1];let h=i[f];h||(i[f]=h=[]),h.push(u)}}const o=[];for(const s in i)o.push(this.CreateFromMorphTargetSequence(s,i[s],t,r));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(f,h,d,p,g){if(d.length!==0){const m=[],y=[];$O(d,m,y,p),m.length!==0&&g.push(new f(h,m,y))}},i=[],a=e.name||"default",o=e.fps||30,s=e.blendMode;let l=e.length||-1;const u=e.hierarchy||[];for(let f=0;f<u.length;f++){const h=u[f].keys;if(!(!h||h.length===0))if(h[0].morphTargets){const d={};let p;for(p=0;p<h.length;p++)if(h[p].morphTargets)for(let g=0;g<h[p].morphTargets.length;g++)d[h[p].morphTargets[g]]=-1;for(const g in d){const m=[],y=[];for(let S=0;S!==h[p].morphTargets.length;++S){const M=h[p];m.push(M.time),y.push(M.morphTarget===g?1:0)}i.push(new SS(".morphTargetInfluence["+g+"]",m,y))}l=d.length*o}else{const d=".bones["+t[f].name+"]";r(wS,d+".position",h,"pos",i),r(g1,d+".quaternion",h,"rot",i),r(wS,d+".scale",h,"scl",i)}}return i.length===0?null:new this(a,l,i,s)}resetDuration(){const e=this.tracks;let t=0;for(let r=0,i=e.length;r!==i;++r){const a=this.tracks[r];t=Math.max(t,a.times[a.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function Tpe(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return SS;case"vector":case"vector2":case"vector3":case"vector4":return wS;case"color":return KO;case"quaternion":return g1;case"bool":case"boolean":return Nv;case"string":return Ov}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function bpe(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=Tpe(n.type);if(n.times===void 0){const t=[],r=[];$O(n.keys,t,r,"value"),n.times=t,n.values=r}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const kc={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class JO{constructor(e,t,r){const i=this;let a=!1,o=0,s=0,l;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(c){s++,a===!1&&i.onStart!==void 0&&i.onStart(c,o,s),a=!0},this.itemEnd=function(c){o++,i.onProgress!==void 0&&i.onProgress(c,o,s),o===s&&(a=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(c){i.onError!==void 0&&i.onError(c)},this.resolveURL=function(c){return l?l(c):c},this.setURLModifier=function(c){return l=c,this},this.addHandler=function(c,f){return u.push(c,f),this},this.removeHandler=function(c){const f=u.indexOf(c);return f!==-1&&u.splice(f,2),this},this.getHandler=function(c){for(let f=0,h=u.length;f<h;f+=2){const d=u[f],p=u[f+1];if(d.global&&(d.lastIndex=0),d.test(c))return p}return null}}}const pj=new JO;class Go{constructor(e){this.manager=e!==void 0?e:pj,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const r=this;return new Promise(function(i,a){r.load(e,i,t,a)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Go.DEFAULT_MATERIAL_NAME="__DEFAULT";const Mc={};class Ape extends Error{constructor(e,t){super(e),this.response=t}}class Jc extends Go{constructor(e){super(e)}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=kc.get(e);if(a!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(a),this.manager.itemEnd(e)},0),a;if(Mc[e]!==void 0){Mc[e].push({onLoad:t,onProgress:r,onError:i});return}Mc[e]=[],Mc[e].push({onLoad:t,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),s=this.mimeType,l=this.responseType;fetch(o).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const c=Mc[e],f=u.body.getReader(),h=u.headers.get("X-File-Size")||u.headers.get("Content-Length"),d=h?parseInt(h):0,p=d!==0;let g=0;const m=new ReadableStream({start(y){S();function S(){f.read().then(({done:M,value:b})=>{if(M)y.close();else{g+=b.byteLength;const C=new ProgressEvent("progress",{lengthComputable:p,loaded:g,total:d});for(let A=0,E=c.length;A<E;A++){const I=c[A];I.onProgress&&I.onProgress(C)}y.enqueue(b),S()}},M=>{y.error(M)})}}});return new Response(m)}else throw new Ape(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(l){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(c=>new DOMParser().parseFromString(c,s));case"json":return u.json();default:if(s===void 0)return u.text();{const f=/charset="?([^;"\s]*)"?/i.exec(s),h=f&&f[1]?f[1].toLowerCase():void 0,d=new TextDecoder(h);return u.arrayBuffer().then(p=>d.decode(p))}}}).then(u=>{kc.add(e,u);const c=Mc[e];delete Mc[e];for(let f=0,h=c.length;f<h;f++){const d=c[f];d.onLoad&&d.onLoad(u)}}).catch(u=>{const c=Mc[e];if(c===void 0)throw this.manager.itemError(e),u;delete Mc[e];for(let f=0,h=c.length;f<h;f++){const d=c[f];d.onError&&d.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class Cpe extends Go{constructor(e){super(e)}load(e,t,r,i){const a=this,o=new Jc(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(s){try{t(a.parse(JSON.parse(s)))}catch(l){i?i(l):console.error(l),a.manager.itemError(e)}},r,i)}parse(e){const t=[];for(let r=0;r<e.length;r++){const i=MS.parse(e[r]);t.push(i)}return t}}class Epe extends Go{constructor(e){super(e)}load(e,t,r,i){const a=this,o=[],s=new jA,l=new Jc(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(a.withCredentials);let u=0;function c(f){l.load(e[f],function(h){const d=a.parse(h,!0);o[f]={width:d.width,height:d.height,format:d.format,mipmaps:d.mipmaps},u+=1,u===6&&(d.mipmapCount===1&&(s.minFilter=Ei),s.image=o,s.format=d.format,s.needsUpdate=!0,t&&t(s))},r,i)}if(Array.isArray(e))for(let f=0,h=e.length;f<h;++f)c(f);else l.load(e,function(f){const h=a.parse(f,!0);if(h.isCubemap){const d=h.mipmaps.length/h.mipmapCount;for(let p=0;p<d;p++){o[p]={mipmaps:[]};for(let g=0;g<h.mipmapCount;g++)o[p].mipmaps.push(h.mipmaps[p*h.mipmapCount+g]),o[p].format=h.format,o[p].width=h.width,o[p].height=h.height}s.image=o}else s.image.width=h.width,s.image.height=h.height,s.mipmaps=h.mipmaps;h.mipmapCount===1&&(s.minFilter=Ei),s.format=h.format,s.needsUpdate=!0,t&&t(s)},r,i);return s}}class TS extends Go{constructor(e){super(e)}load(e,t,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,o=kc.get(e);if(o!==void 0)return a.manager.itemStart(e),setTimeout(function(){t&&t(o),a.manager.itemEnd(e)},0),o;const s=gS("img");function l(){c(),kc.add(e,this),t&&t(this),a.manager.itemEnd(e)}function u(f){c(),i&&i(f),a.manager.itemError(e),a.manager.itemEnd(e)}function c(){s.removeEventListener("load",l,!1),s.removeEventListener("error",u,!1)}return s.addEventListener("load",l,!1),s.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(s.crossOrigin=this.crossOrigin),a.manager.itemStart(e),s.src=e,s}}class Ppe extends Go{constructor(e){super(e)}load(e,t,r,i){const a=new c1;a.colorSpace=Fo;const o=new TS(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let s=0;function l(u){o.load(e[u],function(c){a.images[u]=c,s++,s===6&&(a.needsUpdate=!0,t&&t(a))},void 0,i)}for(let u=0;u<e.length;++u)l(u);return a}}class Dpe extends Go{constructor(e){super(e)}load(e,t,r,i){const a=this,o=new Yc,s=new Jc(this.manager);return s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setPath(this.path),s.setWithCredentials(a.withCredentials),s.load(e,function(l){let u;try{u=a.parse(l)}catch(c){if(i!==void 0)i(c);else{console.error(c);return}}u.image!==void 0?o.image=u.image:u.data!==void 0&&(o.image.width=u.width,o.image.height=u.height,o.image.data=u.data),o.wrapS=u.wrapS!==void 0?u.wrapS:Bs,o.wrapT=u.wrapT!==void 0?u.wrapT:Bs,o.magFilter=u.magFilter!==void 0?u.magFilter:Ei,o.minFilter=u.minFilter!==void 0?u.minFilter:Ei,o.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.colorSpace!==void 0&&(o.colorSpace=u.colorSpace),u.flipY!==void 0&&(o.flipY=u.flipY),u.format!==void 0&&(o.format=u.format),u.type!==void 0&&(o.type=u.type),u.mipmaps!==void 0&&(o.mipmaps=u.mipmaps,o.minFilter=_u),u.mipmapCount===1&&(o.minFilter=Ei),u.generateMipmaps!==void 0&&(o.generateMipmaps=u.generateMipmaps),o.needsUpdate=!0,t&&t(o,u)},r,i),o}}class lC extends Go{constructor(e){super(e)}load(e,t,r,i){const a=new $r,o=new TS(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(s){a.image=s,a.needsUpdate=!0,t!==void 0&&t(a)},r,i),a}}class Xh extends hr{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new zt(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class vj extends Xh{constructor(e,t,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(hr.DEFAULT_UP),this.updateMatrix(),this.groundColor=new zt(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const NP=new xn,cV=new ne,fV=new ne;class QO{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new je(512,512),this.map=null,this.mapPass=null,this.matrix=new xn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new f1,this._frameExtents=new je(1,1),this._viewportCount=1,this._viewports=[new Mr(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;cV.setFromMatrixPosition(e.matrixWorld),t.position.copy(cV),fV.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(fV),t.updateMatrixWorld(),NP.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(NP),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(NP)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Rpe extends QO{constructor(){super(new mi(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,r=yy*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,a=e.distance||t.far;(r!==t.fov||i!==t.aspect||a!==t.far)&&(t.fov=r,t.aspect=i,t.far=a,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class gj extends Xh{constructor(e,t,r=0,i=Math.PI/3,a=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(hr.DEFAULT_UP),this.updateMatrix(),this.target=new hr,this.distance=r,this.angle=i,this.penumbra=a,this.decay=o,this.map=null,this.shadow=new Rpe}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const hV=new xn,S_=new ne,OP=new ne;class Lpe extends QO{constructor(){super(new mi(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new je(4,2),this._viewportCount=6,this._viewports=[new Mr(2,1,1,1),new Mr(0,1,1,1),new Mr(3,1,1,1),new Mr(1,1,1,1),new Mr(3,0,1,1),new Mr(1,0,1,1)],this._cubeDirections=[new ne(1,0,0),new ne(-1,0,0),new ne(0,0,1),new ne(0,0,-1),new ne(0,1,0),new ne(0,-1,0)],this._cubeUps=[new ne(0,1,0),new ne(0,1,0),new ne(0,1,0),new ne(0,1,0),new ne(0,0,1),new ne(0,0,-1)]}updateMatrices(e,t=0){const r=this.camera,i=this.matrix,a=e.distance||r.far;a!==r.far&&(r.far=a,r.updateProjectionMatrix()),S_.setFromMatrixPosition(e.matrixWorld),r.position.copy(S_),OP.copy(r.position),OP.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(OP),r.updateMatrixWorld(),i.makeTranslation(-S_.x,-S_.y,-S_.z),hV.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(hV)}}class mj extends Xh{constructor(e,t,r=0,i=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new Lpe}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Ipe extends QO{constructor(){super(new wh(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class yj extends Xh{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(hr.DEFAULT_UP),this.updateMatrix(),this.target=new hr,this.shadow=new Ipe}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class _j extends Xh{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class xj extends Xh{constructor(e,t,r=10,i=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class Sj{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new ne)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const r=e.x,i=e.y,a=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*i),t.addScaledVector(o[2],.488603*a),t.addScaledVector(o[3],.488603*r),t.addScaledVector(o[4],1.092548*(r*i)),t.addScaledVector(o[5],1.092548*(i*a)),t.addScaledVector(o[6],.315392*(3*a*a-1)),t.addScaledVector(o[7],1.092548*(r*a)),t.addScaledVector(o[8],.546274*(r*r-i*i)),t}getIrradianceAt(e,t){const r=e.x,i=e.y,a=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*i),t.addScaledVector(o[2],2*.511664*a),t.addScaledVector(o[3],2*.511664*r),t.addScaledVector(o[4],2*.429043*r*i),t.addScaledVector(o[5],2*.429043*i*a),t.addScaledVector(o[6],.743125*a*a-.247708),t.addScaledVector(o[7],2*.429043*r*a),t.addScaledVector(o[8],.429043*(r*r-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,t+i*3);return this}toArray(e=[],t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,t+i*3);return e}static getBasisAt(e,t){const r=e.x,i=e.y,a=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*a,t[3]=.488603*r,t[4]=1.092548*r*i,t[5]=1.092548*i*a,t[6]=.315392*(3*a*a-1),t[7]=1.092548*r*a,t[8]=.546274*(r*r-i*i)}}class wj extends Xh{constructor(e=new Sj,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class uC extends Go{constructor(e){super(e),this.textures={}}load(e,t,r,i){const a=this,o=new Jc(a.manager);o.setPath(a.path),o.setRequestHeader(a.requestHeader),o.setWithCredentials(a.withCredentials),o.load(e,function(s){try{t(a.parse(JSON.parse(s)))}catch(l){i?i(l):console.error(l),a.manager.itemError(e)}},r,i)}parse(e){const t=this.textures;function r(a){return t[a]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",a),t[a]}const i=uC.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new zt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(i.dispersion=e.dispersion),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const a in e.uniforms){const o=e.uniforms[a];switch(i.uniforms[a]={},o.type){case"t":i.uniforms[a].value=r(o.value);break;case"c":i.uniforms[a].value=new zt().setHex(o.value);break;case"v2":i.uniforms[a].value=new je().fromArray(o.value);break;case"v3":i.uniforms[a].value=new ne().fromArray(o.value);break;case"v4":i.uniforms[a].value=new Mr().fromArray(o.value);break;case"m3":i.uniforms[a].value=new zn().fromArray(o.value);break;case"m4":i.uniforms[a].value=new xn().fromArray(o.value);break;default:i.uniforms[a].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const a in e.extensions)i.extensions[a]=e.extensions[a];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let a=e.normalScale;Array.isArray(a)===!1&&(a=[a,a]),i.normalScale=new je().fromArray(a)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapRotation!==void 0&&i.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new je().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:ej,SpriteMaterial:BO,RawShaderMaterial:tj,ShaderMaterial:Ul,PointsMaterial:VO,MeshPhysicalMaterial:nj,MeshStandardMaterial:ZO,MeshPhongMaterial:rj,MeshToonMaterial:ij,MeshNormalMaterial:aj,MeshLambertMaterial:oj,MeshDepthMaterial:kO,MeshDistanceMaterial:FO,MeshBasicMaterial:Hh,MeshMatcapMaterial:sj,LineDashedMaterial:lj,LineBasicMaterial:xo,Material:ja};return new t[e]}}class IL{static decodeText(e){if(console.warn("THREE.LoaderUtils: decodeText() has been deprecated with r165 and will be removed with r175. Use TextDecoder instead."),typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let r=0,i=e.length;r<i;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class Mj extends Wn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class Tj extends Go{constructor(e){super(e)}load(e,t,r,i){const a=this,o=new Jc(a.manager);o.setPath(a.path),o.setRequestHeader(a.requestHeader),o.setWithCredentials(a.withCredentials),o.load(e,function(s){try{t(a.parse(JSON.parse(s)))}catch(l){i?i(l):console.error(l),a.manager.itemError(e)}},r,i)}parse(e){const t={},r={};function i(d,p){if(t[p]!==void 0)return t[p];const m=d.interleavedBuffers[p],y=a(d,m.buffer),S=qm(m.type,y),M=new XA(S,m.stride);return M.uuid=m.uuid,t[p]=M,M}function a(d,p){if(r[p]!==void 0)return r[p];const m=d.arrayBuffers[p],y=new Uint32Array(m).buffer;return r[p]=y,y}const o=e.isInstancedBufferGeometry?new Mj:new Wn,s=e.data.index;if(s!==void 0){const d=qm(s.type,s.array);o.setIndex(new Tr(d,1))}const l=e.data.attributes;for(const d in l){const p=l[d];let g;if(p.isInterleavedBufferAttribute){const m=i(e.data,p.data);g=new yv(m,p.itemSize,p.offset,p.normalized)}else{const m=qm(p.type,p.array),y=p.isInstancedBufferAttribute?xy:Tr;g=new y(m,p.itemSize,p.normalized)}p.name!==void 0&&(g.name=p.name),p.usage!==void 0&&g.setUsage(p.usage),o.setAttribute(d,g)}const u=e.data.morphAttributes;if(u)for(const d in u){const p=u[d],g=[];for(let m=0,y=p.length;m<y;m++){const S=p[m];let M;if(S.isInterleavedBufferAttribute){const b=i(e.data,S.data);M=new yv(b,S.itemSize,S.offset,S.normalized)}else{const b=qm(S.type,S.array);M=new Tr(b,S.itemSize,S.normalized)}S.name!==void 0&&(M.name=S.name),g.push(M)}o.morphAttributes[d]=g}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const f=e.data.groups||e.data.drawcalls||e.data.offsets;if(f!==void 0)for(let d=0,p=f.length;d!==p;++d){const g=f[d];o.addGroup(g.start,g.count,g.materialIndex)}const h=e.data.boundingSphere;if(h!==void 0){const d=new ne;h.center!==void 0&&d.fromArray(h.center),o.boundingSphere=new Va(d,h.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class Npe extends Go{constructor(e){super(e)}load(e,t,r,i){const a=this,o=this.path===""?IL.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const s=new Jc(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(l){let u=null;try{u=JSON.parse(l)}catch(f){i!==void 0&&i(f),console.error("THREE:ObjectLoader: Can't parse "+e+".",f.message);return}const c=u.metadata;if(c===void 0||c.type===void 0||c.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}a.parse(u,t)},r,i)}async loadAsync(e,t){const r=this,i=this.path===""?IL.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const a=new Jc(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials);const o=await a.loadAsync(e,t),s=JSON.parse(o),l=s.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(s)}parse(e,t){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),a=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){t!==void 0&&t(u)}),s=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,s),u=this.parseObject(e.object,a,l,s,r),c=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,c),t!==void 0){let f=!1;for(const h in o)if(o[h].data instanceof HTMLImageElement){f=!0;break}f===!1&&t(u)}return u}async parseAsync(e){const t=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),a=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,a),s=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,s,o,t),u=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,u),l}parseShapes(e){const t={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const a=new ov().fromJSON(e[r]);t[a.uuid]=a}return t}parseSkeletons(e,t){const r={},i={};if(t.traverse(function(a){a.isBone&&(i[a.uuid]=a)}),e!==void 0)for(let a=0,o=e.length;a<o;a++){const s=new YA().fromJSON(e[a],i);r[s.uuid]=s}return r}parseGeometries(e,t){const r={};if(e!==void 0){const i=new Tj;for(let a=0,o=e.length;a<o;a++){let s;const l=e[a];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":s=i.parse(l);break;default:l.type in uV?s=uV[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}s.uuid=l.uuid,l.name!==void 0&&(s.name=l.name),l.userData!==void 0&&(s.userData=l.userData),r[l.uuid]=s}}return r}parseMaterials(e,t){const r={},i={};if(e!==void 0){const a=new uC;a.setTextures(t);for(let o=0,s=e.length;o<s;o++){const l=e[o];r[l.uuid]===void 0&&(r[l.uuid]=a.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const t={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],a=MS.parse(i);t[a.uuid]=a}return t}parseImages(e,t){const r=this,i={};let a;function o(l){return r.manager.itemStart(l),a.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function s(l){if(typeof l=="string"){const u=l,c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:r.resourcePath+u;return o(c)}else return l.data?{data:qm(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new JO(t);a=new TS(l),a.setCrossOrigin(this.crossOrigin);for(let u=0,c=e.length;u<c;u++){const f=e[u],h=f.url;if(Array.isArray(h)){const d=[];for(let p=0,g=h.length;p<g;p++){const m=h[p],y=s(m);y!==null&&(y instanceof HTMLImageElement?d.push(y):d.push(new Yc(y.data,y.width,y.height)))}i[f.uuid]=new Hp(d)}else{const d=s(f.url);i[f.uuid]=new Hp(d)}}}return i}async parseImagesAsync(e){const t=this,r={};let i;async function a(o){if(typeof o=="string"){const s=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(s)?s:t.resourcePath+s;return await i.loadAsync(l)}else return o.data?{data:qm(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new TS(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,s=e.length;o<s;o++){const l=e[o],u=l.url;if(Array.isArray(u)){const c=[];for(let f=0,h=u.length;f<h;f++){const d=u[f],p=await a(d);p!==null&&(p instanceof HTMLImageElement?c.push(p):c.push(new Yc(p.data,p.width,p.height)))}r[l.uuid]=new Hp(c)}else{const c=await a(l.url);r[l.uuid]=new Hp(c)}}}return r}parseTextures(e,t){function r(a,o){return typeof a=="number"?a:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",a),o[a])}const i={};if(e!==void 0)for(let a=0,o=e.length;a<o;a++){const s=e[a];s.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',s.uuid),t[s.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",s.image);const l=t[s.image],u=l.data;let c;Array.isArray(u)?(c=new c1,u.length===6&&(c.needsUpdate=!0)):(u&&u.data?c=new Yc:c=new $r,u&&(c.needsUpdate=!0)),c.source=l,c.uuid=s.uuid,s.name!==void 0&&(c.name=s.name),s.mapping!==void 0&&(c.mapping=r(s.mapping,Ope)),s.channel!==void 0&&(c.channel=s.channel),s.offset!==void 0&&c.offset.fromArray(s.offset),s.repeat!==void 0&&c.repeat.fromArray(s.repeat),s.center!==void 0&&c.center.fromArray(s.center),s.rotation!==void 0&&(c.rotation=s.rotation),s.wrap!==void 0&&(c.wrapS=r(s.wrap[0],dV),c.wrapT=r(s.wrap[1],dV)),s.format!==void 0&&(c.format=s.format),s.internalFormat!==void 0&&(c.internalFormat=s.internalFormat),s.type!==void 0&&(c.type=s.type),s.colorSpace!==void 0&&(c.colorSpace=s.colorSpace),s.minFilter!==void 0&&(c.minFilter=r(s.minFilter,pV)),s.magFilter!==void 0&&(c.magFilter=r(s.magFilter,pV)),s.anisotropy!==void 0&&(c.anisotropy=s.anisotropy),s.flipY!==void 0&&(c.flipY=s.flipY),s.generateMipmaps!==void 0&&(c.generateMipmaps=s.generateMipmaps),s.premultiplyAlpha!==void 0&&(c.premultiplyAlpha=s.premultiplyAlpha),s.unpackAlignment!==void 0&&(c.unpackAlignment=s.unpackAlignment),s.compareFunction!==void 0&&(c.compareFunction=s.compareFunction),s.userData!==void 0&&(c.userData=s.userData),i[s.uuid]=c}return i}parseObject(e,t,r,i,a){let o;function s(h){return t[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",h),t[h]}function l(h){if(h!==void 0){if(Array.isArray(h)){const d=[];for(let p=0,g=h.length;p<g;p++){const m=h[p];r[m]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",m),d.push(r[m])}return d}return r[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",h),r[h]}}function u(h){return i[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",h),i[h]}let c,f;switch(e.type){case"Scene":o=new zO,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new zt(e.background):o.background=u(e.background)),e.environment!==void 0&&(o.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new WA(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new HA(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&o.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(o.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&o.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":o=new mi(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new wh(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new _j(e.color,e.intensity);break;case"DirectionalLight":o=new yj(e.color,e.intensity);break;case"PointLight":o=new mj(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new xj(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new gj(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new vj(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new wj().fromJSON(e);break;case"SkinnedMesh":c=s(e.geometry),f=l(e.material),o=new BY(c,f),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":c=s(e.geometry),f=l(e.material),o=new Pi(c,f);break;case"InstancedMesh":c=s(e.geometry),f=l(e.material);const h=e.count,d=e.instanceMatrix,p=e.instanceColor;o=new UY(c,f,h),o.instanceMatrix=new xy(new Float32Array(d.array),16),p!==void 0&&(o.instanceColor=new xy(new Float32Array(p.array),p.itemSize));break;case"BatchedMesh":c=s(e.geometry),f=l(e.material),o=new VY(e.maxGeometryCount,e.maxVertexCount,e.maxIndexCount,f),o.geometry=c,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._visibility=e.visibility,o._active=e.active,o._bounds=e.bounds.map(g=>{const m=new vo;m.min.fromArray(g.boxMin),m.max.fromArray(g.boxMax);const y=new Va;return y.radius=g.sphereRadius,y.center.fromArray(g.sphereCenter),{boxInitialized:g.boxInitialized,box:m,sphereInitialized:g.sphereInitialized,sphere:y}}),o._maxGeometryCount=e.maxGeometryCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._geometryCount=e.geometryCount,o._matricesTexture=u(e.matricesTexture.uuid),e.colorsTexture!==void 0&&(o._colorsTexture=u(e.colorsTexture.uuid));break;case"LOD":o=new zY;break;case"Line":o=new Ih(s(e.geometry),l(e.material));break;case"LineLoop":o=new GY(s(e.geometry),l(e.material));break;case"LineSegments":o=new Ou(s(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new HY(s(e.geometry),l(e.material));break;case"Sprite":o=new FY(l(e.material));break;case"Group":o=new Jm;break;case"Bone":o=new UO;break;default:o=new hr}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const h=e.children;for(let d=0;d<h.length;d++)o.add(this.parseObject(h[d],t,r,i,a))}if(e.animations!==void 0){const h=e.animations;for(let d=0;d<h.length;d++){const p=h[d];o.animations.push(a[p])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const h=e.levels;for(let d=0;d<h.length;d++){const p=h[d],g=o.getObjectByProperty("uuid",p.object);g!==void 0&&o.addLevel(g,p.distance,p.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=t[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const Ope={UVMapping:zA,CubeReflectionMapping:Kc,CubeRefractionMapping:Lh,EquirectangularReflectionMapping:iS,EquirectangularRefractionMapping:aS,CubeUVReflectionMapping:By},dV={RepeatWrapping:oS,ClampToEdgeWrapping:Bs,MirroredRepeatWrapping:sS},pV={NearestFilter:ra,NearestMipmapNearestFilter:_O,NearestMipmapLinearFilter:$m,LinearFilter:Ei,LinearMipmapNearestFilter:Ex,LinearMipmapLinearFilter:_u};class kpe extends Go{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,o=kc.get(e);if(o!==void 0){if(a.manager.itemStart(e),o.then){o.then(u=>{t&&t(u),a.manager.itemEnd(e)}).catch(u=>{i&&i(u)});return}return setTimeout(function(){t&&t(o),a.manager.itemEnd(e)},0),o}const s={};s.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",s.headers=this.requestHeader;const l=fetch(e,s).then(function(u){return u.blob()}).then(function(u){return createImageBitmap(u,Object.assign(a.options,{colorSpaceConversion:"none"}))}).then(function(u){return kc.add(e,u),t&&t(u),a.manager.itemEnd(e),u}).catch(function(u){i&&i(u),kc.remove(e),a.manager.itemError(e),a.manager.itemEnd(e)});kc.add(e,l),a.manager.itemStart(e)}}let TM;class ek{static getContext(){return TM===void 0&&(TM=new(window.AudioContext||window.webkitAudioContext)),TM}static setContext(e){TM=e}}class Fpe extends Go{constructor(e){super(e)}load(e,t,r,i){const a=this,o=new Jc(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const u=l.slice(0);ek.getContext().decodeAudioData(u,function(f){t(f)}).catch(s)}catch(u){s(u)}},r,i);function s(l){i?i(l):console.error(l),a.manager.itemError(e)}}}const vV=new xn,gV=new xn,Xd=new xn;class zpe{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new mi,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new mi,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Xd.copy(e.projectionMatrix);const i=t.eyeSep/2,a=i*t.near/t.focus,o=t.near*Math.tan(iv*t.fov*.5)/t.zoom;let s,l;gV.elements[12]=-i,vV.elements[12]=i,s=-o*t.aspect+a,l=o*t.aspect+a,Xd.elements[0]=2*t.near/(l-s),Xd.elements[8]=(l+s)/(l-s),this.cameraL.projectionMatrix.copy(Xd),s=-o*t.aspect-a,l=o*t.aspect-a,Xd.elements[0]=2*t.near/(l-s),Xd.elements[8]=(l+s)/(l-s),this.cameraR.projectionMatrix.copy(Xd)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(gV),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(vV)}}class tk{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=mV(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=mV();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function mV(){return(typeof performance>"u"?Date:performance).now()}const Yd=new ne,yV=new Ua,Bpe=new ne,jd=new ne;class Upe extends hr{constructor(){super(),this.type="AudioListener",this.context=ek.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new tk}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Yd,yV,Bpe),jd.set(0,0,-1).applyQuaternion(yV),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Yd.x,i),t.positionY.linearRampToValueAtTime(Yd.y,i),t.positionZ.linearRampToValueAtTime(Yd.z,i),t.forwardX.linearRampToValueAtTime(jd.x,i),t.forwardY.linearRampToValueAtTime(jd.y,i),t.forwardZ.linearRampToValueAtTime(jd.z,i),t.upX.linearRampToValueAtTime(r.x,i),t.upY.linearRampToValueAtTime(r.y,i),t.upZ.linearRampToValueAtTime(r.z,i)}else t.setPosition(Yd.x,Yd.y,Yd.z),t.setOrientation(jd.x,jd.y,jd.z,r.x,r.y,r.z)}}class bj extends hr{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Zd=new ne,_V=new Ua,Vpe=new ne,$d=new ne;class Gpe extends bj{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Zd,_V,Vpe),$d.set(0,0,1).applyQuaternion(_V);const t=this.panner;if(t.positionX){const r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Zd.x,r),t.positionY.linearRampToValueAtTime(Zd.y,r),t.positionZ.linearRampToValueAtTime(Zd.z,r),t.orientationX.linearRampToValueAtTime($d.x,r),t.orientationY.linearRampToValueAtTime($d.y,r),t.orientationZ.linearRampToValueAtTime($d.z,r)}else t.setPosition(Zd.x,Zd.y,Zd.z),t.setOrientation($d.x,$d.y,$d.z)}}class Hpe{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let r=0;r<t.length;r++)e+=t[r];return e/t.length}}class Aj{constructor(e,t,r){this.binding=e,this.valueSize=r;let i,a,o;switch(t){case"quaternion":i=this._slerp,a=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,a=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,a=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=a,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const r=this.buffer,i=this.valueSize,a=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let s=0;s!==i;++s)r[a+s]=r[s];o=t}else{o+=t;const s=t/o;this._mixBufferRegion(r,a,0,s,i)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,r=this.buffer,i=e*t+t,a=this.cumulativeWeight,o=this.cumulativeWeightAdditive,s=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,a<1){const l=t*this._origIndex;this._mixBufferRegion(r,i,l,1-a,t)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*t,1,t);for(let l=t,u=t+t;l!==u;++l)if(r[l]!==r[l+t]){s.setValue(r,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(t,i);for(let a=r,o=i;a!==o;++a)t[a]=t[i+a%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,i,a){if(i>=.5)for(let o=0;o!==a;++o)e[t+o]=e[r+o]}_slerp(e,t,r,i){Ua.slerpFlat(e,t,e,t,e,r,i)}_slerpAdditive(e,t,r,i,a){const o=this._workIndex*a;Ua.multiplyQuaternionsFlat(e,o,e,t,e,r),Ua.slerpFlat(e,t,e,t,e,o,i)}_lerp(e,t,r,i,a){const o=1-i;for(let s=0;s!==a;++s){const l=t+s;e[l]=e[l]*o+e[r+s]*i}}_lerpAdditive(e,t,r,i,a){for(let o=0;o!==a;++o){const s=t+o;e[s]=e[s]+e[r+o]*i}}}const nk="\\[\\]\\.:\\/",Wpe=new RegExp("["+nk+"]","g"),rk="[^"+nk+"]",Xpe="[^"+nk.replace("\\.","")+"]",Ype=/((?:WC+[\/:])*)/.source.replace("WC",rk),jpe=/(WCOD+)?/.source.replace("WCOD",Xpe),Zpe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",rk),$pe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",rk),qpe=new RegExp("^"+Ype+jpe+Zpe+$pe+"$"),Kpe=["material","materials","bones","map"];class Jpe{constructor(e,t,r){const i=r||cr.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,a=r.length;i!==a;++i)r[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}class cr{constructor(e,t,r){this.path=t,this.parsedPath=r||cr.parseTrackName(t),this.node=cr.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return e&&e.isAnimationObjectGroup?new cr.Composite(e,t,r):new cr(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Wpe,"")}static parseTrackName(e){const t=qpe.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const a=r.nodeName.substring(i+1);Kpe.indexOf(a)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=a)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(t);if(r!==void 0)return r}if(e.children){const r=function(a){for(let o=0;o<a.length;o++){const s=a[o];if(s.name===t||s.uuid===t)return s;const l=r(s.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)e[t++]=r[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)r[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)r[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)r[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,r=t.objectName,i=t.propertyName;let a=t.propertyIndex;if(e||(e=cr.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let u=t.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let c=0;c<e.length;c++)if(e[c].name===u){u=c;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const o=e[i];if(o===void 0){const u=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+i+" but it wasn't found.",e);return}let s=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?s=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(s=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(a!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[a]!==void 0&&(a=e.morphTargetDictionary[a])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=a}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][s]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}cr.Composite=Jpe;cr.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};cr.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};cr.prototype.GetterByBindingType=[cr.prototype._getValue_direct,cr.prototype._getValue_array,cr.prototype._getValue_arrayElement,cr.prototype._getValue_toArray];cr.prototype.SetterByBindingTypeAndVersioning=[[cr.prototype._setValue_direct,cr.prototype._setValue_direct_setNeedsUpdate,cr.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[cr.prototype._setValue_array,cr.prototype._setValue_array_setNeedsUpdate,cr.prototype._setValue_array_setMatrixWorldNeedsUpdate],[cr.prototype._setValue_arrayElement,cr.prototype._setValue_arrayElement_setNeedsUpdate,cr.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[cr.prototype._setValue_fromArray,cr.prototype._setValue_fromArray_setNeedsUpdate,cr.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Qpe{constructor(){this.isAnimationObjectGroup=!0,this.uuid=us(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,r=this._paths,i=this._parsedPaths,a=this._bindings,o=a.length;let s,l=e.length,u=this.nCachedObjects_;for(let c=0,f=arguments.length;c!==f;++c){const h=arguments[c],d=h.uuid;let p=t[d];if(p===void 0){p=l++,t[d]=p,e.push(h);for(let g=0,m=o;g!==m;++g)a[g].push(new cr(h,r[g],i[g]))}else if(p<u){s=e[p];const g=--u,m=e[g];t[m.uuid]=p,e[p]=m,t[d]=g,e[g]=h;for(let y=0,S=o;y!==S;++y){const M=a[y],b=M[g];let C=M[p];M[p]=b,C===void 0&&(C=new cr(h,r[y],i[y])),M[g]=C}}else e[p]!==s&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let a=this.nCachedObjects_;for(let o=0,s=arguments.length;o!==s;++o){const l=arguments[o],u=l.uuid,c=t[u];if(c!==void 0&&c>=a){const f=a++,h=e[f];t[h.uuid]=c,e[c]=h,t[u]=f,e[f]=l;for(let d=0,p=i;d!==p;++d){const g=r[d],m=g[f],y=g[c];g[c]=m,g[f]=y}}}this.nCachedObjects_=a}uncache(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let a=this.nCachedObjects_,o=e.length;for(let s=0,l=arguments.length;s!==l;++s){const u=arguments[s],c=u.uuid,f=t[c];if(f!==void 0)if(delete t[c],f<a){const h=--a,d=e[h],p=--o,g=e[p];t[d.uuid]=f,e[f]=d,t[g.uuid]=h,e[h]=g,e.pop();for(let m=0,y=i;m!==y;++m){const S=r[m],M=S[h],b=S[p];S[f]=M,S[h]=b,S.pop()}}else{const h=--o,d=e[h];h>0&&(t[d.uuid]=f),e[f]=d,e.pop();for(let p=0,g=i;p!==g;++p){const m=r[p];m[f]=m[h],m.pop()}}}this.nCachedObjects_=a}subscribe_(e,t){const r=this._bindingsIndicesByPath;let i=r[e];const a=this._bindings;if(i!==void 0)return a[i];const o=this._paths,s=this._parsedPaths,l=this._objects,u=l.length,c=this.nCachedObjects_,f=new Array(u);i=a.length,r[e]=i,o.push(e),s.push(t),a.push(f);for(let h=c,d=l.length;h!==d;++h){const p=l[h];f[h]=new cr(p,e,t)}return f}unsubscribe_(e){const t=this._bindingsIndicesByPath,r=t[e];if(r!==void 0){const i=this._paths,a=this._parsedPaths,o=this._bindings,s=o.length-1,l=o[s],u=e[s];t[u]=r,o[r]=l,o.pop(),a[r]=a[s],a.pop(),i[r]=i[s],i.pop()}}}class Cj{constructor(e,t,r=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=i;const a=t.tracks,o=a.length,s=new Array(o),l={endingStart:Vp,endingEnd:Vp};for(let u=0;u!==o;++u){const c=a[u].createInterpolant(null);s[u]=c,c.settings=l}this._interpolantSettings=l,this._interpolants=s,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=oY,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r){if(e.fadeOut(t),this.fadeIn(t),r){const i=this._clip.duration,a=e._clip.duration,o=a/i,s=i/a;e.warp(1,o,t),this.warp(s,1,t)}return this}crossFadeTo(e,t,r){return e.crossFadeFrom(this,t,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){const i=this._mixer,a=i.time,o=this.timeScale;let s=this._timeScaleInterpolant;s===null&&(s=i._lendControlInterpolant(),this._timeScaleInterpolant=s);const l=s.parameterPositions,u=s.sampleValues;return l[0]=a,l[1]=a+r,u[0]=e/o,u[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,i){if(!this.enabled){this._updateWeight(e);return}const a=this._startTime;if(a!==null){const l=(e-a)*r;l<0||r===0?t=0:(this._startTime=null,t=r*l)}t*=this._updateTimeScale(e);const o=this._updateTime(t),s=this._updateWeight(e);if(s>0){const l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case CO:for(let c=0,f=l.length;c!==f;++c)l[c].evaluate(o),u[c].accumulateAdditive(s);break;case BA:default:for(let c=0,f=l.length;c!==f;++c)l[c].evaluate(o),u[c].accumulate(i,s)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,r=this.loop;let i=this.time+e,a=this._loopCount;const o=r===sY;if(e===0)return a===-1?i:o&&(a&1)===1?t-i:i;if(r===aY){a===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(a===-1&&(e>=0?(a=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=t||i<0){const s=Math.floor(i/t);i-=t*s,a+=Math.abs(s);const l=this.repetitions-a;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const u=e<0;this._setEndings(u,!u,o)}else this._setEndings(!1,!1,o);this._loopCount=a,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:s})}}else this.time=i;if(o&&(a&1)===1)return t-i}return i}_setEndings(e,t,r){const i=this._interpolantSettings;r?(i.endingStart=Gp,i.endingEnd=Gp):(e?i.endingStart=this.zeroSlopeAtStart?Gp:Vp:i.endingStart=cS,t?i.endingEnd=this.zeroSlopeAtEnd?Gp:Vp:i.endingEnd=cS)}_scheduleFading(e,t,r){const i=this._mixer,a=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const s=o.parameterPositions,l=o.sampleValues;return s[0]=a,l[0]=t,s[1]=a+e,l[1]=r,this}}const eve=new Float32Array(1);class tve extends uf{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const r=e._localRoot||this._root,i=e._clip.tracks,a=i.length,o=e._propertyBindings,s=e._interpolants,l=r.uuid,u=this._bindingsByRootAndName;let c=u[l];c===void 0&&(c={},u[l]=c);for(let f=0;f!==a;++f){const h=i[f],d=h.name;let p=c[d];if(p!==void 0)++p.referenceCount,o[f]=p;else{if(p=o[f],p!==void 0){p._cacheIndex===null&&(++p.referenceCount,this._addInactiveBinding(p,l,d));continue}const g=t&&t._propertyBindings[f].binding.parsedPath;p=new Aj(cr.create(r,d,g),h.ValueTypeName,h.getValueSize()),++p.referenceCount,this._addInactiveBinding(p,l,d),o[f]=p}s[f].resultBuffer=p.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,a=this._actionsByClip[i];this._bindAction(e,a&&a.knownActions[0]),this._addInactiveAction(e,i,r)}const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const a=t[r];a.useCount++===0&&(this._lendBinding(a),a.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const a=t[r];--a.useCount===0&&(a.restoreOriginalState(),this._takeBackBinding(a))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,r){const i=this._actions,a=this._actionsByClip;let o=a[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,a[t]=o;else{const s=o.knownActions;e._byClipCacheIndex=s.length,s.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const t=this._actions,r=t[t.length-1],i=e._cacheIndex;r._cacheIndex=i,t[i]=r,t.pop(),e._cacheIndex=null;const a=e._clip.uuid,o=this._actionsByClip,s=o[a],l=s.knownActions,u=l[l.length-1],c=e._byClipCacheIndex;u._byClipCacheIndex=c,l[c]=u,l.pop(),e._byClipCacheIndex=null;const f=s.actionByRoot,h=(e._localRoot||this._root).uuid;delete f[h],l.length===0&&delete o[a],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const a=t[r];--a.referenceCount===0&&this._removeInactiveBinding(a)}}_lendAction(e){const t=this._actions,r=e._cacheIndex,i=this._nActiveActions++,a=t[i];e._cacheIndex=i,t[i]=e,a._cacheIndex=r,t[r]=a}_takeBackAction(e){const t=this._actions,r=e._cacheIndex,i=--this._nActiveActions,a=t[i];e._cacheIndex=i,t[i]=e,a._cacheIndex=r,t[r]=a}_addInactiveBinding(e,t,r){const i=this._bindingsByRootAndName,a=this._bindings;let o=i[t];o===void 0&&(o={},i[t]=o),o[r]=e,e._cacheIndex=a.length,a.push(e)}_removeInactiveBinding(e){const t=this._bindings,r=e.binding,i=r.rootNode.uuid,a=r.path,o=this._bindingsByRootAndName,s=o[i],l=t[t.length-1],u=e._cacheIndex;l._cacheIndex=u,t[u]=l,t.pop(),delete s[a],Object.keys(s).length===0&&delete o[i]}_lendBinding(e){const t=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,a=t[i];e._cacheIndex=i,t[i]=e,a._cacheIndex=r,t[r]=a}_takeBackBinding(e){const t=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,a=t[i];e._cacheIndex=i,t[i]=e,a._cacheIndex=r,t[r]=a}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let r=e[t];return r===void 0&&(r=new qO(new Float32Array(2),new Float32Array(2),1,eve),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){const t=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,a=t[i];e.__cacheIndex=i,t[i]=e,a.__cacheIndex=r,t[r]=a}clipAction(e,t,r){const i=t||this._root,a=i.uuid;let o=typeof e=="string"?MS.findByName(i,e):e;const s=o!==null?o.uuid:e,l=this._actionsByClip[s];let u=null;if(r===void 0&&(o!==null?r=o.blendMode:r=BA),l!==void 0){const f=l.actionByRoot[a];if(f!==void 0&&f.blendMode===r)return f;u=l.knownActions[0],o===null&&(o=u._clip)}if(o===null)return null;const c=new Cj(this,o,t,r);return this._bindAction(c,u),this._addInactiveAction(c,s,a),c}existingAction(e,t){const r=t||this._root,i=r.uuid,a=typeof e=="string"?MS.findByName(r,e):e,o=a?a.uuid:e,s=this._actionsByClip[o];return s!==void 0&&s.actionByRoot[i]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let r=t-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const t=this._actions,r=this._nActiveActions,i=this.time+=e,a=Math.sign(e),o=this._accuIndex^=1;for(let u=0;u!==r;++u)t[u]._update(i,e,a,o);const s=this._bindings,l=this._nActiveBindings;for(let u=0;u!==l;++u)s[u].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,r=e.uuid,i=this._actionsByClip,a=i[r];if(a!==void 0){const o=a.knownActions;for(let s=0,l=o.length;s!==l;++s){const u=o[s];this._deactivateAction(u);const c=u._cacheIndex,f=t[t.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,f._cacheIndex=c,t[c]=f,t.pop(),this._removeInactiveBindingsForAction(u)}delete i[r]}}uncacheRoot(e){const t=e.uuid,r=this._actionsByClip;for(const o in r){const s=r[o].actionByRoot,l=s[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,a=i[t];if(a!==void 0)for(const o in a){const s=a[o];s.restoreOriginalState(),this._removeInactiveBinding(s)}}uncacheAction(e,t){const r=this.existingAction(e,t);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class ik{constructor(e){this.value=e}clone(){return new ik(this.value.clone===void 0?this.value:this.value.clone())}}let nve=0;class rve extends uf{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:nve++}),this.name="",this.usage=pS,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let r=0,i=t.length;r<i;r++){const a=Array.isArray(t[r])?t[r]:[t[r]];for(let o=0;o<a.length;o++)this.uniforms.push(a[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class ive extends XA{constructor(e,t,r=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class ave{constructor(e,t,r,i,a){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=r,this.elementSize=i,this.count=a,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const xV=new xn;class Ej{constructor(e,t,r=0,i=1/0){this.ray=new Lv(e,t),this.near=r,this.far=i,this.camera=null,this.layers=new av,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return xV.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(xV),this}intersectObject(e,t=!0,r=[]){return NL(e,this,r,t),r.sort(SV),r}intersectObjects(e,t=!0,r=[]){for(let i=0,a=e.length;i<a;i++)NL(e[i],this,r,t);return r.sort(SV),r}}function SV(n,e){return n.distance-e.distance}function NL(n,e,t,r){let i=!0;if(n.layers.test(e.layers)&&n.raycast(e,t)===!1&&(i=!1),i===!0&&r===!0){const a=n.children;for(let o=0,s=a.length;o<s;o++)NL(a[o],e,t,!0)}}class OL{constructor(e=1,t=0,r=0){return this.radius=e,this.phi=t,this.theta=r,this}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(ui(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class ove{constructor(e=1,t=0,r=0){return this.radius=e,this.theta=t,this.y=r,this}set(e,t,r){return this.radius=e,this.theta=t,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=t,this}clone(){return new this.constructor().copy(this)}}const wV=new je;class sve{constructor(e=new je(1/0,1/0),t=new je(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=wV.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,wV).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const MV=new ne,bM=new ne;class lve{constructor(e=new ne,t=new ne){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){MV.subVectors(e,this.start),bM.subVectors(this.end,this.start);const r=bM.dot(bM);let a=bM.dot(MV)/r;return t&&(a=ui(a,0,1)),a}closestPointToPoint(e,t,r){const i=this.closestPointToPointParameter(e,t);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const TV=new ne;class uve extends hr{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const r=new Wn,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,s=1,l=32;o<l;o++,s++){const u=o/l*Math.PI*2,c=s/l*Math.PI*2;i.push(Math.cos(u),Math.sin(u),1,Math.cos(c),Math.sin(c),1)}r.setAttribute("position",new Qt(i,3));const a=new xo({fog:!1,toneMapped:!1});this.cone=new Ou(r,a),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),TV.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(TV),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Kf=new ne,AM=new xn,kP=new xn;class cve extends Ou{constructor(e){const t=Pj(e),r=new Wn,i=[],a=[],o=new zt(0,0,1),s=new zt(0,1,0);for(let u=0;u<t.length;u++){const c=t[u];c.parent&&c.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),a.push(o.r,o.g,o.b),a.push(s.r,s.g,s.b))}r.setAttribute("position",new Qt(i,3)),r.setAttribute("color",new Qt(a,3));const l=new xo({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,r=this.geometry,i=r.getAttribute("position");kP.copy(this.root.matrixWorld).invert();for(let a=0,o=0;a<t.length;a++){const s=t[a];s.parent&&s.parent.isBone&&(AM.multiplyMatrices(kP,s.matrixWorld),Kf.setFromMatrixPosition(AM),i.setXYZ(o,Kf.x,Kf.y,Kf.z),AM.multiplyMatrices(kP,s.parent.matrixWorld),Kf.setFromMatrixPosition(AM),i.setXYZ(o+1,Kf.x,Kf.y,Kf.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function Pj(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,Pj(n.children[t]));return e}class fve extends Pi{constructor(e,t,r){const i=new p1(t,4,2),a=new Hh({wireframe:!0,fog:!1,toneMapped:!1});super(i,a),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const hve=new ne,bV=new zt,AV=new zt;class dve extends hr{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new d1(t);i.rotateY(Math.PI*.5),this.material=new Hh({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const a=i.getAttribute("position"),o=new Float32Array(a.count*3);i.setAttribute("color",new Tr(o,3)),this.add(new Pi(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");bV.copy(this.light.color),AV.copy(this.light.groundColor);for(let r=0,i=t.count;r<i;r++){const a=r<i/2?bV:AV;t.setXYZ(r,a.r,a.g,a.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(hve.setFromMatrixPosition(this.light.matrixWorld).negate())}}class pve extends Ou{constructor(e=10,t=10,r=4473924,i=8947848){r=new zt(r),i=new zt(i);const a=t/2,o=e/t,s=e/2,l=[],u=[];for(let h=0,d=0,p=-s;h<=t;h++,p+=o){l.push(-s,0,p,s,0,p),l.push(p,0,-s,p,0,s);const g=h===a?r:i;g.toArray(u,d),d+=3,g.toArray(u,d),d+=3,g.toArray(u,d),d+=3,g.toArray(u,d),d+=3}const c=new Wn;c.setAttribute("position",new Qt(l,3)),c.setAttribute("color",new Qt(u,3));const f=new xo({vertexColors:!0,toneMapped:!1});super(c,f),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class vve extends Ou{constructor(e=10,t=16,r=8,i=64,a=4473924,o=8947848){a=new zt(a),o=new zt(o);const s=[],l=[];if(t>1)for(let f=0;f<t;f++){const h=f/t*(Math.PI*2),d=Math.sin(h)*e,p=Math.cos(h)*e;s.push(0,0,0),s.push(d,0,p);const g=f&1?a:o;l.push(g.r,g.g,g.b),l.push(g.r,g.g,g.b)}for(let f=0;f<r;f++){const h=f&1?a:o,d=e-e/r*f;for(let p=0;p<i;p++){let g=p/i*(Math.PI*2),m=Math.sin(g)*d,y=Math.cos(g)*d;s.push(m,0,y),l.push(h.r,h.g,h.b),g=(p+1)/i*(Math.PI*2),m=Math.sin(g)*d,y=Math.cos(g)*d,s.push(m,0,y),l.push(h.r,h.g,h.b)}}const u=new Wn;u.setAttribute("position",new Qt(s,3)),u.setAttribute("color",new Qt(l,3));const c=new xo({vertexColors:!0,toneMapped:!1});super(u,c),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const CV=new ne,CM=new ne,EV=new ne;class gve extends hr{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",t===void 0&&(t=1);let i=new Wn;i.setAttribute("position",new Qt([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const a=new xo({fog:!1,toneMapped:!1});this.lightPlane=new Ih(i,a),this.add(this.lightPlane),i=new Wn,i.setAttribute("position",new Qt([0,0,0,0,0,1],3)),this.targetLine=new Ih(i,a),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),CV.setFromMatrixPosition(this.light.matrixWorld),CM.setFromMatrixPosition(this.light.target.matrixWorld),EV.subVectors(CM,CV),this.lightPlane.lookAt(CM),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(CM),this.targetLine.scale.z=EV.length()}}const EM=new ne,oi=new u1;class mve extends Ou{constructor(e){const t=new Wn,r=new xo({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],a=[],o={};s("n1","n2"),s("n2","n4"),s("n4","n3"),s("n3","n1"),s("f1","f2"),s("f2","f4"),s("f4","f3"),s("f3","f1"),s("n1","f1"),s("n2","f2"),s("n3","f3"),s("n4","f4"),s("p","n1"),s("p","n2"),s("p","n3"),s("p","n4"),s("u1","u2"),s("u2","u3"),s("u3","u1"),s("c","t"),s("p","c"),s("cn1","cn2"),s("cn3","cn4"),s("cf1","cf2"),s("cf3","cf4");function s(p,g){l(p),l(g)}function l(p){i.push(0,0,0),a.push(0,0,0),o[p]===void 0&&(o[p]=[]),o[p].push(i.length/3-1)}t.setAttribute("position",new Qt(i,3)),t.setAttribute("color",new Qt(a,3)),super(t,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const u=new zt(16755200),c=new zt(16711680),f=new zt(43775),h=new zt(16777215),d=new zt(3355443);this.setColors(u,c,f,h,d)}setColors(e,t,r,i,a){const s=this.geometry.getAttribute("color");s.setXYZ(0,e.r,e.g,e.b),s.setXYZ(1,e.r,e.g,e.b),s.setXYZ(2,e.r,e.g,e.b),s.setXYZ(3,e.r,e.g,e.b),s.setXYZ(4,e.r,e.g,e.b),s.setXYZ(5,e.r,e.g,e.b),s.setXYZ(6,e.r,e.g,e.b),s.setXYZ(7,e.r,e.g,e.b),s.setXYZ(8,e.r,e.g,e.b),s.setXYZ(9,e.r,e.g,e.b),s.setXYZ(10,e.r,e.g,e.b),s.setXYZ(11,e.r,e.g,e.b),s.setXYZ(12,e.r,e.g,e.b),s.setXYZ(13,e.r,e.g,e.b),s.setXYZ(14,e.r,e.g,e.b),s.setXYZ(15,e.r,e.g,e.b),s.setXYZ(16,e.r,e.g,e.b),s.setXYZ(17,e.r,e.g,e.b),s.setXYZ(18,e.r,e.g,e.b),s.setXYZ(19,e.r,e.g,e.b),s.setXYZ(20,e.r,e.g,e.b),s.setXYZ(21,e.r,e.g,e.b),s.setXYZ(22,e.r,e.g,e.b),s.setXYZ(23,e.r,e.g,e.b),s.setXYZ(24,t.r,t.g,t.b),s.setXYZ(25,t.r,t.g,t.b),s.setXYZ(26,t.r,t.g,t.b),s.setXYZ(27,t.r,t.g,t.b),s.setXYZ(28,t.r,t.g,t.b),s.setXYZ(29,t.r,t.g,t.b),s.setXYZ(30,t.r,t.g,t.b),s.setXYZ(31,t.r,t.g,t.b),s.setXYZ(32,r.r,r.g,r.b),s.setXYZ(33,r.r,r.g,r.b),s.setXYZ(34,r.r,r.g,r.b),s.setXYZ(35,r.r,r.g,r.b),s.setXYZ(36,r.r,r.g,r.b),s.setXYZ(37,r.r,r.g,r.b),s.setXYZ(38,i.r,i.g,i.b),s.setXYZ(39,i.r,i.g,i.b),s.setXYZ(40,a.r,a.g,a.b),s.setXYZ(41,a.r,a.g,a.b),s.setXYZ(42,a.r,a.g,a.b),s.setXYZ(43,a.r,a.g,a.b),s.setXYZ(44,a.r,a.g,a.b),s.setXYZ(45,a.r,a.g,a.b),s.setXYZ(46,a.r,a.g,a.b),s.setXYZ(47,a.r,a.g,a.b),s.setXYZ(48,a.r,a.g,a.b),s.setXYZ(49,a.r,a.g,a.b),s.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,r=1,i=1;oi.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),pi("c",t,e,oi,0,0,-1),pi("t",t,e,oi,0,0,1),pi("n1",t,e,oi,-r,-i,-1),pi("n2",t,e,oi,r,-i,-1),pi("n3",t,e,oi,-r,i,-1),pi("n4",t,e,oi,r,i,-1),pi("f1",t,e,oi,-r,-i,1),pi("f2",t,e,oi,r,-i,1),pi("f3",t,e,oi,-r,i,1),pi("f4",t,e,oi,r,i,1),pi("u1",t,e,oi,r*.7,i*1.1,-1),pi("u2",t,e,oi,-r*.7,i*1.1,-1),pi("u3",t,e,oi,0,i*2,-1),pi("cf1",t,e,oi,-r,0,1),pi("cf2",t,e,oi,r,0,1),pi("cf3",t,e,oi,0,-i,1),pi("cf4",t,e,oi,0,i,1),pi("cn1",t,e,oi,-r,0,-1),pi("cn2",t,e,oi,r,0,-1),pi("cn3",t,e,oi,0,-i,-1),pi("cn4",t,e,oi,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function pi(n,e,t,r,i,a,o){EM.set(i,a,o).unproject(r);const s=e[n];if(s!==void 0){const l=t.getAttribute("position");for(let u=0,c=s.length;u<c;u++)l.setXYZ(s[u],EM.x,EM.y,EM.z)}}const PM=new vo;class yve extends Ou{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(24),a=new Wn;a.setIndex(new Tr(r,1)),a.setAttribute("position",new Tr(i,3)),super(a,new xo({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&PM.setFromObject(this.object),PM.isEmpty())return;const t=PM.min,r=PM.max,i=this.geometry.attributes.position,a=i.array;a[0]=r.x,a[1]=r.y,a[2]=r.z,a[3]=t.x,a[4]=r.y,a[5]=r.z,a[6]=t.x,a[7]=t.y,a[8]=r.z,a[9]=r.x,a[10]=t.y,a[11]=r.z,a[12]=r.x,a[13]=r.y,a[14]=t.z,a[15]=t.x,a[16]=r.y,a[17]=t.z,a[18]=t.x,a[19]=t.y,a[20]=t.z,a[21]=r.x,a[22]=t.y,a[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class _ve extends Ou{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],a=new Wn;a.setIndex(new Tr(r,1)),a.setAttribute("position",new Qt(i,3)),super(a,new xo({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class xve extends Ih{constructor(e,t=1,r=16776960){const i=r,a=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new Wn;o.setAttribute("position",new Qt(a,3)),o.computeBoundingSphere(),super(o,new xo({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const s=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new Wn;l.setAttribute("position",new Qt(s,3)),l.computeBoundingSphere(),this.add(new Pi(l,new Hh({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const PV=new ne;let DM,FP;class Sve extends hr{constructor(e=new ne(0,0,1),t=new ne(0,0,0),r=1,i=16776960,a=r*.2,o=a*.2){super(),this.type="ArrowHelper",DM===void 0&&(DM=new Wn,DM.setAttribute("position",new Qt([0,0,0,0,1,0],3)),FP=new Gy(0,.5,1,5,1),FP.translate(0,-.5,0)),this.position.copy(t),this.line=new Ih(DM,new xo({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Pi(FP,new Hh({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,a,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{PV.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(PV,t)}}setLength(e,t=e*.2,r=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class wve extends Ou{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new Wn;i.setAttribute("position",new Qt(t,3)),i.setAttribute("color",new Qt(r,3));const a=new xo({vertexColors:!0,toneMapped:!1});super(i,a),this.type="AxesHelper"}setColors(e,t,r){const i=new zt,a=this.geometry.attributes.color.array;return i.set(e),i.toArray(a,0),i.toArray(a,3),i.set(t),i.toArray(a,6),i.toArray(a,9),i.set(r),i.toArray(a,12),i.toArray(a,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Mve{constructor(){this.type="ShapePath",this.color=new zt,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new mS,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,r,i){return this.currentPath.quadraticCurveTo(e,t,r,i),this}bezierCurveTo(e,t,r,i,a,o){return this.currentPath.bezierCurveTo(e,t,r,i,a,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(y){const S=[];for(let M=0,b=y.length;M<b;M++){const C=y[M],A=new ov;A.curves=C.curves,S.push(A)}return S}function r(y,S){const M=S.length;let b=!1;for(let C=M-1,A=0;A<M;C=A++){let E=S[C],I=S[A],L=I.x-E.x,R=I.y-E.y;if(Math.abs(R)>Number.EPSILON){if(R<0&&(E=S[A],L=-L,I=S[C],R=-R),y.y<E.y||y.y>I.y)continue;if(y.y===E.y){if(y.x===E.x)return!0}else{const O=R*(y.x-E.x)-L*(y.y-E.y);if(O===0)return!0;if(O<0)continue;b=!b}}else{if(y.y!==E.y)continue;if(I.x<=y.x&&y.x<=E.x||E.x<=y.x&&y.x<=I.x)return!0}}return b}const i=Cu.isClockWise,a=this.subPaths;if(a.length===0)return[];let o,s,l;const u=[];if(a.length===1)return s=a[0],l=new ov,l.curves=s.curves,u.push(l),u;let c=!i(a[0].getPoints());c=e?!c:c;const f=[],h=[];let d=[],p=0,g;h[p]=void 0,d[p]=[];for(let y=0,S=a.length;y<S;y++)s=a[y],g=s.getPoints(),o=i(g),o=e?!o:o,o?(!c&&h[p]&&p++,h[p]={s:new ov,p:g},h[p].s.curves=s.curves,c&&p++,d[p]=[]):d[p].push({h:s,p:g[0]});if(!h[0])return t(a);if(h.length>1){let y=!1,S=0;for(let M=0,b=h.length;M<b;M++)f[M]=[];for(let M=0,b=h.length;M<b;M++){const C=d[M];for(let A=0;A<C.length;A++){const E=C[A];let I=!0;for(let L=0;L<h.length;L++)r(E.p,h[L].p)&&(M!==L&&S++,I?(I=!1,f[L].push(E)):y=!0);I&&f[M].push(E)}}S>0&&y===!1&&(d=f)}let m;for(let y=0,S=h.length;y<S;y++){l=h[y].s,u.push(l),m=d[y];for(let M=0,b=m.length;M<b;M++)l.holes.push(m[M].h)}return u}}class Tve extends Bl{constructor(e=1,t=1,r=1,i={}){console.warn('THREE.WebGLMultipleRenderTargets has been deprecated and will be removed in r172. Use THREE.WebGLRenderTarget and set the "count" parameter to enable MRT.'),super(e,t,{...i,count:r}),this.isWebGLMultipleRenderTargets=!0}get texture(){return this.textures}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:kA}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=kA);const bve=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:yO,AddEquation:dh,AddOperation:GX,AdditiveAnimationBlendMode:CO,AdditiveBlending:$2,AgXToneMapping:jX,AlphaFormat:QX,AlwaysCompare:mY,AlwaysDepth:OX,AlwaysStencilFunc:bL,AmbientLight:_j,AnimationAction:Cj,AnimationClip:MS,AnimationLoader:Cpe,AnimationMixer:tve,AnimationObjectGroup:Qpe,AnimationUtils:Mpe,ArcCurve:WY,ArrayCamera:NY,ArrowHelper:Sve,AttachedBindMode:J2,Audio:bj,AudioAnalyser:Hpe,AudioContext:ek,AudioListener:Upe,AudioLoader:Fpe,AxesHelper:wve,BackSide:ya,BasicDepthPacking:lY,BasicShadowMap:vX,BatchedMesh:VY,Bone:UO,BooleanKeyframeTrack:Nv,Box2:sve,Box3:vo,Box3Helper:_ve,BoxGeometry:Iv,BoxHelper:yve,BufferAttribute:Tr,BufferGeometry:Wn,BufferGeometryLoader:Tj,ByteType:qX,Cache:kc,Camera:u1,CameraHelper:mve,CanvasTexture:jde,CapsuleGeometry:$A,CatmullRomCurve3:XY,CineonToneMapping:XX,CircleGeometry:qA,ClampToEdgeWrapping:Bs,Clock:tk,Color:zt,ColorKeyframeTrack:KO,ColorManagement:vr,CompressedArrayTexture:Xde,CompressedCubeTexture:Yde,CompressedTexture:jA,CompressedTextureLoader:Epe,ConeGeometry:KA,ConstantAlphaFactor:LX,ConstantColorFactor:DX,CubeCamera:bY,CubeReflectionMapping:Kc,CubeRefractionMapping:Lh,CubeTexture:c1,CubeTextureLoader:Ppe,CubeUVReflectionMapping:By,CubicBezierCurve:HO,CubicBezierCurve3:YY,CubicInterpolant:fj,CullFaceBack:Z2,CullFaceFront:pX,CullFaceFrontBack:Rse,CullFaceNone:dX,Curve:Xl,CurvePath:ZY,CustomBlending:gX,CustomToneMapping:YX,CylinderGeometry:Gy,Cylindrical:ove,Data3DTexture:RO,DataArrayTexture:VA,DataTexture:Yc,DataTextureLoader:Dpe,DataUtils:Vle,DecrementStencilOp:Gse,DecrementWrapStencilOp:Wse,DefaultLoadingManager:pj,DepthFormat:rv,DepthStencilFormat:mv,DepthTexture:OO,DetachedBindMode:$X,DirectionalLight:yj,DirectionalLightHelper:gve,DiscreteInterpolant:hj,DisplayP3ColorSpace:UA,DodecahedronGeometry:JA,DoubleSide:gu,DstAlphaFactor:bX,DstColorFactor:CX,DynamicCopyUsage:ale,DynamicDrawUsage:Qse,DynamicReadUsage:nle,EdgesGeometry:$Y,EllipseCurve:ZA,EqualCompare:dY,EqualDepth:FX,EqualStencilFunc:Zse,EquirectangularReflectionMapping:iS,EquirectangularRefractionMapping:aS,Euler:hs,EventDispatcher:uf,ExtrudeGeometry:eC,FileLoader:Jc,Float16BufferAttribute:jle,Float32BufferAttribute:Qt,FloatType:as,Fog:WA,FogExp2:HA,FramebufferTexture:Wde,FrontSide:qc,Frustum:f1,GLBufferAttribute:ave,GLSL1:sle,GLSL3:AL,GreaterCompare:pY,GreaterDepth:BX,GreaterEqualCompare:gY,GreaterEqualDepth:zX,GreaterEqualStencilFunc:Jse,GreaterStencilFunc:qse,GridHelper:pve,Group:Jm,HalfFloatType:s1,HemisphereLight:vj,HemisphereLightHelper:dve,IcosahedronGeometry:tC,ImageBitmapLoader:kpe,ImageLoader:TS,ImageUtils:xY,IncrementStencilOp:Vse,IncrementWrapStencilOp:Hse,InstancedBufferAttribute:xy,InstancedBufferGeometry:Mj,InstancedInterleavedBuffer:ive,InstancedMesh:UY,Int16BufferAttribute:Xle,Int32BufferAttribute:Yle,Int8BufferAttribute:Gle,IntType:xO,InterleavedBuffer:XA,InterleavedBufferAttribute:yv,Interpolant:v1,InterpolateDiscrete:uS,InterpolateLinear:bb,InterpolateSmooth:XT,InvertStencilOp:Xse,KeepStencilOp:Tp,KeyframeTrack:Yl,LOD:zY,LatheGeometry:h1,Layers:av,LessCompare:hY,LessDepth:kX,LessEqualCompare:EO,LessEqualDepth:rS,LessEqualStencilFunc:$se,LessStencilFunc:jse,Light:Xh,LightProbe:wj,Line:Ih,Line3:lve,LineBasicMaterial:xo,LineCurve:WO,LineCurve3:jY,LineDashedMaterial:lj,LineLoop:GY,LineSegments:Ou,LinearDisplayP3ColorSpace:l1,LinearFilter:Ei,LinearInterpolant:qO,LinearMipMapLinearFilter:Ose,LinearMipMapNearestFilter:Nse,LinearMipmapLinearFilter:_u,LinearMipmapNearestFilter:Ex,LinearSRGBColorSpace:lf,LinearToneMapping:HX,LinearTransfer:fS,Loader:Go,LoaderUtils:IL,LoadingManager:JO,LoopOnce:aY,LoopPingPong:sY,LoopRepeat:oY,LuminanceAlphaFormat:nY,LuminanceFormat:tY,MOUSE:wp,Material:ja,MaterialLoader:uC,MathUtils:Tle,Matrix3:zn,Matrix4:xn,MaxEquation:xX,Mesh:Pi,MeshBasicMaterial:Hh,MeshDepthMaterial:kO,MeshDistanceMaterial:FO,MeshLambertMaterial:oj,MeshMatcapMaterial:sj,MeshNormalMaterial:aj,MeshPhongMaterial:rj,MeshPhysicalMaterial:nj,MeshStandardMaterial:ZO,MeshToonMaterial:ij,MinEquation:_X,MirroredRepeatWrapping:sS,MixOperation:VX,MultiplyBlending:K2,MultiplyOperation:o1,NearestFilter:ra,NearestMipMapLinearFilter:Ise,NearestMipMapNearestFilter:Lse,NearestMipmapLinearFilter:$m,NearestMipmapNearestFilter:_O,NeutralToneMapping:ZX,NeverCompare:fY,NeverDepth:NX,NeverStencilFunc:Yse,NoBlending:Xc,NoColorSpace:Nc,NoToneMapping:Au,NormalAnimationBlendMode:BA,NormalBlending:nv,NotEqualCompare:vY,NotEqualDepth:UX,NotEqualStencilFunc:Kse,NumberKeyframeTrack:SS,Object3D:hr,ObjectLoader:Npe,ObjectSpaceNormalMap:cY,OctahedronGeometry:d1,OneFactor:wX,OneMinusConstantAlphaFactor:IX,OneMinusConstantColorFactor:RX,OneMinusDstAlphaFactor:AX,OneMinusDstColorFactor:EX,OneMinusSrcAlphaFactor:Tb,OneMinusSrcColorFactor:TX,OrthographicCamera:wh,P3Primaries:dS,PCFShadowMap:FA,PCFSoftShadowMap:Cx,PMREMGenerator:CL,Path:mS,PerspectiveCamera:mi,Plane:Ic,PlaneGeometry:Uy,PlaneHelper:xve,PointLight:mj,PointLightHelper:fve,Points:HY,PointsMaterial:VO,PolarGridHelper:vve,PolyhedronGeometry:Wh,PositionalAudio:Gpe,PropertyBinding:cr,PropertyMixer:Aj,QuadraticBezierCurve:XO,QuadraticBezierCurve3:YO,Quaternion:Ua,QuaternionKeyframeTrack:g1,QuaternionLinearInterpolant:dj,RED_GREEN_RGTC2_Format:ML,RED_RGTC1_Format:iY,REVISION:kA,RGBADepthPacking:uY,RGBAFormat:po,RGBAIntegerFormat:AO,RGBA_ASTC_10x10_Format:mL,RGBA_ASTC_10x5_Format:pL,RGBA_ASTC_10x6_Format:vL,RGBA_ASTC_10x8_Format:gL,RGBA_ASTC_12x10_Format:yL,RGBA_ASTC_12x12_Format:_L,RGBA_ASTC_4x4_Format:oL,RGBA_ASTC_5x4_Format:sL,RGBA_ASTC_5x5_Format:lL,RGBA_ASTC_6x5_Format:uL,RGBA_ASTC_6x6_Format:cL,RGBA_ASTC_8x5_Format:fL,RGBA_ASTC_8x6_Format:hL,RGBA_ASTC_8x8_Format:dL,RGBA_BPTC_Format:WT,RGBA_ETC2_EAC_Format:aL,RGBA_PVRTC_2BPPV1_Format:nL,RGBA_PVRTC_4BPPV1_Format:tL,RGBA_S3TC_DXT1_Format:VT,RGBA_S3TC_DXT3_Format:GT,RGBA_S3TC_DXT5_Format:HT,RGBFormat:eY,RGB_BPTC_SIGNED_Format:xL,RGB_BPTC_UNSIGNED_Format:SL,RGB_ETC1_Format:rL,RGB_ETC2_Format:iL,RGB_PVRTC_2BPPV1_Format:eL,RGB_PVRTC_4BPPV1_Format:Q2,RGB_S3TC_DXT1_Format:UT,RGFormat:rY,RGIntegerFormat:bO,RawShaderMaterial:tj,Ray:Lv,Raycaster:Ej,Rec709Primaries:hS,RectAreaLight:xj,RedFormat:MO,RedIntegerFormat:TO,ReinhardToneMapping:WX,RenderTarget:SY,RepeatWrapping:oS,ReplaceStencilOp:Use,ReverseSubtractEquation:yX,RingGeometry:nC,SIGNED_RED_GREEN_RGTC2_Format:TL,SIGNED_RED_RGTC1_Format:wL,SRGBColorSpace:Fo,SRGBTransfer:kr,Scene:zO,ShaderChunk:Gn,ShaderLib:Rl,ShaderMaterial:Ul,ShadowMaterial:ej,Shape:ov,ShapeGeometry:rC,ShapePath:Mve,ShapeUtils:Cu,ShortType:KX,Skeleton:YA,SkeletonHelper:cve,SkinnedMesh:BY,Source:Hp,Sphere:Va,SphereGeometry:p1,Spherical:OL,SphericalHarmonics3:Sj,SplineCurve:jO,SpotLight:gj,SpotLightHelper:uve,Sprite:FY,SpriteMaterial:BO,SrcAlphaFactor:Mb,SrcAlphaSaturateFactor:PX,SrcColorFactor:MX,StaticCopyUsage:ile,StaticDrawUsage:pS,StaticReadUsage:tle,StereoCamera:zpe,StreamCopyUsage:ole,StreamDrawUsage:ele,StreamReadUsage:rle,StringKeyframeTrack:Ov,SubtractEquation:mX,SubtractiveBlending:q2,TOUCH:Mp,TangentSpaceNormalMap:Gh,TetrahedronGeometry:iC,Texture:$r,TextureLoader:lC,TorusGeometry:aC,TorusKnotGeometry:oC,Triangle:Wp,TriangleFanDrawMode:zse,TriangleStripDrawMode:Fse,TrianglesDrawMode:kse,TubeGeometry:sC,UVMapping:zA,Uint16BufferAttribute:LO,Uint32BufferAttribute:IO,Uint8BufferAttribute:Hle,Uint8ClampedBufferAttribute:Wle,Uniform:ik,UniformsGroup:rve,UniformsLib:Tt,UniformsUtils:TY,UnsignedByteType:Ru,UnsignedInt248Type:gv,UnsignedInt5999Type:JX,UnsignedIntType:vv,UnsignedShort4444Type:SO,UnsignedShort5551Type:wO,UnsignedShortType:lS,VSMShadowMap:El,Vector2:je,Vector3:ne,Vector4:Mr,VectorKeyframeTrack:wS,VideoTexture:Hde,WebGL3DRenderTarget:Rle,WebGLArrayRenderTarget:Dle,WebGLCoordinateSystem:xu,WebGLCubeRenderTarget:AY,WebGLMultipleRenderTargets:Tve,WebGLRenderTarget:Bl,WebGLRenderer:OY,WebGLUtils:IY,WebGPUCoordinateSystem:vS,WireframeGeometry:QY,WrapAroundEnding:cS,ZeroCurvatureEnding:Vp,ZeroFactor:SX,ZeroSlopeEnding:Gp,ZeroStencilOp:Bse,createCanvasElement:_Y},Symbol.toStringTag,{value:"Module"}));var zP={exports:{}},Jf={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DV;function Ave(){return DV||(DV=1,Jf.ConcurrentRoot=1,Jf.ContinuousEventPriority=4,Jf.DefaultEventPriority=16,Jf.DiscreteEventPriority=1,Jf.IdleEventPriority=536870912,Jf.LegacyRoot=0),Jf}var RV;function Cve(){return RV||(RV=1,zP.exports=Ave()),zP.exports}var ey=Cve();function Eve(n){let e;const t=new Set,r=(u,c)=>{const f=typeof u=="function"?u(e):u;if(f!==e){const h=e;e=c?f:Object.assign({},e,f),t.forEach(d=>d(e,h))}},i=()=>e,a=(u,c=i,f=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let h=c(e);function d(){const p=c(e);if(!f(h,p)){const g=h;u(h=p,g)}}return t.add(d),()=>t.delete(d)},l={setState:r,getState:i,subscribe:(u,c,f)=>c||f?a(u,c,f):(t.add(u),()=>t.delete(u)),destroy:()=>t.clear()};return e=n(r,i,l),l}const Pve=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),LV=Pve?de.useEffect:de.useLayoutEffect;function Dve(n){const e=typeof n=="function"?Eve(n):n,t=(r=e.getState,i=Object.is)=>{const[,a]=de.useReducer(m=>m+1,0),o=e.getState(),s=de.useRef(o),l=de.useRef(r),u=de.useRef(i),c=de.useRef(!1),f=de.useRef();f.current===void 0&&(f.current=r(o));let h,d=!1;(s.current!==o||l.current!==r||u.current!==i||c.current)&&(h=r(o),d=!i(f.current,h)),LV(()=>{d&&(f.current=h),s.current=o,l.current=r,u.current=i,c.current=!1});const p=de.useRef(o);LV(()=>{const m=()=>{try{const S=e.getState(),M=l.current(S);u.current(f.current,M)||(s.current=S,f.current=M,a())}catch{c.current=!0,a()}},y=e.subscribe(m);return e.getState()!==p.current&&m(),y},[]);const g=d?h:f.current;return de.useDebugValue(g),g};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[t,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},t}const Rve=n=>typeof n=="object"&&typeof n.then=="function",Yp=[];function Dj(n,e,t=(r,i)=>r===i){if(n===e)return!0;if(!n||!e)return!1;const r=n.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!t(n[i],e[i]))return!1;return!0}function Rj(n,e=null,t=!1,r={}){e===null&&(e=[n]);for(const a of Yp)if(Dj(e,a.keys,a.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(a,"error"))throw a.error;if(Object.prototype.hasOwnProperty.call(a,"response"))return r.lifespan&&r.lifespan>0&&(a.timeout&&clearTimeout(a.timeout),a.timeout=setTimeout(a.remove,r.lifespan)),a.response;if(!t)throw a.promise}const i={keys:e,equal:r.equal,remove:()=>{const a=Yp.indexOf(i);a!==-1&&Yp.splice(a,1)},promise:(Rve(n)?n:n(...e)).then(a=>{i.response=a,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(a=>i.error=a)};if(Yp.push(i),!t)throw i.promise}const Lve=(n,e,t)=>Rj(n,e,!1,t),Ive=(n,e,t)=>void Rj(n,e,!0,t),Nve=n=>{if(n===void 0||n.length===0)Yp.splice(0,Yp.length);else{const e=Yp.find(t=>Dj(n,t.keys,t.equal));e&&e.remove()}};var BP={exports:{}},UP={exports:{}},VP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IV;function Ove(){return IV||(IV=1,(function(n){function e(B,Z){var q=B.length;B.push(Z);e:for(;0<q;){var Y=q-1>>>1,te=B[Y];if(0<i(te,Z))B[Y]=Z,B[q]=te,q=Y;else break e}}function t(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var Z=B[0],q=B.pop();if(q!==Z){B[0]=q;e:for(var Y=0,te=B.length,me=te>>>1;Y<me;){var ae=2*(Y+1)-1,fe=B[ae],be=ae+1,Ee=B[be];if(0>i(fe,q))be<te&&0>i(Ee,fe)?(B[Y]=Ee,B[be]=q,Y=be):(B[Y]=fe,B[ae]=q,Y=ae);else if(be<te&&0>i(Ee,q))B[Y]=Ee,B[be]=q,Y=be;else break e}}return Z}function i(B,Z){var q=B.sortIndex-Z.sortIndex;return q!==0?q:B.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();n.unstable_now=function(){return o.now()-s}}var l=[],u=[],c=1,f=null,h=3,d=!1,p=!1,g=!1,m=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(B){for(var Z=t(u);Z!==null;){if(Z.callback===null)r(u);else if(Z.startTime<=B)r(u),Z.sortIndex=Z.expirationTime,e(l,Z);else break;Z=t(u)}}function b(B){if(g=!1,M(B),!p)if(t(l)!==null)p=!0,j(C);else{var Z=t(u);Z!==null&&Q(b,Z.startTime-B)}}function C(B,Z){p=!1,g&&(g=!1,y(I),I=-1),d=!0;var q=h;try{for(M(Z),f=t(l);f!==null&&(!(f.expirationTime>Z)||B&&!O());){var Y=f.callback;if(typeof Y=="function"){f.callback=null,h=f.priorityLevel;var te=Y(f.expirationTime<=Z);Z=n.unstable_now(),typeof te=="function"?f.callback=te:f===t(l)&&r(l),M(Z)}else r(l);f=t(l)}if(f!==null)var me=!0;else{var ae=t(u);ae!==null&&Q(b,ae.startTime-Z),me=!1}return me}finally{f=null,h=q,d=!1}}var A=!1,E=null,I=-1,L=5,R=-1;function O(){return!(n.unstable_now()-R<L)}function U(){if(E!==null){var B=n.unstable_now();R=B;var Z=!0;try{Z=E(!0,B)}finally{Z?V():(A=!1,E=null)}}else A=!1}var V;if(typeof S=="function")V=function(){S(U)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,X=W.port2;W.port1.onmessage=U,V=function(){X.postMessage(null)}}else V=function(){m(U,0)};function j(B){E=B,A||(A=!0,V())}function Q(B,Z){I=m(function(){B(n.unstable_now())},Z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(B){B.callback=null},n.unstable_continueExecution=function(){p||d||(p=!0,j(C))},n.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<B?Math.floor(1e3/B):5},n.unstable_getCurrentPriorityLevel=function(){return h},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(B){switch(h){case 1:case 2:case 3:var Z=3;break;default:Z=h}var q=h;h=Z;try{return B()}finally{h=q}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(B,Z){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var q=h;h=B;try{return Z()}finally{h=q}},n.unstable_scheduleCallback=function(B,Z,q){var Y=n.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?Y+q:Y):q=Y,B){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=q+te,B={id:c++,callback:Z,priorityLevel:B,startTime:q,expirationTime:te,sortIndex:-1},q>Y?(B.sortIndex=q,e(u,B),t(l)===null&&B===t(u)&&(g?(y(I),I=-1):g=!0,Q(b,q-Y))):(B.sortIndex=te,e(l,B),p||d||(p=!0,j(C))),B},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(B){var Z=h;return function(){var q=h;h=Z;try{return B.apply(this,arguments)}finally{h=q}}}})(VP)),VP}var NV;function kve(){return NV||(NV=1,UP.exports=Ove()),UP.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GP,OV;function Fve(){return OV||(OV=1,GP=function(e){var t={},r=Oy(),i=kve(),a=Object.assign;function o(x){for(var w="https://reactjs.org/docs/error-decoder.html?invariant="+x,P=1;P<arguments.length;P++)w+="&args[]="+encodeURIComponent(arguments[P]);return"Minified React error #"+x+"; visit "+w+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),u=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),p=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),y=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen"),C=Symbol.iterator;function A(x){return x===null||typeof x!="object"?null:(x=C&&x[C]||x["@@iterator"],typeof x=="function"?x:null)}function E(x){if(x==null)return null;if(typeof x=="function")return x.displayName||x.name||null;if(typeof x=="string")return x;switch(x){case c:return"Fragment";case u:return"Portal";case h:return"Profiler";case f:return"StrictMode";case m:return"Suspense";case y:return"SuspenseList"}if(typeof x=="object")switch(x.$$typeof){case p:return(x.displayName||"Context")+".Consumer";case d:return(x._context.displayName||"Context")+".Provider";case g:var w=x.render;return x=x.displayName,x||(x=w.displayName||w.name||"",x=x!==""?"ForwardRef("+x+")":"ForwardRef"),x;case S:return w=x.displayName||null,w!==null?w:E(x.type)||"Memo";case M:w=x._payload,x=x._init;try{return E(x(w))}catch{}}return null}function I(x){var w=x.type;switch(x.tag){case 24:return"Cache";case 9:return(w.displayName||"Context")+".Consumer";case 10:return(w._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return x=w.render,x=x.displayName||x.name||"",w.displayName||(x!==""?"ForwardRef("+x+")":"ForwardRef");case 7:return"Fragment";case 5:return w;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return E(w);case 8:return w===f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof w=="function")return w.displayName||w.name||null;if(typeof w=="string")return w}return null}function L(x){var w=x,P=x;if(x.alternate)for(;w.return;)w=w.return;else{x=w;do w=x,(w.flags&4098)!==0&&(P=w.return),x=w.return;while(x)}return w.tag===3?P:null}function R(x){if(L(x)!==x)throw Error(o(188))}function O(x){var w=x.alternate;if(!w){if(w=L(x),w===null)throw Error(o(188));return w!==x?null:x}for(var P=x,N=w;;){var F=P.return;if(F===null)break;var H=F.alternate;if(H===null){if(N=F.return,N!==null){P=N;continue}break}if(F.child===H.child){for(H=F.child;H;){if(H===P)return R(F),x;if(H===N)return R(F),w;H=H.sibling}throw Error(o(188))}if(P.return!==N.return)P=F,N=H;else{for(var ie=!1,ye=F.child;ye;){if(ye===P){ie=!0,P=F,N=H;break}if(ye===N){ie=!0,N=F,P=H;break}ye=ye.sibling}if(!ie){for(ye=H.child;ye;){if(ye===P){ie=!0,P=H,N=F;break}if(ye===N){ie=!0,N=H,P=F;break}ye=ye.sibling}if(!ie)throw Error(o(189))}}if(P.alternate!==N)throw Error(o(190))}if(P.tag!==3)throw Error(o(188));return P.stateNode.current===P?x:w}function U(x){return x=O(x),x!==null?V(x):null}function V(x){if(x.tag===5||x.tag===6)return x;for(x=x.child;x!==null;){var w=V(x);if(w!==null)return w;x=x.sibling}return null}function W(x){if(x.tag===5||x.tag===6)return x;for(x=x.child;x!==null;){if(x.tag!==4){var w=W(x);if(w!==null)return w}x=x.sibling}return null}var X=Array.isArray,j=e.getPublicInstance,Q=e.getRootHostContext,B=e.getChildHostContext,Z=e.prepareForCommit,q=e.resetAfterCommit,Y=e.createInstance,te=e.appendInitialChild,me=e.finalizeInitialChildren,ae=e.prepareUpdate,fe=e.shouldSetTextContent,be=e.createTextInstance,Ee=e.scheduleTimeout,Be=e.cancelTimeout,Oe=e.noTimeout,$e=e.isPrimaryRenderer,ee=e.supportsMutation,ve=e.supportsPersistence,Ae=e.supportsHydration,Ue=e.getInstanceFromNode,Ge=e.preparePortalMount,He=e.getCurrentEventPriority,ot=e.detachDeletedInstance,ct=e.supportsMicrotasks,Rt=e.scheduleMicrotask,re=e.supportsTestSelectors,K=e.findFiberRoot,Pe=e.getBoundingRect,Ze=e.getTextContent,Ye=e.isHiddenSubtree,Qe=e.matchAccessibilityRole,Yt=e.setFocusIfFocusable,vt=e.setupIntersectionObserver,ft=e.appendChild,rn=e.appendChildToContainer,at=e.commitTextUpdate,bt=e.commitMount,Rn=e.commitUpdate,Kt=e.insertBefore,St=e.insertInContainerBefore,mn=e.removeChild,ce=e.removeChildFromContainer,et=e.resetTextContent,oe=e.hideInstance,Ke=e.hideTextInstance,ke=e.unhideInstance,Xe=e.unhideTextInstance,tt=e.clearContainer,hn=e.cloneInstance,In=e.createContainerChildSet,Yn=e.appendChildToContainerChildSet,Kn=e.finalizeContainerChildren,Pn=e.replaceContainerChildren,Ar=e.cloneHiddenInstance,Gr=e.cloneHiddenTextInstance,ni=e.canHydrateInstance,le=e.canHydrateTextInstance,_e=e.canHydrateSuspenseInstance,Ie=e.isSuspenseInstancePending,qe=e.isSuspenseInstanceFallback,mt=e.registerSuspenseInstanceRetry,Lt=e.getNextHydratableSibling,ln=e.getFirstHydratableChild,kt=e.getFirstHydratableChildWithinContainer,Gt=e.getFirstHydratableChildWithinSuspenseInstance,It=e.hydrateInstance,Ft=e.hydrateTextInstance,J=e.hydrateSuspenseInstance,ue=e.getNextHydratableInstanceAfterSuspenseInstance,Me=e.commitHydratedContainer,we=e.commitHydratedSuspenseInstance,pe=e.clearSuspenseBoundary,Je=e.clearSuspenseBoundaryFromContainer,wt=e.shouldDeleteUnhydratedTailInstances,Et=e.didNotMatchHydratedContainerTextInstance,Pt=e.didNotMatchHydratedTextInstance,yt;function an(x){if(yt===void 0)try{throw Error()}catch(P){var w=P.stack.trim().match(/\n( *(at )?)/);yt=w&&w[1]||""}return`
`+yt+x}var jt=!1;function Dn(x,w){if(!x||jt)return"";jt=!0;var P=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(w)if(w=function(){throw Error()},Object.defineProperty(w.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(w,[])}catch(dt){var N=dt}Reflect.construct(x,[],w)}else{try{w.call()}catch(dt){N=dt}x.call(w.prototype)}else{try{throw Error()}catch(dt){N=dt}x()}}catch(dt){if(dt&&N&&typeof dt.stack=="string"){for(var F=dt.stack.split(`
`),H=N.stack.split(`
`),ie=F.length-1,ye=H.length-1;1<=ie&&0<=ye&&F[ie]!==H[ye];)ye--;for(;1<=ie&&0<=ye;ie--,ye--)if(F[ie]!==H[ye]){if(ie!==1||ye!==1)do if(ie--,ye--,0>ye||F[ie]!==H[ye]){var We=`
`+F[ie].replace(" at new "," at ");return x.displayName&&We.includes("<anonymous>")&&(We=We.replace("<anonymous>",x.displayName)),We}while(1<=ie&&0<=ye);break}}}finally{jt=!1,Error.prepareStackTrace=P}return(x=x?x.displayName||x.name:"")?an(x):""}var ir=Object.prototype.hasOwnProperty,lr=[],sn=-1;function Ht(x){return{current:x}}function st(x){0>sn||(x.current=lr[sn],lr[sn]=null,sn--)}function yn(x,w){sn++,lr[sn]=x.current,x.current=w}var Nt={},nr=Ht(Nt),Hr=Ht(!1),Li=Nt;function $a(x,w){var P=x.type.contextTypes;if(!P)return Nt;var N=x.stateNode;if(N&&N.__reactInternalMemoizedUnmaskedChildContext===w)return N.__reactInternalMemoizedMaskedChildContext;var F={},H;for(H in P)F[H]=w[H];return N&&(x=x.stateNode,x.__reactInternalMemoizedUnmaskedChildContext=w,x.__reactInternalMemoizedMaskedChildContext=F),F}function jn(x){return x=x.childContextTypes,x!=null}function Ii(){st(Hr),st(nr)}function $s(x,w,P){if(nr.current!==Nt)throw Error(o(168));yn(nr,w),yn(Hr,P)}function aa(x,w,P){var N=x.stateNode;if(w=w.childContextTypes,typeof N.getChildContext!="function")return P;N=N.getChildContext();for(var F in N)if(!(F in w))throw Error(o(108,I(x)||"Unknown",F));return a({},P,N)}function Zl(x){return x=(x=x.stateNode)&&x.__reactInternalMemoizedMergedChildContext||Nt,Li=nr.current,yn(nr,x),yn(Hr,Hr.current),!0}function ff(x,w,P){var N=x.stateNode;if(!N)throw Error(o(169));P?(x=aa(x,w,Li),N.__reactInternalMemoizedMergedChildContext=x,st(Hr),st(nr),yn(nr,x)):st(Hr),yn(Hr,P)}var oa=Math.clz32?Math.clz32:eE,c0=Math.log,Kh=Math.LN2;function eE(x){return x>>>=0,x===0?32:31-(c0(x)/Kh|0)|0}var hf=64,ar=4194304;function df(x){switch(x&-x){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return x&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return x&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return x}}function Jh(x,w){var P=x.pendingLanes;if(P===0)return 0;var N=0,F=x.suspendedLanes,H=x.pingedLanes,ie=P&268435455;if(ie!==0){var ye=ie&~F;ye!==0?N=df(ye):(H&=ie,H!==0&&(N=df(H)))}else ie=P&~F,ie!==0?N=df(ie):H!==0&&(N=df(H));if(N===0)return 0;if(w!==0&&w!==N&&(w&F)===0&&(F=N&-N,H=w&-w,F>=H||F===16&&(H&4194240)!==0))return w;if((N&4)!==0&&(N|=P&16),w=x.entangledLanes,w!==0)for(x=x.entanglements,w&=N;0<w;)P=31-oa(w),F=1<<P,N|=x[P],w&=~F;return N}function f0(x,w){switch(x){case 1:case 2:case 4:return w+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return w+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function G1(x,w){for(var P=x.suspendedLanes,N=x.pingedLanes,F=x.expirationTimes,H=x.pendingLanes;0<H;){var ie=31-oa(H),ye=1<<ie,We=F[ie];We===-1?((ye&P)===0||(ye&N)!==0)&&(F[ie]=f0(ye,w)):We<=w&&(x.expiredLanes|=ye),H&=~ye}}function Xv(x){return x=x.pendingLanes&-1073741825,x!==0?x:x&1073741824?1073741824:0}function Yv(x){for(var w=[],P=0;31>P;P++)w.push(x);return w}function Uu(x,w,P){x.pendingLanes|=w,w!==536870912&&(x.suspendedLanes=0,x.pingedLanes=0),x=x.eventTimes,w=31-oa(w),x[w]=P}function jv(x,w){var P=x.pendingLanes&~w;x.pendingLanes=w,x.suspendedLanes=0,x.pingedLanes=0,x.expiredLanes&=w,x.mutableReadLanes&=w,x.entangledLanes&=w,w=x.entanglements;var N=x.eventTimes;for(x=x.expirationTimes;0<P;){var F=31-oa(P),H=1<<F;w[F]=0,N[F]=-1,x[F]=-1,P&=~H}}function ps(x,w){var P=x.entangledLanes|=w;for(x=x.entanglements;P;){var N=31-oa(P),F=1<<N;F&w|x[N]&w&&(x[N]|=w),P&=~F}}var Vn=0;function qs(x){return x&=-x,1<x?4<x?(x&268435455)!==0?16:536870912:4:1}var Vu=i.unstable_scheduleCallback,pf=i.unstable_cancelCallback,$l=i.unstable_shouldYield,tE=i.unstable_requestPaint,fi=i.unstable_now,Gu=i.unstable_ImmediatePriority,nE=i.unstable_UserBlockingPriority,Zv=i.unstable_NormalPriority,$v=i.unstable_IdlePriority,Qh=null,vs=null;function ed(x){if(vs&&typeof vs.onCommitFiberRoot=="function")try{vs.onCommitFiberRoot(Qh,x,void 0,(x.current.flags&128)===128)}catch{}}function td(x,w){return x===w&&(x!==0||1/x===1/w)||x!==x&&w!==w}var sa=typeof Object.is=="function"?Object.is:td,So=null,qv=!1,h0=!1;function Kv(x){So===null?So=[x]:So.push(x)}function Jv(x){qv=!0,Kv(x)}function wo(){if(!h0&&So!==null){h0=!0;var x=0,w=Vn;try{var P=So;for(Vn=1;x<P.length;x++){var N=P[x];do N=N(!0);while(N!==null)}So=null,qv=!1}catch(F){throw So!==null&&(So=So.slice(x+1)),Vu(Gu,wo),F}finally{Vn=w,h0=!1}}return null}var H1=s.ReactCurrentBatchConfig;function Ho(x,w){if(sa(x,w))return!0;if(typeof x!="object"||x===null||typeof w!="object"||w===null)return!1;var P=Object.keys(x),N=Object.keys(w);if(P.length!==N.length)return!1;for(N=0;N<P.length;N++){var F=P[N];if(!ir.call(w,F)||!sa(x[F],w[F]))return!1}return!0}function d0(x){switch(x.tag){case 5:return an(x.type);case 16:return an("Lazy");case 13:return an("Suspense");case 19:return an("SuspenseList");case 0:case 2:case 15:return x=Dn(x.type,!1),x;case 11:return x=Dn(x.type.render,!1),x;case 1:return x=Dn(x.type,!0),x;default:return""}}function wa(x,w){if(x&&x.defaultProps){w=a({},w),x=x.defaultProps;for(var P in x)w[P]===void 0&&(w[P]=x[P]);return w}return w}var nd=Ht(null),Hu=null,Ks=null,Qv=null;function la(){Qv=Ks=Hu=null}function Wu(x,w,P){$e?(yn(nd,w._currentValue),w._currentValue=P):(yn(nd,w._currentValue2),w._currentValue2=P)}function rd(x){var w=nd.current;st(nd),$e?x._currentValue=w:x._currentValue2=w}function Xu(x,w,P){for(;x!==null;){var N=x.alternate;if((x.childLanes&w)!==w?(x.childLanes|=w,N!==null&&(N.childLanes|=w)):N!==null&&(N.childLanes&w)!==w&&(N.childLanes|=w),x===P)break;x=x.return}}function vf(x,w){Hu=x,Qv=Ks=null,x=x.dependencies,x!==null&&x.firstContext!==null&&((x.lanes&w)!==0&&(Mi=!0),x.firstContext=null)}function Ma(x){var w=$e?x._currentValue:x._currentValue2;if(Qv!==x)if(x={context:x,memoizedValue:w,next:null},Ks===null){if(Hu===null)throw Error(o(308));Ks=x,Hu.dependencies={lanes:0,firstContext:x}}else Ks=Ks.next=x;return w}var Mo=null,To=!1;function gf(x){x.updateQueue={baseState:x.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function p0(x,w){x=x.updateQueue,w.updateQueue===x&&(w.updateQueue={baseState:x.baseState,firstBaseUpdate:x.firstBaseUpdate,lastBaseUpdate:x.lastBaseUpdate,shared:x.shared,effects:x.effects})}function Js(x,w){return{eventTime:x,lane:w,tag:0,payload:null,callback:null,next:null}}function ql(x,w){var P=x.updateQueue;P!==null&&(P=P.shared,Kr!==null&&(x.mode&1)!==0&&(Nn&2)===0?(x=P.interleaved,x===null?(w.next=w,Mo===null?Mo=[P]:Mo.push(P)):(w.next=x.next,x.next=w),P.interleaved=w):(x=P.pending,x===null?w.next=w:(w.next=x.next,x.next=w),P.pending=w))}function eg(x,w,P){if(w=w.updateQueue,w!==null&&(w=w.shared,(P&4194240)!==0)){var N=w.lanes;N&=x.pendingLanes,P|=N,w.lanes=P,ps(x,P)}}function tg(x,w){var P=x.updateQueue,N=x.alternate;if(N!==null&&(N=N.updateQueue,P===N)){var F=null,H=null;if(P=P.firstBaseUpdate,P!==null){do{var ie={eventTime:P.eventTime,lane:P.lane,tag:P.tag,payload:P.payload,callback:P.callback,next:null};H===null?F=H=ie:H=H.next=ie,P=P.next}while(P!==null);H===null?F=H=w:H=H.next=w}else F=H=w;P={baseState:N.baseState,firstBaseUpdate:F,lastBaseUpdate:H,shared:N.shared,effects:N.effects},x.updateQueue=P;return}x=P.lastBaseUpdate,x===null?P.firstBaseUpdate=w:x.next=w,P.lastBaseUpdate=w}function ng(x,w,P,N){var F=x.updateQueue;To=!1;var H=F.firstBaseUpdate,ie=F.lastBaseUpdate,ye=F.shared.pending;if(ye!==null){F.shared.pending=null;var We=ye,dt=We.next;We.next=null,ie===null?H=dt:ie.next=dt,ie=We;var Ut=x.alternate;Ut!==null&&(Ut=Ut.updateQueue,ye=Ut.lastBaseUpdate,ye!==ie&&(ye===null?Ut.firstBaseUpdate=dt:ye.next=dt,Ut.lastBaseUpdate=We))}if(H!==null){var An=F.baseState;ie=0,Ut=dt=We=null,ye=H;do{var un=ye.lane,Fn=ye.eventTime;if((N&un)===un){Ut!==null&&(Ut=Ut.next={eventTime:Fn,lane:0,tag:ye.tag,payload:ye.payload,callback:ye.callback,next:null});e:{var At=x,Bi=ye;switch(un=w,Fn=P,Bi.tag){case 1:if(At=Bi.payload,typeof At=="function"){An=At.call(Fn,An,un);break e}An=At;break e;case 3:At.flags=At.flags&-65537|128;case 0:if(At=Bi.payload,un=typeof At=="function"?At.call(Fn,An,un):At,un==null)break e;An=a({},An,un);break e;case 2:To=!0}}ye.callback!==null&&ye.lane!==0&&(x.flags|=64,un=F.effects,un===null?F.effects=[ye]:un.push(ye))}else Fn={eventTime:Fn,lane:un,tag:ye.tag,payload:ye.payload,callback:ye.callback,next:null},Ut===null?(dt=Ut=Fn,We=An):Ut=Ut.next=Fn,ie|=un;if(ye=ye.next,ye===null){if(ye=F.shared.pending,ye===null)break;un=ye,ye=un.next,un.next=null,F.lastBaseUpdate=un,F.shared.pending=null}}while(!0);if(Ut===null&&(We=An),F.baseState=We,F.firstBaseUpdate=dt,F.lastBaseUpdate=Ut,w=F.shared.interleaved,w!==null){F=w;do ie|=F.lane,F=F.next;while(F!==w)}else H===null&&(F.shared.lanes=0);_s|=ie,x.lanes=ie,x.memoizedState=An}}function W1(x,w,P){if(x=w.effects,w.effects=null,x!==null)for(w=0;w<x.length;w++){var N=x[w],F=N.callback;if(F!==null){if(N.callback=null,N=P,typeof F!="function")throw Error(o(191,F));F.call(N)}}}var X1=new r.Component().refs;function v0(x,w,P,N){w=x.memoizedState,P=P(N,w),P=P==null?w:a({},w,P),x.memoizedState=P,x.lanes===0&&(x.updateQueue.baseState=P)}var rg={isMounted:function(x){return(x=x._reactInternals)?L(x)===x:!1},enqueueSetState:function(x,w,P){x=x._reactInternals;var N=or(),F=qo(x),H=Js(N,F);H.payload=w,P!=null&&(H.callback=P),ql(x,H),w=Ji(x,F,N),w!==null&&eg(w,x,F)},enqueueReplaceState:function(x,w,P){x=x._reactInternals;var N=or(),F=qo(x),H=Js(N,F);H.tag=1,H.payload=w,P!=null&&(H.callback=P),ql(x,H),w=Ji(x,F,N),w!==null&&eg(w,x,F)},enqueueForceUpdate:function(x,w){x=x._reactInternals;var P=or(),N=qo(x),F=Js(P,N);F.tag=2,w!=null&&(F.callback=w),ql(x,F),w=Ji(x,N,P),w!==null&&eg(w,x,N)}};function g0(x,w,P,N,F,H,ie){return x=x.stateNode,typeof x.shouldComponentUpdate=="function"?x.shouldComponentUpdate(N,H,ie):w.prototype&&w.prototype.isPureReactComponent?!Ho(P,N)||!Ho(F,H):!0}function Y1(x,w,P){var N=!1,F=Nt,H=w.contextType;return typeof H=="object"&&H!==null?H=Ma(H):(F=jn(w)?Li:nr.current,N=w.contextTypes,H=(N=N!=null)?$a(x,F):Nt),w=new w(P,H),x.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=rg,x.stateNode=w,w._reactInternals=x,N&&(x=x.stateNode,x.__reactInternalMemoizedUnmaskedChildContext=F,x.__reactInternalMemoizedMaskedChildContext=H),w}function j1(x,w,P,N){x=w.state,typeof w.componentWillReceiveProps=="function"&&w.componentWillReceiveProps(P,N),typeof w.UNSAFE_componentWillReceiveProps=="function"&&w.UNSAFE_componentWillReceiveProps(P,N),w.state!==x&&rg.enqueueReplaceState(w,w.state,null)}function m0(x,w,P,N){var F=x.stateNode;F.props=P,F.state=x.memoizedState,F.refs=X1,gf(x);var H=w.contextType;typeof H=="object"&&H!==null?F.context=Ma(H):(H=jn(w)?Li:nr.current,F.context=$a(x,H)),F.state=x.memoizedState,H=w.getDerivedStateFromProps,typeof H=="function"&&(v0(x,w,H,P),F.state=x.memoizedState),typeof w.getDerivedStateFromProps=="function"||typeof F.getSnapshotBeforeUpdate=="function"||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(w=F.state,typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount(),w!==F.state&&rg.enqueueReplaceState(F,F.state,null),ng(x,P,F,N),F.state=x.memoizedState),typeof F.componentDidMount=="function"&&(x.flags|=4194308)}var mf=[],Kl=0,ig=null,ag=0,bo=[],qa=0,Yu=null,Qs=1,el="";function ju(x,w){mf[Kl++]=ag,mf[Kl++]=ig,ig=x,ag=w}function Z1(x,w,P){bo[qa++]=Qs,bo[qa++]=el,bo[qa++]=Yu,Yu=x;var N=Qs;x=el;var F=32-oa(N)-1;N&=~(1<<F),P+=1;var H=32-oa(w)+F;if(30<H){var ie=F-F%5;H=(N&(1<<ie)-1).toString(32),N>>=ie,F-=ie,Qs=1<<32-oa(w)+F|P<<F|N,el=H+x}else Qs=1<<H|P<<F|N,el=x}function y0(x){x.return!==null&&(ju(x,1),Z1(x,1,0))}function _0(x){for(;x===ig;)ig=mf[--Kl],mf[Kl]=null,ag=mf[--Kl],mf[Kl]=null;for(;x===Yu;)Yu=bo[--qa],bo[qa]=null,el=bo[--qa],bo[qa]=null,Qs=bo[--qa],bo[qa]=null}var ua=null,Ni=null,Nr=!1,yf=!1,Ao=null;function x0(x,w){var P=ro(5,null,null,0);P.elementType="DELETED",P.stateNode=w,P.return=x,w=x.deletions,w===null?(x.deletions=[P],x.flags|=16):w.push(P)}function S0(x,w){switch(x.tag){case 5:return w=ni(w,x.type,x.pendingProps),w!==null?(x.stateNode=w,ua=x,Ni=ln(w),!0):!1;case 6:return w=le(w,x.pendingProps),w!==null?(x.stateNode=w,ua=x,Ni=null,!0):!1;case 13:if(w=_e(w),w!==null){var P=Yu!==null?{id:Qs,overflow:el}:null;return x.memoizedState={dehydrated:w,treeContext:P,retryLane:1073741824},P=ro(18,null,null,0),P.stateNode=w,P.return=x,x.child=P,ua=x,Ni=null,!0}return!1;default:return!1}}function og(x){return(x.mode&1)!==0&&(x.flags&128)===0}function Jl(x){if(Nr){var w=Ni;if(w){var P=w;if(!S0(x,w)){if(og(x))throw Error(o(418));w=Lt(P);var N=ua;w&&S0(x,w)?x0(N,P):(x.flags=x.flags&-4097|2,Nr=!1,ua=x)}}else{if(og(x))throw Error(o(418));x.flags=x.flags&-4097|2,Nr=!1,ua=x}}}function $1(x){for(x=x.return;x!==null&&x.tag!==5&&x.tag!==3&&x.tag!==13;)x=x.return;ua=x}function id(x){if(!Ae||x!==ua)return!1;if(!Nr)return $1(x),Nr=!0,!1;if(x.tag!==3&&(x.tag!==5||wt(x.type)&&!fe(x.type,x.memoizedProps))){var w=Ni;if(w){if(og(x)){for(x=Ni;x;)x=Lt(x);throw Error(o(418))}for(;w;)x0(x,w),w=Lt(w)}}if($1(x),x.tag===13){if(!Ae)throw Error(o(316));if(x=x.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(o(317));Ni=ue(x)}else Ni=ua?Lt(x.stateNode):null;return!0}function _f(){Ae&&(Ni=ua=null,yf=Nr=!1)}function sg(x){Ao===null?Ao=[x]:Ao.push(x)}function xf(x,w,P){if(x=P.ref,x!==null&&typeof x!="function"&&typeof x!="object"){if(P._owner){if(P=P._owner,P){if(P.tag!==1)throw Error(o(309));var N=P.stateNode}if(!N)throw Error(o(147,x));var F=N,H=""+x;return w!==null&&w.ref!==null&&typeof w.ref=="function"&&w.ref._stringRef===H?w.ref:(w=function(ie){var ye=F.refs;ye===X1&&(ye=F.refs={}),ie===null?delete ye[H]:ye[H]=ie},w._stringRef=H,w)}if(typeof x!="string")throw Error(o(284));if(!P._owner)throw Error(o(290,x))}return x}function Ql(x,w){throw x=Object.prototype.toString.call(w),Error(o(31,x==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":x))}function Sf(x){var w=x._init;return w(x._payload)}function q1(x){function w(De,xe){if(x){var Fe=De.deletions;Fe===null?(De.deletions=[xe],De.flags|=16):Fe.push(xe)}}function P(De,xe){if(!x)return null;for(;xe!==null;)w(De,xe),xe=xe.sibling;return null}function N(De,xe){for(De=new Map;xe!==null;)xe.key!==null?De.set(xe.key,xe):De.set(xe.index,xe),xe=xe.sibling;return De}function F(De,xe){return De=pl(De,xe),De.index=0,De.sibling=null,De}function H(De,xe,Fe){return De.index=Fe,x?(Fe=De.alternate,Fe!==null?(Fe=Fe.index,Fe<xe?(De.flags|=2,xe):Fe):(De.flags|=2,xe)):(De.flags|=1048576,xe)}function ie(De){return x&&De.alternate===null&&(De.flags|=2),De}function ye(De,xe,Fe,Mt){return xe===null||xe.tag!==6?(xe=Ng(Fe,De.mode,Mt),xe.return=De,xe):(xe=F(xe,Fe),xe.return=De,xe)}function We(De,xe,Fe,Mt){var Jt=Fe.type;return Jt===c?Ut(De,xe,Fe.props.children,Mt,Fe.key):xe!==null&&(xe.elementType===Jt||typeof Jt=="object"&&Jt!==null&&Jt.$$typeof===M&&Sf(Jt)===xe.type)?(Mt=F(xe,Fe.props),Mt.ref=xf(De,xe,Fe),Mt.return=De,Mt):(Mt=Ig(Fe.type,Fe.key,Fe.props,null,De.mode,Mt),Mt.ref=xf(De,xe,Fe),Mt.return=De,Mt)}function dt(De,xe,Fe,Mt){return xe===null||xe.tag!==4||xe.stateNode.containerInfo!==Fe.containerInfo||xe.stateNode.implementation!==Fe.implementation?(xe=Og(Fe,De.mode,Mt),xe.return=De,xe):(xe=F(xe,Fe.children||[]),xe.return=De,xe)}function Ut(De,xe,Fe,Mt,Jt){return xe===null||xe.tag!==7?(xe=vc(Fe,De.mode,Mt,Jt),xe.return=De,xe):(xe=F(xe,Fe),xe.return=De,xe)}function An(De,xe,Fe){if(typeof xe=="string"&&xe!==""||typeof xe=="number")return xe=Ng(""+xe,De.mode,Fe),xe.return=De,xe;if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case l:return Fe=Ig(xe.type,xe.key,xe.props,null,De.mode,Fe),Fe.ref=xf(De,null,xe),Fe.return=De,Fe;case u:return xe=Og(xe,De.mode,Fe),xe.return=De,xe;case M:var Mt=xe._init;return An(De,Mt(xe._payload),Fe)}if(X(xe)||A(xe))return xe=vc(xe,De.mode,Fe,null),xe.return=De,xe;Ql(De,xe)}return null}function un(De,xe,Fe,Mt){var Jt=xe!==null?xe.key:null;if(typeof Fe=="string"&&Fe!==""||typeof Fe=="number")return Jt!==null?null:ye(De,xe,""+Fe,Mt);if(typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case l:return Fe.key===Jt?We(De,xe,Fe,Mt):null;case u:return Fe.key===Jt?dt(De,xe,Fe,Mt):null;case M:return Jt=Fe._init,un(De,xe,Jt(Fe._payload),Mt)}if(X(Fe)||A(Fe))return Jt!==null?null:Ut(De,xe,Fe,Mt,null);Ql(De,Fe)}return null}function Fn(De,xe,Fe,Mt,Jt){if(typeof Mt=="string"&&Mt!==""||typeof Mt=="number")return De=De.get(Fe)||null,ye(xe,De,""+Mt,Jt);if(typeof Mt=="object"&&Mt!==null){switch(Mt.$$typeof){case l:return De=De.get(Mt.key===null?Fe:Mt.key)||null,We(xe,De,Mt,Jt);case u:return De=De.get(Mt.key===null?Fe:Mt.key)||null,dt(xe,De,Mt,Jt);case M:var Ln=Mt._init;return Fn(De,xe,Fe,Ln(Mt._payload),Jt)}if(X(Mt)||A(Mt))return De=De.get(Fe)||null,Ut(xe,De,Mt,Jt,null);Ql(xe,Mt)}return null}function At(De,xe,Fe,Mt){for(var Jt=null,Ln=null,Cn=xe,rr=xe=0,ii=null;Cn!==null&&rr<Fe.length;rr++){Cn.index>rr?(ii=Cn,Cn=null):ii=Cn.sibling;var Jn=un(De,Cn,Fe[rr],Mt);if(Jn===null){Cn===null&&(Cn=ii);break}x&&Cn&&Jn.alternate===null&&w(De,Cn),xe=H(Jn,xe,rr),Ln===null?Jt=Jn:Ln.sibling=Jn,Ln=Jn,Cn=ii}if(rr===Fe.length)return P(De,Cn),Nr&&ju(De,rr),Jt;if(Cn===null){for(;rr<Fe.length;rr++)Cn=An(De,Fe[rr],Mt),Cn!==null&&(xe=H(Cn,xe,rr),Ln===null?Jt=Cn:Ln.sibling=Cn,Ln=Cn);return Nr&&ju(De,rr),Jt}for(Cn=N(De,Cn);rr<Fe.length;rr++)ii=Fn(Cn,De,rr,Fe[rr],Mt),ii!==null&&(x&&ii.alternate!==null&&Cn.delete(ii.key===null?rr:ii.key),xe=H(ii,xe,rr),Ln===null?Jt=ii:Ln.sibling=ii,Ln=ii);return x&&Cn.forEach(function(vl){return w(De,vl)}),Nr&&ju(De,rr),Jt}function Bi(De,xe,Fe,Mt){var Jt=A(Fe);if(typeof Jt!="function")throw Error(o(150));if(Fe=Jt.call(Fe),Fe==null)throw Error(o(151));for(var Ln=Jt=null,Cn=xe,rr=xe=0,ii=null,Jn=Fe.next();Cn!==null&&!Jn.done;rr++,Jn=Fe.next()){Cn.index>rr?(ii=Cn,Cn=null):ii=Cn.sibling;var vl=un(De,Cn,Jn.value,Mt);if(vl===null){Cn===null&&(Cn=ii);break}x&&Cn&&vl.alternate===null&&w(De,Cn),xe=H(vl,xe,rr),Ln===null?Jt=vl:Ln.sibling=vl,Ln=vl,Cn=ii}if(Jn.done)return P(De,Cn),Nr&&ju(De,rr),Jt;if(Cn===null){for(;!Jn.done;rr++,Jn=Fe.next())Jn=An(De,Jn.value,Mt),Jn!==null&&(xe=H(Jn,xe,rr),Ln===null?Jt=Jn:Ln.sibling=Jn,Ln=Jn);return Nr&&ju(De,rr),Jt}for(Cn=N(De,Cn);!Jn.done;rr++,Jn=Fe.next())Jn=Fn(Cn,De,rr,Jn.value,Mt),Jn!==null&&(x&&Jn.alternate!==null&&Cn.delete(Jn.key===null?rr:Jn.key),xe=H(Jn,xe,rr),Ln===null?Jt=Jn:Ln.sibling=Jn,Ln=Jn);return x&&Cn.forEach(function(J0){return w(De,J0)}),Nr&&ju(De,rr),Jt}function io(De,xe,Fe,Mt){if(typeof Fe=="object"&&Fe!==null&&Fe.type===c&&Fe.key===null&&(Fe=Fe.props.children),typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case l:e:{for(var Jt=Fe.key,Ln=xe;Ln!==null;){if(Ln.key===Jt){if(Jt=Fe.type,Jt===c){if(Ln.tag===7){P(De,Ln.sibling),xe=F(Ln,Fe.props.children),xe.return=De,De=xe;break e}}else if(Ln.elementType===Jt||typeof Jt=="object"&&Jt!==null&&Jt.$$typeof===M&&Sf(Jt)===Ln.type){P(De,Ln.sibling),xe=F(Ln,Fe.props),xe.ref=xf(De,Ln,Fe),xe.return=De,De=xe;break e}P(De,Ln);break}else w(De,Ln);Ln=Ln.sibling}Fe.type===c?(xe=vc(Fe.props.children,De.mode,Mt,Fe.key),xe.return=De,De=xe):(Mt=Ig(Fe.type,Fe.key,Fe.props,null,De.mode,Mt),Mt.ref=xf(De,xe,Fe),Mt.return=De,De=Mt)}return ie(De);case u:e:{for(Ln=Fe.key;xe!==null;){if(xe.key===Ln)if(xe.tag===4&&xe.stateNode.containerInfo===Fe.containerInfo&&xe.stateNode.implementation===Fe.implementation){P(De,xe.sibling),xe=F(xe,Fe.children||[]),xe.return=De,De=xe;break e}else{P(De,xe);break}else w(De,xe);xe=xe.sibling}xe=Og(Fe,De.mode,Mt),xe.return=De,De=xe}return ie(De);case M:return Ln=Fe._init,io(De,xe,Ln(Fe._payload),Mt)}if(X(Fe))return At(De,xe,Fe,Mt);if(A(Fe))return Bi(De,xe,Fe,Mt);Ql(De,Fe)}return typeof Fe=="string"&&Fe!==""||typeof Fe=="number"?(Fe=""+Fe,xe!==null&&xe.tag===6?(P(De,xe.sibling),xe=F(xe,Fe),xe.return=De,De=xe):(P(De,xe),xe=Ng(Fe,De.mode,Mt),xe.return=De,De=xe),ie(De)):P(De,xe)}return io}var tl=q1(!0),K1=q1(!1),wf={},Ta=Ht(wf),Zu=Ht(wf),$u=Ht(wf);function Wo(x){if(x===wf)throw Error(o(174));return x}function lg(x,w){yn($u,w),yn(Zu,x),yn(Ta,wf),x=Q(w),st(Ta),yn(Ta,x)}function Mf(){st(Ta),st(Zu),st($u)}function J1(x){var w=Wo($u.current),P=Wo(Ta.current);w=B(P,x.type,w),P!==w&&(yn(Zu,x),yn(Ta,w))}function w0(x){Zu.current===x&&(st(Ta),st(Zu))}var zr=Ht(0);function ug(x){for(var w=x;w!==null;){if(w.tag===13){var P=w.memoizedState;if(P!==null&&(P=P.dehydrated,P===null||Ie(P)||qe(P)))return w}else if(w.tag===19&&w.memoizedProps.revealOrder!==void 0){if((w.flags&128)!==0)return w}else if(w.child!==null){w.child.return=w,w=w.child;continue}if(w===x)break;for(;w.sibling===null;){if(w.return===null||w.return===x)return null;w=w.return}w.sibling.return=w.return,w=w.sibling}return null}var Ka=[];function qu(){for(var x=0;x<Ka.length;x++){var w=Ka[x];$e?w._workInProgressVersionPrimary=null:w._workInProgressVersionSecondary=null}Ka.length=0}var ad=s.ReactCurrentDispatcher,Ja=s.ReactCurrentBatchConfig,Ku=0,Br=null,xi=null,Si=null,cg=!1,gs=!1,Ju=0,od=0;function wi(){throw Error(o(321))}function fg(x,w){if(w===null)return!1;for(var P=0;P<w.length&&P<x.length;P++)if(!sa(x[P],w[P]))return!1;return!0}function Tf(x,w,P,N,F,H){if(Ku=H,Br=w,w.memoizedState=null,w.updateQueue=null,w.lanes=0,ad.current=x===null||x.memoizedState===null?E0:P0,x=P(N,F),gs){H=0;do{if(gs=!1,Ju=0,25<=H)throw Error(o(301));H+=1,Si=xi=null,w.updateQueue=null,ad.current=D0,x=P(N,F)}while(gs)}if(ad.current=Ef,w=xi!==null&&xi.next!==null,Ku=0,Si=xi=Br=null,cg=!1,w)throw Error(o(300));return x}function eu(){var x=Ju!==0;return Ju=0,x}function Xo(){var x={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Si===null?Br.memoizedState=Si=x:Si=Si.next=x,Si}function Yo(){if(xi===null){var x=Br.alternate;x=x!==null?x.memoizedState:null}else x=xi.next;var w=Si===null?Br.memoizedState:Si.next;if(w!==null)Si=w,xi=x;else{if(x===null)throw Error(o(310));xi=x,x={memoizedState:xi.memoizedState,baseState:xi.baseState,baseQueue:xi.baseQueue,queue:xi.queue,next:null},Si===null?Br.memoizedState=Si=x:Si=Si.next=x}return Si}function ms(x,w){return typeof w=="function"?w(x):w}function sd(x){var w=Yo(),P=w.queue;if(P===null)throw Error(o(311));P.lastRenderedReducer=x;var N=xi,F=N.baseQueue,H=P.pending;if(H!==null){if(F!==null){var ie=F.next;F.next=H.next,H.next=ie}N.baseQueue=F=H,P.pending=null}if(F!==null){H=F.next,N=N.baseState;var ye=ie=null,We=null,dt=H;do{var Ut=dt.lane;if((Ku&Ut)===Ut)We!==null&&(We=We.next={lane:0,action:dt.action,hasEagerState:dt.hasEagerState,eagerState:dt.eagerState,next:null}),N=dt.hasEagerState?dt.eagerState:x(N,dt.action);else{var An={lane:Ut,action:dt.action,hasEagerState:dt.hasEagerState,eagerState:dt.eagerState,next:null};We===null?(ye=We=An,ie=N):We=We.next=An,Br.lanes|=Ut,_s|=Ut}dt=dt.next}while(dt!==null&&dt!==H);We===null?ie=N:We.next=ye,sa(N,w.memoizedState)||(Mi=!0),w.memoizedState=N,w.baseState=ie,w.baseQueue=We,P.lastRenderedState=N}if(x=P.interleaved,x!==null){F=x;do H=F.lane,Br.lanes|=H,_s|=H,F=F.next;while(F!==x)}else F===null&&(P.lanes=0);return[w.memoizedState,P.dispatch]}function ld(x){var w=Yo(),P=w.queue;if(P===null)throw Error(o(311));P.lastRenderedReducer=x;var N=P.dispatch,F=P.pending,H=w.memoizedState;if(F!==null){P.pending=null;var ie=F=F.next;do H=x(H,ie.action),ie=ie.next;while(ie!==F);sa(H,w.memoizedState)||(Mi=!0),w.memoizedState=H,w.baseQueue===null&&(w.baseState=H),P.lastRenderedState=H}return[H,N]}function M0(){}function T0(x,w){var P=Br,N=Yo(),F=w(),H=!sa(N.memoizedState,F);if(H&&(N.memoizedState=F,Mi=!0),N=N.queue,bf(nl.bind(null,P,N,x),[x]),N.getSnapshot!==w||H||Si!==null&&Si.memoizedState.tag&1){if(P.flags|=2048,cd(9,A0.bind(null,P,N,F,w),void 0,null),Kr===null)throw Error(o(349));(Ku&30)!==0||b0(P,w,F)}return F}function b0(x,w,P){x.flags|=16384,x={getSnapshot:w,value:P},w=Br.updateQueue,w===null?(w={lastEffect:null,stores:null},Br.updateQueue=w,w.stores=[x]):(P=w.stores,P===null?w.stores=[x]:P.push(x))}function A0(x,w,P,N){w.value=P,w.getSnapshot=N,hg(w)&&Ji(x,1,-1)}function nl(x,w,P){return P(function(){hg(w)&&Ji(x,1,-1)})}function hg(x){var w=x.getSnapshot;x=x.value;try{var P=w();return!sa(x,P)}catch{return!0}}function ud(x){var w=Xo();return typeof x=="function"&&(x=x()),w.memoizedState=w.baseState=x,x={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:x},w.queue=x,x=x.dispatch=rE.bind(null,Br,x),[w.memoizedState,x]}function cd(x,w,P,N){return x={tag:x,create:w,destroy:P,deps:N,next:null},w=Br.updateQueue,w===null?(w={lastEffect:null,stores:null},Br.updateQueue=w,w.lastEffect=x.next=x):(P=w.lastEffect,P===null?w.lastEffect=x.next=x:(N=P.next,P.next=x,x.next=N,w.lastEffect=x)),x}function Q1(){return Yo().memoizedState}function tu(x,w,P,N){var F=Xo();Br.flags|=x,F.memoizedState=cd(1|w,P,void 0,N===void 0?null:N)}function dg(x,w,P,N){var F=Yo();N=N===void 0?null:N;var H=void 0;if(xi!==null){var ie=xi.memoizedState;if(H=ie.destroy,N!==null&&fg(N,ie.deps)){F.memoizedState=cd(w,P,H,N);return}}Br.flags|=x,F.memoizedState=cd(1|w,P,H,N)}function pg(x,w){return tu(8390656,8,x,w)}function bf(x,w){return dg(2048,8,x,w)}function Cr(x,w){return dg(4,2,x,w)}function vg(x,w){return dg(4,4,x,w)}function fd(x,w){if(typeof w=="function")return x=x(),w(x),function(){w(null)};if(w!=null)return x=x(),w.current=x,function(){w.current=null}}function Af(x,w,P){return P=P!=null?P.concat([x]):null,dg(4,4,fd.bind(null,w,x),P)}function gg(){}function mg(x,w){var P=Yo();w=w===void 0?null:w;var N=P.memoizedState;return N!==null&&w!==null&&fg(w,N[1])?N[0]:(P.memoizedState=[x,w],x)}function Cf(x,w){var P=Yo();w=w===void 0?null:w;var N=P.memoizedState;return N!==null&&w!==null&&fg(w,N[1])?N[0]:(x=x(),P.memoizedState=[x,w],x)}function yg(x,w){var P=Vn;Vn=P!==0&&4>P?P:4,x(!0);var N=Ja.transition;Ja.transition={};try{x(!1),w()}finally{Vn=P,Ja.transition=N}}function Qu(){return Yo().memoizedState}function ew(x,w,P){var N=qo(x);P={lane:N,action:P,hasEagerState:!1,eagerState:null,next:null},tw(x)?C0(w,P):(hd(x,w,P),P=or(),x=Ji(x,N,P),x!==null&&dd(x,w,N))}function rE(x,w,P){var N=qo(x),F={lane:N,action:P,hasEagerState:!1,eagerState:null,next:null};if(tw(x))C0(w,F);else{hd(x,w,F);var H=x.alternate;if(x.lanes===0&&(H===null||H.lanes===0)&&(H=w.lastRenderedReducer,H!==null))try{var ie=w.lastRenderedState,ye=H(ie,P);if(F.hasEagerState=!0,F.eagerState=ye,sa(ye,ie))return}catch{}finally{}P=or(),x=Ji(x,N,P),x!==null&&dd(x,w,N)}}function tw(x){var w=x.alternate;return x===Br||w!==null&&w===Br}function C0(x,w){gs=cg=!0;var P=x.pending;P===null?w.next=w:(w.next=P.next,P.next=w),x.pending=w}function hd(x,w,P){Kr!==null&&(x.mode&1)!==0&&(Nn&2)===0?(x=w.interleaved,x===null?(P.next=P,Mo===null?Mo=[w]:Mo.push(w)):(P.next=x.next,x.next=P),w.interleaved=P):(x=w.pending,x===null?P.next=P:(P.next=x.next,x.next=P),w.pending=P)}function dd(x,w,P){if((P&4194240)!==0){var N=w.lanes;N&=x.pendingLanes,P|=N,w.lanes=P,ps(x,P)}}var Ef={readContext:Ma,useCallback:wi,useContext:wi,useEffect:wi,useImperativeHandle:wi,useInsertionEffect:wi,useLayoutEffect:wi,useMemo:wi,useReducer:wi,useRef:wi,useState:wi,useDebugValue:wi,useDeferredValue:wi,useTransition:wi,useMutableSource:wi,useSyncExternalStore:wi,useId:wi,unstable_isNewReconciler:!1},E0={readContext:Ma,useCallback:function(x,w){return Xo().memoizedState=[x,w===void 0?null:w],x},useContext:Ma,useEffect:pg,useImperativeHandle:function(x,w,P){return P=P!=null?P.concat([x]):null,tu(4194308,4,fd.bind(null,w,x),P)},useLayoutEffect:function(x,w){return tu(4194308,4,x,w)},useInsertionEffect:function(x,w){return tu(4,2,x,w)},useMemo:function(x,w){var P=Xo();return w=w===void 0?null:w,x=x(),P.memoizedState=[x,w],x},useReducer:function(x,w,P){var N=Xo();return w=P!==void 0?P(w):w,N.memoizedState=N.baseState=w,x={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:x,lastRenderedState:w},N.queue=x,x=x.dispatch=ew.bind(null,Br,x),[N.memoizedState,x]},useRef:function(x){var w=Xo();return x={current:x},w.memoizedState=x},useState:ud,useDebugValue:gg,useDeferredValue:function(x){var w=ud(x),P=w[0],N=w[1];return pg(function(){var F=Ja.transition;Ja.transition={};try{N(x)}finally{Ja.transition=F}},[x]),P},useTransition:function(){var x=ud(!1),w=x[0];return x=yg.bind(null,x[1]),Xo().memoizedState=x,[w,x]},useMutableSource:function(){},useSyncExternalStore:function(x,w,P){var N=Br,F=Xo();if(Nr){if(P===void 0)throw Error(o(407));P=P()}else{if(P=w(),Kr===null)throw Error(o(349));(Ku&30)!==0||b0(N,w,P)}F.memoizedState=P;var H={value:P,getSnapshot:w};return F.queue=H,pg(nl.bind(null,N,H,x),[x]),N.flags|=2048,cd(9,A0.bind(null,N,H,P,w),void 0,null),P},useId:function(){var x=Xo(),w=Kr.identifierPrefix;if(Nr){var P=el,N=Qs;P=(N&~(1<<32-oa(N)-1)).toString(32)+P,w=":"+w+"R"+P,P=Ju++,0<P&&(w+="H"+P.toString(32)),w+=":"}else P=od++,w=":"+w+"r"+P.toString(32)+":";return x.memoizedState=w},unstable_isNewReconciler:!1},P0={readContext:Ma,useCallback:mg,useContext:Ma,useEffect:bf,useImperativeHandle:Af,useInsertionEffect:Cr,useLayoutEffect:vg,useMemo:Cf,useReducer:sd,useRef:Q1,useState:function(){return sd(ms)},useDebugValue:gg,useDeferredValue:function(x){var w=sd(ms),P=w[0],N=w[1];return bf(function(){var F=Ja.transition;Ja.transition={};try{N(x)}finally{Ja.transition=F}},[x]),P},useTransition:function(){var x=sd(ms)[0],w=Yo().memoizedState;return[x,w]},useMutableSource:M0,useSyncExternalStore:T0,useId:Qu,unstable_isNewReconciler:!1},D0={readContext:Ma,useCallback:mg,useContext:Ma,useEffect:bf,useImperativeHandle:Af,useInsertionEffect:Cr,useLayoutEffect:vg,useMemo:Cf,useReducer:ld,useRef:Q1,useState:function(){return ld(ms)},useDebugValue:gg,useDeferredValue:function(x){var w=ld(ms),P=w[0],N=w[1];return bf(function(){var F=Ja.transition;Ja.transition={};try{N(x)}finally{Ja.transition=F}},[x]),P},useTransition:function(){var x=ld(ms)[0],w=Yo().memoizedState;return[x,w]},useMutableSource:M0,useSyncExternalStore:T0,useId:Qu,unstable_isNewReconciler:!1};function R0(x,w){try{var P="",N=w;do P+=d0(N),N=N.return;while(N);var F=P}catch(H){F=`
Error generating stack: `+H.message+`
`+H.stack}return{value:x,source:w,stack:F}}function _g(x,w){try{console.error(w.value)}catch(P){setTimeout(function(){throw P})}}var iE=typeof WeakMap=="function"?WeakMap:Map;function nw(x,w,P){P=Js(-1,P),P.tag=3,P.payload={element:null};var N=w.value;return P.callback=function(){Nf||(Nf=!0,Ir=N),_g(x,w)},P}function xg(x,w,P){P=Js(-1,P),P.tag=3;var N=x.type.getDerivedStateFromError;if(typeof N=="function"){var F=w.value;P.payload=function(){return N(F)},P.callback=function(){_g(x,w)}}var H=x.stateNode;return H!==null&&typeof H.componentDidCatch=="function"&&(P.callback=function(){_g(x,w),typeof N!="function"&&($o===null?$o=new Set([this]):$o.add(this));var ie=w.stack;this.componentDidCatch(w.value,{componentStack:ie!==null?ie:""})}),P}function rl(x,w,P){var N=x.pingCache;if(N===null){N=x.pingCache=new iE;var F=new Set;N.set(w,F)}else F=N.get(w),F===void 0&&(F=new Set,N.set(w,F));F.has(P)||(F.add(P),x=$0.bind(null,x,w,P),w.then(x,x))}function L0(x){do{var w;if((w=x.tag===13)&&(w=x.memoizedState,w=w!==null?w.dehydrated!==null:!0),w)return x;x=x.return}while(x!==null);return null}function ec(x,w,P,N,F){return(x.mode&1)===0?(x===w?x.flags|=65536:(x.flags|=128,P.flags|=131072,P.flags&=-52805,P.tag===1&&(P.alternate===null?P.tag=17:(w=Js(-1,1),w.tag=2,ql(P,w))),P.lanes|=1),x):(x.flags|=65536,x.lanes=F,x)}function hi(x){x.flags|=4}function Pf(x,w){if(x!==null&&x.child===w.child)return!0;if((w.flags&16)!==0)return!1;for(x=w.child;x!==null;){if((x.flags&12854)!==0||(x.subtreeFlags&12854)!==0)return!1;x=x.sibling}return!0}var Qa,tc,Sg,wg;if(ee)Qa=function(x,w){for(var P=w.child;P!==null;){if(P.tag===5||P.tag===6)te(x,P.stateNode);else if(P.tag!==4&&P.child!==null){P.child.return=P,P=P.child;continue}if(P===w)break;for(;P.sibling===null;){if(P.return===null||P.return===w)return;P=P.return}P.sibling.return=P.return,P=P.sibling}},tc=function(){},Sg=function(x,w,P,N,F){if(x=x.memoizedProps,x!==N){var H=w.stateNode,ie=Wo(Ta.current);P=ae(H,P,x,N,F,ie),(w.updateQueue=P)&&hi(w)}},wg=function(x,w,P,N){P!==N&&hi(w)};else if(ve){Qa=function(x,w,P,N){for(var F=w.child;F!==null;){if(F.tag===5){var H=F.stateNode;P&&N&&(H=Ar(H,F.type,F.memoizedProps,F)),te(x,H)}else if(F.tag===6)H=F.stateNode,P&&N&&(H=Gr(H,F.memoizedProps,F)),te(x,H);else if(F.tag!==4){if(F.tag===22&&F.memoizedState!==null)H=F.child,H!==null&&(H.return=F),Qa(x,F,!0,!0);else if(F.child!==null){F.child.return=F,F=F.child;continue}}if(F===w)break;for(;F.sibling===null;){if(F.return===null||F.return===w)return;F=F.return}F.sibling.return=F.return,F=F.sibling}};var nu=function(x,w,P,N){for(var F=w.child;F!==null;){if(F.tag===5){var H=F.stateNode;P&&N&&(H=Ar(H,F.type,F.memoizedProps,F)),Yn(x,H)}else if(F.tag===6)H=F.stateNode,P&&N&&(H=Gr(H,F.memoizedProps,F)),Yn(x,H);else if(F.tag!==4){if(F.tag===22&&F.memoizedState!==null)H=F.child,H!==null&&(H.return=F),nu(x,F,!0,!0);else if(F.child!==null){F.child.return=F,F=F.child;continue}}if(F===w)break;for(;F.sibling===null;){if(F.return===null||F.return===w)return;F=F.return}F.sibling.return=F.return,F=F.sibling}};tc=function(x,w){var P=w.stateNode;if(!Pf(x,w)){x=P.containerInfo;var N=In(x);nu(N,w,!1,!1),P.pendingChildren=N,hi(w),Kn(x,N)}},Sg=function(x,w,P,N,F){var H=x.stateNode,ie=x.memoizedProps;if((x=Pf(x,w))&&ie===N)w.stateNode=H;else{var ye=w.stateNode,We=Wo(Ta.current),dt=null;ie!==N&&(dt=ae(ye,P,ie,N,F,We)),x&&dt===null?w.stateNode=H:(H=hn(H,dt,P,ie,N,w,x,ye),me(H,P,N,F,We)&&hi(w),w.stateNode=H,x?hi(w):Qa(H,w,!1,!1))}},wg=function(x,w,P,N){P!==N?(x=Wo($u.current),P=Wo(Ta.current),w.stateNode=be(N,x,P,w),hi(w)):w.stateNode=x.stateNode}}else tc=function(){},Sg=function(){},wg=function(){};function il(x,w){if(!Nr)switch(x.tailMode){case"hidden":w=x.tail;for(var P=null;w!==null;)w.alternate!==null&&(P=w),w=w.sibling;P===null?x.tail=null:P.sibling=null;break;case"collapsed":P=x.tail;for(var N=null;P!==null;)P.alternate!==null&&(N=P),P=P.sibling;N===null?w||x.tail===null?x.tail=null:x.tail.sibling=null:N.sibling=null}}function qr(x){var w=x.alternate!==null&&x.alternate.child===x.child,P=0,N=0;if(w)for(var F=x.child;F!==null;)P|=F.lanes|F.childLanes,N|=F.subtreeFlags&14680064,N|=F.flags&14680064,F.return=x,F=F.sibling;else for(F=x.child;F!==null;)P|=F.lanes|F.childLanes,N|=F.subtreeFlags,N|=F.flags,F.return=x,F=F.sibling;return x.subtreeFlags|=N,x.childLanes=P,w}function Mg(x,w,P){var N=w.pendingProps;switch(_0(w),w.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qr(w),null;case 1:return jn(w.type)&&Ii(),qr(w),null;case 3:return N=w.stateNode,Mf(),st(Hr),st(nr),qu(),N.pendingContext&&(N.context=N.pendingContext,N.pendingContext=null),(x===null||x.child===null)&&(id(w)?hi(w):x===null||x.memoizedState.isDehydrated&&(w.flags&256)===0||(w.flags|=1024,Ao!==null&&(Ad(Ao),Ao=null))),tc(x,w),qr(w),null;case 5:w0(w),P=Wo($u.current);var F=w.type;if(x!==null&&w.stateNode!=null)Sg(x,w,F,N,P),x.ref!==w.ref&&(w.flags|=512,w.flags|=2097152);else{if(!N){if(w.stateNode===null)throw Error(o(166));return qr(w),null}if(x=Wo(Ta.current),id(w)){if(!Ae)throw Error(o(175));x=It(w.stateNode,w.type,w.memoizedProps,P,x,w,!yf),w.updateQueue=x,x!==null&&hi(w)}else{var H=Y(F,N,P,x,w);Qa(H,w,!1,!1),w.stateNode=H,me(H,F,N,P,x)&&hi(w)}w.ref!==null&&(w.flags|=512,w.flags|=2097152)}return qr(w),null;case 6:if(x&&w.stateNode!=null)wg(x,w,x.memoizedProps,N);else{if(typeof N!="string"&&w.stateNode===null)throw Error(o(166));if(x=Wo($u.current),P=Wo(Ta.current),id(w)){if(!Ae)throw Error(o(176));if(x=w.stateNode,N=w.memoizedProps,(P=Ft(x,N,w,!yf))&&(F=ua,F!==null))switch(H=(F.mode&1)!==0,F.tag){case 3:Et(F.stateNode.containerInfo,x,N,H);break;case 5:Pt(F.type,F.memoizedProps,F.stateNode,x,N,H)}P&&hi(w)}else w.stateNode=be(N,x,P,w)}return qr(w),null;case 13:if(st(zr),N=w.memoizedState,Nr&&Ni!==null&&(w.mode&1)!==0&&(w.flags&128)===0){for(x=Ni;x;)x=Lt(x);return _f(),w.flags|=98560,w}if(N!==null&&N.dehydrated!==null){if(N=id(w),x===null){if(!N)throw Error(o(318));if(!Ae)throw Error(o(344));if(x=w.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(o(317));J(x,w)}else _f(),(w.flags&128)===0&&(w.memoizedState=null),w.flags|=4;return qr(w),null}return Ao!==null&&(Ad(Ao),Ao=null),(w.flags&128)!==0?(w.lanes=P,w):(N=N!==null,P=!1,x===null?id(w):P=x.memoizedState!==null,N&&!P&&(w.child.flags|=8192,(w.mode&1)!==0&&(x===null||(zr.current&1)!==0?Xr===0&&(Xr=3):Dg())),w.updateQueue!==null&&(w.flags|=4),qr(w),null);case 4:return Mf(),tc(x,w),x===null&&Ge(w.stateNode.containerInfo),qr(w),null;case 10:return rd(w.type._context),qr(w),null;case 17:return jn(w.type)&&Ii(),qr(w),null;case 19:if(st(zr),F=w.memoizedState,F===null)return qr(w),null;if(N=(w.flags&128)!==0,H=F.rendering,H===null)if(N)il(F,!1);else{if(Xr!==0||x!==null&&(x.flags&128)!==0)for(x=w.child;x!==null;){if(H=ug(x),H!==null){for(w.flags|=128,il(F,!1),x=H.updateQueue,x!==null&&(w.updateQueue=x,w.flags|=4),w.subtreeFlags=0,x=P,N=w.child;N!==null;)P=N,F=x,P.flags&=14680066,H=P.alternate,H===null?(P.childLanes=0,P.lanes=F,P.child=null,P.subtreeFlags=0,P.memoizedProps=null,P.memoizedState=null,P.updateQueue=null,P.dependencies=null,P.stateNode=null):(P.childLanes=H.childLanes,P.lanes=H.lanes,P.child=H.child,P.subtreeFlags=0,P.deletions=null,P.memoizedProps=H.memoizedProps,P.memoizedState=H.memoizedState,P.updateQueue=H.updateQueue,P.type=H.type,F=H.dependencies,P.dependencies=F===null?null:{lanes:F.lanes,firstContext:F.firstContext}),N=N.sibling;return yn(zr,zr.current&1|2),w.child}x=x.sibling}F.tail!==null&&fi()>au&&(w.flags|=128,N=!0,il(F,!1),w.lanes=4194304)}else{if(!N)if(x=ug(H),x!==null){if(w.flags|=128,N=!0,x=x.updateQueue,x!==null&&(w.updateQueue=x,w.flags|=4),il(F,!0),F.tail===null&&F.tailMode==="hidden"&&!H.alternate&&!Nr)return qr(w),null}else 2*fi()-F.renderingStartTime>au&&P!==1073741824&&(w.flags|=128,N=!0,il(F,!1),w.lanes=4194304);F.isBackwards?(H.sibling=w.child,w.child=H):(x=F.last,x!==null?x.sibling=H:w.child=H,F.last=H)}return F.tail!==null?(w=F.tail,F.rendering=w,F.tail=w.sibling,F.renderingStartTime=fi(),w.sibling=null,x=zr.current,yn(zr,N?x&1|2:x&1),w):(qr(w),null);case 22:case 23:return Cd(),N=w.memoizedState!==null,x!==null&&x.memoizedState!==null!==N&&(w.flags|=8192),N&&(w.mode&1)!==0?(Ki&1073741824)!==0&&(qr(w),ee&&w.subtreeFlags&6&&(w.flags|=8192)):qr(w),null;case 24:return null;case 25:return null}throw Error(o(156,w.tag))}var I0=s.ReactCurrentOwner,Mi=!1;function Wr(x,w,P,N){w.child=x===null?K1(w,null,P,N):tl(w,x.child,P,N)}function Er(x,w,P,N,F){P=P.render;var H=w.ref;return vf(w,F),N=Tf(x,w,P,N,H,F),P=eu(),x!==null&&!Mi?(w.updateQueue=x.updateQueue,w.flags&=-2053,x.lanes&=~F,ba(x,w,F)):(Nr&&P&&y0(w),w.flags|=1,Wr(x,w,N,F),w.child)}function xr(x,w,P,N,F){if(x===null){var H=P.type;return typeof H=="function"&&!Lg(H)&&H.defaultProps===void 0&&P.compare===null&&P.defaultProps===void 0?(w.tag=15,w.type=H,al(x,w,H,N,F)):(x=Ig(P.type,null,N,w,w.mode,F),x.ref=w.ref,x.return=w,w.child=x)}if(H=x.child,(x.lanes&F)===0){var ie=H.memoizedProps;if(P=P.compare,P=P!==null?P:Ho,P(ie,N)&&x.ref===w.ref)return ba(x,w,F)}return w.flags|=1,x=pl(H,N),x.ref=w.ref,x.return=w,w.child=x}function al(x,w,P,N,F){if(x!==null&&Ho(x.memoizedProps,N)&&x.ref===w.ref)if(Mi=!1,(x.lanes&F)!==0)(x.flags&131072)!==0&&(Mi=!0);else return w.lanes=x.lanes,ba(x,w,F);return ol(x,w,P,N,F)}function Oi(x,w,P){var N=w.pendingProps,F=N.children,H=x!==null?x.memoizedState:null;if(N.mode==="hidden")if((w.mode&1)===0)w.memoizedState={baseLanes:0,cachePool:null},yn(cc,Ki),Ki|=P;else if((P&1073741824)!==0)w.memoizedState={baseLanes:0,cachePool:null},N=H!==null?H.baseLanes:P,yn(cc,Ki),Ki|=N;else return x=H!==null?H.baseLanes|P:P,w.lanes=w.childLanes=1073741824,w.memoizedState={baseLanes:x,cachePool:null},w.updateQueue=null,yn(cc,Ki),Ki|=x,null;else H!==null?(N=H.baseLanes|P,w.memoizedState=null):N=P,yn(cc,Ki),Ki|=N;return Wr(x,w,F,P),w.child}function ca(x,w){var P=w.ref;(x===null&&P!==null||x!==null&&x.ref!==P)&&(w.flags|=512,w.flags|=2097152)}function ol(x,w,P,N,F){var H=jn(P)?Li:nr.current;return H=$a(w,H),vf(w,F),P=Tf(x,w,P,N,H,F),N=eu(),x!==null&&!Mi?(w.updateQueue=x.updateQueue,w.flags&=-2053,x.lanes&=~F,ba(x,w,F)):(Nr&&N&&y0(w),w.flags|=1,Wr(x,w,P,F),w.child)}function nc(x,w,P,N,F){if(jn(P)){var H=!0;Zl(w)}else H=!1;if(vf(w,F),w.stateNode===null)x!==null&&(x.alternate=null,w.alternate=null,w.flags|=2),Y1(w,P,N),m0(w,P,N,F),N=!0;else if(x===null){var ie=w.stateNode,ye=w.memoizedProps;ie.props=ye;var We=ie.context,dt=P.contextType;typeof dt=="object"&&dt!==null?dt=Ma(dt):(dt=jn(P)?Li:nr.current,dt=$a(w,dt));var Ut=P.getDerivedStateFromProps,An=typeof Ut=="function"||typeof ie.getSnapshotBeforeUpdate=="function";An||typeof ie.UNSAFE_componentWillReceiveProps!="function"&&typeof ie.componentWillReceiveProps!="function"||(ye!==N||We!==dt)&&j1(w,ie,N,dt),To=!1;var un=w.memoizedState;ie.state=un,ng(w,N,ie,F),We=w.memoizedState,ye!==N||un!==We||Hr.current||To?(typeof Ut=="function"&&(v0(w,P,Ut,N),We=w.memoizedState),(ye=To||g0(w,P,ye,N,un,We,dt))?(An||typeof ie.UNSAFE_componentWillMount!="function"&&typeof ie.componentWillMount!="function"||(typeof ie.componentWillMount=="function"&&ie.componentWillMount(),typeof ie.UNSAFE_componentWillMount=="function"&&ie.UNSAFE_componentWillMount()),typeof ie.componentDidMount=="function"&&(w.flags|=4194308)):(typeof ie.componentDidMount=="function"&&(w.flags|=4194308),w.memoizedProps=N,w.memoizedState=We),ie.props=N,ie.state=We,ie.context=dt,N=ye):(typeof ie.componentDidMount=="function"&&(w.flags|=4194308),N=!1)}else{ie=w.stateNode,p0(x,w),ye=w.memoizedProps,dt=w.type===w.elementType?ye:wa(w.type,ye),ie.props=dt,An=w.pendingProps,un=ie.context,We=P.contextType,typeof We=="object"&&We!==null?We=Ma(We):(We=jn(P)?Li:nr.current,We=$a(w,We));var Fn=P.getDerivedStateFromProps;(Ut=typeof Fn=="function"||typeof ie.getSnapshotBeforeUpdate=="function")||typeof ie.UNSAFE_componentWillReceiveProps!="function"&&typeof ie.componentWillReceiveProps!="function"||(ye!==An||un!==We)&&j1(w,ie,N,We),To=!1,un=w.memoizedState,ie.state=un,ng(w,N,ie,F);var At=w.memoizedState;ye!==An||un!==At||Hr.current||To?(typeof Fn=="function"&&(v0(w,P,Fn,N),At=w.memoizedState),(dt=To||g0(w,P,dt,N,un,At,We)||!1)?(Ut||typeof ie.UNSAFE_componentWillUpdate!="function"&&typeof ie.componentWillUpdate!="function"||(typeof ie.componentWillUpdate=="function"&&ie.componentWillUpdate(N,At,We),typeof ie.UNSAFE_componentWillUpdate=="function"&&ie.UNSAFE_componentWillUpdate(N,At,We)),typeof ie.componentDidUpdate=="function"&&(w.flags|=4),typeof ie.getSnapshotBeforeUpdate=="function"&&(w.flags|=1024)):(typeof ie.componentDidUpdate!="function"||ye===x.memoizedProps&&un===x.memoizedState||(w.flags|=4),typeof ie.getSnapshotBeforeUpdate!="function"||ye===x.memoizedProps&&un===x.memoizedState||(w.flags|=1024),w.memoizedProps=N,w.memoizedState=At),ie.props=N,ie.state=At,ie.context=We,N=dt):(typeof ie.componentDidUpdate!="function"||ye===x.memoizedProps&&un===x.memoizedState||(w.flags|=4),typeof ie.getSnapshotBeforeUpdate!="function"||ye===x.memoizedProps&&un===x.memoizedState||(w.flags|=1024),N=!1)}return qi(x,w,P,N,H,F)}function qi(x,w,P,N,F,H){ca(x,w);var ie=(w.flags&128)!==0;if(!N&&!ie)return F&&ff(w,P,!1),ba(x,w,H);N=w.stateNode,I0.current=w;var ye=ie&&typeof P.getDerivedStateFromError!="function"?null:N.render();return w.flags|=1,x!==null&&ie?(w.child=tl(w,x.child,null,H),w.child=tl(w,null,ye,H)):Wr(x,w,ye,H),w.memoizedState=N.state,F&&ff(w,P,!0),w.child}function pd(x){var w=x.stateNode;w.pendingContext?$s(x,w.pendingContext,w.pendingContext!==w.context):w.context&&$s(x,w.context,!1),lg(x,w.containerInfo)}function N0(x,w,P,N,F){return _f(),sg(F),w.flags|=256,Wr(x,w,P,N),w.child}var vd={dehydrated:null,treeContext:null,retryLane:0};function rc(x){return{baseLanes:x,cachePool:null}}function O0(x,w,P){var N=w.pendingProps,F=zr.current,H=!1,ie=(w.flags&128)!==0,ye;if((ye=ie)||(ye=x!==null&&x.memoizedState===null?!1:(F&2)!==0),ye?(H=!0,w.flags&=-129):(x===null||x.memoizedState!==null)&&(F|=1),yn(zr,F&1),x===null)return Jl(w),x=w.memoizedState,x!==null&&(x=x.dehydrated,x!==null)?((w.mode&1)===0?w.lanes=1:qe(x)?w.lanes=8:w.lanes=1073741824,null):(F=N.children,x=N.fallback,H?(N=w.mode,H=w.child,F={mode:"hidden",children:F},(N&1)===0&&H!==null?(H.childLanes=0,H.pendingProps=F):H=Dd(F,N,0,null),x=vc(x,N,P,null),H.return=w,x.return=w,H.sibling=x,w.child=H,w.child.memoizedState=rc(P),w.memoizedState=vd,x):jo(w,F));if(F=x.memoizedState,F!==null){if(ye=F.dehydrated,ye!==null){if(ie)return w.flags&256?(w.flags&=-257,md(x,w,P,Error(o(422)))):w.memoizedState!==null?(w.child=x.child,w.flags|=128,null):(H=N.fallback,F=w.mode,N=Dd({mode:"visible",children:N.children},F,0,null),H=vc(H,F,P,null),H.flags|=2,N.return=w,H.return=w,N.sibling=H,w.child=N,(w.mode&1)!==0&&tl(w,x.child,null,P),w.child.memoizedState=rc(P),w.memoizedState=vd,H);if((w.mode&1)===0)w=md(x,w,P,null);else if(qe(ye))w=md(x,w,P,Error(o(419)));else if(N=(P&x.childLanes)!==0,Mi||N){if(N=Kr,N!==null){switch(P&-P){case 4:H=2;break;case 16:H=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:H=32;break;case 536870912:H=268435456;break;default:H=0}N=(H&(N.suspendedLanes|P))!==0?0:H,N!==0&&N!==F.retryLane&&(F.retryLane=N,Ji(x,N,-1))}Dg(),w=md(x,w,P,Error(o(421)))}else Ie(ye)?(w.flags|=128,w.child=x.child,w=sw.bind(null,x),mt(ye,w),w=null):(P=F.treeContext,Ae&&(Ni=Gt(ye),ua=w,Nr=!0,Ao=null,yf=!1,P!==null&&(bo[qa++]=Qs,bo[qa++]=el,bo[qa++]=Yu,Qs=P.id,el=P.overflow,Yu=w)),w=jo(w,w.pendingProps.children),w.flags|=4096);return w}return H?(N=Tg(x,w,N.children,N.fallback,P),H=w.child,F=x.child.memoizedState,H.memoizedState=F===null?rc(P):{baseLanes:F.baseLanes|P,cachePool:null},H.childLanes=x.childLanes&~P,w.memoizedState=vd,N):(P=gd(x,w,N.children,P),w.memoizedState=null,P)}return H?(N=Tg(x,w,N.children,N.fallback,P),H=w.child,F=x.child.memoizedState,H.memoizedState=F===null?rc(P):{baseLanes:F.baseLanes|P,cachePool:null},H.childLanes=x.childLanes&~P,w.memoizedState=vd,N):(P=gd(x,w,N.children,P),w.memoizedState=null,P)}function jo(x,w){return w=Dd({mode:"visible",children:w},x.mode,0,null),w.return=x,x.child=w}function gd(x,w,P,N){var F=x.child;return x=F.sibling,P=pl(F,{mode:"visible",children:P}),(w.mode&1)===0&&(P.lanes=N),P.return=w,P.sibling=null,x!==null&&(N=w.deletions,N===null?(w.deletions=[x],w.flags|=16):N.push(x)),w.child=P}function Tg(x,w,P,N,F){var H=w.mode;x=x.child;var ie=x.sibling,ye={mode:"hidden",children:P};return(H&1)===0&&w.child!==x?(P=w.child,P.childLanes=0,P.pendingProps=ye,w.deletions=null):(P=pl(x,ye),P.subtreeFlags=x.subtreeFlags&14680064),ie!==null?N=pl(ie,N):(N=vc(N,H,F,null),N.flags|=2),N.return=w,P.return=w,P.sibling=N,w.child=P,N}function md(x,w,P,N){return N!==null&&sg(N),tl(w,x.child,null,P),x=jo(w,w.pendingProps.children),x.flags|=2,w.memoizedState=null,x}function rw(x,w,P){x.lanes|=w;var N=x.alternate;N!==null&&(N.lanes|=w),Xu(x.return,w,P)}function ys(x,w,P,N,F){var H=x.memoizedState;H===null?x.memoizedState={isBackwards:w,rendering:null,renderingStartTime:0,last:N,tail:P,tailMode:F}:(H.isBackwards=w,H.rendering=null,H.renderingStartTime=0,H.last=N,H.tail=P,H.tailMode=F)}function ic(x,w,P){var N=w.pendingProps,F=N.revealOrder,H=N.tail;if(Wr(x,w,N.children,P),N=zr.current,(N&2)!==0)N=N&1|2,w.flags|=128;else{if(x!==null&&(x.flags&128)!==0)e:for(x=w.child;x!==null;){if(x.tag===13)x.memoizedState!==null&&rw(x,P,w);else if(x.tag===19)rw(x,P,w);else if(x.child!==null){x.child.return=x,x=x.child;continue}if(x===w)break e;for(;x.sibling===null;){if(x.return===null||x.return===w)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}N&=1}if(yn(zr,N),(w.mode&1)===0)w.memoizedState=null;else switch(F){case"forwards":for(P=w.child,F=null;P!==null;)x=P.alternate,x!==null&&ug(x)===null&&(F=P),P=P.sibling;P=F,P===null?(F=w.child,w.child=null):(F=P.sibling,P.sibling=null),ys(w,!1,F,P,H);break;case"backwards":for(P=null,F=w.child,w.child=null;F!==null;){if(x=F.alternate,x!==null&&ug(x)===null){w.child=F;break}x=F.sibling,F.sibling=P,P=F,F=x}ys(w,!0,P,null,H);break;case"together":ys(w,!1,null,null,void 0);break;default:w.memoizedState=null}return w.child}function ba(x,w,P){if(x!==null&&(w.dependencies=x.dependencies),_s|=w.lanes,(P&w.childLanes)===0)return null;if(x!==null&&w.child!==x.child)throw Error(o(153));if(w.child!==null){for(x=w.child,P=pl(x,x.pendingProps),w.child=P,P.return=w;x.sibling!==null;)x=x.sibling,P=P.sibling=pl(x,x.pendingProps),P.return=w;P.sibling=null}return w.child}function bg(x,w,P){switch(w.tag){case 3:pd(w),_f();break;case 5:J1(w);break;case 1:jn(w.type)&&Zl(w);break;case 4:lg(w,w.stateNode.containerInfo);break;case 10:Wu(w,w.type._context,w.memoizedProps.value);break;case 13:var N=w.memoizedState;if(N!==null)return N.dehydrated!==null?(yn(zr,zr.current&1),w.flags|=128,null):(P&w.child.childLanes)!==0?O0(x,w,P):(yn(zr,zr.current&1),x=ba(x,w,P),x!==null?x.sibling:null);yn(zr,zr.current&1);break;case 19:if(N=(P&w.childLanes)!==0,(x.flags&128)!==0){if(N)return ic(x,w,P);w.flags|=128}var F=w.memoizedState;if(F!==null&&(F.rendering=null,F.tail=null,F.lastEffect=null),yn(zr,zr.current),N)break;return null;case 22:case 23:return w.lanes=0,Oi(x,w,P)}return ba(x,w,P)}function Ag(x,w){switch(_0(w),w.tag){case 1:return jn(w.type)&&Ii(),x=w.flags,x&65536?(w.flags=x&-65537|128,w):null;case 3:return Mf(),st(Hr),st(nr),qu(),x=w.flags,(x&65536)!==0&&(x&128)===0?(w.flags=x&-65537|128,w):null;case 5:return w0(w),null;case 13:if(st(zr),x=w.memoizedState,x!==null&&x.dehydrated!==null){if(w.alternate===null)throw Error(o(340));_f()}return x=w.flags,x&65536?(w.flags=x&-65537|128,w):null;case 19:return st(zr),null;case 4:return Mf(),null;case 10:return rd(w.type._context),null;case 22:case 23:return Cd(),null;case 24:return null;default:return null}}var fa=!1,Ti=!1,ac=typeof WeakSet=="function"?WeakSet:Set,_t=null;function Co(x,w){var P=x.ref;if(P!==null)if(typeof P=="function")try{P(null)}catch(N){da(x,w,N)}else P.current=null}function sl(x,w,P){try{P()}catch(N){da(x,w,N)}}var k0=!1;function F0(x,w){for(Z(x.containerInfo),_t=w;_t!==null;)if(x=_t,w=x.child,(x.subtreeFlags&1028)!==0&&w!==null)w.return=x,_t=w;else for(;_t!==null;){x=_t;try{var P=x.alternate;if((x.flags&1024)!==0)switch(x.tag){case 0:case 11:case 15:break;case 1:if(P!==null){var N=P.memoizedProps,F=P.memoizedState,H=x.stateNode,ie=H.getSnapshotBeforeUpdate(x.elementType===x.type?N:wa(x.type,N),F);H.__reactInternalSnapshotBeforeUpdate=ie}break;case 3:ee&&tt(x.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(ye){da(x,x.return,ye)}if(w=x.sibling,w!==null){w.return=x.return,_t=w;break}_t=x.return}return P=k0,k0=!1,P}function ll(x,w,P){var N=w.updateQueue;if(N=N!==null?N.lastEffect:null,N!==null){var F=N=N.next;do{if((F.tag&x)===x){var H=F.destroy;F.destroy=void 0,H!==void 0&&sl(w,P,H)}F=F.next}while(F!==N)}}function ki(x,w){if(w=w.updateQueue,w=w!==null?w.lastEffect:null,w!==null){var P=w=w.next;do{if((P.tag&x)===x){var N=P.create;P.destroy=N()}P=P.next}while(P!==w)}}function ha(x){var w=x.ref;if(w!==null){var P=x.stateNode;switch(x.tag){case 5:x=j(P);break;default:x=P}typeof w=="function"?w(x):w.current=x}}function Lr(x,w,P){if(vs&&typeof vs.onCommitFiberUnmount=="function")try{vs.onCommitFiberUnmount(Qh,w)}catch{}switch(w.tag){case 0:case 11:case 14:case 15:if(x=w.updateQueue,x!==null&&(x=x.lastEffect,x!==null)){var N=x=x.next;do{var F=N,H=F.destroy;F=F.tag,H!==void 0&&((F&2)!==0||(F&4)!==0)&&sl(w,P,H),N=N.next}while(N!==x)}break;case 1:if(Co(w,P),x=w.stateNode,typeof x.componentWillUnmount=="function")try{x.props=w.memoizedProps,x.state=w.memoizedState,x.componentWillUnmount()}catch(ie){da(w,P,ie)}break;case 5:Co(w,P);break;case 4:ee?U0(x,w,P):ve&&ve&&(w=w.stateNode.containerInfo,P=In(w),Pn(w,P))}}function Eo(x,w,P){for(var N=w;;)if(Lr(x,N,P),N.child===null||ee&&N.tag===4){if(N===w)break;for(;N.sibling===null;){if(N.return===null||N.return===w)return;N=N.return}N.sibling.return=N.return,N=N.sibling}else N.child.return=N,N=N.child}function z0(x){var w=x.alternate;w!==null&&(x.alternate=null,z0(w)),x.child=null,x.deletions=null,x.sibling=null,x.tag===5&&(w=x.stateNode,w!==null&&ot(w)),x.stateNode=null,x.return=null,x.dependencies=null,x.memoizedProps=null,x.memoizedState=null,x.pendingProps=null,x.stateNode=null,x.updateQueue=null}function B0(x){return x.tag===5||x.tag===3||x.tag===4}function Cg(x){e:for(;;){for(;x.sibling===null;){if(x.return===null||B0(x.return))return null;x=x.return}for(x.sibling.return=x.return,x=x.sibling;x.tag!==5&&x.tag!==6&&x.tag!==18;){if(x.flags&2||x.child===null||x.tag===4)continue e;x.child.return=x,x=x.child}if(!(x.flags&2))return x.stateNode}}function Eg(x){if(ee){e:{for(var w=x.return;w!==null;){if(B0(w))break e;w=w.return}throw Error(o(160))}var P=w;switch(P.tag){case 5:w=P.stateNode,P.flags&32&&(et(w),P.flags&=-33),P=Cg(x),Df(x,P,w);break;case 3:case 4:w=P.stateNode.containerInfo,P=Cg(x),Pg(x,P,w);break;default:throw Error(o(161))}}}function Pg(x,w,P){var N=x.tag;if(N===5||N===6)x=x.stateNode,w?St(P,x,w):rn(P,x);else if(N!==4&&(x=x.child,x!==null))for(Pg(x,w,P),x=x.sibling;x!==null;)Pg(x,w,P),x=x.sibling}function Df(x,w,P){var N=x.tag;if(N===5||N===6)x=x.stateNode,w?Kt(P,x,w):ft(P,x);else if(N!==4&&(x=x.child,x!==null))for(Df(x,w,P),x=x.sibling;x!==null;)Df(x,w,P),x=x.sibling}function U0(x,w,P){for(var N=w,F=!1,H,ie;;){if(!F){F=N.return;e:for(;;){if(F===null)throw Error(o(160));switch(H=F.stateNode,F.tag){case 5:ie=!1;break e;case 3:H=H.containerInfo,ie=!0;break e;case 4:H=H.containerInfo,ie=!0;break e}F=F.return}F=!0}if(N.tag===5||N.tag===6)Eo(x,N,P),ie?ce(H,N.stateNode):mn(H,N.stateNode);else if(N.tag===18)ie?Je(H,N.stateNode):pe(H,N.stateNode);else if(N.tag===4){if(N.child!==null){H=N.stateNode.containerInfo,ie=!0,N.child.return=N,N=N.child;continue}}else if(Lr(x,N,P),N.child!==null){N.child.return=N,N=N.child;continue}if(N===w)break;for(;N.sibling===null;){if(N.return===null||N.return===w)return;N=N.return,N.tag===4&&(F=!1)}N.sibling.return=N.return,N=N.sibling}}function ru(x,w){if(ee){switch(w.tag){case 0:case 11:case 14:case 15:ll(3,w,w.return),ki(3,w),ll(5,w,w.return);return;case 1:return;case 5:var P=w.stateNode;if(P!=null){var N=w.memoizedProps;x=x!==null?x.memoizedProps:N;var F=w.type,H=w.updateQueue;w.updateQueue=null,H!==null&&Rn(P,H,F,x,N,w)}return;case 6:if(w.stateNode===null)throw Error(o(162));P=w.memoizedProps,at(w.stateNode,x!==null?x.memoizedProps:P,P);return;case 3:Ae&&x!==null&&x.memoizedState.isDehydrated&&Me(w.stateNode.containerInfo);return;case 12:return;case 13:Rf(w);return;case 19:Rf(w);return;case 17:return}throw Error(o(163))}switch(w.tag){case 0:case 11:case 14:case 15:ll(3,w,w.return),ki(3,w),ll(5,w,w.return);return;case 12:return;case 13:Rf(w);return;case 19:Rf(w);return;case 3:Ae&&x!==null&&x.memoizedState.isDehydrated&&Me(w.stateNode.containerInfo);break;case 22:case 23:return}e:if(ve){switch(w.tag){case 1:case 5:case 6:break e;case 3:case 4:w=w.stateNode,Pn(w.containerInfo,w.pendingChildren);break e}throw Error(o(163))}}function Rf(x){var w=x.updateQueue;if(w!==null){x.updateQueue=null;var P=x.stateNode;P===null&&(P=x.stateNode=new ac),w.forEach(function(N){var F=lw.bind(null,x,N);P.has(N)||(P.add(N),N.then(F,F))})}}function aE(x,w){for(_t=w;_t!==null;){w=_t;var P=w.deletions;if(P!==null)for(var N=0;N<P.length;N++){var F=P[N];try{var H=x;ee?U0(H,F,w):Eo(H,F,w);var ie=F.alternate;ie!==null&&(ie.return=null),F.return=null}catch(Jt){da(F,w,Jt)}}if(P=w.child,(w.subtreeFlags&12854)!==0&&P!==null)P.return=w,_t=P;else for(;_t!==null;){w=_t;try{var ye=w.flags;if(ye&32&&ee&&et(w.stateNode),ye&512){var We=w.alternate;if(We!==null){var dt=We.ref;dt!==null&&(typeof dt=="function"?dt(null):dt.current=null)}}if(ye&8192)switch(w.tag){case 13:if(w.memoizedState!==null){var Ut=w.alternate;(Ut===null||Ut.memoizedState===null)&&(Td=fi())}break;case 22:var An=w.memoizedState!==null,un=w.alternate,Fn=un!==null&&un.memoizedState!==null;if(P=w,ee){e:if(N=P,F=An,H=null,ee)for(var At=N;;){if(At.tag===5){if(H===null){H=At;var Bi=At.stateNode;F?oe(Bi):ke(At.stateNode,At.memoizedProps)}}else if(At.tag===6){if(H===null){var io=At.stateNode;F?Ke(io):Xe(io,At.memoizedProps)}}else if((At.tag!==22&&At.tag!==23||At.memoizedState===null||At===N)&&At.child!==null){At.child.return=At,At=At.child;continue}if(At===N)break;for(;At.sibling===null;){if(At.return===null||At.return===N)break e;H===At&&(H=null),At=At.return}H===At&&(H=null),At.sibling.return=At.return,At=At.sibling}}if(An&&!Fn&&(P.mode&1)!==0){_t=P;for(var De=P.child;De!==null;){for(P=_t=De;_t!==null;){N=_t;var xe=N.child;switch(N.tag){case 0:case 11:case 14:case 15:ll(4,N,N.return);break;case 1:Co(N,N.return);var Fe=N.stateNode;if(typeof Fe.componentWillUnmount=="function"){var Mt=N.return;try{Fe.props=N.memoizedProps,Fe.state=N.memoizedState,Fe.componentWillUnmount()}catch(Jt){da(N,Mt,Jt)}}break;case 5:Co(N,N.return);break;case 22:if(N.memoizedState!==null){G0(P);continue}}xe!==null?(xe.return=N,_t=xe):G0(P)}De=De.sibling}}}switch(ye&4102){case 2:Eg(w),w.flags&=-3;break;case 6:Eg(w),w.flags&=-3,ru(w.alternate,w);break;case 4096:w.flags&=-4097;break;case 4100:w.flags&=-4097,ru(w.alternate,w);break;case 4:ru(w.alternate,w)}}catch(Jt){da(w,w.return,Jt)}if(P=w.sibling,P!==null){P.return=w.return,_t=P;break}_t=w.return}}}function yd(x,w,P){_t=x,_d(x)}function _d(x,w,P){for(var N=(x.mode&1)!==0;_t!==null;){var F=_t,H=F.child;if(F.tag===22&&N){var ie=F.memoizedState!==null||fa;if(!ie){var ye=F.alternate,We=ye!==null&&ye.memoizedState!==null||Ti;ye=fa;var dt=Ti;if(fa=ie,(Ti=We)&&!dt)for(_t=F;_t!==null;)ie=_t,We=ie.child,ie.tag===22&&ie.memoizedState!==null?oc(F):We!==null?(We.return=ie,_t=We):oc(F);for(;H!==null;)_t=H,_d(H),H=H.sibling;_t=F,fa=ye,Ti=dt}V0(x)}else(F.subtreeFlags&8772)!==0&&H!==null?(H.return=F,_t=H):V0(x)}}function V0(x){for(;_t!==null;){var w=_t;if((w.flags&8772)!==0){var P=w.alternate;try{if((w.flags&8772)!==0)switch(w.tag){case 0:case 11:case 15:Ti||ki(5,w);break;case 1:var N=w.stateNode;if(w.flags&4&&!Ti)if(P===null)N.componentDidMount();else{var F=w.elementType===w.type?P.memoizedProps:wa(w.type,P.memoizedProps);N.componentDidUpdate(F,P.memoizedState,N.__reactInternalSnapshotBeforeUpdate)}var H=w.updateQueue;H!==null&&W1(w,H,N);break;case 3:var ie=w.updateQueue;if(ie!==null){if(P=null,w.child!==null)switch(w.child.tag){case 5:P=j(w.child.stateNode);break;case 1:P=w.child.stateNode}W1(w,ie,P)}break;case 5:var ye=w.stateNode;P===null&&w.flags&4&&bt(ye,w.type,w.memoizedProps,w);break;case 6:break;case 4:break;case 12:break;case 13:if(Ae&&w.memoizedState===null){var We=w.alternate;if(We!==null){var dt=We.memoizedState;if(dt!==null){var Ut=dt.dehydrated;Ut!==null&&we(Ut)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}Ti||w.flags&512&&ha(w)}catch(An){da(w,w.return,An)}}if(w===x){_t=null;break}if(P=w.sibling,P!==null){P.return=w.return,_t=P;break}_t=w.return}}function G0(x){for(;_t!==null;){var w=_t;if(w===x){_t=null;break}var P=w.sibling;if(P!==null){P.return=w.return,_t=P;break}_t=w.return}}function oc(x){for(;_t!==null;){var w=_t;try{switch(w.tag){case 0:case 11:case 15:var P=w.return;try{ki(4,w)}catch(We){da(w,P,We)}break;case 1:var N=w.stateNode;if(typeof N.componentDidMount=="function"){var F=w.return;try{N.componentDidMount()}catch(We){da(w,F,We)}}var H=w.return;try{ha(w)}catch(We){da(w,H,We)}break;case 5:var ie=w.return;try{ha(w)}catch(We){da(w,ie,We)}}}catch(We){da(w,w.return,We)}if(w===x){_t=null;break}var ye=w.sibling;if(ye!==null){ye.return=w.return,_t=ye;break}_t=w.return}}var xd=0,sc=1,lc=2,ul=3,Lf=4;if(typeof Symbol=="function"&&Symbol.for){var uc=Symbol.for;xd=uc("selector.component"),sc=uc("selector.has_pseudo_class"),lc=uc("selector.role"),ul=uc("selector.test_id"),Lf=uc("selector.text")}function Sd(x){var w=Ue(x);if(w!=null){if(typeof w.memoizedProps["data-testname"]!="string")throw Error(o(364));return w}if(x=K(x),x===null)throw Error(o(362));return x.stateNode.current}function wd(x,w){switch(w.$$typeof){case xd:if(x.type===w.value)return!0;break;case sc:e:{w=w.value,x=[x,0];for(var P=0;P<x.length;){var N=x[P++],F=x[P++],H=w[F];if(N.tag!==5||!Ye(N)){for(;H!=null&&wd(N,H);)F++,H=w[F];if(F===w.length){w=!0;break e}else for(N=N.child;N!==null;)x.push(N,F),N=N.sibling}}w=!1}return w;case lc:if(x.tag===5&&Qe(x.stateNode,w.value))return!0;break;case Lf:if((x.tag===5||x.tag===6)&&(x=Ze(x),x!==null&&0<=x.indexOf(w.value)))return!0;break;case ul:if(x.tag===5&&(x=x.memoizedProps["data-testname"],typeof x=="string"&&x.toLowerCase()===w.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function iu(x){switch(x.$$typeof){case xd:return"<"+(E(x.value)||"Unknown")+">";case sc:return":has("+(iu(x)||"")+")";case lc:return'[role="'+x.value+'"]';case Lf:return'"'+x.value+'"';case ul:return'[data-testname="'+x.value+'"]';default:throw Error(o(365))}}function eo(x,w){var P=[];x=[x,0];for(var N=0;N<x.length;){var F=x[N++],H=x[N++],ie=w[H];if(F.tag!==5||!Ye(F)){for(;ie!=null&&wd(F,ie);)H++,ie=w[H];if(H===w.length)P.push(F);else for(F=F.child;F!==null;)x.push(F,H),F=F.sibling}}return P}function cl(x,w){if(!re)throw Error(o(363));x=Sd(x),x=eo(x,w),w=[],x=Array.from(x);for(var P=0;P<x.length;){var N=x[P++];if(N.tag===5)Ye(N)||w.push(N.stateNode);else for(N=N.child;N!==null;)x.push(N),N=N.sibling}return w}var H0=Math.ceil,Md=s.ReactCurrentDispatcher,Zo=s.ReactCurrentOwner,gr=s.ReactCurrentBatchConfig,Nn=0,Kr=null,mr=null,Or=0,Ki=0,cc=Ht(0),Xr=0,If=null,_s=0,to=0,fc=0,fl=null,ri=null,Td=0,au=1/0;function hc(){au=fi()+500}var Nf=!1,Ir=null,$o=null,Of=!1,xs=null,dc=0,pc=0,hl=null,Pr=-1,Yr=0;function or(){return(Nn&6)!==0?fi():Pr!==-1?Pr:Pr=fi()}function qo(x){return(x.mode&1)===0?1:(Nn&2)!==0&&Or!==0?Or&-Or:H1.transition!==null?(Yr===0&&(x=hf,hf<<=1,(hf&4194240)===0&&(hf=64),Yr=x),Yr):(x=Vn,x!==0?x:He())}function Ji(x,w,P){if(50<pc)throw pc=0,hl=null,Error(o(185));var N=ou(x,w);return N===null?null:(Uu(N,w,P),((Nn&2)===0||N!==Kr)&&(N===Kr&&((Nn&2)===0&&(to|=w),Xr===4&&zi(N,Or)),Aa(N,P),w===1&&Nn===0&&(x.mode&1)===0&&(hc(),qv&&wo())),N)}function ou(x,w){x.lanes|=w;var P=x.alternate;for(P!==null&&(P.lanes|=w),P=x,x=x.return;x!==null;)x.childLanes|=w,P=x.alternate,P!==null&&(P.childLanes|=w),P=x,x=x.return;return P.tag===3?P.stateNode:null}function Aa(x,w){var P=x.callbackNode;G1(x,w);var N=Jh(x,x===Kr?Or:0);if(N===0)P!==null&&pf(P),x.callbackNode=null,x.callbackPriority=0;else if(w=N&-N,x.callbackPriority!==w){if(P!=null&&pf(P),w===1)x.tag===0?Jv(no.bind(null,x)):Kv(no.bind(null,x)),ct?Rt(function(){Nn===0&&wo()}):Vu(Gu,wo),P=null;else{switch(qs(N)){case 1:P=Gu;break;case 4:P=nE;break;case 16:P=Zv;break;case 536870912:P=$v;break;default:P=Zv}P=Rg(P,Fi.bind(null,x))}x.callbackPriority=w,x.callbackNode=P}}function Fi(x,w){if(Pr=-1,Yr=0,(Nn&6)!==0)throw Error(o(327));var P=x.callbackNode;if(Ss()&&x.callbackNode!==P)return null;var N=Jh(x,x===Kr?Or:0);if(N===0)return null;if((N&30)!==0||(N&x.expiredLanes)!==0||w)w=Ed(x,N);else{w=N;var F=Nn;Nn|=2;var H=Y0();(Kr!==x||Or!==w)&&(hc(),dl(x,w));do try{aw();break}catch(ye){X0(x,ye)}while(!0);la(),Md.current=H,Nn=F,mr!==null?w=0:(Kr=null,Or=0,w=Xr)}if(w!==0){if(w===2&&(F=Xv(x),F!==0&&(N=F,w=bd(x,F))),w===1)throw P=If,dl(x,0),zi(x,N),Aa(x,fi()),P;if(w===6)zi(x,N);else{if(F=x.current.alternate,(N&30)===0&&!W0(F)&&(w=Ed(x,N),w===2&&(H=Xv(x),H!==0&&(N=H,w=bd(x,H))),w===1))throw P=If,dl(x,0),zi(x,N),Aa(x,fi()),P;switch(x.finishedWork=F,x.finishedLanes=N,w){case 0:case 1:throw Error(o(345));case 2:Ko(x,ri);break;case 3:if(zi(x,N),(N&130023424)===N&&(w=Td+500-fi(),10<w)){if(Jh(x,0)!==0)break;if(F=x.suspendedLanes,(F&N)!==N){or(),x.pingedLanes|=x.suspendedLanes&F;break}x.timeoutHandle=Ee(Ko.bind(null,x,ri),w);break}Ko(x,ri);break;case 4:if(zi(x,N),(N&4194240)===N)break;for(w=x.eventTimes,F=-1;0<N;){var ie=31-oa(N);H=1<<ie,ie=w[ie],ie>F&&(F=ie),N&=~H}if(N=F,N=fi()-N,N=(120>N?120:480>N?480:1080>N?1080:1920>N?1920:3e3>N?3e3:4320>N?4320:1960*H0(N/1960))-N,10<N){x.timeoutHandle=Ee(Ko.bind(null,x,ri),N);break}Ko(x,ri);break;case 5:Ko(x,ri);break;default:throw Error(o(329))}}}return Aa(x,fi()),x.callbackNode===P?Fi.bind(null,x):null}function bd(x,w){var P=fl;return x.current.memoizedState.isDehydrated&&(dl(x,w).flags|=256),x=Ed(x,w),x!==2&&(w=ri,ri=P,w!==null&&Ad(w)),x}function Ad(x){ri===null?ri=x:ri.push.apply(ri,x)}function W0(x){for(var w=x;;){if(w.flags&16384){var P=w.updateQueue;if(P!==null&&(P=P.stores,P!==null))for(var N=0;N<P.length;N++){var F=P[N],H=F.getSnapshot;F=F.value;try{if(!sa(H(),F))return!1}catch{return!1}}}if(P=w.child,w.subtreeFlags&16384&&P!==null)P.return=w,w=P;else{if(w===x)break;for(;w.sibling===null;){if(w.return===null||w.return===x)return!0;w=w.return}w.sibling.return=w.return,w=w.sibling}}return!0}function zi(x,w){for(w&=~fc,w&=~to,x.suspendedLanes|=w,x.pingedLanes&=~w,x=x.expirationTimes;0<w;){var P=31-oa(w),N=1<<P;x[P]=-1,w&=~N}}function no(x){if((Nn&6)!==0)throw Error(o(327));Ss();var w=Jh(x,0);if((w&1)===0)return Aa(x,fi()),null;var P=Ed(x,w);if(x.tag!==0&&P===2){var N=Xv(x);N!==0&&(w=N,P=bd(x,N))}if(P===1)throw P=If,dl(x,0),zi(x,w),Aa(x,fi()),P;if(P===6)throw Error(o(345));return x.finishedWork=x.current.alternate,x.finishedLanes=w,Ko(x,ri),Aa(x,fi()),null}function kf(x){xs!==null&&xs.tag===0&&(Nn&6)===0&&Ss();var w=Nn;Nn|=1;var P=gr.transition,N=Vn;try{if(gr.transition=null,Vn=1,x)return x()}finally{Vn=N,gr.transition=P,Nn=w,(Nn&6)===0&&wo()}}function Cd(){Ki=cc.current,st(cc)}function dl(x,w){x.finishedWork=null,x.finishedLanes=0;var P=x.timeoutHandle;if(P!==Oe&&(x.timeoutHandle=Oe,Be(P)),mr!==null)for(P=mr.return;P!==null;){var N=P;switch(_0(N),N.tag){case 1:N=N.type.childContextTypes,N!=null&&Ii();break;case 3:Mf(),st(Hr),st(nr),qu();break;case 5:w0(N);break;case 4:Mf();break;case 13:st(zr);break;case 19:st(zr);break;case 10:rd(N.type._context);break;case 22:case 23:Cd()}P=P.return}if(Kr=x,mr=x=pl(x.current,null),Or=Ki=w,Xr=0,If=null,fc=to=_s=0,ri=fl=null,Mo!==null){for(w=0;w<Mo.length;w++)if(P=Mo[w],N=P.interleaved,N!==null){P.interleaved=null;var F=N.next,H=P.pending;if(H!==null){var ie=H.next;H.next=F,N.next=ie}P.pending=N}Mo=null}return x}function X0(x,w){do{var P=mr;try{if(la(),ad.current=Ef,cg){for(var N=Br.memoizedState;N!==null;){var F=N.queue;F!==null&&(F.pending=null),N=N.next}cg=!1}if(Ku=0,Si=xi=Br=null,gs=!1,Ju=0,Zo.current=null,P===null||P.return===null){Xr=1,If=w,mr=null;break}e:{var H=x,ie=P.return,ye=P,We=w;if(w=Or,ye.flags|=32768,We!==null&&typeof We=="object"&&typeof We.then=="function"){var dt=We,Ut=ye,An=Ut.tag;if((Ut.mode&1)===0&&(An===0||An===11||An===15)){var un=Ut.alternate;un?(Ut.updateQueue=un.updateQueue,Ut.memoizedState=un.memoizedState,Ut.lanes=un.lanes):(Ut.updateQueue=null,Ut.memoizedState=null)}var Fn=L0(ie);if(Fn!==null){Fn.flags&=-257,ec(Fn,ie,ye,H,w),Fn.mode&1&&rl(H,dt,w),w=Fn,We=dt;var At=w.updateQueue;if(At===null){var Bi=new Set;Bi.add(We),w.updateQueue=Bi}else At.add(We);break e}else{if((w&1)===0){rl(H,dt,w),Dg();break e}We=Error(o(426))}}else if(Nr&&ye.mode&1){var io=L0(ie);if(io!==null){(io.flags&65536)===0&&(io.flags|=256),ec(io,ie,ye,H,w),sg(We);break e}}H=We,Xr!==4&&(Xr=2),fl===null?fl=[H]:fl.push(H),We=R0(We,ye),ye=ie;do{switch(ye.tag){case 3:ye.flags|=65536,w&=-w,ye.lanes|=w;var De=nw(ye,We,w);tg(ye,De);break e;case 1:H=We;var xe=ye.type,Fe=ye.stateNode;if((ye.flags&128)===0&&(typeof xe.getDerivedStateFromError=="function"||Fe!==null&&typeof Fe.componentDidCatch=="function"&&($o===null||!$o.has(Fe)))){ye.flags|=65536,w&=-w,ye.lanes|=w;var Mt=xg(ye,H,w);tg(ye,Mt);break e}}ye=ye.return}while(ye!==null)}Z0(P)}catch(Jt){w=Jt,mr===P&&P!==null&&(mr=P=P.return);continue}break}while(!0)}function Y0(){var x=Md.current;return Md.current=Ef,x===null?Ef:x}function Dg(){(Xr===0||Xr===3||Xr===2)&&(Xr=4),Kr===null||(_s&268435455)===0&&(to&268435455)===0||zi(Kr,Or)}function Ed(x,w){var P=Nn;Nn|=2;var N=Y0();Kr===x&&Or===w||dl(x,w);do try{iw();break}catch(F){X0(x,F)}while(!0);if(la(),Nn=P,Md.current=N,mr!==null)throw Error(o(261));return Kr=null,Or=0,Xr}function iw(){for(;mr!==null;)j0(mr)}function aw(){for(;mr!==null&&!$l();)j0(mr)}function j0(x){var w=K0(x.alternate,x,Ki);x.memoizedProps=x.pendingProps,w===null?Z0(x):mr=w,Zo.current=null}function Z0(x){var w=x;do{var P=w.alternate;if(x=w.return,(w.flags&32768)===0){if(P=Mg(P,w,Ki),P!==null){mr=P;return}}else{if(P=Ag(P,w),P!==null){P.flags&=32767,mr=P;return}if(x!==null)x.flags|=32768,x.subtreeFlags=0,x.deletions=null;else{Xr=6,mr=null;return}}if(w=w.sibling,w!==null){mr=w;return}mr=w=x}while(w!==null);Xr===0&&(Xr=5)}function Ko(x,w){var P=Vn,N=gr.transition;try{gr.transition=null,Vn=1,ow(x,w,P)}finally{gr.transition=N,Vn=P}return null}function ow(x,w,P){do Ss();while(xs!==null);if((Nn&6)!==0)throw Error(o(327));var N=x.finishedWork,F=x.finishedLanes;if(N===null)return null;if(x.finishedWork=null,x.finishedLanes=0,N===x.current)throw Error(o(177));x.callbackNode=null,x.callbackPriority=0;var H=N.lanes|N.childLanes;if(jv(x,H),x===Kr&&(mr=Kr=null,Or=0),(N.subtreeFlags&2064)===0&&(N.flags&2064)===0||Of||(Of=!0,Rg(Zv,function(){return Ss(),null})),H=(N.flags&15990)!==0,(N.subtreeFlags&15990)!==0||H){H=gr.transition,gr.transition=null;var ie=Vn;Vn=1;var ye=Nn;Nn|=4,Zo.current=null,F0(x,N),aE(x,N),q(x.containerInfo),x.current=N,yd(N),tE(),Nn=ye,Vn=ie,gr.transition=H}else x.current=N;if(Of&&(Of=!1,xs=x,dc=F),H=x.pendingLanes,H===0&&($o=null),ed(N.stateNode),Aa(x,fi()),w!==null)for(P=x.onRecoverableError,N=0;N<w.length;N++)P(w[N]);if(Nf)throw Nf=!1,x=Ir,Ir=null,x;return(dc&1)!==0&&x.tag!==0&&Ss(),H=x.pendingLanes,(H&1)!==0?x===hl?pc++:(pc=0,hl=x):pc=0,wo(),null}function Ss(){if(xs!==null){var x=qs(dc),w=gr.transition,P=Vn;try{if(gr.transition=null,Vn=16>x?16:x,xs===null)var N=!1;else{if(x=xs,xs=null,dc=0,(Nn&6)!==0)throw Error(o(331));var F=Nn;for(Nn|=4,_t=x.current;_t!==null;){var H=_t,ie=H.child;if((_t.flags&16)!==0){var ye=H.deletions;if(ye!==null){for(var We=0;We<ye.length;We++){var dt=ye[We];for(_t=dt;_t!==null;){var Ut=_t;switch(Ut.tag){case 0:case 11:case 15:ll(8,Ut,H)}var An=Ut.child;if(An!==null)An.return=Ut,_t=An;else for(;_t!==null;){Ut=_t;var un=Ut.sibling,Fn=Ut.return;if(z0(Ut),Ut===dt){_t=null;break}if(un!==null){un.return=Fn,_t=un;break}_t=Fn}}}var At=H.alternate;if(At!==null){var Bi=At.child;if(Bi!==null){At.child=null;do{var io=Bi.sibling;Bi.sibling=null,Bi=io}while(Bi!==null)}}_t=H}}if((H.subtreeFlags&2064)!==0&&ie!==null)ie.return=H,_t=ie;else e:for(;_t!==null;){if(H=_t,(H.flags&2048)!==0)switch(H.tag){case 0:case 11:case 15:ll(9,H,H.return)}var De=H.sibling;if(De!==null){De.return=H.return,_t=De;break e}_t=H.return}}var xe=x.current;for(_t=xe;_t!==null;){ie=_t;var Fe=ie.child;if((ie.subtreeFlags&2064)!==0&&Fe!==null)Fe.return=ie,_t=Fe;else e:for(ie=xe;_t!==null;){if(ye=_t,(ye.flags&2048)!==0)try{switch(ye.tag){case 0:case 11:case 15:ki(9,ye)}}catch(Jt){da(ye,ye.return,Jt)}if(ye===ie){_t=null;break e}var Mt=ye.sibling;if(Mt!==null){Mt.return=ye.return,_t=Mt;break e}_t=ye.return}}if(Nn=F,wo(),vs&&typeof vs.onPostCommitFiberRoot=="function")try{vs.onPostCommitFiberRoot(Qh,x)}catch{}N=!0}return N}finally{Vn=P,gr.transition=w}}return!1}function Pd(x,w,P){w=R0(P,w),w=nw(x,w,1),ql(x,w),w=or(),x=ou(x,1),x!==null&&(Uu(x,1,w),Aa(x,w))}function da(x,w,P){if(x.tag===3)Pd(x,x,P);else for(;w!==null;){if(w.tag===3){Pd(w,x,P);break}else if(w.tag===1){var N=w.stateNode;if(typeof w.type.getDerivedStateFromError=="function"||typeof N.componentDidCatch=="function"&&($o===null||!$o.has(N))){x=R0(P,x),x=xg(w,x,1),ql(w,x),x=or(),w=ou(w,1),w!==null&&(Uu(w,1,x),Aa(w,x));break}}w=w.return}}function $0(x,w,P){var N=x.pingCache;N!==null&&N.delete(w),w=or(),x.pingedLanes|=x.suspendedLanes&P,Kr===x&&(Or&P)===P&&(Xr===4||Xr===3&&(Or&130023424)===Or&&500>fi()-Td?dl(x,0):fc|=P),Aa(x,w)}function q0(x,w){w===0&&((x.mode&1)===0?w=1:(w=ar,ar<<=1,(ar&130023424)===0&&(ar=4194304)));var P=or();x=ou(x,w),x!==null&&(Uu(x,w,P),Aa(x,P))}function sw(x){var w=x.memoizedState,P=0;w!==null&&(P=w.retryLane),q0(x,P)}function lw(x,w){var P=0;switch(x.tag){case 13:var N=x.stateNode,F=x.memoizedState;F!==null&&(P=F.retryLane);break;case 19:N=x.stateNode;break;default:throw Error(o(314))}N!==null&&N.delete(w),q0(x,P)}var K0;K0=function(x,w,P){if(x!==null)if(x.memoizedProps!==w.pendingProps||Hr.current)Mi=!0;else{if((x.lanes&P)===0&&(w.flags&128)===0)return Mi=!1,bg(x,w,P);Mi=(x.flags&131072)!==0}else Mi=!1,Nr&&(w.flags&1048576)!==0&&Z1(w,ag,w.index);switch(w.lanes=0,w.tag){case 2:var N=w.type;x!==null&&(x.alternate=null,w.alternate=null,w.flags|=2),x=w.pendingProps;var F=$a(w,nr.current);vf(w,P),F=Tf(null,w,N,x,F,P);var H=eu();return w.flags|=1,typeof F=="object"&&F!==null&&typeof F.render=="function"&&F.$$typeof===void 0?(w.tag=1,w.memoizedState=null,w.updateQueue=null,jn(N)?(H=!0,Zl(w)):H=!1,w.memoizedState=F.state!==null&&F.state!==void 0?F.state:null,gf(w),F.updater=rg,w.stateNode=F,F._reactInternals=w,m0(w,N,x,P),w=qi(null,w,N,!0,H,P)):(w.tag=0,Nr&&H&&y0(w),Wr(null,w,F,P),w=w.child),w;case 16:N=w.elementType;e:{switch(x!==null&&(x.alternate=null,w.alternate=null,w.flags|=2),x=w.pendingProps,F=N._init,N=F(N._payload),w.type=N,F=w.tag=oE(N),x=wa(N,x),F){case 0:w=ol(null,w,N,x,P);break e;case 1:w=nc(null,w,N,x,P);break e;case 11:w=Er(null,w,N,x,P);break e;case 14:w=xr(null,w,N,wa(N.type,x),P);break e}throw Error(o(306,N,""))}return w;case 0:return N=w.type,F=w.pendingProps,F=w.elementType===N?F:wa(N,F),ol(x,w,N,F,P);case 1:return N=w.type,F=w.pendingProps,F=w.elementType===N?F:wa(N,F),nc(x,w,N,F,P);case 3:e:{if(pd(w),x===null)throw Error(o(387));N=w.pendingProps,H=w.memoizedState,F=H.element,p0(x,w),ng(w,N,null,P);var ie=w.memoizedState;if(N=ie.element,Ae&&H.isDehydrated)if(H={element:N,isDehydrated:!1,cache:ie.cache,transitions:ie.transitions},w.updateQueue.baseState=H,w.memoizedState=H,w.flags&256){F=Error(o(423)),w=N0(x,w,N,P,F);break e}else if(N!==F){F=Error(o(424)),w=N0(x,w,N,P,F);break e}else for(Ae&&(Ni=kt(w.stateNode.containerInfo),ua=w,Nr=!0,Ao=null,yf=!1),P=K1(w,null,N,P),w.child=P;P;)P.flags=P.flags&-3|4096,P=P.sibling;else{if(_f(),N===F){w=ba(x,w,P);break e}Wr(x,w,N,P)}w=w.child}return w;case 5:return J1(w),x===null&&Jl(w),N=w.type,F=w.pendingProps,H=x!==null?x.memoizedProps:null,ie=F.children,fe(N,F)?ie=null:H!==null&&fe(N,H)&&(w.flags|=32),ca(x,w),Wr(x,w,ie,P),w.child;case 6:return x===null&&Jl(w),null;case 13:return O0(x,w,P);case 4:return lg(w,w.stateNode.containerInfo),N=w.pendingProps,x===null?w.child=tl(w,null,N,P):Wr(x,w,N,P),w.child;case 11:return N=w.type,F=w.pendingProps,F=w.elementType===N?F:wa(N,F),Er(x,w,N,F,P);case 7:return Wr(x,w,w.pendingProps,P),w.child;case 8:return Wr(x,w,w.pendingProps.children,P),w.child;case 12:return Wr(x,w,w.pendingProps.children,P),w.child;case 10:e:{if(N=w.type._context,F=w.pendingProps,H=w.memoizedProps,ie=F.value,Wu(w,N,ie),H!==null)if(sa(H.value,ie)){if(H.children===F.children&&!Hr.current){w=ba(x,w,P);break e}}else for(H=w.child,H!==null&&(H.return=w);H!==null;){var ye=H.dependencies;if(ye!==null){ie=H.child;for(var We=ye.firstContext;We!==null;){if(We.context===N){if(H.tag===1){We=Js(-1,P&-P),We.tag=2;var dt=H.updateQueue;if(dt!==null){dt=dt.shared;var Ut=dt.pending;Ut===null?We.next=We:(We.next=Ut.next,Ut.next=We),dt.pending=We}}H.lanes|=P,We=H.alternate,We!==null&&(We.lanes|=P),Xu(H.return,P,w),ye.lanes|=P;break}We=We.next}}else if(H.tag===10)ie=H.type===w.type?null:H.child;else if(H.tag===18){if(ie=H.return,ie===null)throw Error(o(341));ie.lanes|=P,ye=ie.alternate,ye!==null&&(ye.lanes|=P),Xu(ie,P,w),ie=H.sibling}else ie=H.child;if(ie!==null)ie.return=H;else for(ie=H;ie!==null;){if(ie===w){ie=null;break}if(H=ie.sibling,H!==null){H.return=ie.return,ie=H;break}ie=ie.return}H=ie}Wr(x,w,F.children,P),w=w.child}return w;case 9:return F=w.type,N=w.pendingProps.children,vf(w,P),F=Ma(F),N=N(F),w.flags|=1,Wr(x,w,N,P),w.child;case 14:return N=w.type,F=wa(N,w.pendingProps),F=wa(N.type,F),xr(x,w,N,F,P);case 15:return al(x,w,w.type,w.pendingProps,P);case 17:return N=w.type,F=w.pendingProps,F=w.elementType===N?F:wa(N,F),x!==null&&(x.alternate=null,w.alternate=null,w.flags|=2),w.tag=1,jn(N)?(x=!0,Zl(w)):x=!1,vf(w,P),Y1(w,N,F),m0(w,N,F,P),qi(null,w,N,!0,x,P);case 19:return ic(x,w,P);case 22:return Oi(x,w,P)}throw Error(o(156,w.tag))};function Rg(x,w){return Vu(x,w)}function uw(x,w,P,N){this.tag=x,this.key=P,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=w,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=N,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ro(x,w,P,N){return new uw(x,w,P,N)}function Lg(x){return x=x.prototype,!(!x||!x.isReactComponent)}function oE(x){if(typeof x=="function")return Lg(x)?1:0;if(x!=null){if(x=x.$$typeof,x===g)return 11;if(x===S)return 14}return 2}function pl(x,w){var P=x.alternate;return P===null?(P=ro(x.tag,w,x.key,x.mode),P.elementType=x.elementType,P.type=x.type,P.stateNode=x.stateNode,P.alternate=x,x.alternate=P):(P.pendingProps=w,P.type=x.type,P.flags=0,P.subtreeFlags=0,P.deletions=null),P.flags=x.flags&14680064,P.childLanes=x.childLanes,P.lanes=x.lanes,P.child=x.child,P.memoizedProps=x.memoizedProps,P.memoizedState=x.memoizedState,P.updateQueue=x.updateQueue,w=x.dependencies,P.dependencies=w===null?null:{lanes:w.lanes,firstContext:w.firstContext},P.sibling=x.sibling,P.index=x.index,P.ref=x.ref,P}function Ig(x,w,P,N,F,H){var ie=2;if(N=x,typeof x=="function")Lg(x)&&(ie=1);else if(typeof x=="string")ie=5;else e:switch(x){case c:return vc(P.children,F,H,w);case f:ie=8,F|=8;break;case h:return x=ro(12,P,w,F|2),x.elementType=h,x.lanes=H,x;case m:return x=ro(13,P,w,F),x.elementType=m,x.lanes=H,x;case y:return x=ro(19,P,w,F),x.elementType=y,x.lanes=H,x;case b:return Dd(P,F,H,w);default:if(typeof x=="object"&&x!==null)switch(x.$$typeof){case d:ie=10;break e;case p:ie=9;break e;case g:ie=11;break e;case S:ie=14;break e;case M:ie=16,N=null;break e}throw Error(o(130,x==null?x:typeof x,""))}return w=ro(ie,P,w,F),w.elementType=x,w.type=N,w.lanes=H,w}function vc(x,w,P,N){return x=ro(7,x,N,w),x.lanes=P,x}function Dd(x,w,P,N){return x=ro(22,x,N,w),x.elementType=b,x.lanes=P,x.stateNode={},x}function Ng(x,w,P){return x=ro(6,x,null,w),x.lanes=P,x}function Og(x,w,P){return w=ro(4,x.children!==null?x.children:[],x.key,w),w.lanes=P,w.stateNode={containerInfo:x.containerInfo,pendingChildren:null,implementation:x.implementation},w}function kg(x,w,P,N,F){this.tag=w,this.containerInfo=x,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Oe,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yv(0),this.expirationTimes=Yv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yv(0),this.identifierPrefix=N,this.onRecoverableError=F,Ae&&(this.mutableSourceEagerHydrationData=null)}function cw(x,w,P,N,F,H,ie,ye,We){return x=new kg(x,w,P,ye,We),w===1?(w=1,H===!0&&(w|=8)):w=0,H=ro(3,null,null,w),x.current=H,H.stateNode=x,H.memoizedState={element:N,isDehydrated:P,cache:null,transitions:null},gf(H),x}function fw(x){if(!x)return Nt;x=x._reactInternals;e:{if(L(x)!==x||x.tag!==1)throw Error(o(170));var w=x;do{switch(w.tag){case 3:w=w.stateNode.context;break e;case 1:if(jn(w.type)){w=w.stateNode.__reactInternalMemoizedMergedChildContext;break e}}w=w.return}while(w!==null);throw Error(o(171))}if(x.tag===1){var P=x.type;if(jn(P))return aa(x,P,w)}return w}function hw(x){var w=x._reactInternals;if(w===void 0)throw typeof x.render=="function"?Error(o(188)):(x=Object.keys(x).join(","),Error(o(268,x)));return x=U(w),x===null?null:x.stateNode}function Po(x,w){if(x=x.memoizedState,x!==null&&x.dehydrated!==null){var P=x.retryLane;x.retryLane=P!==0&&P<w?P:w}}function Rd(x,w){Po(x,w),(x=x.alternate)&&Po(x,w)}function Fg(x){return x=U(x),x===null?null:x.stateNode}function dw(){return null}return t.attemptContinuousHydration=function(x){if(x.tag===13){var w=or();Ji(x,134217728,w),Rd(x,134217728)}},t.attemptHydrationAtCurrentPriority=function(x){if(x.tag===13){var w=or(),P=qo(x);Ji(x,P,w),Rd(x,P)}},t.attemptSynchronousHydration=function(x){switch(x.tag){case 3:var w=x.stateNode;if(w.current.memoizedState.isDehydrated){var P=df(w.pendingLanes);P!==0&&(ps(w,P|1),Aa(w,fi()),(Nn&6)===0&&(hc(),wo()))}break;case 13:var N=or();kf(function(){return Ji(x,1,N)}),Rd(x,1)}},t.batchedUpdates=function(x,w){var P=Nn;Nn|=1;try{return x(w)}finally{Nn=P,Nn===0&&(hc(),qv&&wo())}},t.createComponentSelector=function(x){return{$$typeof:xd,value:x}},t.createContainer=function(x,w,P,N,F,H,ie){return cw(x,w,!1,null,P,N,F,H,ie)},t.createHasPseudoClassSelector=function(x){return{$$typeof:sc,value:x}},t.createHydrationContainer=function(x,w,P,N,F,H,ie,ye,We){return x=cw(P,N,!0,x,F,H,ie,ye,We),x.context=fw(null),P=x.current,N=or(),F=qo(P),H=Js(N,F),H.callback=w??null,ql(P,H),x.current.lanes=F,Uu(x,F,N),Aa(x,N),x},t.createPortal=function(x,w,P){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:N==null?null:""+N,children:x,containerInfo:w,implementation:P}},t.createRoleSelector=function(x){return{$$typeof:lc,value:x}},t.createTestNameSelector=function(x){return{$$typeof:ul,value:x}},t.createTextSelector=function(x){return{$$typeof:Lf,value:x}},t.deferredUpdates=function(x){var w=Vn,P=gr.transition;try{return gr.transition=null,Vn=16,x()}finally{Vn=w,gr.transition=P}},t.discreteUpdates=function(x,w,P,N,F){var H=Vn,ie=gr.transition;try{return gr.transition=null,Vn=1,x(w,P,N,F)}finally{Vn=H,gr.transition=ie,Nn===0&&hc()}},t.findAllNodes=cl,t.findBoundingRects=function(x,w){if(!re)throw Error(o(363));w=cl(x,w),x=[];for(var P=0;P<w.length;P++)x.push(Pe(w[P]));for(w=x.length-1;0<w;w--){P=x[w];for(var N=P.x,F=N+P.width,H=P.y,ie=H+P.height,ye=w-1;0<=ye;ye--)if(w!==ye){var We=x[ye],dt=We.x,Ut=dt+We.width,An=We.y,un=An+We.height;if(N>=dt&&H>=An&&F<=Ut&&ie<=un){x.splice(w,1);break}else if(N!==dt||P.width!==We.width||un<H||An>ie){if(!(H!==An||P.height!==We.height||Ut<N||dt>F)){dt>N&&(We.width+=dt-N,We.x=N),Ut<F&&(We.width=F-dt),x.splice(w,1);break}}else{An>H&&(We.height+=An-H,We.y=H),un<ie&&(We.height=ie-An),x.splice(w,1);break}}}return x},t.findHostInstance=hw,t.findHostInstanceWithNoPortals=function(x){return x=O(x),x=x!==null?W(x):null,x===null?null:x.stateNode},t.findHostInstanceWithWarning=function(x){return hw(x)},t.flushControlled=function(x){var w=Nn;Nn|=1;var P=gr.transition,N=Vn;try{gr.transition=null,Vn=1,x()}finally{Vn=N,gr.transition=P,Nn=w,Nn===0&&(hc(),wo())}},t.flushPassiveEffects=Ss,t.flushSync=kf,t.focusWithin=function(x,w){if(!re)throw Error(o(363));for(x=Sd(x),w=eo(x,w),w=Array.from(w),x=0;x<w.length;){var P=w[x++];if(!Ye(P)){if(P.tag===5&&Yt(P.stateNode))return!0;for(P=P.child;P!==null;)w.push(P),P=P.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Vn},t.getFindAllNodesFailureDescription=function(x,w){if(!re)throw Error(o(363));var P=0,N=[];x=[Sd(x),0];for(var F=0;F<x.length;){var H=x[F++],ie=x[F++],ye=w[ie];if((H.tag!==5||!Ye(H))&&(wd(H,ye)&&(N.push(iu(ye)),ie++,ie>P&&(P=ie)),ie<w.length))for(H=H.child;H!==null;)x.push(H,ie),H=H.sibling}if(P<w.length){for(x=[];P<w.length;P++)x.push(iu(w[P]));return`findAllNodes was able to match part of the selector:
  `+(N.join(" > ")+`

No matching component was found for:
  `)+x.join(" > ")}return null},t.getPublicRootInstance=function(x){if(x=x.current,!x.child)return null;switch(x.child.tag){case 5:return j(x.child.stateNode);default:return x.child.stateNode}},t.injectIntoDevTools=function(x){if(x={bundleType:x.bundleType,version:x.version,rendererPackageName:x.rendererPackageName,rendererConfig:x.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:s.ReactCurrentDispatcher,findHostInstanceByFiber:Fg,findFiberByHostInstance:x.findFiberByHostInstance||dw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")x=!1;else{var w=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(w.isDisabled||!w.supportsFiber)x=!0;else{try{Qh=w.inject(x),vs=w}catch{}x=!!w.checkDCE}}return x},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(x,w,P,N){if(!re)throw Error(o(363));x=cl(x,w);var F=vt(x,P,N).disconnect;return{disconnect:function(){F()}}},t.registerMutableSourceForHydration=function(x,w){var P=w._getVersion;P=P(w._source),x.mutableSourceEagerHydrationData==null?x.mutableSourceEagerHydrationData=[w,P]:x.mutableSourceEagerHydrationData.push(w,P)},t.runWithPriority=function(x,w){var P=Vn;try{return Vn=x,w()}finally{Vn=P}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(x,w,P,N){var F=w.current,H=or(),ie=qo(F);return P=fw(P),w.context===null?w.context=P:w.pendingContext=P,w=Js(H,ie),w.payload={element:x},N=N===void 0?null:N,N!==null&&(w.callback=N),ql(F,w),x=Ji(F,ie,H),x!==null&&eg(x,F,ie),ie},t}),GP}var kV;function zve(){return kV||(kV=1,BP.exports=Fve()),BP.exports}var Bve=zve();const Uve=Ny(Bve);var HP={exports:{}},WP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FV;function Vve(){return FV||(FV=1,(function(n){function e(B,Z){var q=B.length;B.push(Z);e:for(;0<q;){var Y=q-1>>>1,te=B[Y];if(0<i(te,Z))B[Y]=Z,B[q]=te,q=Y;else break e}}function t(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var Z=B[0],q=B.pop();if(q!==Z){B[0]=q;e:for(var Y=0,te=B.length,me=te>>>1;Y<me;){var ae=2*(Y+1)-1,fe=B[ae],be=ae+1,Ee=B[be];if(0>i(fe,q))be<te&&0>i(Ee,fe)?(B[Y]=Ee,B[be]=q,Y=be):(B[Y]=fe,B[ae]=q,Y=ae);else if(be<te&&0>i(Ee,q))B[Y]=Ee,B[be]=q,Y=be;else break e}}return Z}function i(B,Z){var q=B.sortIndex-Z.sortIndex;return q!==0?q:B.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();n.unstable_now=function(){return o.now()-s}}var l=[],u=[],c=1,f=null,h=3,d=!1,p=!1,g=!1,m=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(B){for(var Z=t(u);Z!==null;){if(Z.callback===null)r(u);else if(Z.startTime<=B)r(u),Z.sortIndex=Z.expirationTime,e(l,Z);else break;Z=t(u)}}function b(B){if(g=!1,M(B),!p)if(t(l)!==null)p=!0,j(C);else{var Z=t(u);Z!==null&&Q(b,Z.startTime-B)}}function C(B,Z){p=!1,g&&(g=!1,y(I),I=-1),d=!0;var q=h;try{for(M(Z),f=t(l);f!==null&&(!(f.expirationTime>Z)||B&&!O());){var Y=f.callback;if(typeof Y=="function"){f.callback=null,h=f.priorityLevel;var te=Y(f.expirationTime<=Z);Z=n.unstable_now(),typeof te=="function"?f.callback=te:f===t(l)&&r(l),M(Z)}else r(l);f=t(l)}if(f!==null)var me=!0;else{var ae=t(u);ae!==null&&Q(b,ae.startTime-Z),me=!1}return me}finally{f=null,h=q,d=!1}}var A=!1,E=null,I=-1,L=5,R=-1;function O(){return!(n.unstable_now()-R<L)}function U(){if(E!==null){var B=n.unstable_now();R=B;var Z=!0;try{Z=E(!0,B)}finally{Z?V():(A=!1,E=null)}}else A=!1}var V;if(typeof S=="function")V=function(){S(U)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,X=W.port2;W.port1.onmessage=U,V=function(){X.postMessage(null)}}else V=function(){m(U,0)};function j(B){E=B,A||(A=!0,V())}function Q(B,Z){I=m(function(){B(n.unstable_now())},Z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(B){B.callback=null},n.unstable_continueExecution=function(){p||d||(p=!0,j(C))},n.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<B?Math.floor(1e3/B):5},n.unstable_getCurrentPriorityLevel=function(){return h},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(B){switch(h){case 1:case 2:case 3:var Z=3;break;default:Z=h}var q=h;h=Z;try{return B()}finally{h=q}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(B,Z){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var q=h;h=B;try{return Z()}finally{h=q}},n.unstable_scheduleCallback=function(B,Z,q){var Y=n.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?Y+q:Y):q=Y,B){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=q+te,B={id:c++,callback:Z,priorityLevel:B,startTime:q,expirationTime:te,sortIndex:-1},q>Y?(B.sortIndex=q,e(u,B),t(l)===null&&B===t(u)&&(g?(y(I),I=-1):g=!0,Q(b,q-Y))):(B.sortIndex=te,e(l,B),p||d||(p=!0,j(C))),B},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(B){var Z=h;return function(){var q=h;h=Z;try{return B.apply(this,arguments)}finally{h=q}}}})(WP)),WP}var zV;function Gve(){return zV||(zV=1,HP.exports=Vve()),HP.exports}var BV=Gve();const ak={},Hve=n=>void Object.assign(ak,n);function Wve(n,e){function t(c,{args:f=[],attach:h,...d},p){let g=`${c[0].toUpperCase()}${c.slice(1)}`,m;if(c==="primitive"){if(d.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const y=d.object;m=Fm(y,{type:c,root:p,attach:h,primitive:!0})}else{const y=ak[g];if(!y)throw new Error(`R3F: ${g} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(f))throw new Error("R3F: The args prop must be an array!");m=Fm(new y(...f),{type:c,root:p,attach:h,memoizedProps:{args:f}})}return m.__r3f.attach===void 0&&(m.isBufferGeometry?m.__r3f.attach="geometry":m.isMaterial&&(m.__r3f.attach="material")),g!=="inject"&&jP(m,d),m}function r(c,f){let h=!1;if(f){var d,p;(d=f.__r3f)!=null&&d.attach?YP(c,f,f.__r3f.attach):f.isObject3D&&c.isObject3D&&(c.add(f),h=!0),h||(p=c.__r3f)==null||p.objects.push(f),f.__r3f||Fm(f,{}),f.__r3f.parent=c,FL(f),zm(f)}}function i(c,f,h){let d=!1;if(f){var p,g;if((p=f.__r3f)!=null&&p.attach)YP(c,f,f.__r3f.attach);else if(f.isObject3D&&c.isObject3D){f.parent=c,f.dispatchEvent({type:"added"}),c.dispatchEvent({type:"childadded",child:f});const m=c.children.filter(S=>S!==f),y=m.indexOf(h);c.children=[...m.slice(0,y),f,...m.slice(y)],d=!0}d||(g=c.__r3f)==null||g.objects.push(f),f.__r3f||Fm(f,{}),f.__r3f.parent=c,FL(f),zm(f)}}function a(c,f,h=!1){c&&[...c].forEach(d=>o(f,d,h))}function o(c,f,h){if(f){var d,p,g;if(f.__r3f&&(f.__r3f.parent=null),(d=c.__r3f)!=null&&d.objects&&(c.__r3f.objects=c.__r3f.objects.filter(b=>b!==f)),(p=f.__r3f)!=null&&p.attach)WV(c,f,f.__r3f.attach);else if(f.isObject3D&&c.isObject3D){var m;c.remove(f),(m=f.__r3f)!=null&&m.root&&Jve(jT(f),f)}const S=(g=f.__r3f)==null?void 0:g.primitive,M=!S&&(h===void 0?f.dispose!==null:h);if(!S){var y;a((y=f.__r3f)==null?void 0:y.objects,f,M),a(f.children,f,M)}if(delete f.__r3f,M&&f.dispose&&f.type!=="Scene"){const b=()=>{try{f.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?BV.unstable_scheduleCallback(BV.unstable_IdlePriority,b):b()}zm(c)}}function s(c,f,h,d){var p;const g=(p=c.__r3f)==null?void 0:p.parent;if(!g)return;const m=t(f,h,c.__r3f.root);if(c.children){for(const y of c.children)y.__r3f&&r(m,y);c.children=c.children.filter(y=>!y.__r3f)}c.__r3f.objects.forEach(y=>r(m,y)),c.__r3f.objects=[],c.__r3f.autoRemovedBeforeAppend||o(g,c),m.parent&&(m.__r3f.autoRemovedBeforeAppend=!0),r(g,m),m.raycast&&m.__r3f.eventCount&&jT(m).getState().internal.interaction.push(m),[d,d.alternate].forEach(y=>{y!==null&&(y.stateNode=m,y.ref&&(typeof y.ref=="function"?y.ref(m):y.ref.current=m))})}const l=()=>{};return{reconciler:Uve({createInstance:t,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(c,f)=>{if(!f)return;const h=c.getState().scene;h.__r3f&&(h.__r3f.root=c,r(h,f))},removeChildFromContainer:(c,f)=>{f&&o(c.getState().scene,f)},insertInContainerBefore:(c,f,h)=>{if(!f||!h)return;const d=c.getState().scene;d.__r3f&&i(d,f,h)},getRootHostContext:()=>null,getChildHostContext:c=>c,finalizeInitialChildren(c){var f;return!!((f=c?.__r3f)!=null?f:{}).handlers},prepareUpdate(c,f,h,d){var p;if(((p=c?.__r3f)!=null?p:{}).primitive&&d.object&&d.object!==c)return[!0];{const{args:m=[],children:y,...S}=d,{args:M=[],children:b,...C}=h;if(!Array.isArray(m))throw new Error("R3F: the args prop must be an array!");if(m.some((E,I)=>E!==M[I]))return[!0];const A=zj(c,S,C,!0);return A.changes.length?[!1,A]:null}},commitUpdate(c,[f,h],d,p,g,m){f?s(c,d,g,m):jP(c,h)},commitMount(c,f,h,d){var p;const g=(p=c.__r3f)!=null?p:{};c.raycast&&g.handlers&&g.eventCount&&jT(c).getState().internal.interaction.push(c)},getPublicInstance:c=>c,prepareForCommit:()=>null,preparePortalMount:c=>Fm(c.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(c){var f;const{attach:h,parent:d}=(f=c.__r3f)!=null?f:{};h&&d&&WV(d,c,h),c.isObject3D&&(c.visible=!1),zm(c)},unhideInstance(c,f){var h;const{attach:d,parent:p}=(h=c.__r3f)!=null?h:{};d&&p&&YP(p,c,d),(c.isObject3D&&f.visible==null||f.visible)&&(c.visible=!0),zm(c)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():ey.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&Fr.fun(performance.now)?performance.now:Fr.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Fr.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Fr.fun(clearTimeout)?clearTimeout:void 0}),applyProps:jP}}var UV,VV;const XP=n=>"colorSpace"in n||"outputColorSpace"in n,Lj=()=>{var n;return(n=ak.ColorManagement)!=null?n:null},Ij=n=>n&&n.isOrthographicCamera,Xve=n=>n&&n.hasOwnProperty("current"),m1=typeof window<"u"&&((UV=window.document)!=null&&UV.createElement||((VV=window.navigator)==null?void 0:VV.product)==="ReactNative")?de.useLayoutEffect:de.useEffect;function Nj(n){const e=de.useRef(n);return m1(()=>void(e.current=n),[n]),e}function Yve({set:n}){return m1(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class Oj extends de.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}Oj.getDerivedStateFromError=()=>({error:!0});const kj="__default",GV=new Map,jve=n=>n&&!!n.memoized&&!!n.changes;function Fj(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}const w_=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()};function jT(n){let e=n.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const Fr={obj:n=>n===Object(n)&&!Fr.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:r="reference",strict:i=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(Fr.str(n)||Fr.num(n)||Fr.boo(n))return n===e;const a=Fr.obj(n);if(a&&r==="reference")return n===e;const o=Fr.arr(n);if(o&&t==="reference")return n===e;if((o||a)&&n===e)return!0;let s;for(s in n)if(!(s in e))return!1;if(a&&t==="shallow"&&r==="shallow"){for(s in i?e:n)if(!Fr.equ(n[s],e[s],{strict:i,objects:"reference"}))return!1}else for(s in i?e:n)if(n[s]!==e[s])return!1;if(Fr.und(s)){if(o&&n.length===0&&e.length===0||a&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function Zve(n){const e={nodes:{},materials:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function $ve(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function Fm(n,e){const t=n;return t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},n}function kL(n,e){let t=n;if(e.includes("-")){const r=e.split("-"),i=r.pop();return t=r.reduce((a,o)=>a[o],n),{target:t,key:i}}else return{target:t,key:e}}const HV=/-\d+$/;function YP(n,e,t){if(Fr.str(t)){if(HV.test(t)){const a=t.replace(HV,""),{target:o,key:s}=kL(n,a);Array.isArray(o[s])||(o[s]=[])}const{target:r,key:i}=kL(n,t);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=t(n,e)}function WV(n,e,t){var r,i;if(Fr.str(t)){const{target:a,key:o}=kL(n,t),s=e.__r3f.previousAttach;s===void 0?delete a[o]:a[o]=s}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(n,e);(i=e.__r3f)==null||delete i.previousAttach}function zj(n,{children:e,key:t,ref:r,...i},{children:a,key:o,ref:s,...l}={},u=!1){const c=n.__r3f,f=Object.entries(i),h=[];if(u){const p=Object.keys(l);for(let g=0;g<p.length;g++)i.hasOwnProperty(p[g])||f.unshift([p[g],kj+"remove"])}f.forEach(([p,g])=>{var m;if((m=n.__r3f)!=null&&m.primitive&&p==="object"||Fr.equ(g,l[p]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(p))return h.push([p,g,!0,[]]);let y=[];p.includes("-")&&(y=p.split("-")),h.push([p,g,!1,y]);for(const S in i){const M=i[S];S.startsWith(`${p}-`)&&h.push([S,M,!1,S.split("-")])}});const d={...i};return c!=null&&c.memoizedProps&&c!=null&&c.memoizedProps.args&&(d.args=c.memoizedProps.args),c!=null&&c.memoizedProps&&c!=null&&c.memoizedProps.attach&&(d.attach=c.memoizedProps.attach),{memoized:d,changes:h}}function jP(n,e){var t;const r=n.__r3f,i=r?.root,a=i==null||i.getState==null?void 0:i.getState(),{memoized:o,changes:s}=jve(e)?e:zj(n,e),l=r?.eventCount;n.__r3f&&(n.__r3f.memoizedProps=o);for(let h=0;h<s.length;h++){let[d,p,g,m]=s[h];if(XP(n)){const b="srgb",C="srgb-linear";d==="encoding"?(d="colorSpace",p=p===3001?b:C):d==="outputEncoding"&&(d="outputColorSpace",p=p===3001?b:C)}let y=n,S=y[d];if(m.length&&(S=m.reduce((M,b)=>M[b],n),!(S&&S.set))){const[M,...b]=m.reverse();y=b.reverse().reduce((C,A)=>C[A],n),d=M}if(p===kj+"remove")if(y.constructor){let M=GV.get(y.constructor);M||(M=new y.constructor,GV.set(y.constructor,M)),p=M[d]}else p=0;if(g&&r)p?r.handlers[d]=p:delete r.handlers[d],r.eventCount=Object.keys(r.handlers).length;else if(S&&S.set&&(S.copy||S instanceof av)){if(Array.isArray(p))S.fromArray?S.fromArray(p):S.set(...p);else if(S.copy&&p&&p.constructor&&S.constructor===p.constructor)S.copy(p);else if(p!==void 0){var u;const M=(u=S)==null?void 0:u.isColor;!M&&S.setScalar?S.setScalar(p):S instanceof av&&p instanceof av?S.mask=p.mask:S.set(p),!Lj()&&a&&!a.linear&&M&&S.convertSRGBToLinear()}}else{var c;if(y[d]=p,(c=y[d])!=null&&c.isTexture&&y[d].format===po&&y[d].type===Ru&&a){const M=y[d];XP(M)&&XP(a.gl)?M.colorSpace=a.gl.outputColorSpace:M.encoding=a.gl.outputEncoding}}zm(n)}if(r&&r.parent&&n.raycast&&l!==r.eventCount){const h=jT(n).getState().internal,d=h.interaction.indexOf(n);d>-1&&h.interaction.splice(d,1),r.eventCount&&h.interaction.push(n)}return!(s.length===1&&s[0][0]==="onUpdate")&&s.length&&(t=n.__r3f)!=null&&t.parent&&FL(n),n}function zm(n){var e,t;const r=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();r&&r.internal.frames===0&&r.invalidate()}function FL(n){n.onUpdate==null||n.onUpdate(n)}function qve(n,e){n.manual||(Ij(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function RM(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function Kve(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return ey.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return ey.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return ey.ContinuousEventPriority;default:return ey.DefaultEventPriority}}function Bj(n,e,t,r){const i=t.get(e);i&&(t.delete(e),t.size===0&&(n.delete(r),i.target.releasePointerCapture(r)))}function Jve(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(r=>r!==e),t.initialHits=t.initialHits.filter(r=>r!==e),t.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&t.hovered.delete(i)}),t.capturedMap.forEach((r,i)=>{Bj(t.capturedMap,e,r,i)})}function Qve(n){function e(l){const{internal:u}=n.getState(),c=l.offsetX-u.initialClick[0],f=l.offsetY-u.initialClick[1];return Math.round(Math.sqrt(c*c+f*f))}function t(l){return l.filter(u=>["Move","Over","Enter","Out","Leave"].some(c=>{var f;return(f=u.__r3f)==null?void 0:f.handlers["onPointer"+c]}))}function r(l,u){const c=n.getState(),f=new Set,h=[],d=u?u(c.internal.interaction):c.internal.interaction;for(let y=0;y<d.length;y++){const S=w_(d[y]);S&&(S.raycaster.camera=void 0)}c.previousRoot||c.events.compute==null||c.events.compute(l,c);function p(y){const S=w_(y);if(!S||!S.events.enabled||S.raycaster.camera===null)return[];if(S.raycaster.camera===void 0){var M;S.events.compute==null||S.events.compute(l,S,(M=S.previousRoot)==null?void 0:M.getState()),S.raycaster.camera===void 0&&(S.raycaster.camera=null)}return S.raycaster.camera?S.raycaster.intersectObject(y,!0):[]}let g=d.flatMap(p).sort((y,S)=>{const M=w_(y.object),b=w_(S.object);return!M||!b?y.distance-S.distance:b.events.priority-M.events.priority||y.distance-S.distance}).filter(y=>{const S=RM(y);return f.has(S)?!1:(f.add(S),!0)});c.events.filter&&(g=c.events.filter(g,c));for(const y of g){let S=y.object;for(;S;){var m;(m=S.__r3f)!=null&&m.eventCount&&h.push({...y,eventObject:S}),S=S.parent}}if("pointerId"in l&&c.internal.capturedMap.has(l.pointerId))for(let y of c.internal.capturedMap.get(l.pointerId).values())f.has(RM(y.intersection))||h.push(y.intersection);return h}function i(l,u,c,f){const h=n.getState();if(l.length){const d={stopped:!1};for(const p of l){const g=w_(p.object)||h,{raycaster:m,pointer:y,camera:S,internal:M}=g,b=new ne(y.x,y.y,0).unproject(S),C=R=>{var O,U;return(O=(U=M.capturedMap.get(R))==null?void 0:U.has(p.eventObject))!=null?O:!1},A=R=>{const O={intersection:p,target:u.target};M.capturedMap.has(R)?M.capturedMap.get(R).set(p.eventObject,O):M.capturedMap.set(R,new Map([[p.eventObject,O]])),u.target.setPointerCapture(R)},E=R=>{const O=M.capturedMap.get(R);O&&Bj(M.capturedMap,p.eventObject,O,R)};let I={};for(let R in u){let O=u[R];typeof O!="function"&&(I[R]=O)}let L={...p,...I,pointer:y,intersections:l,stopped:d.stopped,delta:c,unprojectedPoint:b,ray:m.ray,camera:S,stopPropagation(){const R="pointerId"in u&&M.capturedMap.get(u.pointerId);if((!R||R.has(p.eventObject))&&(L.stopped=d.stopped=!0,M.hovered.size&&Array.from(M.hovered.values()).find(O=>O.eventObject===p.eventObject))){const O=l.slice(0,l.indexOf(p));a([...O,p])}},target:{hasPointerCapture:C,setPointerCapture:A,releasePointerCapture:E},currentTarget:{hasPointerCapture:C,setPointerCapture:A,releasePointerCapture:E},nativeEvent:u};if(f(L),d.stopped===!0)break}}return l}function a(l){const{internal:u}=n.getState();for(const c of u.hovered.values())if(!l.length||!l.find(f=>f.object===c.object&&f.index===c.index&&f.instanceId===c.instanceId)){const h=c.eventObject.__r3f,d=h?.handlers;if(u.hovered.delete(RM(c)),h!=null&&h.eventCount){const p={...c,intersections:l};d.onPointerOut==null||d.onPointerOut(p),d.onPointerLeave==null||d.onPointerLeave(p)}}}function o(l,u){for(let c=0;c<u.length;c++){const f=u[c].__r3f;f==null||f.handlers.onPointerMissed==null||f.handlers.onPointerMissed(l)}}function s(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>a([]);case"onLostPointerCapture":return u=>{const{internal:c}=n.getState();"pointerId"in u&&c.capturedMap.has(u.pointerId)&&requestAnimationFrame(()=>{c.capturedMap.has(u.pointerId)&&(c.capturedMap.delete(u.pointerId),a([]))})}}return function(c){const{onPointerMissed:f,internal:h}=n.getState();h.lastEvent.current=c;const d=l==="onPointerMove",p=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",m=r(c,d?t:void 0),y=p?e(c):0;l==="onPointerDown"&&(h.initialClick=[c.offsetX,c.offsetY],h.initialHits=m.map(M=>M.eventObject)),p&&!m.length&&y<=2&&(o(c,h.interaction),f&&f(c)),d&&a(m);function S(M){const b=M.eventObject,C=b.__r3f,A=C?.handlers;if(C!=null&&C.eventCount)if(d){if(A.onPointerOver||A.onPointerEnter||A.onPointerOut||A.onPointerLeave){const E=RM(M),I=h.hovered.get(E);I?I.stopped&&M.stopPropagation():(h.hovered.set(E,M),A.onPointerOver==null||A.onPointerOver(M),A.onPointerEnter==null||A.onPointerEnter(M))}A.onPointerMove==null||A.onPointerMove(M)}else{const E=A[l];E?(!p||h.initialHits.includes(b))&&(o(c,h.interaction.filter(I=>!h.initialHits.includes(I))),E(M)):p&&h.initialHits.includes(b)&&o(c,h.interaction.filter(I=>!h.initialHits.includes(I)))}}i(m,c,y,S)}}return{handlePointer:s}}const Uj=n=>!!(n!=null&&n.render),Vj=de.createContext(null),ege=(n,e)=>{const t=Dve((s,l)=>{const u=new ne,c=new ne,f=new ne;function h(y=l().camera,S=c,M=l().size){const{width:b,height:C,top:A,left:E}=M,I=b/C;S.isVector3?f.copy(S):f.set(...S);const L=y.getWorldPosition(u).distanceTo(f);if(Ij(y))return{width:b/y.zoom,height:C/y.zoom,top:A,left:E,factor:1,distance:L,aspect:I};{const R=y.fov*Math.PI/180,O=2*Math.tan(R/2)*L,U=O*(b/C);return{width:U,height:O,top:A,left:E,factor:b/U,distance:L,aspect:I}}}let d;const p=y=>s(S=>({performance:{...S.performance,current:y}})),g=new je;return{set:s,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(y=1)=>n(l(),y),advance:(y,S)=>e(y,S,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new tk,pointer:g,mouse:g,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const y=l();d&&clearTimeout(d),y.performance.current!==y.performance.min&&p(y.performance.min),d=setTimeout(()=>p(l().performance.max),y.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:h},setEvents:y=>s(S=>({...S,events:{...S.events,...y}})),setSize:(y,S,M,b,C)=>{const A=l().camera,E={width:y,height:S,top:b||0,left:C||0,updateStyle:M};s(I=>({size:E,viewport:{...I.viewport,...h(A,c,E)}}))},setDpr:y=>s(S=>{const M=Fj(y);return{viewport:{...S.viewport,dpr:M,initialDpr:S.viewport.initialDpr||M}}}),setFrameloop:(y="always")=>{const S=l().clock;S.stop(),S.elapsedTime=0,y!=="never"&&(S.start(),S.elapsedTime=0),s(()=>({frameloop:y}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:de.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(y,S,M)=>{const b=l().internal;return b.priority=b.priority+(S>0?1:0),b.subscribers.push({ref:y,priority:S,store:M}),b.subscribers=b.subscribers.sort((C,A)=>C.priority-A.priority),()=>{const C=l().internal;C!=null&&C.subscribers&&(C.priority=C.priority-(S>0?1:0),C.subscribers=C.subscribers.filter(A=>A.ref!==y))}}}}}),r=t.getState();let i=r.size,a=r.viewport.dpr,o=r.camera;return t.subscribe(()=>{const{camera:s,size:l,viewport:u,gl:c,set:f}=t.getState();if(l.width!==i.width||l.height!==i.height||u.dpr!==a){var h;i=l,a=u.dpr,qve(s,l),c.setPixelRatio(u.dpr);const d=(h=l.updateStyle)!=null?h:typeof HTMLCanvasElement<"u"&&c.domElement instanceof HTMLCanvasElement;c.setSize(l.width,l.height,d)}s!==o&&(o=s,f(d=>({viewport:{...d.viewport,...d.viewport.getCurrentViewport(s)}})))}),t.subscribe(s=>n(s)),t};let LM,tge=new Set,nge=new Set,rge=new Set;function ZP(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function M_(n,e){switch(n){case"before":return ZP(tge,e);case"after":return ZP(nge,e);case"tail":return ZP(rge,e)}}let $P,qP;function KP(n,e,t){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(r=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),$P=e.internal.subscribers,LM=0;LM<$P.length;LM++)qP=$P[LM],qP.ref.current(qP.store.getState(),r,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function ige(n){let e=!1,t=!1,r,i,a;function o(u){i=requestAnimationFrame(o),e=!0,r=0,M_("before",u),t=!0;for(const f of n.values()){var c;a=f.store.getState(),a.internal.active&&(a.frameloop==="always"||a.internal.frames>0)&&!((c=a.gl.xr)!=null&&c.isPresenting)&&(r+=KP(u,a))}if(t=!1,M_("after",u),r===0)return M_("tail",u),e=!1,cancelAnimationFrame(i)}function s(u,c=1){var f;if(!u)return n.forEach(h=>s(h.store.getState(),c));(f=u.gl.xr)!=null&&f.isPresenting||!u.internal.active||u.frameloop==="never"||(c>1?u.internal.frames=Math.min(60,u.internal.frames+c):t?u.internal.frames=2:u.internal.frames=1,e||(e=!0,requestAnimationFrame(o)))}function l(u,c=!0,f,h){if(c&&M_("before",u),f)KP(u,f,h);else for(const d of n.values())KP(u,d.store.getState());c&&M_("after",u)}return{loop:o,invalidate:s,advance:l}}function Gj(){const n=de.useContext(Vj);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function Dc(n=t=>t,e){return Gj()(n,e)}function ok(n,e=0){const t=Gj(),r=t.getState().internal.subscribe,i=Nj(n);return m1(()=>r(i,e,t),[e,r,t]),null}const XV=new WeakMap;function Hj(n,e){return function(t,...r){let i=XV.get(t);return i||(i=new t,XV.set(t,i)),n&&n(i),Promise.all(r.map(a=>new Promise((o,s)=>i.load(a,l=>{l.scene&&Object.assign(l,Zve(l.scene)),o(l)},e,l=>s(new Error(`Could not load ${a}: ${l?.message}`))))))}}function y1(n,e,t,r){const i=Array.isArray(e)?e:[e],a=Lve(Hj(t,r),[n,...i],{equal:Fr.equ});return Array.isArray(e)?a:a[0]}y1.preload=function(n,e,t){const r=Array.isArray(e)?e:[e];return Ive(Hj(t),[n,...r])};y1.clear=function(n,e){const t=Array.isArray(e)?e:[e];return Nve([n,...t])};const Sy=new Map,{invalidate:YV,advance:jV}=ige(Sy),{reconciler:Pb,applyProps:fm}=Wve(Sy,Kve),hm={objects:"shallow",strict:!1},age=(n,e)=>{const t=typeof n=="function"?n(e):n;return Uj(t)?t:new OY({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function oge(n,e){const t=typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement;if(e){const{width:r,height:i,top:a,left:o,updateStyle:s=t}=e;return{width:r,height:i,top:a,left:o,updateStyle:s}}else if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:r,height:i,top:a,left:o}=n.parentElement.getBoundingClientRect();return{width:r,height:i,top:a,left:o,updateStyle:t}}else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0,updateStyle:t};return{width:0,height:0,top:0,left:0}}function sge(n){const e=Sy.get(n),t=e?.fiber,r=e?.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,a=r||ege(YV,jV),o=t||Pb.createContainer(a,ey.ConcurrentRoot,null,!1,null,"",i,null);e||Sy.set(n,{fiber:o,store:a});let s,l=!1,u;return{configure(c={}){let{gl:f,size:h,scene:d,events:p,onCreated:g,shadows:m=!1,linear:y=!1,flat:S=!1,legacy:M=!1,orthographic:b=!1,frameloop:C="always",dpr:A=[1,2],performance:E,raycaster:I,camera:L,onPointerMissed:R}=c,O=a.getState(),U=O.gl;O.gl||O.set({gl:U=age(f,n)});let V=O.raycaster;V||O.set({raycaster:V=new Ej});const{params:W,...X}=I||{};if(Fr.equ(X,V,hm)||fm(V,{...X}),Fr.equ(W,V.params,hm)||fm(V,{params:{...V.params,...W}}),!O.camera||O.camera===u&&!Fr.equ(u,L,hm)){u=L;const q=L instanceof u1,Y=q?L:b?new wh(0,0,0,0,.1,1e3):new mi(75,0,.1,1e3);q||(Y.position.z=5,L&&(fm(Y,L),("aspect"in L||"left"in L||"right"in L||"bottom"in L||"top"in L)&&(Y.manual=!0,Y.updateProjectionMatrix())),!O.camera&&!(L!=null&&L.rotation)&&Y.lookAt(0,0,0)),O.set({camera:Y}),V.camera=Y}if(!O.scene){let q;d!=null&&d.isScene?q=d:(q=new zO,d&&fm(q,d)),O.set({scene:Fm(q)})}if(!O.xr){var j;const q=(me,ae)=>{const fe=a.getState();fe.frameloop!=="never"&&jV(me,!0,fe,ae)},Y=()=>{const me=a.getState();me.gl.xr.enabled=me.gl.xr.isPresenting,me.gl.xr.setAnimationLoop(me.gl.xr.isPresenting?q:null),me.gl.xr.isPresenting||YV(me)},te={connect(){const me=a.getState().gl;me.xr.addEventListener("sessionstart",Y),me.xr.addEventListener("sessionend",Y)},disconnect(){const me=a.getState().gl;me.xr.removeEventListener("sessionstart",Y),me.xr.removeEventListener("sessionend",Y)}};typeof((j=U.xr)==null?void 0:j.addEventListener)=="function"&&te.connect(),O.set({xr:te})}if(U.shadowMap){const q=U.shadowMap.enabled,Y=U.shadowMap.type;if(U.shadowMap.enabled=!!m,Fr.boo(m))U.shadowMap.type=Cx;else if(Fr.str(m)){var Q;const te={basic:vX,percentage:FA,soft:Cx,variance:El};U.shadowMap.type=(Q=te[m])!=null?Q:Cx}else Fr.obj(m)&&Object.assign(U.shadowMap,m);(q!==U.shadowMap.enabled||Y!==U.shadowMap.type)&&(U.shadowMap.needsUpdate=!0)}const B=Lj();B&&("enabled"in B?B.enabled=!M:"legacyMode"in B&&(B.legacyMode=M)),l||fm(U,{outputEncoding:y?3e3:3001,toneMapping:S?Au:yO}),O.legacy!==M&&O.set(()=>({legacy:M})),O.linear!==y&&O.set(()=>({linear:y})),O.flat!==S&&O.set(()=>({flat:S})),f&&!Fr.fun(f)&&!Uj(f)&&!Fr.equ(f,U,hm)&&fm(U,f),p&&!O.events.handlers&&O.set({events:p(a)});const Z=oge(n,h);return Fr.equ(Z,O.size,hm)||O.setSize(Z.width,Z.height,Z.updateStyle,Z.top,Z.left),A&&O.viewport.dpr!==Fj(A)&&O.setDpr(A),O.frameloop!==C&&O.setFrameloop(C),O.onPointerMissed||O.set({onPointerMissed:R}),E&&!Fr.equ(E,O.performance,hm)&&O.set(q=>({performance:{...q.performance,...E}})),s=g,l=!0,this},render(c){return l||this.configure(),Pb.updateContainer(Re.jsx(lge,{store:a,children:c,onCreated:s,rootElement:n}),o,null,()=>{}),a},unmount(){Wj(n)}}}function lge({store:n,children:e,onCreated:t,rootElement:r}){return m1(()=>{const i=n.getState();i.set(a=>({internal:{...a.internal,active:!0}})),t&&t(i),n.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),Re.jsx(Vj.Provider,{value:n,children:e})}function Wj(n,e){const t=Sy.get(n),r=t?.fiber;if(r){const i=t?.store.getState();i&&(i.internal.active=!1),Pb.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var a,o,s,l;i.events.disconnect==null||i.events.disconnect(),(a=i.gl)==null||(o=a.renderLists)==null||o.dispose==null||o.dispose(),(s=i.gl)==null||s.forceContextLoss==null||s.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),$ve(i),Sy.delete(n)}catch{}},500)})}}Pb.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:de.version});const JP={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function uge(n){const{handlePointer:e}=Qve(n);return{priority:1,enabled:!0,compute(t,r,i){r.pointer.set(t.offsetX/r.size.width*2-1,-(t.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(JP).reduce((t,r)=>({...t,[r]:e(r)}),{}),update:()=>{var t;const{events:r,internal:i}=n.getState();(t=i.lastEvent)!=null&&t.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:t=>{var r;const{set:i,events:a}=n.getState();a.disconnect==null||a.disconnect(),i(o=>({events:{...o.events,connected:t}})),Object.entries((r=a.handlers)!=null?r:[]).forEach(([o,s])=>{const[l,u]=JP[o];t.addEventListener(l,s,{passive:u})})},disconnect:()=>{const{set:t,events:r}=n.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([a,o])=>{if(r&&r.connected instanceof HTMLElement){const[s]=JP[a];r.connected.removeEventListener(s,o)}}),t(a=>({events:{...a.events,connected:void 0}}))}}}}function ZV(n,e){let t;return(...r)=>{window.clearTimeout(t),t=window.setTimeout(()=>n(...r),e)}}function cge({debounce:n,scroll:e,polyfill:t,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const i=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!i)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[a,o]=de.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),s=de.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:a,orientationHandler:null}),l=n?typeof n=="number"?n:n.scroll:null,u=n?typeof n=="number"?n:n.resize:null,c=de.useRef(!1);de.useEffect(()=>(c.current=!0,()=>void(c.current=!1)));const[f,h,d]=de.useMemo(()=>{const y=()=>{if(!s.current.element)return;const{left:S,top:M,width:b,height:C,bottom:A,right:E,x:I,y:L}=s.current.element.getBoundingClientRect(),R={left:S,top:M,width:b,height:C,bottom:A,right:E,x:I,y:L};s.current.element instanceof HTMLElement&&r&&(R.height=s.current.element.offsetHeight,R.width=s.current.element.offsetWidth),Object.freeze(R),c.current&&!pge(s.current.lastBounds,R)&&o(s.current.lastBounds=R)};return[y,u?ZV(y,u):y,l?ZV(y,l):y]},[o,r,l,u]);function p(){s.current.scrollContainers&&(s.current.scrollContainers.forEach(y=>y.removeEventListener("scroll",d,!0)),s.current.scrollContainers=null),s.current.resizeObserver&&(s.current.resizeObserver.disconnect(),s.current.resizeObserver=null),s.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",s.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",s.current.orientationHandler))}function g(){s.current.element&&(s.current.resizeObserver=new i(d),s.current.resizeObserver.observe(s.current.element),e&&s.current.scrollContainers&&s.current.scrollContainers.forEach(y=>y.addEventListener("scroll",d,{capture:!0,passive:!0})),s.current.orientationHandler=()=>{d()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",s.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",s.current.orientationHandler))}const m=y=>{!y||y===s.current.element||(p(),s.current.element=y,s.current.scrollContainers=Xj(y),g())};return hge(d,!!e),fge(h),de.useEffect(()=>{p(),g()},[e,d,h]),de.useEffect(()=>p,[]),[m,a,f]}function fge(n){de.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function hge(n,e){de.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function Xj(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:r,overflowY:i}=window.getComputedStyle(n);return[t,r,i].some(a=>a==="auto"||a==="scroll")&&e.push(n),[...e,...Xj(n.parentElement)]}const dge=["x","y","top","bottom","left","right","width","height"],pge=(n,e)=>dge.every(t=>n[t]===e[t]);var vge=Object.defineProperty,gge=Object.defineProperties,mge=Object.getOwnPropertyDescriptors,$V=Object.getOwnPropertySymbols,yge=Object.prototype.hasOwnProperty,_ge=Object.prototype.propertyIsEnumerable,qV=(n,e,t)=>e in n?vge(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,KV=(n,e)=>{for(var t in e||(e={}))yge.call(e,t)&&qV(n,t,e[t]);if($V)for(var t of $V(e))_ge.call(e,t)&&qV(n,t,e[t]);return n},xge=(n,e)=>gge(n,mge(e)),JV,QV;typeof window<"u"&&((JV=window.document)!=null&&JV.createElement||((QV=window.navigator)==null?void 0:QV.product)==="ReactNative")?de.useLayoutEffect:de.useEffect;function Yj(n,e,t){if(!n)return;if(t(n)===!0)return n;let r=n.child;for(;r;){const i=Yj(r,e,t);if(i)return i;r=r.sibling}}function jj(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const e5=console.error;console.error=function(){const n=[...arguments].join("");if(n?.startsWith("Warning:")&&n.includes("useContext")){console.error=e5;return}return e5.apply(this,arguments)};const sk=jj(de.createContext(null));class Zj extends de.Component{render(){return de.createElement(sk.Provider,{value:this._reactInternals},this.props.children)}}function Sge(){const n=de.useContext(sk);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=de.useId();return de.useMemo(()=>{for(const r of[n,n?.alternate]){if(!r)continue;const i=Yj(r,!1,a=>{let o=a.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(i)return i}},[n,e])}function wge(){const n=Sge(),[e]=de.useState(()=>new Map);e.clear();let t=n;for(;t;){if(t.type&&typeof t.type=="object"){const i=t.type._context===void 0&&t.type.Provider===t.type?t.type:t.type._context;i&&i!==sk&&!e.has(i)&&e.set(i,de.useContext(jj(i)))}t=t.return}return e}function Mge(){const n=wge();return de.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>r=>de.createElement(e,null,de.createElement(t.Provider,xge(KV({},r),{value:n.get(t)}))),e=>de.createElement(Zj,KV({},e))),[n])}const Tge=de.forwardRef(function({children:e,fallback:t,resize:r,style:i,gl:a,events:o=uge,eventSource:s,eventPrefix:l,shadows:u,linear:c,flat:f,legacy:h,orthographic:d,frameloop:p,dpr:g,performance:m,raycaster:y,camera:S,scene:M,onPointerMissed:b,onCreated:C,...A},E){de.useMemo(()=>Hve(bve),[]);const I=Mge(),[L,R]=cge({scroll:!0,debounce:{scroll:50,resize:0},...r}),O=de.useRef(null),U=de.useRef(null);de.useImperativeHandle(E,()=>O.current);const V=Nj(b),[W,X]=de.useState(!1),[j,Q]=de.useState(!1);if(W)throw W;if(j)throw j;const B=de.useRef(null);m1(()=>{const q=O.current;R.width>0&&R.height>0&&q&&(B.current||(B.current=sge(q)),B.current.configure({gl:a,events:o,shadows:u,linear:c,flat:f,legacy:h,orthographic:d,frameloop:p,dpr:g,performance:m,raycaster:y,camera:S,scene:M,size:R,onPointerMissed:(...Y)=>V.current==null?void 0:V.current(...Y),onCreated:Y=>{Y.events.connect==null||Y.events.connect(s?Xve(s)?s.current:s:U.current),l&&Y.setEvents({compute:(te,me)=>{const ae=te[l+"X"],fe=te[l+"Y"];me.pointer.set(ae/me.size.width*2-1,-(fe/me.size.height)*2+1),me.raycaster.setFromCamera(me.pointer,me.camera)}}),C?.(Y)}}),B.current.render(Re.jsx(I,{children:Re.jsx(Oj,{set:Q,children:Re.jsx(de.Suspense,{fallback:Re.jsx(Yve,{set:X}),children:e??null})})})))}),de.useEffect(()=>{const q=O.current;if(q)return()=>Wj(q)},[]);const Z=s?"none":"auto";return Re.jsx("div",{ref:U,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:Z,...i},...A,children:Re.jsx("div",{ref:L,style:{width:"100%",height:"100%"},children:Re.jsx("canvas",{ref:O,style:{display:"block"},children:t})})})}),$j=de.forwardRef(function(e,t){return Re.jsx(Zj,{children:Re.jsx(Tge,{...e,ref:t})})});function zL(){return zL=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},zL.apply(null,arguments)}var bge=Object.defineProperty,Age=(n,e,t)=>e in n?bge(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Cge=(n,e,t)=>(Age(n,e+"",t),t);class Ege{constructor(){Cge(this,"_listeners")}addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const a=i.indexOf(t);a!==-1&&i.splice(a,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let a=0,o=i.length;a<o;a++)i[a].call(this,e);e.target=null}}}var Pge=Object.defineProperty,Dge=(n,e,t)=>e in n?Pge(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,gn=(n,e,t)=>(Dge(n,typeof e!="symbol"?e+"":e,t),t);const IM=new Lv,t5=new Ic,Rge=Math.cos(70*(Math.PI/180)),n5=(n,e)=>(n%e+e)%e;let Lge=class extends Ege{constructor(e,t){super(),gn(this,"object"),gn(this,"domElement"),gn(this,"enabled",!0),gn(this,"target",new ne),gn(this,"minDistance",0),gn(this,"maxDistance",1/0),gn(this,"minZoom",0),gn(this,"maxZoom",1/0),gn(this,"minPolarAngle",0),gn(this,"maxPolarAngle",Math.PI),gn(this,"minAzimuthAngle",-1/0),gn(this,"maxAzimuthAngle",1/0),gn(this,"enableDamping",!1),gn(this,"dampingFactor",.05),gn(this,"enableZoom",!0),gn(this,"zoomSpeed",1),gn(this,"enableRotate",!0),gn(this,"rotateSpeed",1),gn(this,"enablePan",!0),gn(this,"panSpeed",1),gn(this,"screenSpacePanning",!0),gn(this,"keyPanSpeed",7),gn(this,"zoomToCursor",!1),gn(this,"autoRotate",!1),gn(this,"autoRotateSpeed",2),gn(this,"reverseOrbit",!1),gn(this,"reverseHorizontalOrbit",!1),gn(this,"reverseVerticalOrbit",!1),gn(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),gn(this,"mouseButtons",{LEFT:wp.ROTATE,MIDDLE:wp.DOLLY,RIGHT:wp.PAN}),gn(this,"touches",{ONE:Mp.ROTATE,TWO:Mp.DOLLY_PAN}),gn(this,"target0"),gn(this,"position0"),gn(this,"zoom0"),gn(this,"_domElementKeyEvents",null),gn(this,"getPolarAngle"),gn(this,"getAzimuthalAngle"),gn(this,"setPolarAngle"),gn(this,"setAzimuthalAngle"),gn(this,"getDistance"),gn(this,"getZoomScale"),gn(this,"listenToKeyEvents"),gn(this,"stopListenToKeyEvents"),gn(this,"saveState"),gn(this,"reset"),gn(this,"update"),gn(this,"connect"),gn(this,"dispose"),gn(this,"dollyIn"),gn(this,"dollyOut"),gn(this,"getScale"),gn(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>c.phi,this.getAzimuthalAngle=()=>c.theta,this.setPolarAngle=ce=>{let et=n5(ce,2*Math.PI),oe=c.phi;oe<0&&(oe+=2*Math.PI),et<0&&(et+=2*Math.PI);let Ke=Math.abs(et-oe);2*Math.PI-Ke<Ke&&(et<oe?et+=2*Math.PI:oe+=2*Math.PI),f.phi=et-oe,r.update()},this.setAzimuthalAngle=ce=>{let et=n5(ce,2*Math.PI),oe=c.theta;oe<0&&(oe+=2*Math.PI),et<0&&(et+=2*Math.PI);let Ke=Math.abs(et-oe);2*Math.PI-Ke<Ke&&(et<oe?et+=2*Math.PI:oe+=2*Math.PI),f.theta=et-oe,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=ce=>{ce.addEventListener("keydown",ft),this._domElementKeyEvents=ce},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",ft),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(i),r.update(),l=s.NONE},this.update=(()=>{const ce=new ne,et=new ne(0,1,0),oe=new Ua().setFromUnitVectors(e.up,et),Ke=oe.clone().invert(),ke=new ne,Xe=new Ua,tt=2*Math.PI;return function(){const In=r.object.position;oe.setFromUnitVectors(e.up,et),Ke.copy(oe).invert(),ce.copy(In).sub(r.target),ce.applyQuaternion(oe),c.setFromVector3(ce),r.autoRotate&&l===s.NONE&&W(U()),r.enableDamping?(c.theta+=f.theta*r.dampingFactor,c.phi+=f.phi*r.dampingFactor):(c.theta+=f.theta,c.phi+=f.phi);let Yn=r.minAzimuthAngle,Kn=r.maxAzimuthAngle;isFinite(Yn)&&isFinite(Kn)&&(Yn<-Math.PI?Yn+=tt:Yn>Math.PI&&(Yn-=tt),Kn<-Math.PI?Kn+=tt:Kn>Math.PI&&(Kn-=tt),Yn<=Kn?c.theta=Math.max(Yn,Math.min(Kn,c.theta)):c.theta=c.theta>(Yn+Kn)/2?Math.max(Yn,c.theta):Math.min(Kn,c.theta)),c.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,c.phi)),c.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(d,r.dampingFactor):r.target.add(d),r.zoomToCursor&&L||r.object.isOrthographicCamera?c.radius=me(c.radius):c.radius=me(c.radius*h),ce.setFromSpherical(c),ce.applyQuaternion(Ke),In.copy(r.target).add(ce),r.object.matrixAutoUpdate||r.object.updateMatrix(),r.object.lookAt(r.target),r.enableDamping===!0?(f.theta*=1-r.dampingFactor,f.phi*=1-r.dampingFactor,d.multiplyScalar(1-r.dampingFactor)):(f.set(0,0,0),d.set(0,0,0));let Pn=!1;if(r.zoomToCursor&&L){let Ar=null;if(r.object instanceof mi&&r.object.isPerspectiveCamera){const Gr=ce.length();Ar=me(Gr*h);const ni=Gr-Ar;r.object.position.addScaledVector(E,ni),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const Gr=new ne(I.x,I.y,0);Gr.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/h)),r.object.updateProjectionMatrix(),Pn=!0;const ni=new ne(I.x,I.y,0);ni.unproject(r.object),r.object.position.sub(ni).add(Gr),r.object.updateMatrixWorld(),Ar=ce.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;Ar!==null&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(Ar).add(r.object.position):(IM.origin.copy(r.object.position),IM.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(IM.direction))<Rge?e.lookAt(r.target):(t5.setFromNormalAndCoplanarPoint(r.object.up,r.target),IM.intersectPlane(t5,r.target))))}else r.object instanceof wh&&r.object.isOrthographicCamera&&(Pn=h!==1,Pn&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/h)),r.object.updateProjectionMatrix()));return h=1,L=!1,Pn||ke.distanceToSquared(r.object.position)>u||8*(1-Xe.dot(r.object.quaternion))>u?(r.dispatchEvent(i),ke.copy(r.object.position),Xe.copy(r.object.quaternion),Pn=!1,!0):!1}})(),this.connect=ce=>{r.domElement=ce,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",bt),r.domElement.addEventListener("pointerdown",Pe),r.domElement.addEventListener("pointercancel",Ye),r.domElement.addEventListener("wheel",vt)},this.dispose=()=>{var ce,et,oe,Ke,ke,Xe;r.domElement&&(r.domElement.style.touchAction="auto"),(ce=r.domElement)==null||ce.removeEventListener("contextmenu",bt),(et=r.domElement)==null||et.removeEventListener("pointerdown",Pe),(oe=r.domElement)==null||oe.removeEventListener("pointercancel",Ye),(Ke=r.domElement)==null||Ke.removeEventListener("wheel",vt),(ke=r.domElement)==null||ke.ownerDocument.removeEventListener("pointermove",Ze),(Xe=r.domElement)==null||Xe.ownerDocument.removeEventListener("pointerup",Ye),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",ft)};const r=this,i={type:"change"},a={type:"start"},o={type:"end"},s={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=s.NONE;const u=1e-6,c=new OL,f=new OL;let h=1;const d=new ne,p=new je,g=new je,m=new je,y=new je,S=new je,M=new je,b=new je,C=new je,A=new je,E=new ne,I=new je;let L=!1;const R=[],O={};function U(){return 2*Math.PI/60/60*r.autoRotateSpeed}function V(){return Math.pow(.95,r.zoomSpeed)}function W(ce){r.reverseOrbit||r.reverseHorizontalOrbit?f.theta+=ce:f.theta-=ce}function X(ce){r.reverseOrbit||r.reverseVerticalOrbit?f.phi+=ce:f.phi-=ce}const j=(()=>{const ce=new ne;return function(oe,Ke){ce.setFromMatrixColumn(Ke,0),ce.multiplyScalar(-oe),d.add(ce)}})(),Q=(()=>{const ce=new ne;return function(oe,Ke){r.screenSpacePanning===!0?ce.setFromMatrixColumn(Ke,1):(ce.setFromMatrixColumn(Ke,0),ce.crossVectors(r.object.up,ce)),ce.multiplyScalar(oe),d.add(ce)}})(),B=(()=>{const ce=new ne;return function(oe,Ke){const ke=r.domElement;if(ke&&r.object instanceof mi&&r.object.isPerspectiveCamera){const Xe=r.object.position;ce.copy(Xe).sub(r.target);let tt=ce.length();tt*=Math.tan(r.object.fov/2*Math.PI/180),j(2*oe*tt/ke.clientHeight,r.object.matrix),Q(2*Ke*tt/ke.clientHeight,r.object.matrix)}else ke&&r.object instanceof wh&&r.object.isOrthographicCamera?(j(oe*(r.object.right-r.object.left)/r.object.zoom/ke.clientWidth,r.object.matrix),Q(Ke*(r.object.top-r.object.bottom)/r.object.zoom/ke.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function Z(ce){r.object instanceof mi&&r.object.isPerspectiveCamera||r.object instanceof wh&&r.object.isOrthographicCamera?h=ce:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function q(ce){Z(h/ce)}function Y(ce){Z(h*ce)}function te(ce){if(!r.zoomToCursor||!r.domElement)return;L=!0;const et=r.domElement.getBoundingClientRect(),oe=ce.clientX-et.left,Ke=ce.clientY-et.top,ke=et.width,Xe=et.height;I.x=oe/ke*2-1,I.y=-(Ke/Xe)*2+1,E.set(I.x,I.y,1).unproject(r.object).sub(r.object.position).normalize()}function me(ce){return Math.max(r.minDistance,Math.min(r.maxDistance,ce))}function ae(ce){p.set(ce.clientX,ce.clientY)}function fe(ce){te(ce),b.set(ce.clientX,ce.clientY)}function be(ce){y.set(ce.clientX,ce.clientY)}function Ee(ce){g.set(ce.clientX,ce.clientY),m.subVectors(g,p).multiplyScalar(r.rotateSpeed);const et=r.domElement;et&&(W(2*Math.PI*m.x/et.clientHeight),X(2*Math.PI*m.y/et.clientHeight)),p.copy(g),r.update()}function Be(ce){C.set(ce.clientX,ce.clientY),A.subVectors(C,b),A.y>0?q(V()):A.y<0&&Y(V()),b.copy(C),r.update()}function Oe(ce){S.set(ce.clientX,ce.clientY),M.subVectors(S,y).multiplyScalar(r.panSpeed),B(M.x,M.y),y.copy(S),r.update()}function $e(ce){te(ce),ce.deltaY<0?Y(V()):ce.deltaY>0&&q(V()),r.update()}function ee(ce){let et=!1;switch(ce.code){case r.keys.UP:B(0,r.keyPanSpeed),et=!0;break;case r.keys.BOTTOM:B(0,-r.keyPanSpeed),et=!0;break;case r.keys.LEFT:B(r.keyPanSpeed,0),et=!0;break;case r.keys.RIGHT:B(-r.keyPanSpeed,0),et=!0;break}et&&(ce.preventDefault(),r.update())}function ve(){if(R.length==1)p.set(R[0].pageX,R[0].pageY);else{const ce=.5*(R[0].pageX+R[1].pageX),et=.5*(R[0].pageY+R[1].pageY);p.set(ce,et)}}function Ae(){if(R.length==1)y.set(R[0].pageX,R[0].pageY);else{const ce=.5*(R[0].pageX+R[1].pageX),et=.5*(R[0].pageY+R[1].pageY);y.set(ce,et)}}function Ue(){const ce=R[0].pageX-R[1].pageX,et=R[0].pageY-R[1].pageY,oe=Math.sqrt(ce*ce+et*et);b.set(0,oe)}function Ge(){r.enableZoom&&Ue(),r.enablePan&&Ae()}function He(){r.enableZoom&&Ue(),r.enableRotate&&ve()}function ot(ce){if(R.length==1)g.set(ce.pageX,ce.pageY);else{const oe=mn(ce),Ke=.5*(ce.pageX+oe.x),ke=.5*(ce.pageY+oe.y);g.set(Ke,ke)}m.subVectors(g,p).multiplyScalar(r.rotateSpeed);const et=r.domElement;et&&(W(2*Math.PI*m.x/et.clientHeight),X(2*Math.PI*m.y/et.clientHeight)),p.copy(g)}function ct(ce){if(R.length==1)S.set(ce.pageX,ce.pageY);else{const et=mn(ce),oe=.5*(ce.pageX+et.x),Ke=.5*(ce.pageY+et.y);S.set(oe,Ke)}M.subVectors(S,y).multiplyScalar(r.panSpeed),B(M.x,M.y),y.copy(S)}function Rt(ce){const et=mn(ce),oe=ce.pageX-et.x,Ke=ce.pageY-et.y,ke=Math.sqrt(oe*oe+Ke*Ke);C.set(0,ke),A.set(0,Math.pow(C.y/b.y,r.zoomSpeed)),q(A.y),b.copy(C)}function re(ce){r.enableZoom&&Rt(ce),r.enablePan&&ct(ce)}function K(ce){r.enableZoom&&Rt(ce),r.enableRotate&&ot(ce)}function Pe(ce){var et,oe;r.enabled!==!1&&(R.length===0&&((et=r.domElement)==null||et.ownerDocument.addEventListener("pointermove",Ze),(oe=r.domElement)==null||oe.ownerDocument.addEventListener("pointerup",Ye)),Rn(ce),ce.pointerType==="touch"?rn(ce):Qe(ce))}function Ze(ce){r.enabled!==!1&&(ce.pointerType==="touch"?at(ce):Yt(ce))}function Ye(ce){var et,oe,Ke;Kt(ce),R.length===0&&((et=r.domElement)==null||et.releasePointerCapture(ce.pointerId),(oe=r.domElement)==null||oe.ownerDocument.removeEventListener("pointermove",Ze),(Ke=r.domElement)==null||Ke.ownerDocument.removeEventListener("pointerup",Ye)),r.dispatchEvent(o),l=s.NONE}function Qe(ce){let et;switch(ce.button){case 0:et=r.mouseButtons.LEFT;break;case 1:et=r.mouseButtons.MIDDLE;break;case 2:et=r.mouseButtons.RIGHT;break;default:et=-1}switch(et){case wp.DOLLY:if(r.enableZoom===!1)return;fe(ce),l=s.DOLLY;break;case wp.ROTATE:if(ce.ctrlKey||ce.metaKey||ce.shiftKey){if(r.enablePan===!1)return;be(ce),l=s.PAN}else{if(r.enableRotate===!1)return;ae(ce),l=s.ROTATE}break;case wp.PAN:if(ce.ctrlKey||ce.metaKey||ce.shiftKey){if(r.enableRotate===!1)return;ae(ce),l=s.ROTATE}else{if(r.enablePan===!1)return;be(ce),l=s.PAN}break;default:l=s.NONE}l!==s.NONE&&r.dispatchEvent(a)}function Yt(ce){if(r.enabled!==!1)switch(l){case s.ROTATE:if(r.enableRotate===!1)return;Ee(ce);break;case s.DOLLY:if(r.enableZoom===!1)return;Be(ce);break;case s.PAN:if(r.enablePan===!1)return;Oe(ce);break}}function vt(ce){r.enabled===!1||r.enableZoom===!1||l!==s.NONE&&l!==s.ROTATE||(ce.preventDefault(),r.dispatchEvent(a),$e(ce),r.dispatchEvent(o))}function ft(ce){r.enabled===!1||r.enablePan===!1||ee(ce)}function rn(ce){switch(St(ce),R.length){case 1:switch(r.touches.ONE){case Mp.ROTATE:if(r.enableRotate===!1)return;ve(),l=s.TOUCH_ROTATE;break;case Mp.PAN:if(r.enablePan===!1)return;Ae(),l=s.TOUCH_PAN;break;default:l=s.NONE}break;case 2:switch(r.touches.TWO){case Mp.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Ge(),l=s.TOUCH_DOLLY_PAN;break;case Mp.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;He(),l=s.TOUCH_DOLLY_ROTATE;break;default:l=s.NONE}break;default:l=s.NONE}l!==s.NONE&&r.dispatchEvent(a)}function at(ce){switch(St(ce),l){case s.TOUCH_ROTATE:if(r.enableRotate===!1)return;ot(ce),r.update();break;case s.TOUCH_PAN:if(r.enablePan===!1)return;ct(ce),r.update();break;case s.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;re(ce),r.update();break;case s.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;K(ce),r.update();break;default:l=s.NONE}}function bt(ce){r.enabled!==!1&&ce.preventDefault()}function Rn(ce){R.push(ce)}function Kt(ce){delete O[ce.pointerId];for(let et=0;et<R.length;et++)if(R[et].pointerId==ce.pointerId){R.splice(et,1);return}}function St(ce){let et=O[ce.pointerId];et===void 0&&(et=new je,O[ce.pointerId]=et),et.set(ce.pageX,ce.pageY)}function mn(ce){const et=ce.pointerId===R[0].pointerId?R[1]:R[0];return O[et.pointerId]}this.dollyIn=(ce=V())=>{Y(ce),r.update()},this.dollyOut=(ce=V())=>{q(ce),r.update()},this.getScale=()=>h,this.setScale=ce=>{Z(ce),r.update()},this.getZoomScale=()=>V(),t!==void 0&&this.connect(t),this.update()}};const QP=n=>n===Object(n)&&!Array.isArray(n)&&typeof n!="function";function Hy(n,e){const t=Dc(a=>a.gl),r=y1(lC,QP(n)?Object.values(n):n);return de.useLayoutEffect(()=>{e?.(r)},[e]),de.useEffect(()=>{if("initTexture"in t){let a=[];Array.isArray(r)?a=r:r instanceof $r?a=[r]:QP(r)&&(a=Object.values(r)),a.forEach(o=>{o instanceof $r&&t.initTexture(o)})}},[t,r]),de.useMemo(()=>{if(QP(n)){const a={};let o=0;for(const s in n)a[s]=r[o++];return a}else return r},[n,r])}Hy.preload=n=>y1.preload(lC,n);Hy.clear=n=>y1.clear(lC,n);const qj=de.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:r,enableDamping:i=!0,keyEvents:a=!1,onChange:o,onStart:s,onEnd:l,...u},c)=>{const f=Dc(A=>A.invalidate),h=Dc(A=>A.camera),d=Dc(A=>A.gl),p=Dc(A=>A.events),g=Dc(A=>A.setEvents),m=Dc(A=>A.set),y=Dc(A=>A.get),S=Dc(A=>A.performance),M=e||h,b=r||p.connected||d.domElement,C=de.useMemo(()=>new Lge(M),[M]);return ok(()=>{C.enabled&&C.update()},-1),de.useEffect(()=>(a&&C.connect(a===!0?b:a),C.connect(b),()=>void C.dispose()),[a,b,t,C,f]),de.useEffect(()=>{const A=L=>{f(),t&&S.regress(),o&&o(L)},E=L=>{s&&s(L)},I=L=>{l&&l(L)};return C.addEventListener("change",A),C.addEventListener("start",E),C.addEventListener("end",I),()=>{C.removeEventListener("start",E),C.removeEventListener("end",I),C.removeEventListener("change",A)}},[o,s,l,C,f,g]),de.useEffect(()=>{if(n){const A=y().controls;return m({controls:C}),()=>m({controls:A})}},[n,C]),de.createElement("primitive",zL({ref:c,object:C,enableDamping:i},u))}),Ige={},r5=n=>{let e;const t=new Set,r=(c,f)=>{const h=typeof c=="function"?c(e):c;if(!Object.is(h,e)){const d=e;e=f??(typeof h!="object"||h===null)?h:Object.assign({},e,h),t.forEach(p=>p(e,d))}},i=()=>e,l={setState:r,getState:i,getInitialState:()=>u,subscribe:c=>(t.add(c),()=>t.delete(c)),destroy:()=>{(Ige?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),t.clear()}},u=e=n(r,i,l);return l},Nge=n=>n?r5(n):r5;var eD={exports:{}},tD={},nD={exports:{}},rD={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i5;function Oge(){if(i5)return rD;i5=1;var n=Oy();function e(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,i=n.useEffect,a=n.useLayoutEffect,o=n.useDebugValue;function s(f,h){var d=h(),p=r({inst:{value:d,getSnapshot:h}}),g=p[0].inst,m=p[1];return a(function(){g.value=d,g.getSnapshot=h,l(g)&&m({inst:g})},[f,d,h]),i(function(){return l(g)&&m({inst:g}),f(function(){l(g)&&m({inst:g})})},[f]),o(d),d}function l(f){var h=f.getSnapshot;f=f.value;try{var d=h();return!t(f,d)}catch{return!0}}function u(f,h){return h()}var c=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:s;return rD.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:c,rD}var a5;function kge(){return a5||(a5=1,nD.exports=Oge()),nD.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o5;function Fge(){if(o5)return tD;o5=1;var n=Oy(),e=kge();function t(u,c){return u===c&&(u!==0||1/u===1/c)||u!==u&&c!==c}var r=typeof Object.is=="function"?Object.is:t,i=e.useSyncExternalStore,a=n.useRef,o=n.useEffect,s=n.useMemo,l=n.useDebugValue;return tD.useSyncExternalStoreWithSelector=function(u,c,f,h,d){var p=a(null);if(p.current===null){var g={hasValue:!1,value:null};p.current=g}else g=p.current;p=s(function(){function y(A){if(!S){if(S=!0,M=A,A=h(A),d!==void 0&&g.hasValue){var E=g.value;if(d(E,A))return b=E}return b=A}if(E=b,r(M,A))return E;var I=h(A);return d!==void 0&&d(E,I)?(M=A,E):(M=A,b=I)}var S=!1,M,b,C=f===void 0?null:f;return[function(){return y(c())},C===null?void 0:function(){return y(C())}]},[c,f,h,d]);var m=i(u,p[0],p[1]);return o(function(){g.hasValue=!0,g.value=m},[m]),l(m),m},tD}var s5;function zge(){return s5||(s5=1,eD.exports=Fge()),eD.exports}var Bge=zge();const Uge=Ny(Bge),Kj={},{useDebugValue:Vge}=EA,{useSyncExternalStoreWithSelector:Gge}=Uge;let l5=!1;const Hge=n=>n;function Wge(n,e=Hge,t){(Kj?"production":void 0)!=="production"&&t&&!l5&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),l5=!0);const r=Gge(n.subscribe,n.getState,n.getServerState||n.getInitialState,e,t);return Vge(r),r}const u5=n=>{(Kj?"production":void 0)!=="production"&&typeof n!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof n=="function"?Nge(n):n,t=(r,i)=>Wge(e,r,i);return Object.assign(t,e),t},Xge=n=>n?u5(n):u5;function Yge(){const n=Hy("/textures/8k_stars_milky_way.jpg");return Re.jsxs("mesh",{scale:-60,children:[Re.jsx("sphereGeometry",{args:[1,64,64]}),Re.jsx("meshBasicMaterial",{map:n,side:ya})]})}function jge(){const n=de.useRef(null),e=Hy("/textures/2k_moon.jpg");return ok(t=>{n.current&&(n.current.rotation.y=t.clock.getElapsedTime()*.05)}),Re.jsxs("mesh",{ref:n,position:[3,-1,-10],scale:2.5,children:[Re.jsx("sphereGeometry",{args:[1,64,64]}),Re.jsx("meshStandardMaterial",{map:e,roughness:1})]})}function Zge(){return Re.jsx("section",{className:"absolute inset-0",children:Re.jsxs($j,{camera:{position:[0,0,8],fov:60},children:[Re.jsx("ambientLight",{intensity:.3}),Re.jsx("spotLight",{position:[0,5,10],angle:.4,intensity:2}),Re.jsxs(de.Suspense,{fallback:null,children:[Re.jsx(Yge,{}),Re.jsx(jge,{})]}),Re.jsx(qj,{enableZoom:!1,autoRotate:!1})]})})}function c5(){return Re.jsxs("div",{className:"relative h-screen w-full",children:[Re.jsx(Zge,{}),Re.jsxs("div",{className:"pointer-events-none absolute inset-0 z-10 flex flex-col items-center justify-center",children:[Re.jsx(KE.h1,{initial:{opacity:0,y:40},animate:{opacity:1,y:0,rotateY:[0,5,-5,0]},transition:{duration:2.4,ease:"easeInOut"},className:"text-7xl font-extrabold tracking-wide text-metal drop-shadow",children:"Perspectiv"}),Re.jsx(KE.p,{className:"mt-4 text-sm text-gray-400",initial:{opacity:0},animate:{opacity:1},transition:{delay:1.2,duration:1.2},children:"Beyond Numbers."}),Re.jsx(KE.div,{className:"pointer-events-auto mt-10",initial:{opacity:0},animate:{opacity:1},transition:{delay:2,duration:1},children:Re.jsx(Sx,{to:"/upload",className:"text-sm text-gray-300 border-b border-gray-600 transition hover:border-white hover:text-white",children:"Upload CSV "})})]})]})}const Jj="http://localhost:8001".replace(/\/$/,"")??"http://localhost:8001";async function Qj(n,e){const t=await fetch(n,{...e,headers:{...e?.headers||{}}});if(!t.ok){const r=await t.text().catch(()=>"");throw new Error(`${t.status} ${t.statusText}  ${r||n}`)}try{return await t.json()}catch{throw new Error(`Invalid JSON from ${n}`)}}const $ge=30;function qge(n,e,t){const r=(n||"").toLowerCase();return[/\b(id|uuid|guid)\b/,/_id\b/,/\bid_/,/\border[_\- ]?id\b/,/\b(order|invoice|receipt)\b/,/^ord[\-_]/,/\bserial\b/,/\bnumber\b/].some(a=>a.test(r))?!0:e>=.95*Math.max(1,t)}function Kge(n){if(n.role==="time"||n.role==="dimension"||n.role==="measure")return n.role;const e=(n.dtype||"").toLowerCase();return e.includes("date")?"time":/(int|float|double|numeric|number|decimal)/.test(e)?"measure":"dimension"}function Jge(n=[],e){const t=[],r=[],i=[];for(const a of n){const o=Kge(a),s=a.distinct??0;o==="time"?t.push(a.name):o==="measure"?r.push(a.name):!qge(a.name,s,e)&&s<=$ge&&i.push(a.name)}return{safeDims:i,timeCols:t,measures:r}}function Qge(n){return Array.isArray(n)?n.map((e,t)=>{const r=e.spec??{x:e.x??null,y:e.y??null,agg:e.agg??null,chart:e.type??"bar"};return{id:String(e.id??`s${t+1}`),title:String(e.title??"Chart"),spec:r,option:e.option??{}}}).filter(e=>e.option&&typeof e.option=="object"):[]}async function eme(n){const e=new FormData;e.append("file",n);const t=await Qj(`${Jj}/analyze`,{method:"POST",body:e}),r=t.file_name??t.file??n.name??"dataset.csv",i=t.rows??t.profile?.rows??t.profile?.row_count??t.profile?.nrows??0,a=t.columns_meta??t.columnsMeta??t.profile?.columns??[],{safeDims:o,timeCols:s,measures:l}=Jge(a,i),u=[...s,...o].filter((g,m,y)=>y.indexOf(g)===m),c=l,f=Qge(t.suggestions??t.charts??[]),h=t.columns??(Array.isArray(t.columns)?t.columns.length:void 0)??a.length,d=t.summary??t.profile?.headline??`Detected ${h} columns over ${i} rows.`,p=t.ai_summary??t.aiSummary??null;return{file_name:r,rows:i,columns:h,columns_meta:a,x_options:u,y_options:c,suggestions:f,summary:d,ai_summary:p}}async function tme(n){return Qj(`${Jj}/analyze/custom`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})}const Ll=Xge(n=>({fileName:null,analyze:null,charts:[],busy:!1,error:null,setAnalyzeFromFile:async e=>{n({busy:!0,error:null});try{const t=await eme(e);n({analyze:t,fileName:t.file_name,charts:[]})}catch(t){n({error:t?.message||String(t)})}finally{n({busy:!1})}},addSuggestion:e=>{const t={id:crypto.randomUUID(),title:e.title,spec:e.spec,option:e.option};n(r=>({charts:[t,...r.charts]}))},buildCustom:async e=>{n({busy:!0,error:null});try{const t=await tme(e),r={id:crypto.randomUUID(),title:t.title,spec:e,option:t.option};n(i=>({charts:[r,...i.charts]}))}catch(t){n({error:t?.message||String(t)})}finally{n({busy:!1})}},setError:e=>n({error:e}),clear:()=>n({fileName:null,analyze:null,charts:[],error:null})}));function nme(){const n=Hy("/textures/8k_stars_milky_way.jpg");return n.colorSpace=Fo,Re.jsxs("mesh",{scale:-60,children:[Re.jsx("sphereGeometry",{args:[1,64,64]}),Re.jsx("meshBasicMaterial",{map:n,side:ya})]})}function rme(){const n=Hy("/textures/2k_moon.jpg");n.colorSpace=Fo;const e=de.useRef(null);return ok(t=>{e.current&&(e.current.rotation.y=t.clock.getElapsedTime()*.05)}),Re.jsxs("mesh",{ref:e,position:[3,-1,-10],scale:2.5,children:[Re.jsx("sphereGeometry",{args:[1,64,64]}),Re.jsx("meshStandardMaterial",{map:n,roughness:1})]})}function BL({children:n}){return Re.jsxs("div",{className:"relative min-h-screen w-full",children:[Re.jsx("div",{className:"absolute inset-0",children:Re.jsxs($j,{camera:{position:[0,0,8],fov:60},children:[Re.jsx("ambientLight",{intensity:.3}),Re.jsx("spotLight",{position:[0,5,10],angle:.4,intensity:2}),Re.jsxs(de.Suspense,{fallback:null,children:[Re.jsx(nme,{}),Re.jsx(rme,{})]}),Re.jsx(qj,{enableZoom:!1,autoRotate:!0})]})}),Re.jsx("div",{className:"relative z-10",children:n})]})}function ime(){const n=BN(),{setAnalyzeFromFile:e,busy:t,error:r,setError:i}=Ll(),[a,o]=de.useState(null),s=de.useRef(null);async function l(){if(a)try{await e(a),n("/insights")}catch(u){i(u?.message||"Upload failed")}}return Re.jsx(BL,{children:Re.jsx("div",{className:"min-h-screen w-full flex items-center justify-center px-4",children:Re.jsxs("div",{className:"glass max-w-2xl w-full p-8",children:[Re.jsx("h1",{className:"text-center text-4xl font-extrabold mb-2",children:"Upload your data"}),Re.jsx("p",{className:"text-center text-gray-300/85 mb-8",children:"Drop a CSV and Perspectiv will profile types, suggest visuals, and summarize."}),Re.jsxs("div",{className:"glass p-10 flex flex-col items-center",children:[Re.jsxs("p",{className:"text-sm text-gray-400 mb-4",children:["Drag & drop a ",Re.jsx("code",{children:".csv"})," here"]}),Re.jsx("input",{ref:s,type:"file",accept:".csv,text/csv",onChange:u=>o(u.target.files?.[0]||null),className:"hidden"}),Re.jsx("button",{onClick:()=>s.current?.click(),className:"px-5 py-2 rounded-xl bg-white/10 hover:bg-white/20 border border-white/15",children:"Choose file"}),a&&Re.jsx("div",{className:"mt-4 text-xs text-gray-400",children:a.name})]}),Re.jsxs("div",{className:"mt-6 flex items-center gap-3",children:[Re.jsx("button",{onClick:l,disabled:!a||t,className:"px-5 py-2 rounded-xl bg-white/15 hover:bg-white/25 border border-white/20 disabled:opacity-50",children:t?"Analyzing":"Analyze"}),r&&Re.jsx("div",{className:"text-rose-300 text-xs",children:r})]}),Re.jsxs("p",{className:"mt-4 text-xs text-gray-500",children:["Tip: dates like ",Re.jsx("code",{children:"2025-11-01"})," parse best."]})]})})})}var UL=function(n,e){return UL=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},UL(n,e)};function eZ(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");UL(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var VL=function(){return VL=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},VL.apply(this,arguments)};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var GL=function(n,e){return GL=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},GL(n,e)};function Se(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");GL(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var ame=(function(){function n(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return n})(),ome=(function(){function n(){this.browser=new ame,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return n})(),Mn=new ome;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(Mn.wxa=!0,Mn.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?Mn.worker=!0:!Mn.hasGlobalWindow||"Deno"in window?(Mn.node=!0,Mn.svgSupported=!0):sme(navigator.userAgent,Mn);function sme(n,e){var t=e.browser,r=n.match(/Firefox\/([\d.]+)/),i=n.match(/MSIE\s([\d.]+)/)||n.match(/Trident\/.+?rv:(([\d.]+))/),a=n.match(/Edge?\/([\d.]+)/),o=/micromessenger/i.test(n);r&&(t.firefox=!0,t.version=r[1]),i&&(t.ie=!0,t.version=i[1]),a&&(t.edge=!0,t.version=a[1],t.newEdge=+a[1].split(".")[0]>18),o&&(t.weChat=!0),e.svgSupported=typeof SVGRect<"u",e.touchEventsSupported="ontouchstart"in window&&!t.ie&&!t.edge,e.pointerEventsSupported="onpointerdown"in window&&(t.edge||t.ie&&+t.version>=11),e.domSupported=typeof document<"u";var s=document.documentElement.style;e.transform3dSupported=(t.ie&&"transition"in s||t.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in s)&&!("OTransition"in s),e.transformSupported=e.transform3dSupported||t.ie&&+t.version>=9}var lk=12,tZ="sans-serif",Nh=lk+"px "+tZ,lme=20,ume=100,cme="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function fme(n){var e={};if(typeof JSON>"u")return e;for(var t=0;t<n.length;t++){var r=String.fromCharCode(t+32),i=(n.charCodeAt(t)-lme)/ume;e[r]=i}return e}var hme=fme(cme),Vl={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:(function(){var n,e;return function(t,r){if(!n){var i=Vl.createCanvas();n=i&&i.getContext("2d")}if(n)return e!==r&&(e=n.font=r||Nh),n.measureText(t);t=t||"",r=r||Nh;var a=/((?:\d+)?\.?\d*)px/.exec(r),o=a&&+a[1]||lk,s=0;if(r.indexOf("mono")>=0)s=o*t.length;else for(var l=0;l<t.length;l++){var u=hme[t[l]];s+=u==null?o:u*o}return{width:s}}})(),loadImage:function(n,e,t){var r=new Image;return r.onload=e,r.onerror=t,r.src=n,r}};function nZ(n){for(var e in Vl)n[e]&&(Vl[e]=n[e])}var rZ=Gs(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(n,e){return n["[object "+e+"]"]=!0,n},{}),iZ=Gs(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(n,e){return n["[object "+e+"Array]"]=!0,n},{}),Wy=Object.prototype.toString,cC=Array.prototype,dme=cC.forEach,pme=cC.filter,uk=cC.slice,vme=cC.map,f5=(function(){}).constructor,NM=f5?f5.prototype:null,ck="__proto__",gme=2311;function fk(){return gme++}function fC(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];typeof console<"u"&&console.error.apply(console,n)}function Vt(n){if(n==null||typeof n!="object")return n;var e=n,t=Wy.call(n);if(t==="[object Array]"){if(!oy(n)){e=[];for(var r=0,i=n.length;r<i;r++)e[r]=Vt(n[r])}}else if(iZ[t]){if(!oy(n)){var a=n.constructor;if(a.from)e=a.from(n);else{e=new a(n.length);for(var r=0,i=n.length;r<i;r++)e[r]=n[r]}}}else if(!rZ[t]&&!oy(n)&&!xv(n)){e={};for(var o in n)n.hasOwnProperty(o)&&o!==ck&&(e[o]=Vt(n[o]))}return e}function on(n,e,t){if(!Bt(e)||!Bt(n))return t?Vt(e):n;for(var r in e)if(e.hasOwnProperty(r)&&r!==ck){var i=n[r],a=e[r];Bt(a)&&Bt(i)&&!ze(a)&&!ze(i)&&!xv(a)&&!xv(i)&&!HL(a)&&!HL(i)&&!oy(a)&&!oy(i)?on(i,a,t):(t||!(r in n))&&(n[r]=Vt(e[r]))}return n}function hC(n,e){for(var t=n[0],r=1,i=n.length;r<i;r++)t=on(t,n[r],e);return t}function Le(n,e){if(Object.assign)Object.assign(n,e);else for(var t in e)e.hasOwnProperty(t)&&t!==ck&&(n[t]=e[t]);return n}function Dt(n,e,t){for(var r=En(e),i=0,a=r.length;i<a;i++){var o=r[i];(t?e[o]!=null:n[o]==null)&&(n[o]=e[o])}return n}var mme=Vl.createCanvas;function dn(n,e){if(n){if(n.indexOf)return n.indexOf(e);for(var t=0,r=n.length;t<r;t++)if(n[t]===e)return t}return-1}function hk(n,e){var t=n.prototype;function r(){}r.prototype=e.prototype,n.prototype=new r;for(var i in t)t.hasOwnProperty(i)&&(n.prototype[i]=t[i]);n.prototype.constructor=n,n.superClass=e}function ti(n,e,t){if(n="prototype"in n?n.prototype:n,e="prototype"in e?e.prototype:e,Object.getOwnPropertyNames)for(var r=Object.getOwnPropertyNames(e),i=0;i<r.length;i++){var a=r[i];a!=="constructor"&&(t?e[a]!=null:n[a]==null)&&(n[a]=e[a])}else Dt(n,e,t)}function _a(n){return!n||typeof n=="string"?!1:typeof n.length=="number"}function G(n,e,t){if(n&&e)if(n.forEach&&n.forEach===dme)n.forEach(e,t);else if(n.length===+n.length)for(var r=0,i=n.length;r<i;r++)e.call(t,n[r],r,n);else for(var a in n)n.hasOwnProperty(a)&&e.call(t,n[a],a,n)}function Ve(n,e,t){if(!n)return[];if(!e)return dC(n);if(n.map&&n.map===vme)return n.map(e,t);for(var r=[],i=0,a=n.length;i<a;i++)r.push(e.call(t,n[i],i,n));return r}function Gs(n,e,t,r){if(n&&e){for(var i=0,a=n.length;i<a;i++)t=e.call(r,t,n[i],i,n);return t}}function $n(n,e,t){if(!n)return[];if(!e)return dC(n);if(n.filter&&n.filter===pme)return n.filter(e,t);for(var r=[],i=0,a=n.length;i<a;i++)e.call(t,n[i],i,n)&&r.push(n[i]);return r}function aZ(n,e,t){if(n&&e){for(var r=0,i=n.length;r<i;r++)if(e.call(t,n[r],r,n))return n[r]}}function En(n){if(!n)return[];if(Object.keys)return Object.keys(n);var e=[];for(var t in n)n.hasOwnProperty(t)&&e.push(t);return e}function yme(n,e){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];return function(){return n.apply(e,t.concat(uk.call(arguments)))}}var ht=NM&&Ct(NM.bind)?NM.call.bind(NM.bind):yme;function nn(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return function(){return n.apply(this,e.concat(uk.call(arguments)))}}function ze(n){return Array.isArray?Array.isArray(n):Wy.call(n)==="[object Array]"}function Ct(n){return typeof n=="function"}function ut(n){return typeof n=="string"}function Db(n){return Wy.call(n)==="[object String]"}function Hn(n){return typeof n=="number"}function Bt(n){var e=typeof n;return e==="function"||!!n&&e==="object"}function HL(n){return!!rZ[Wy.call(n)]}function yo(n){return!!iZ[Wy.call(n)]}function xv(n){return typeof n=="object"&&typeof n.nodeType=="number"&&typeof n.ownerDocument=="object"}function _1(n){return n.colorStops!=null}function oZ(n){return n.image!=null}function sZ(n){return Wy.call(n)==="[object RegExp]"}function wy(n){return n!==n}function Gi(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];for(var t=0,r=n.length;t<r;t++)if(n[t]!=null)return n[t]}function tn(n,e){return n??e}function Ol(n,e,t){return n??e??t}function dC(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return uk.apply(n,e)}function pC(n){if(typeof n=="number")return[n,n,n,n];var e=n.length;return e===2?[n[0],n[1],n[0],n[1]]:e===3?[n[0],n[1],n[2],n[1]]:n}function Ha(n,e){if(!n)throw new Error(e)}function Us(n){return n==null?null:typeof n.trim=="function"?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var lZ="__ec_primitive__";function bS(n){n[lZ]=!0}function oy(n){return n[lZ]}var _me=(function(){function n(){this.data={}}return n.prototype.delete=function(e){var t=this.has(e);return t&&delete this.data[e],t},n.prototype.has=function(e){return this.data.hasOwnProperty(e)},n.prototype.get=function(e){return this.data[e]},n.prototype.set=function(e,t){return this.data[e]=t,this},n.prototype.keys=function(){return En(this.data)},n.prototype.forEach=function(e){var t=this.data;for(var r in t)t.hasOwnProperty(r)&&e(t[r],r)},n})(),uZ=typeof Map=="function";function xme(){return uZ?new Map:new _me}var cZ=(function(){function n(e){var t=ze(e);this.data=xme();var r=this;e instanceof n?e.each(i):e&&G(e,i);function i(a,o){t?r.set(a,o):r.set(o,a)}}return n.prototype.hasKey=function(e){return this.data.has(e)},n.prototype.get=function(e){return this.data.get(e)},n.prototype.set=function(e,t){return this.data.set(e,t),t},n.prototype.each=function(e,t){this.data.forEach(function(r,i){e.call(t,r,i)})},n.prototype.keys=function(){var e=this.data.keys();return uZ?Array.from(e):e},n.prototype.removeKey=function(e){this.data.delete(e)},n})();function xt(n){return new cZ(n)}function My(n,e){for(var t=new n.constructor(n.length+e.length),r=0;r<n.length;r++)t[r]=n[r];for(var i=n.length,r=0;r<e.length;r++)t[r+i]=e[r];return t}function x1(n,e){var t;if(Object.create)t=Object.create(n);else{var r=function(){};r.prototype=n,t=new r}return e&&Le(t,e),t}function dk(n){var e=n.style;e.webkitUserSelect="none",e.userSelect="none",e.webkitTapHighlightColor="rgba(0,0,0,0)",e["-webkit-touch-callout"]="none"}function gt(n,e){return n.hasOwnProperty(e)}function ei(){}var Lx=180/Math.PI;const Sme=Object.freeze(Object.defineProperty({__proto__:null,HashMap:cZ,RADIAN_TO_DEGREE:Lx,assert:Ha,bind:ht,clone:Vt,concatArray:My,createCanvas:mme,createHashMap:xt,createObject:x1,curry:nn,defaults:Dt,disableUserSelect:dk,each:G,eqNaN:wy,extend:Le,filter:$n,find:aZ,guid:fk,hasOwn:gt,indexOf:dn,inherits:hk,isArray:ze,isArrayLike:_a,isBuiltInObject:HL,isDom:xv,isFunction:Ct,isGradientObject:_1,isImagePatternObject:oZ,isNumber:Hn,isObject:Bt,isPrimitive:oy,isRegExp:sZ,isString:ut,isStringSafe:Db,isTypedArray:yo,keys:En,logError:fC,map:Ve,merge:on,mergeAll:hC,mixin:ti,noop:ei,normalizeCssArray:pC,reduce:Gs,retrieve:Gi,retrieve2:tn,retrieve3:Ol,setAsPrimitive:bS,slice:dC,trim:Us},Symbol.toStringTag,{value:"Module"}));/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var WL=function(n,e){return WL=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},WL(n,e)};function Rr(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");WL(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function Yh(n,e){return n==null&&(n=0),e==null&&(e=0),[n,e]}function ka(n,e){return n[0]=e[0],n[1]=e[1],n}function Eu(n){return[n[0],n[1]]}function fZ(n,e,t){return n[0]=e,n[1]=t,n}function XL(n,e,t){return n[0]=e[0]+t[0],n[1]=e[1]+t[1],n}function Rb(n,e,t,r){return n[0]=e[0]+t[0]*r,n[1]=e[1]+t[1]*r,n}function vh(n,e,t){return n[0]=e[0]-t[0],n[1]=e[1]-t[1],n}function AS(n){return Math.sqrt(pk(n))}var wme=AS;function pk(n){return n[0]*n[0]+n[1]*n[1]}var Mme=pk;function Tme(n,e,t){return n[0]=e[0]*t[0],n[1]=e[1]*t[1],n}function bme(n,e,t){return n[0]=e[0]/t[0],n[1]=e[1]/t[1],n}function Ame(n,e){return n[0]*e[0]+n[1]*e[1]}function Ix(n,e,t){return n[0]=e[0]*t,n[1]=e[1]*t,n}function kv(n,e){var t=AS(e);return t===0?(n[0]=0,n[1]=0):(n[0]=e[0]/t,n[1]=e[1]/t),n}function Lb(n,e){return Math.sqrt((n[0]-e[0])*(n[0]-e[0])+(n[1]-e[1])*(n[1]-e[1]))}var Fc=Lb;function hZ(n,e){return(n[0]-e[0])*(n[0]-e[0])+(n[1]-e[1])*(n[1]-e[1])}var Mh=hZ;function Cme(n,e){return n[0]=-e[0],n[1]=-e[1],n}function Nx(n,e,t,r){return n[0]=e[0]+r*(t[0]-e[0]),n[1]=e[1]+r*(t[1]-e[1]),n}function ia(n,e,t){var r=e[0],i=e[1];return n[0]=t[0]*r+t[2]*i+t[4],n[1]=t[1]*r+t[3]*i+t[5],n}function zc(n,e,t){return n[0]=Math.min(e[0],t[0]),n[1]=Math.min(e[1],t[1]),n}function Bc(n,e,t){return n[0]=Math.max(e[0],t[0]),n[1]=Math.max(e[1],t[1]),n}const Eme=Object.freeze(Object.defineProperty({__proto__:null,add:XL,applyTransform:ia,clone:Eu,copy:ka,create:Yh,dist:Fc,distSquare:Mh,distance:Lb,distanceSquare:hZ,div:bme,dot:Ame,len:AS,lenSquare:pk,length:wme,lengthSquare:Mme,lerp:Nx,max:Bc,min:zc,mul:Tme,negate:Cme,normalize:kv,scale:Ix,scaleAndAdd:Rb,set:fZ,sub:vh},Symbol.toStringTag,{value:"Module"}));var dm=(function(){function n(e,t){this.target=e,this.topTarget=t&&t.topTarget}return n})(),Pme=(function(){function n(e){this.handler=e,e.on("mousedown",this._dragStart,this),e.on("mousemove",this._drag,this),e.on("mouseup",this._dragEnd,this)}return n.prototype._dragStart=function(e){for(var t=e.target;t&&!t.draggable;)t=t.parent||t.__hostTarget;t&&(this._draggingTarget=t,t.dragging=!0,this._x=e.offsetX,this._y=e.offsetY,this.handler.dispatchToElement(new dm(t,e),"dragstart",e.event))},n.prototype._drag=function(e){var t=this._draggingTarget;if(t){var r=e.offsetX,i=e.offsetY,a=r-this._x,o=i-this._y;this._x=r,this._y=i,t.drift(a,o,e),this.handler.dispatchToElement(new dm(t,e),"drag",e.event);var s=this.handler.findHover(r,i,t).target,l=this._dropTarget;this._dropTarget=s,t!==s&&(l&&s!==l&&this.handler.dispatchToElement(new dm(l,e),"dragleave",e.event),s&&s!==l&&this.handler.dispatchToElement(new dm(s,e),"dragenter",e.event))}},n.prototype._dragEnd=function(e){var t=this._draggingTarget;t&&(t.dragging=!1),this.handler.dispatchToElement(new dm(t,e),"dragend",e.event),this._dropTarget&&this.handler.dispatchToElement(new dm(this._dropTarget,e),"drop",e.event),this._draggingTarget=null,this._dropTarget=null},n})(),Ws=(function(){function n(e){e&&(this._$eventProcessor=e)}return n.prototype.on=function(e,t,r,i){this._$handlers||(this._$handlers={});var a=this._$handlers;if(typeof t=="function"&&(i=r,r=t,t=null),!r||!e)return this;var o=this._$eventProcessor;t!=null&&o&&o.normalizeQuery&&(t=o.normalizeQuery(t)),a[e]||(a[e]=[]);for(var s=0;s<a[e].length;s++)if(a[e][s].h===r)return this;var l={h:r,query:t,ctx:i||this,callAtLast:r.zrEventfulCallAtLast},u=a[e].length-1,c=a[e][u];return c&&c.callAtLast?a[e].splice(u,0,l):a[e].push(l),this},n.prototype.isSilent=function(e){var t=this._$handlers;return!t||!t[e]||!t[e].length},n.prototype.off=function(e,t){var r=this._$handlers;if(!r)return this;if(!e)return this._$handlers={},this;if(t){if(r[e]){for(var i=[],a=0,o=r[e].length;a<o;a++)r[e][a].h!==t&&i.push(r[e][a]);r[e]=i}r[e]&&r[e].length===0&&delete r[e]}else delete r[e];return this},n.prototype.trigger=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(!this._$handlers)return this;var i=this._$handlers[e],a=this._$eventProcessor;if(i)for(var o=t.length,s=i.length,l=0;l<s;l++){var u=i[l];if(!(a&&a.filter&&u.query!=null&&!a.filter(e,u.query)))switch(o){case 0:u.h.call(u.ctx);break;case 1:u.h.call(u.ctx,t[0]);break;case 2:u.h.call(u.ctx,t[0],t[1]);break;default:u.h.apply(u.ctx,t);break}}return a&&a.afterTrigger&&a.afterTrigger(e),this},n.prototype.triggerWithContext=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(!this._$handlers)return this;var i=this._$handlers[e],a=this._$eventProcessor;if(i)for(var o=t.length,s=t[o-1],l=i.length,u=0;u<l;u++){var c=i[u];if(!(a&&a.filter&&c.query!=null&&!a.filter(e,c.query)))switch(o){case 0:c.h.call(s);break;case 1:c.h.call(s,t[0]);break;case 2:c.h.call(s,t[0],t[1]);break;default:c.h.apply(s,t.slice(1,o-1));break}}return a&&a.afterTrigger&&a.afterTrigger(e),this},n})(),Dme=Math.log(2);function YL(n,e,t,r,i,a){var o=r+"-"+i,s=n.length;if(a.hasOwnProperty(o))return a[o];if(e===1){var l=Math.round(Math.log((1<<s)-1&~i)/Dme);return n[t][l]}for(var u=r|1<<t,c=t+1;r&1<<c;)c++;for(var f=0,h=0,d=0;h<s;h++){var p=1<<h;p&i||(f+=(d%2?-1:1)*n[t][h]*YL(n,e-1,c,u,i|p,a),d++)}return a[o]=f,f}function h5(n,e){var t=[[n[0],n[1],1,0,0,0,-e[0]*n[0],-e[0]*n[1]],[0,0,0,n[0],n[1],1,-e[1]*n[0],-e[1]*n[1]],[n[2],n[3],1,0,0,0,-e[2]*n[2],-e[2]*n[3]],[0,0,0,n[2],n[3],1,-e[3]*n[2],-e[3]*n[3]],[n[4],n[5],1,0,0,0,-e[4]*n[4],-e[4]*n[5]],[0,0,0,n[4],n[5],1,-e[5]*n[4],-e[5]*n[5]],[n[6],n[7],1,0,0,0,-e[6]*n[6],-e[6]*n[7]],[0,0,0,n[6],n[7],1,-e[7]*n[6],-e[7]*n[7]]],r={},i=YL(t,8,0,0,0,r);if(i!==0){for(var a=[],o=0;o<8;o++)for(var s=0;s<8;s++)a[s]==null&&(a[s]=0),a[s]+=((o+s)%2?-1:1)*YL(t,7,o===0?1:0,1<<o,1<<s,r)/i*e[o];return function(l,u,c){var f=u*a[6]+c*a[7]+1;l[0]=(u*a[0]+c*a[1]+a[2])/f,l[1]=(u*a[3]+c*a[4]+a[5])/f}}}var d5="___zrEVENTSAVED",iD=[];function Rme(n,e,t,r,i){return jL(iD,e,r,i,!0)&&jL(n,t,iD[0],iD[1])}function jL(n,e,t,r,i){if(e.getBoundingClientRect&&Mn.domSupported&&!dZ(e)){var a=e[d5]||(e[d5]={}),o=Lme(e,a),s=Ime(o,a,i);if(s)return s(n,t,r),!0}return!1}function Lme(n,e){var t=e.markers;if(t)return t;t=e.markers=[];for(var r=["left","right"],i=["top","bottom"],a=0;a<4;a++){var o=document.createElement("div"),s=o.style,l=a%2,u=(a>>1)%2;s.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",r[l]+":0",i[u]+":0",r[1-l]+":auto",i[1-u]+":auto",""].join("!important;"),n.appendChild(o),t.push(o)}return t}function Ime(n,e,t){for(var r=t?"invTrans":"trans",i=e[r],a=e.srcCoords,o=[],s=[],l=!0,u=0;u<4;u++){var c=n[u].getBoundingClientRect(),f=2*u,h=c.left,d=c.top;o.push(h,d),l=l&&a&&h===a[f]&&d===a[f+1],s.push(n[u].offsetLeft,n[u].offsetTop)}return l&&i?i:(e.srcCoords=o,e[r]=t?h5(s,o):h5(o,s))}function dZ(n){return n.nodeName.toUpperCase()==="CANVAS"}var Nme=/([&<>"'])/g,Ome={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function za(n){return n==null?"":(n+"").replace(Nme,function(e,t){return Ome[t]})}var kme=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,aD=[],Fme=Mn.browser.firefox&&+Mn.browser.version.split(".")[0]<39;function ZL(n,e,t,r){return t=t||{},r?p5(n,e,t):Fme&&e.layerX!=null&&e.layerX!==e.offsetX?(t.zrX=e.layerX,t.zrY=e.layerY):e.offsetX!=null?(t.zrX=e.offsetX,t.zrY=e.offsetY):p5(n,e,t),t}function p5(n,e,t){if(Mn.domSupported&&n.getBoundingClientRect){var r=e.clientX,i=e.clientY;if(dZ(n)){var a=n.getBoundingClientRect();t.zrX=r-a.left,t.zrY=i-a.top;return}else if(jL(aD,n,r,i)){t.zrX=aD[0],t.zrY=aD[1];return}}t.zrX=t.zrY=0}function vk(n){return n||window.event}function Ls(n,e,t){if(e=vk(e),e.zrX!=null)return e;var r=e.type,i=r&&r.indexOf("touch")>=0;if(i){var o=r!=="touchend"?e.targetTouches[0]:e.changedTouches[0];o&&ZL(n,o,e,t)}else{ZL(n,e,e,t);var a=zme(e);e.zrDelta=a?a/120:-(e.detail||0)/3}var s=e.button;return e.which==null&&s!==void 0&&kme.test(e.type)&&(e.which=s&1?1:s&2?3:s&4?2:0),e}function zme(n){var e=n.wheelDelta;if(e)return e;var t=n.deltaX,r=n.deltaY;if(t==null||r==null)return e;var i=Math.abs(r!==0?r:t),a=r>0?-1:r<0?1:t>0?-1:1;return 3*i*a}function $L(n,e,t,r){n.addEventListener(e,t,r)}function Bme(n,e,t,r){n.removeEventListener(e,t,r)}var Qc=function(n){n.preventDefault(),n.stopPropagation(),n.cancelBubble=!0};function v5(n){return n.which===2||n.which===3}var Ume=(function(){function n(){this._track=[]}return n.prototype.recognize=function(e,t,r){return this._doTrack(e,t,r),this._recognize(e)},n.prototype.clear=function(){return this._track.length=0,this},n.prototype._doTrack=function(e,t,r){var i=e.touches;if(i){for(var a={points:[],touches:[],target:t,event:e},o=0,s=i.length;o<s;o++){var l=i[o],u=ZL(r,l,{});a.points.push([u.zrX,u.zrY]),a.touches.push(l)}this._track.push(a)}},n.prototype._recognize=function(e){for(var t in oD)if(oD.hasOwnProperty(t)){var r=oD[t](this._track,e);if(r)return r}},n})();function g5(n){var e=n[1][0]-n[0][0],t=n[1][1]-n[0][1];return Math.sqrt(e*e+t*t)}function Vme(n){return[(n[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2]}var oD={pinch:function(n,e){var t=n.length;if(t){var r=(n[t-1]||{}).points,i=(n[t-2]||{}).points||r;if(i&&i.length>1&&r&&r.length>1){var a=g5(r)/g5(i);!isFinite(a)&&(a=1),e.pinchScale=a;var o=Vme(r);return e.pinchX=o[0],e.pinchY=o[1],{type:"pinch",target:n[0].target,event:e}}}}};function Vo(){return[1,0,0,1,0,0]}function S1(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=1,n[4]=0,n[5]=0,n}function vC(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n}function Pu(n,e,t){var r=e[0]*t[0]+e[2]*t[1],i=e[1]*t[0]+e[3]*t[1],a=e[0]*t[2]+e[2]*t[3],o=e[1]*t[2]+e[3]*t[3],s=e[0]*t[4]+e[2]*t[5]+e[4],l=e[1]*t[4]+e[3]*t[5]+e[5];return n[0]=r,n[1]=i,n[2]=a,n[3]=o,n[4]=s,n[5]=l,n}function Gl(n,e,t){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4]+t[0],n[5]=e[5]+t[1],n}function jh(n,e,t,r){r===void 0&&(r=[0,0]);var i=e[0],a=e[2],o=e[4],s=e[1],l=e[3],u=e[5],c=Math.sin(t),f=Math.cos(t);return n[0]=i*f+s*c,n[1]=-i*c+s*f,n[2]=a*f+l*c,n[3]=-a*c+f*l,n[4]=f*(o-r[0])+c*(u-r[1])+r[0],n[5]=f*(u-r[1])-c*(o-r[0])+r[1],n}function gC(n,e,t){var r=t[0],i=t[1];return n[0]=e[0]*r,n[1]=e[1]*i,n[2]=e[2]*r,n[3]=e[3]*i,n[4]=e[4]*r,n[5]=e[5]*i,n}function Fv(n,e){var t=e[0],r=e[2],i=e[4],a=e[1],o=e[3],s=e[5],l=t*o-a*r;return l?(l=1/l,n[0]=o*l,n[1]=-a*l,n[2]=-r*l,n[3]=t*l,n[4]=(r*s-o*i)*l,n[5]=(a*i-t*s)*l,n):null}function pZ(n){var e=Vo();return vC(e,n),e}const Gme=Object.freeze(Object.defineProperty({__proto__:null,clone:pZ,copy:vC,create:Vo,identity:S1,invert:Fv,mul:Pu,rotate:jh,scale:gC,translate:Gl},Symbol.toStringTag,{value:"Module"}));var cn=(function(){function n(e,t){this.x=e||0,this.y=t||0}return n.prototype.copy=function(e){return this.x=e.x,this.y=e.y,this},n.prototype.clone=function(){return new n(this.x,this.y)},n.prototype.set=function(e,t){return this.x=e,this.y=t,this},n.prototype.equal=function(e){return e.x===this.x&&e.y===this.y},n.prototype.add=function(e){return this.x+=e.x,this.y+=e.y,this},n.prototype.scale=function(e){this.x*=e,this.y*=e},n.prototype.scaleAndAdd=function(e,t){this.x+=e.x*t,this.y+=e.y*t},n.prototype.sub=function(e){return this.x-=e.x,this.y-=e.y,this},n.prototype.dot=function(e){return this.x*e.x+this.y*e.y},n.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},n.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},n.prototype.normalize=function(){var e=this.len();return this.x/=e,this.y/=e,this},n.prototype.distance=function(e){var t=this.x-e.x,r=this.y-e.y;return Math.sqrt(t*t+r*r)},n.prototype.distanceSquare=function(e){var t=this.x-e.x,r=this.y-e.y;return t*t+r*r},n.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},n.prototype.transform=function(e){if(e){var t=this.x,r=this.y;return this.x=e[0]*t+e[2]*r+e[4],this.y=e[1]*t+e[3]*r+e[5],this}},n.prototype.toArray=function(e){return e[0]=this.x,e[1]=this.y,e},n.prototype.fromArray=function(e){this.x=e[0],this.y=e[1]},n.set=function(e,t,r){e.x=t,e.y=r},n.copy=function(e,t){e.x=t.x,e.y=t.y},n.len=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},n.lenSquare=function(e){return e.x*e.x+e.y*e.y},n.dot=function(e,t){return e.x*t.x+e.y*t.y},n.add=function(e,t,r){e.x=t.x+r.x,e.y=t.y+r.y},n.sub=function(e,t,r){e.x=t.x-r.x,e.y=t.y-r.y},n.scale=function(e,t,r){e.x=t.x*r,e.y=t.y*r},n.scaleAndAdd=function(e,t,r,i){e.x=t.x+r.x*i,e.y=t.y+r.y*i},n.lerp=function(e,t,r,i){var a=1-i;e.x=a*t.x+i*r.x,e.y=a*t.y+i*r.y},n})(),OM=Math.min,kM=Math.max,qd=new cn,Kd=new cn,Jd=new cn,Qd=new cn,T_=new cn,b_=new cn,fn=(function(){function n(e,t,r,i){r<0&&(e=e+r,r=-r),i<0&&(t=t+i,i=-i),this.x=e,this.y=t,this.width=r,this.height=i}return n.prototype.union=function(e){var t=OM(e.x,this.x),r=OM(e.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=kM(e.x+e.width,this.x+this.width)-t:this.width=e.width,isFinite(this.y)&&isFinite(this.height)?this.height=kM(e.y+e.height,this.y+this.height)-r:this.height=e.height,this.x=t,this.y=r},n.prototype.applyTransform=function(e){n.applyTransform(this,this,e)},n.prototype.calculateTransform=function(e){var t=this,r=e.width/t.width,i=e.height/t.height,a=Vo();return Gl(a,a,[-t.x,-t.y]),gC(a,a,[r,i]),Gl(a,a,[e.x,e.y]),a},n.prototype.intersect=function(e,t){if(!e)return!1;e instanceof n||(e=n.create(e));var r=this,i=r.x,a=r.x+r.width,o=r.y,s=r.y+r.height,l=e.x,u=e.x+e.width,c=e.y,f=e.y+e.height,h=!(a<l||u<i||s<c||f<o);if(t){var d=1/0,p=0,g=Math.abs(a-l),m=Math.abs(u-i),y=Math.abs(s-c),S=Math.abs(f-o),M=Math.min(g,m),b=Math.min(y,S);a<l||u<i?M>p&&(p=M,g<m?cn.set(b_,-g,0):cn.set(b_,m,0)):M<d&&(d=M,g<m?cn.set(T_,g,0):cn.set(T_,-m,0)),s<c||f<o?b>p&&(p=b,y<S?cn.set(b_,0,-y):cn.set(b_,0,S)):M<d&&(d=M,y<S?cn.set(T_,0,y):cn.set(T_,0,-S))}return t&&cn.copy(t,h?T_:b_),h},n.prototype.contain=function(e,t){var r=this;return e>=r.x&&e<=r.x+r.width&&t>=r.y&&t<=r.y+r.height},n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height)},n.prototype.copy=function(e){n.copy(this,e)},n.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},n.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},n.prototype.isZero=function(){return this.width===0||this.height===0},n.create=function(e){return new n(e.x,e.y,e.width,e.height)},n.copy=function(e,t){e.x=t.x,e.y=t.y,e.width=t.width,e.height=t.height},n.applyTransform=function(e,t,r){if(!r){e!==t&&n.copy(e,t);return}if(r[1]<1e-5&&r[1]>-1e-5&&r[2]<1e-5&&r[2]>-1e-5){var i=r[0],a=r[3],o=r[4],s=r[5];e.x=t.x*i+o,e.y=t.y*a+s,e.width=t.width*i,e.height=t.height*a,e.width<0&&(e.x+=e.width,e.width=-e.width),e.height<0&&(e.y+=e.height,e.height=-e.height);return}qd.x=Jd.x=t.x,qd.y=Qd.y=t.y,Kd.x=Qd.x=t.x+t.width,Kd.y=Jd.y=t.y+t.height,qd.transform(r),Qd.transform(r),Kd.transform(r),Jd.transform(r),e.x=OM(qd.x,Kd.x,Jd.x,Qd.x),e.y=OM(qd.y,Kd.y,Jd.y,Qd.y);var l=kM(qd.x,Kd.x,Jd.x,Qd.x),u=kM(qd.y,Kd.y,Jd.y,Qd.y);e.width=l-e.x,e.height=u-e.y},n})(),vZ="silent";function Hme(n,e,t){return{type:n,event:t,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:t.zrX,offsetY:t.zrY,gestureEvent:t.gestureEvent,pinchX:t.pinchX,pinchY:t.pinchY,pinchScale:t.pinchScale,wheelDelta:t.zrDelta,zrByTouch:t.zrByTouch,which:t.which,stop:Wme}}function Wme(){Qc(this.event)}var Xme=(function(n){Rr(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.handler=null,t}return e.prototype.dispose=function(){},e.prototype.setCursor=function(){},e})(Ws),A_=(function(){function n(e,t){this.x=e,this.y=t}return n})(),Yme=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],sD=new fn(0,0,0,0),gZ=(function(n){Rr(e,n);function e(t,r,i,a,o){var s=n.call(this)||this;return s._hovered=new A_(0,0),s.storage=t,s.painter=r,s.painterRoot=a,s._pointerSize=o,i=i||new Xme,s.proxy=null,s.setHandlerProxy(i),s._draggingMgr=new Pme(s),s}return e.prototype.setHandlerProxy=function(t){this.proxy&&this.proxy.dispose(),t&&(G(Yme,function(r){t.on&&t.on(r,this[r],this)},this),t.handler=this),this.proxy=t},e.prototype.mousemove=function(t){var r=t.zrX,i=t.zrY,a=mZ(this,r,i),o=this._hovered,s=o.target;s&&!s.__zr&&(o=this.findHover(o.x,o.y),s=o.target);var l=this._hovered=a?new A_(r,i):this.findHover(r,i),u=l.target,c=this.proxy;c.setCursor&&c.setCursor(u?u.cursor:"default"),s&&u!==s&&this.dispatchToElement(o,"mouseout",t),this.dispatchToElement(l,"mousemove",t),u&&u!==s&&this.dispatchToElement(l,"mouseover",t)},e.prototype.mouseout=function(t){var r=t.zrEventControl;r!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",t),r!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:t})},e.prototype.resize=function(){this._hovered=new A_(0,0)},e.prototype.dispatch=function(t,r){var i=this[t];i&&i.call(this,r)},e.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},e.prototype.setCursorStyle=function(t){var r=this.proxy;r.setCursor&&r.setCursor(t)},e.prototype.dispatchToElement=function(t,r,i){t=t||{};var a=t.target;if(!(a&&a.silent)){for(var o="on"+r,s=Hme(r,t,i);a&&(a[o]&&(s.cancelBubble=!!a[o].call(a,s)),a.trigger(r,s),a=a.__hostTarget?a.__hostTarget:a.parent,!s.cancelBubble););s.cancelBubble||(this.trigger(r,s),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(l){typeof l[o]=="function"&&l[o].call(l,s),l.trigger&&l.trigger(r,s)}))}},e.prototype.findHover=function(t,r,i){var a=this.storage.getDisplayList(),o=new A_(t,r);if(m5(a,o,t,r,i),this._pointerSize&&!o.target){for(var s=[],l=this._pointerSize,u=l/2,c=new fn(t-u,r-u,l,l),f=a.length-1;f>=0;f--){var h=a[f];h!==i&&!h.ignore&&!h.ignoreCoarsePointer&&(!h.parent||!h.parent.ignoreCoarsePointer)&&(sD.copy(h.getBoundingRect()),h.transform&&sD.applyTransform(h.transform),sD.intersect(c)&&s.push(h))}if(s.length)for(var d=4,p=Math.PI/12,g=Math.PI*2,m=0;m<u;m+=d)for(var y=0;y<g;y+=p){var S=t+m*Math.cos(y),M=r+m*Math.sin(y);if(m5(s,o,S,M,i),o.target)return o}}return o},e.prototype.processGesture=function(t,r){this._gestureMgr||(this._gestureMgr=new Ume);var i=this._gestureMgr;r==="start"&&i.clear();var a=i.recognize(t,this.findHover(t.zrX,t.zrY,null).target,this.proxy.dom);if(r==="end"&&i.clear(),a){var o=a.type;t.gestureEvent=o;var s=new A_;s.target=a.target,this.dispatchToElement(s,o,a.event)}},e})(Ws);G(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(n){gZ.prototype[n]=function(e){var t=e.zrX,r=e.zrY,i=mZ(this,t,r),a,o;if((n!=="mouseup"||!i)&&(a=this.findHover(t,r),o=a.target),n==="mousedown")this._downEl=o,this._downPoint=[e.zrX,e.zrY],this._upEl=o;else if(n==="mouseup")this._upEl=o;else if(n==="click"){if(this._downEl!==this._upEl||!this._downPoint||Fc(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(a,n,e)}});function jme(n,e,t){if(n[n.rectHover?"rectContain":"contain"](e,t)){for(var r=n,i=void 0,a=!1;r;){if(r.ignoreClip&&(a=!0),!a){var o=r.getClipPath();if(o&&!o.contain(e,t))return!1}r.silent&&(i=!0);var s=r.__hostTarget;r=s||r.parent}return i?vZ:!0}return!1}function m5(n,e,t,r,i){for(var a=n.length-1;a>=0;a--){var o=n[a],s=void 0;if(o!==i&&!o.ignore&&(s=jme(o,t,r))&&(!e.topTarget&&(e.topTarget=o),s!==vZ)){e.target=o;break}}}function mZ(n,e,t){var r=n.painter;return e<0||e>r.getWidth()||t<0||t>r.getHeight()}var yZ=32,C_=7;function Zme(n){for(var e=0;n>=yZ;)e|=n&1,n>>=1;return n+e}function y5(n,e,t,r){var i=e+1;if(i===t)return 1;if(r(n[i++],n[e])<0){for(;i<t&&r(n[i],n[i-1])<0;)i++;$me(n,e,i)}else for(;i<t&&r(n[i],n[i-1])>=0;)i++;return i-e}function $me(n,e,t){for(t--;e<t;){var r=n[e];n[e++]=n[t],n[t--]=r}}function _5(n,e,t,r,i){for(r===e&&r++;r<t;r++){for(var a=n[r],o=e,s=r,l;o<s;)l=o+s>>>1,i(a,n[l])<0?s=l:o=l+1;var u=r-o;switch(u){case 3:n[o+3]=n[o+2];case 2:n[o+2]=n[o+1];case 1:n[o+1]=n[o];break;default:for(;u>0;)n[o+u]=n[o+u-1],u--}n[o]=a}}function lD(n,e,t,r,i,a){var o=0,s=0,l=1;if(a(n,e[t+i])>0){for(s=r-i;l<s&&a(n,e[t+i+l])>0;)o=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s),o+=i,l+=i}else{for(s=i+1;l<s&&a(n,e[t+i-l])<=0;)o=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s);var u=o;o=i-l,l=i-u}for(o++;o<l;){var c=o+(l-o>>>1);a(n,e[t+c])>0?o=c+1:l=c}return l}function uD(n,e,t,r,i,a){var o=0,s=0,l=1;if(a(n,e[t+i])<0){for(s=i+1;l<s&&a(n,e[t+i-l])<0;)o=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s);var u=o;o=i-l,l=i-u}else{for(s=r-i;l<s&&a(n,e[t+i+l])>=0;)o=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s),o+=i,l+=i}for(o++;o<l;){var c=o+(l-o>>>1);a(n,e[t+c])<0?l=c:o=c+1}return l}function qme(n,e){var t=C_,r,i,a=0,o=[];r=[],i=[];function s(d,p){r[a]=d,i[a]=p,a+=1}function l(){for(;a>1;){var d=a-2;if(d>=1&&i[d-1]<=i[d]+i[d+1]||d>=2&&i[d-2]<=i[d]+i[d-1])i[d-1]<i[d+1]&&d--;else if(i[d]>i[d+1])break;c(d)}}function u(){for(;a>1;){var d=a-2;d>0&&i[d-1]<i[d+1]&&d--,c(d)}}function c(d){var p=r[d],g=i[d],m=r[d+1],y=i[d+1];i[d]=g+y,d===a-3&&(r[d+1]=r[d+2],i[d+1]=i[d+2]),a--;var S=uD(n[m],n,p,g,0,e);p+=S,g-=S,g!==0&&(y=lD(n[p+g-1],n,m,y,y-1,e),y!==0&&(g<=y?f(p,g,m,y):h(p,g,m,y)))}function f(d,p,g,m){var y=0;for(y=0;y<p;y++)o[y]=n[d+y];var S=0,M=g,b=d;if(n[b++]=n[M++],--m===0){for(y=0;y<p;y++)n[b+y]=o[S+y];return}if(p===1){for(y=0;y<m;y++)n[b+y]=n[M+y];n[b+m]=o[S];return}for(var C=t,A,E,I;;){A=0,E=0,I=!1;do if(e(n[M],o[S])<0){if(n[b++]=n[M++],E++,A=0,--m===0){I=!0;break}}else if(n[b++]=o[S++],A++,E=0,--p===1){I=!0;break}while((A|E)<C);if(I)break;do{if(A=uD(n[M],o,S,p,0,e),A!==0){for(y=0;y<A;y++)n[b+y]=o[S+y];if(b+=A,S+=A,p-=A,p<=1){I=!0;break}}if(n[b++]=n[M++],--m===0){I=!0;break}if(E=lD(o[S],n,M,m,0,e),E!==0){for(y=0;y<E;y++)n[b+y]=n[M+y];if(b+=E,M+=E,m-=E,m===0){I=!0;break}}if(n[b++]=o[S++],--p===1){I=!0;break}C--}while(A>=C_||E>=C_);if(I)break;C<0&&(C=0),C+=2}if(t=C,t<1&&(t=1),p===1){for(y=0;y<m;y++)n[b+y]=n[M+y];n[b+m]=o[S]}else{if(p===0)throw new Error;for(y=0;y<p;y++)n[b+y]=o[S+y]}}function h(d,p,g,m){var y=0;for(y=0;y<m;y++)o[y]=n[g+y];var S=d+p-1,M=m-1,b=g+m-1,C=0,A=0;if(n[b--]=n[S--],--p===0){for(C=b-(m-1),y=0;y<m;y++)n[C+y]=o[y];return}if(m===1){for(b-=p,S-=p,A=b+1,C=S+1,y=p-1;y>=0;y--)n[A+y]=n[C+y];n[b]=o[M];return}for(var E=t;;){var I=0,L=0,R=!1;do if(e(o[M],n[S])<0){if(n[b--]=n[S--],I++,L=0,--p===0){R=!0;break}}else if(n[b--]=o[M--],L++,I=0,--m===1){R=!0;break}while((I|L)<E);if(R)break;do{if(I=p-uD(o[M],n,d,p,p-1,e),I!==0){for(b-=I,S-=I,p-=I,A=b+1,C=S+1,y=I-1;y>=0;y--)n[A+y]=n[C+y];if(p===0){R=!0;break}}if(n[b--]=o[M--],--m===1){R=!0;break}if(L=m-lD(n[S],o,0,m,m-1,e),L!==0){for(b-=L,M-=L,m-=L,A=b+1,C=M+1,y=0;y<L;y++)n[A+y]=o[C+y];if(m<=1){R=!0;break}}if(n[b--]=n[S--],--p===0){R=!0;break}E--}while(I>=C_||L>=C_);if(R)break;E<0&&(E=0),E+=2}if(t=E,t<1&&(t=1),m===1){for(b-=p,S-=p,A=b+1,C=S+1,y=p-1;y>=0;y--)n[A+y]=n[C+y];n[b]=o[M]}else{if(m===0)throw new Error;for(C=b-(m-1),y=0;y<m;y++)n[C+y]=o[y]}}return{mergeRuns:l,forceMergeRuns:u,pushRun:s}}function ZT(n,e,t,r){t||(t=0),r||(r=n.length);var i=r-t;if(!(i<2)){var a=0;if(i<yZ){a=y5(n,t,r,e),_5(n,t,r,t+a,e);return}var o=qme(n,e),s=Zme(i);do{if(a=y5(n,t,r,e),a<s){var l=i;l>s&&(l=s),_5(n,t,t+l,t+a,e),a=l}o.pushRun(t,a),o.mergeRuns(),i-=a,t+=a}while(i!==0);o.forceMergeRuns()}}var rs=1,ux=2,Bm=4,x5=!1;function cD(){x5||(x5=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function S5(n,e){return n.zlevel===e.zlevel?n.z===e.z?n.z2-e.z2:n.z-e.z:n.zlevel-e.zlevel}var Kme=(function(){function n(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=S5}return n.prototype.traverse=function(e,t){for(var r=0;r<this._roots.length;r++)this._roots[r].traverse(e,t)},n.prototype.getDisplayList=function(e,t){t=t||!1;var r=this._displayList;return(e||!r.length)&&this.updateDisplayList(t),r},n.prototype.updateDisplayList=function(e){this._displayListLen=0;for(var t=this._roots,r=this._displayList,i=0,a=t.length;i<a;i++)this._updateAndAddDisplayable(t[i],null,e);r.length=this._displayListLen,ZT(r,S5)},n.prototype._updateAndAddDisplayable=function(e,t,r){if(!(e.ignore&&!r)){e.beforeUpdate(),e.update(),e.afterUpdate();var i=e.getClipPath();if(e.ignoreClip)t=null;else if(i){t?t=t.slice():t=[];for(var a=i,o=e;a;)a.parent=o,a.updateTransform(),t.push(a),o=a,a=a.getClipPath()}if(e.childrenRef){for(var s=e.childrenRef(),l=0;l<s.length;l++){var u=s[l];e.__dirty&&(u.__dirty|=rs),this._updateAndAddDisplayable(u,t,r)}e.__dirty=0}else{var c=e;t&&t.length?c.__clipPaths=t:c.__clipPaths&&c.__clipPaths.length>0&&(c.__clipPaths=[]),isNaN(c.z)&&(cD(),c.z=0),isNaN(c.z2)&&(cD(),c.z2=0),isNaN(c.zlevel)&&(cD(),c.zlevel=0),this._displayList[this._displayListLen++]=c}var f=e.getDecalElement&&e.getDecalElement();f&&this._updateAndAddDisplayable(f,t,r);var h=e.getTextGuideLine();h&&this._updateAndAddDisplayable(h,t,r);var d=e.getTextContent();d&&this._updateAndAddDisplayable(d,t,r)}},n.prototype.addRoot=function(e){e.__zr&&e.__zr.storage===this||this._roots.push(e)},n.prototype.delRoot=function(e){if(e instanceof Array){for(var t=0,r=e.length;t<r;t++)this.delRoot(e[t]);return}var i=dn(this._roots,e);i>=0&&this._roots.splice(i,1)},n.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},n.prototype.getRoots=function(){return this._roots},n.prototype.dispose=function(){this._displayList=null,this._roots=null},n})(),Ib;Ib=Mn.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(n){return setTimeout(n,16)};var Ox={linear:function(n){return n},quadraticIn:function(n){return n*n},quadraticOut:function(n){return n*(2-n)},quadraticInOut:function(n){return(n*=2)<1?.5*n*n:-.5*(--n*(n-2)-1)},cubicIn:function(n){return n*n*n},cubicOut:function(n){return--n*n*n+1},cubicInOut:function(n){return(n*=2)<1?.5*n*n*n:.5*((n-=2)*n*n+2)},quarticIn:function(n){return n*n*n*n},quarticOut:function(n){return 1- --n*n*n*n},quarticInOut:function(n){return(n*=2)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2)},quinticIn:function(n){return n*n*n*n*n},quinticOut:function(n){return--n*n*n*n*n+1},quinticInOut:function(n){return(n*=2)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2)},sinusoidalIn:function(n){return 1-Math.cos(n*Math.PI/2)},sinusoidalOut:function(n){return Math.sin(n*Math.PI/2)},sinusoidalInOut:function(n){return .5*(1-Math.cos(Math.PI*n))},exponentialIn:function(n){return n===0?0:Math.pow(1024,n-1)},exponentialOut:function(n){return n===1?1:1-Math.pow(2,-10*n)},exponentialInOut:function(n){return n===0?0:n===1?1:(n*=2)<1?.5*Math.pow(1024,n-1):.5*(-Math.pow(2,-10*(n-1))+2)},circularIn:function(n){return 1-Math.sqrt(1-n*n)},circularOut:function(n){return Math.sqrt(1- --n*n)},circularInOut:function(n){return(n*=2)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)},elasticIn:function(n){var e,t=.1,r=.4;return n===0?0:n===1?1:(!t||t<1?(t=1,e=r/4):e=r*Math.asin(1/t)/(2*Math.PI),-(t*Math.pow(2,10*(n-=1))*Math.sin((n-e)*(2*Math.PI)/r)))},elasticOut:function(n){var e,t=.1,r=.4;return n===0?0:n===1?1:(!t||t<1?(t=1,e=r/4):e=r*Math.asin(1/t)/(2*Math.PI),t*Math.pow(2,-10*n)*Math.sin((n-e)*(2*Math.PI)/r)+1)},elasticInOut:function(n){var e,t=.1,r=.4;return n===0?0:n===1?1:(!t||t<1?(t=1,e=r/4):e=r*Math.asin(1/t)/(2*Math.PI),(n*=2)<1?-.5*(t*Math.pow(2,10*(n-=1))*Math.sin((n-e)*(2*Math.PI)/r)):t*Math.pow(2,-10*(n-=1))*Math.sin((n-e)*(2*Math.PI)/r)*.5+1)},backIn:function(n){var e=1.70158;return n*n*((e+1)*n-e)},backOut:function(n){var e=1.70158;return--n*n*((e+1)*n+e)+1},backInOut:function(n){var e=2.5949095;return(n*=2)<1?.5*(n*n*((e+1)*n-e)):.5*((n-=2)*n*((e+1)*n+e)+2)},bounceIn:function(n){return 1-Ox.bounceOut(1-n)},bounceOut:function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},bounceInOut:function(n){return n<.5?Ox.bounceIn(n*2)*.5:Ox.bounceOut(n*2-1)*.5+.5}},FM=Math.pow,Th=Math.sqrt,Nb=1e-8,_Z=1e-4,w5=Th(3),zM=1/3,mu=Yh(),ks=Yh(),sy=Yh();function gh(n){return n>-Nb&&n<Nb}function xZ(n){return n>Nb||n<-Nb}function Vi(n,e,t,r,i){var a=1-i;return a*a*(a*n+3*i*e)+i*i*(i*r+3*a*t)}function M5(n,e,t,r,i){var a=1-i;return 3*(((e-n)*a+2*(t-e)*i)*a+(r-t)*i*i)}function Ob(n,e,t,r,i,a){var o=r+3*(e-t)-n,s=3*(t-e*2+n),l=3*(e-n),u=n-i,c=s*s-3*o*l,f=s*l-9*o*u,h=l*l-3*s*u,d=0;if(gh(c)&&gh(f))if(gh(s))a[0]=0;else{var p=-l/s;p>=0&&p<=1&&(a[d++]=p)}else{var g=f*f-4*c*h;if(gh(g)){var m=f/c,p=-s/o+m,y=-m/2;p>=0&&p<=1&&(a[d++]=p),y>=0&&y<=1&&(a[d++]=y)}else if(g>0){var S=Th(g),M=c*s+1.5*o*(-f+S),b=c*s+1.5*o*(-f-S);M<0?M=-FM(-M,zM):M=FM(M,zM),b<0?b=-FM(-b,zM):b=FM(b,zM);var p=(-s-(M+b))/(3*o);p>=0&&p<=1&&(a[d++]=p)}else{var C=(2*c*s-3*o*f)/(2*Th(c*c*c)),A=Math.acos(C)/3,E=Th(c),I=Math.cos(A),p=(-s-2*E*I)/(3*o),y=(-s+E*(I+w5*Math.sin(A)))/(3*o),L=(-s+E*(I-w5*Math.sin(A)))/(3*o);p>=0&&p<=1&&(a[d++]=p),y>=0&&y<=1&&(a[d++]=y),L>=0&&L<=1&&(a[d++]=L)}}return d}function SZ(n,e,t,r,i){var a=6*t-12*e+6*n,o=9*e+3*r-3*n-9*t,s=3*e-3*n,l=0;if(gh(o)){if(xZ(a)){var u=-s/a;u>=0&&u<=1&&(i[l++]=u)}}else{var c=a*a-4*o*s;if(gh(c))i[0]=-a/(2*o);else if(c>0){var f=Th(c),u=(-a+f)/(2*o),h=(-a-f)/(2*o);u>=0&&u<=1&&(i[l++]=u),h>=0&&h<=1&&(i[l++]=h)}}return l}function Oh(n,e,t,r,i,a){var o=(e-n)*i+n,s=(t-e)*i+e,l=(r-t)*i+t,u=(s-o)*i+o,c=(l-s)*i+s,f=(c-u)*i+u;a[0]=n,a[1]=o,a[2]=u,a[3]=f,a[4]=f,a[5]=c,a[6]=l,a[7]=r}function wZ(n,e,t,r,i,a,o,s,l,u,c){var f,h=.005,d=1/0,p,g,m,y;mu[0]=l,mu[1]=u;for(var S=0;S<1;S+=.05)ks[0]=Vi(n,t,i,o,S),ks[1]=Vi(e,r,a,s,S),m=Mh(mu,ks),m<d&&(f=S,d=m);d=1/0;for(var M=0;M<32&&!(h<_Z);M++)p=f-h,g=f+h,ks[0]=Vi(n,t,i,o,p),ks[1]=Vi(e,r,a,s,p),m=Mh(ks,mu),p>=0&&m<d?(f=p,d=m):(sy[0]=Vi(n,t,i,o,g),sy[1]=Vi(e,r,a,s,g),y=Mh(sy,mu),g<=1&&y<d?(f=g,d=y):h*=.5);return c&&(c[0]=Vi(n,t,i,o,f),c[1]=Vi(e,r,a,s,f)),Th(d)}function Jme(n,e,t,r,i,a,o,s,l){for(var u=n,c=e,f=0,h=1/l,d=1;d<=l;d++){var p=d*h,g=Vi(n,t,i,o,p),m=Vi(e,r,a,s,p),y=g-u,S=m-c;f+=Math.sqrt(y*y+S*S),u=g,c=m}return f}function na(n,e,t,r){var i=1-r;return i*(i*n+2*r*e)+r*r*t}function qL(n,e,t,r){return 2*((1-r)*(e-n)+r*(t-e))}function Qme(n,e,t,r,i){var a=n-2*e+t,o=2*(e-n),s=n-r,l=0;if(gh(a)){if(xZ(o)){var u=-s/o;u>=0&&u<=1&&(i[l++]=u)}}else{var c=o*o-4*a*s;if(gh(c)){var u=-o/(2*a);u>=0&&u<=1&&(i[l++]=u)}else if(c>0){var f=Th(c),u=(-o+f)/(2*a),h=(-o-f)/(2*a);u>=0&&u<=1&&(i[l++]=u),h>=0&&h<=1&&(i[l++]=h)}}return l}function MZ(n,e,t){var r=n+t-2*e;return r===0?.5:(n-e)/r}function CS(n,e,t,r,i){var a=(e-n)*r+n,o=(t-e)*r+e,s=(o-a)*r+a;i[0]=n,i[1]=a,i[2]=s,i[3]=s,i[4]=o,i[5]=t}function TZ(n,e,t,r,i,a,o,s,l){var u,c=.005,f=1/0;mu[0]=o,mu[1]=s;for(var h=0;h<1;h+=.05){ks[0]=na(n,t,i,h),ks[1]=na(e,r,a,h);var d=Mh(mu,ks);d<f&&(u=h,f=d)}f=1/0;for(var p=0;p<32&&!(c<_Z);p++){var g=u-c,m=u+c;ks[0]=na(n,t,i,g),ks[1]=na(e,r,a,g);var d=Mh(ks,mu);if(g>=0&&d<f)u=g,f=d;else{sy[0]=na(n,t,i,m),sy[1]=na(e,r,a,m);var y=Mh(sy,mu);m<=1&&y<f?(u=m,f=y):c*=.5}}return l&&(l[0]=na(n,t,i,u),l[1]=na(e,r,a,u)),Th(f)}function eye(n,e,t,r,i,a,o){for(var s=n,l=e,u=0,c=1/o,f=1;f<=o;f++){var h=f*c,d=na(n,t,i,h),p=na(e,r,a,h),g=d-s,m=p-l;u+=Math.sqrt(g*g+m*m),s=d,l=p}return u}var tye=/cubic-bezier\(([0-9,\.e ]+)\)/;function gk(n){var e=n&&tye.exec(n);if(e){var t=e[1].split(","),r=+Us(t[0]),i=+Us(t[1]),a=+Us(t[2]),o=+Us(t[3]);if(isNaN(r+i+a+o))return;var s=[];return function(l){return l<=0?0:l>=1?1:Ob(0,r,a,1,l,s)&&Vi(0,i,o,1,s[0])}}}var nye=(function(){function n(e){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=e.life||1e3,this._delay=e.delay||0,this.loop=e.loop||!1,this.onframe=e.onframe||ei,this.ondestroy=e.ondestroy||ei,this.onrestart=e.onrestart||ei,e.easing&&this.setEasing(e.easing)}return n.prototype.step=function(e,t){if(this._inited||(this._startTime=e+this._delay,this._inited=!0),this._paused){this._pausedTime+=t;return}var r=this._life,i=e-this._startTime-this._pausedTime,a=i/r;a<0&&(a=0),a=Math.min(a,1);var o=this.easingFunc,s=o?o(a):a;if(this.onframe(s),a===1)if(this.loop){var l=i%r;this._startTime=e-l,this._pausedTime=0,this.onrestart()}else return!0;return!1},n.prototype.pause=function(){this._paused=!0},n.prototype.resume=function(){this._paused=!1},n.prototype.setEasing=function(e){this.easing=e,this.easingFunc=Ct(e)?e:Ox[e]||gk(e)},n})(),bZ=(function(){function n(e){this.value=e}return n})(),rye=(function(){function n(){this._len=0}return n.prototype.insert=function(e){var t=new bZ(e);return this.insertEntry(t),t},n.prototype.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,e.next=null,this.tail=e):this.head=this.tail=e,this._len++},n.prototype.remove=function(e){var t=e.prev,r=e.next;t?t.next=r:this.head=r,r?r.prev=t:this.tail=t,e.next=e.prev=null,this._len--},n.prototype.len=function(){return this._len},n.prototype.clear=function(){this.head=this.tail=null,this._len=0},n})(),w1=(function(){function n(e){this._list=new rye,this._maxSize=10,this._map={},this._maxSize=e}return n.prototype.put=function(e,t){var r=this._list,i=this._map,a=null;if(i[e]==null){var o=r.len(),s=this._lastRemovedEntry;if(o>=this._maxSize&&o>0){var l=r.head;r.remove(l),delete i[l.key],a=l.value,this._lastRemovedEntry=l}s?s.value=t:s=new bZ(t),s.key=e,r.insertEntry(s),i[e]=s}return a},n.prototype.get=function(e){var t=this._map[e],r=this._list;if(t!=null)return t!==r.tail&&(r.remove(t),r.insertEntry(t)),t.value},n.prototype.clear=function(){this._list.clear(),this._map={}},n.prototype.len=function(){return this._list.len()},n})(),T5={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function kl(n){return n=Math.round(n),n<0?0:n>255?255:n}function iye(n){return n=Math.round(n),n<0?0:n>360?360:n}function ES(n){return n<0?0:n>1?1:n}function fD(n){var e=n;return e.length&&e.charAt(e.length-1)==="%"?kl(parseFloat(e)/100*255):kl(parseInt(e,10))}function sv(n){var e=n;return e.length&&e.charAt(e.length-1)==="%"?ES(parseFloat(e)/100):ES(parseFloat(e))}function hD(n,e,t){return t<0?t+=1:t>1&&(t-=1),t*6<1?n+(e-n)*t*6:t*2<1?e:t*3<2?n+(e-n)*(2/3-t)*6:n}function mh(n,e,t){return n+(e-n)*t}function Ds(n,e,t,r,i){return n[0]=e,n[1]=t,n[2]=r,n[3]=i,n}function KL(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n}var AZ=new w1(20),BM=null;function pm(n,e){BM&&KL(BM,e),BM=AZ.put(n,BM||e.slice())}function go(n,e){if(n){e=e||[];var t=AZ.get(n);if(t)return KL(e,t);n=n+"";var r=n.replace(/ /g,"").toLowerCase();if(r in T5)return KL(e,T5[r]),pm(n,e),e;var i=r.length;if(r.charAt(0)==="#"){if(i===4||i===5){var a=parseInt(r.slice(1,4),16);if(!(a>=0&&a<=4095)){Ds(e,0,0,0,1);return}return Ds(e,(a&3840)>>4|(a&3840)>>8,a&240|(a&240)>>4,a&15|(a&15)<<4,i===5?parseInt(r.slice(4),16)/15:1),pm(n,e),e}else if(i===7||i===9){var a=parseInt(r.slice(1,7),16);if(!(a>=0&&a<=16777215)){Ds(e,0,0,0,1);return}return Ds(e,(a&16711680)>>16,(a&65280)>>8,a&255,i===9?parseInt(r.slice(7),16)/255:1),pm(n,e),e}return}var o=r.indexOf("("),s=r.indexOf(")");if(o!==-1&&s+1===i){var l=r.substr(0,o),u=r.substr(o+1,s-(o+1)).split(","),c=1;switch(l){case"rgba":if(u.length!==4)return u.length===3?Ds(e,+u[0],+u[1],+u[2],1):Ds(e,0,0,0,1);c=sv(u.pop());case"rgb":if(u.length>=3)return Ds(e,fD(u[0]),fD(u[1]),fD(u[2]),u.length===3?c:sv(u[3])),pm(n,e),e;Ds(e,0,0,0,1);return;case"hsla":if(u.length!==4){Ds(e,0,0,0,1);return}return u[3]=sv(u[3]),JL(u,e),pm(n,e),e;case"hsl":if(u.length!==3){Ds(e,0,0,0,1);return}return JL(u,e),pm(n,e),e;default:return}}Ds(e,0,0,0,1)}}function JL(n,e){var t=(parseFloat(n[0])%360+360)%360/360,r=sv(n[1]),i=sv(n[2]),a=i<=.5?i*(r+1):i+r-i*r,o=i*2-a;return e=e||[],Ds(e,kl(hD(o,a,t+1/3)*255),kl(hD(o,a,t)*255),kl(hD(o,a,t-1/3)*255),1),n.length===4&&(e[3]=n[3]),e}function aye(n){if(n){var e=n[0]/255,t=n[1]/255,r=n[2]/255,i=Math.min(e,t,r),a=Math.max(e,t,r),o=a-i,s=(a+i)/2,l,u;if(o===0)l=0,u=0;else{s<.5?u=o/(a+i):u=o/(2-a-i);var c=((a-e)/6+o/2)/o,f=((a-t)/6+o/2)/o,h=((a-r)/6+o/2)/o;e===a?l=h-f:t===a?l=1/3+c-h:r===a&&(l=2/3+f-c),l<0&&(l+=1),l>1&&(l-=1)}var d=[l*360,u,s];return n[3]!=null&&d.push(n[3]),d}}function kb(n,e){var t=go(n);if(t){for(var r=0;r<3;r++)e<0?t[r]=t[r]*(1-e)|0:t[r]=(255-t[r])*e+t[r]|0,t[r]>255?t[r]=255:t[r]<0&&(t[r]=0);return Fl(t,t.length===4?"rgba":"rgb")}}function oye(n){var e=go(n);if(e)return((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1)}function kx(n,e,t){if(!(!(e&&e.length)||!(n>=0&&n<=1))){t=t||[];var r=n*(e.length-1),i=Math.floor(r),a=Math.ceil(r),o=e[i],s=e[a],l=r-i;return t[0]=kl(mh(o[0],s[0],l)),t[1]=kl(mh(o[1],s[1],l)),t[2]=kl(mh(o[2],s[2],l)),t[3]=ES(mh(o[3],s[3],l)),t}}var sye=kx;function mk(n,e,t){if(!(!(e&&e.length)||!(n>=0&&n<=1))){var r=n*(e.length-1),i=Math.floor(r),a=Math.ceil(r),o=go(e[i]),s=go(e[a]),l=r-i,u=Fl([kl(mh(o[0],s[0],l)),kl(mh(o[1],s[1],l)),kl(mh(o[2],s[2],l)),ES(mh(o[3],s[3],l))],"rgba");return t?{color:u,leftIndex:i,rightIndex:a,value:r}:u}}var lye=mk;function ly(n,e,t,r){var i=go(n);if(n)return i=aye(i),e!=null&&(i[0]=iye(e)),t!=null&&(i[1]=sv(t)),r!=null&&(i[2]=sv(r)),Fl(JL(i),"rgba")}function PS(n,e){var t=go(n);if(t&&e!=null)return t[3]=ES(e),Fl(t,"rgba")}function Fl(n,e){if(!(!n||!n.length)){var t=n[0]+","+n[1]+","+n[2];return(e==="rgba"||e==="hsva"||e==="hsla")&&(t+=","+n[3]),e+"("+t+")"}}function DS(n,e){var t=go(n);return t?(.299*t[0]+.587*t[1]+.114*t[2])*t[3]/255+(1-t[3])*e:0}function uye(){return Fl([Math.round(Math.random()*255),Math.round(Math.random()*255),Math.round(Math.random()*255)],"rgb")}var b5=new w1(100);function Fb(n){if(ut(n)){var e=b5.get(n);return e||(e=kb(n,-.1),b5.put(n,e)),e}else if(_1(n)){var t=Le({},n);return t.colorStops=Ve(n.colorStops,function(r){return{offset:r.offset,color:kb(r.color,-.1)}}),t}return n}const cye=Object.freeze(Object.defineProperty({__proto__:null,fastLerp:kx,fastMapToColor:sye,lerp:mk,lift:kb,liftColor:Fb,lum:DS,mapToColor:lye,modifyAlpha:PS,modifyHSL:ly,parse:go,random:uye,stringify:Fl,toHex:oye},Symbol.toStringTag,{value:"Module"}));var zb=Math.round;function RS(n){var e;if(!n||n==="transparent")n="none";else if(typeof n=="string"&&n.indexOf("rgba")>-1){var t=go(n);t&&(n="rgb("+t[0]+","+t[1]+","+t[2]+")",e=t[3])}return{color:n,opacity:e??1}}var A5=1e-4;function yh(n){return n<A5&&n>-A5}function UM(n){return zb(n*1e3)/1e3}function QL(n){return zb(n*1e4)/1e4}function fye(n){return"matrix("+UM(n[0])+","+UM(n[1])+","+UM(n[2])+","+UM(n[3])+","+QL(n[4])+","+QL(n[5])+")"}var hye={left:"start",right:"end",center:"middle",middle:"middle"};function dye(n,e,t){return t==="top"?n+=e/2:t==="bottom"&&(n-=e/2),n}function pye(n){return n&&(n.shadowBlur||n.shadowOffsetX||n.shadowOffsetY)}function vye(n){var e=n.style,t=n.getGlobalScale();return[e.shadowColor,(e.shadowBlur||0).toFixed(2),(e.shadowOffsetX||0).toFixed(2),(e.shadowOffsetY||0).toFixed(2),t[0],t[1]].join(",")}function CZ(n){return n&&!!n.image}function gye(n){return n&&!!n.svgElement}function yk(n){return CZ(n)||gye(n)}function EZ(n){return n.type==="linear"}function PZ(n){return n.type==="radial"}function DZ(n){return n&&(n.type==="linear"||n.type==="radial")}function mC(n){return"url(#"+n+")"}function RZ(n){var e=n.getGlobalScale(),t=Math.max(e[0],e[1]);return Math.max(Math.ceil(Math.log(t)/Math.log(10)),1)}function LZ(n){var e=n.x||0,t=n.y||0,r=(n.rotation||0)*Lx,i=tn(n.scaleX,1),a=tn(n.scaleY,1),o=n.skewX||0,s=n.skewY||0,l=[];return(e||t)&&l.push("translate("+e+"px,"+t+"px)"),r&&l.push("rotate("+r+")"),(i!==1||a!==1)&&l.push("scale("+i+","+a+")"),(o||s)&&l.push("skew("+zb(o*Lx)+"deg, "+zb(s*Lx)+"deg)"),l.join(" ")}var mye=(function(){return Mn.hasGlobalWindow&&Ct(window.btoa)?function(n){return window.btoa(unescape(encodeURIComponent(n)))}:typeof Buffer<"u"?function(n){return Buffer.from(n).toString("base64")}:function(n){return null}})(),eI=Array.prototype.slice;function Rc(n,e,t){return(e-n)*t+n}function dD(n,e,t,r){for(var i=e.length,a=0;a<i;a++)n[a]=Rc(e[a],t[a],r);return n}function yye(n,e,t,r){for(var i=e.length,a=i&&e[0].length,o=0;o<i;o++){n[o]||(n[o]=[]);for(var s=0;s<a;s++)n[o][s]=Rc(e[o][s],t[o][s],r)}return n}function VM(n,e,t,r){for(var i=e.length,a=0;a<i;a++)n[a]=e[a]+t[a]*r;return n}function C5(n,e,t,r){for(var i=e.length,a=i&&e[0].length,o=0;o<i;o++){n[o]||(n[o]=[]);for(var s=0;s<a;s++)n[o][s]=e[o][s]+t[o][s]*r}return n}function _ye(n,e){for(var t=n.length,r=e.length,i=t>r?e:n,a=Math.min(t,r),o=i[a-1]||{color:[0,0,0,0],offset:0},s=a;s<Math.max(t,r);s++)i.push({offset:o.offset,color:o.color.slice()})}function xye(n,e,t){var r=n,i=e;if(!(!r.push||!i.push)){var a=r.length,o=i.length;if(a!==o){var s=a>o;if(s)r.length=o;else for(var l=a;l<o;l++)r.push(t===1?i[l]:eI.call(i[l]))}for(var u=r[0]&&r[0].length,l=0;l<r.length;l++)if(t===1)isNaN(r[l])&&(r[l]=i[l]);else for(var c=0;c<u;c++)isNaN(r[l][c])&&(r[l][c]=i[l][c])}}function Fx(n){if(_a(n)){var e=n.length;if(_a(n[0])){for(var t=[],r=0;r<e;r++)t.push(eI.call(n[r]));return t}return eI.call(n)}return n}function $T(n){return n[0]=Math.floor(n[0])||0,n[1]=Math.floor(n[1])||0,n[2]=Math.floor(n[2])||0,n[3]=n[3]==null?1:n[3],"rgba("+n.join(",")+")"}function Sye(n){return _a(n&&n[0])?2:1}var GM=0,qT=1,IZ=2,cx=3,tI=4,nI=5,E5=6;function P5(n){return n===tI||n===nI}function HM(n){return n===qT||n===IZ}var E_=[0,0,0,0],wye=(function(){function n(e){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=e}return n.prototype.isFinished=function(){return this._finished},n.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},n.prototype.needsAnimate=function(){return this.keyframes.length>=1},n.prototype.getAdditiveTrack=function(){return this._additiveTrack},n.prototype.addKeyframe=function(e,t,r){this._needsSort=!0;var i=this.keyframes,a=i.length,o=!1,s=E5,l=t;if(_a(t)){var u=Sye(t);s=u,(u===1&&!Hn(t[0])||u===2&&!Hn(t[0][0]))&&(o=!0)}else if(Hn(t)&&!wy(t))s=GM;else if(ut(t))if(!isNaN(+t))s=GM;else{var c=go(t);c&&(l=c,s=cx)}else if(_1(t)){var f=Le({},l);f.colorStops=Ve(t.colorStops,function(d){return{offset:d.offset,color:go(d.color)}}),EZ(t)?s=tI:PZ(t)&&(s=nI),l=f}a===0?this.valType=s:(s!==this.valType||s===E5)&&(o=!0),this.discrete=this.discrete||o;var h={time:e,value:l,rawValue:t,percent:0};return r&&(h.easing=r,h.easingFunc=Ct(r)?r:Ox[r]||gk(r)),i.push(h),h},n.prototype.prepare=function(e,t){var r=this.keyframes;this._needsSort&&r.sort(function(g,m){return g.time-m.time});for(var i=this.valType,a=r.length,o=r[a-1],s=this.discrete,l=HM(i),u=P5(i),c=0;c<a;c++){var f=r[c],h=f.value,d=o.value;f.percent=f.time/e,s||(l&&c!==a-1?xye(h,d,i):u&&_ye(h.colorStops,d.colorStops))}if(!s&&i!==nI&&t&&this.needsAnimate()&&t.needsAnimate()&&i===t.valType&&!t._finished){this._additiveTrack=t;for(var p=r[0].value,c=0;c<a;c++)i===GM?r[c].additiveValue=r[c].value-p:i===cx?r[c].additiveValue=VM([],r[c].value,p,-1):HM(i)&&(r[c].additiveValue=i===qT?VM([],r[c].value,p,-1):C5([],r[c].value,p,-1))}},n.prototype.step=function(e,t){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var r=this._additiveTrack!=null,i=r?"additiveValue":"value",a=this.valType,o=this.keyframes,s=o.length,l=this.propName,u=a===cx,c,f=this._lastFr,h=Math.min,d,p;if(s===1)d=p=o[0];else{if(t<0)c=0;else if(t<this._lastFrP){var g=h(f+1,s-1);for(c=g;c>=0&&!(o[c].percent<=t);c--);c=h(c,s-2)}else{for(c=f;c<s&&!(o[c].percent>t);c++);c=h(c-1,s-2)}p=o[c+1],d=o[c]}if(d&&p){this._lastFr=c,this._lastFrP=t;var m=p.percent-d.percent,y=m===0?1:h((t-d.percent)/m,1);p.easingFunc&&(y=p.easingFunc(y));var S=r?this._additiveValue:u?E_:e[l];if((HM(a)||u)&&!S&&(S=this._additiveValue=[]),this.discrete)e[l]=y<1?d.rawValue:p.rawValue;else if(HM(a))a===qT?dD(S,d[i],p[i],y):yye(S,d[i],p[i],y);else if(P5(a)){var M=d[i],b=p[i],C=a===tI;e[l]={type:C?"linear":"radial",x:Rc(M.x,b.x,y),y:Rc(M.y,b.y,y),colorStops:Ve(M.colorStops,function(E,I){var L=b.colorStops[I];return{offset:Rc(E.offset,L.offset,y),color:$T(dD([],E.color,L.color,y))}}),global:b.global},C?(e[l].x2=Rc(M.x2,b.x2,y),e[l].y2=Rc(M.y2,b.y2,y)):e[l].r=Rc(M.r,b.r,y)}else if(u)dD(S,d[i],p[i],y),r||(e[l]=$T(S));else{var A=Rc(d[i],p[i],y);r?this._additiveValue=A:e[l]=A}r&&this._addToTarget(e)}}},n.prototype._addToTarget=function(e){var t=this.valType,r=this.propName,i=this._additiveValue;t===GM?e[r]=e[r]+i:t===cx?(go(e[r],E_),VM(E_,E_,i,1),e[r]=$T(E_)):t===qT?VM(e[r],e[r],i,1):t===IZ&&C5(e[r],e[r],i,1)},n})(),_k=(function(){function n(e,t,r,i){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=e,this._loop=t,t&&i){fC("Can' use additive animation on looped animation.");return}this._additiveAnimators=i,this._allowDiscrete=r}return n.prototype.getMaxTime=function(){return this._maxTime},n.prototype.getDelay=function(){return this._delay},n.prototype.getLoop=function(){return this._loop},n.prototype.getTarget=function(){return this._target},n.prototype.changeTarget=function(e){this._target=e},n.prototype.when=function(e,t,r){return this.whenWithKeys(e,t,En(t),r)},n.prototype.whenWithKeys=function(e,t,r,i){for(var a=this._tracks,o=0;o<r.length;o++){var s=r[o],l=a[s];if(!l){l=a[s]=new wye(s);var u=void 0,c=this._getAdditiveTrack(s);if(c){var f=c.keyframes,h=f[f.length-1];u=h&&h.value,c.valType===cx&&u&&(u=$T(u))}else u=this._target[s];if(u==null)continue;e>0&&l.addKeyframe(0,Fx(u),i),this._trackKeys.push(s)}l.addKeyframe(e,Fx(t[s]),i)}return this._maxTime=Math.max(this._maxTime,e),this},n.prototype.pause=function(){this._clip.pause(),this._paused=!0},n.prototype.resume=function(){this._clip.resume(),this._paused=!1},n.prototype.isPaused=function(){return!!this._paused},n.prototype.duration=function(e){return this._maxTime=e,this._force=!0,this},n.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var e=this._doneCbs;if(e)for(var t=e.length,r=0;r<t;r++)e[r].call(this)},n.prototype._abortedCallback=function(){this._setTracksFinished();var e=this.animation,t=this._abortedCbs;if(e&&e.removeClip(this._clip),this._clip=null,t)for(var r=0;r<t.length;r++)t[r].call(this)},n.prototype._setTracksFinished=function(){for(var e=this._tracks,t=this._trackKeys,r=0;r<t.length;r++)e[t[r]].setFinished()},n.prototype._getAdditiveTrack=function(e){var t,r=this._additiveAnimators;if(r)for(var i=0;i<r.length;i++){var a=r[i].getTrack(e);a&&(t=a)}return t},n.prototype.start=function(e){if(!(this._started>0)){this._started=1;for(var t=this,r=[],i=this._maxTime||0,a=0;a<this._trackKeys.length;a++){var o=this._trackKeys[a],s=this._tracks[o],l=this._getAdditiveTrack(o),u=s.keyframes,c=u.length;if(s.prepare(i,l),s.needsAnimate())if(!this._allowDiscrete&&s.discrete){var f=u[c-1];f&&(t._target[s.propName]=f.rawValue),s.setFinished()}else r.push(s)}if(r.length||this._force){var h=new nye({life:i,loop:this._loop,delay:this._delay||0,onframe:function(d){t._started=2;var p=t._additiveAnimators;if(p){for(var g=!1,m=0;m<p.length;m++)if(p[m]._clip){g=!0;break}g||(t._additiveAnimators=null)}for(var m=0;m<r.length;m++)r[m].step(t._target,d);var y=t._onframeCbs;if(y)for(var m=0;m<y.length;m++)y[m](t._target,d)},ondestroy:function(){t._doneCallback()}});this._clip=h,this.animation&&this.animation.addClip(h),e&&h.setEasing(e)}else this._doneCallback();return this}},n.prototype.stop=function(e){if(this._clip){var t=this._clip;e&&t.onframe(1),this._abortedCallback()}},n.prototype.delay=function(e){return this._delay=e,this},n.prototype.during=function(e){return e&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(e)),this},n.prototype.done=function(e){return e&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(e)),this},n.prototype.aborted=function(e){return e&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(e)),this},n.prototype.getClip=function(){return this._clip},n.prototype.getTrack=function(e){return this._tracks[e]},n.prototype.getTracks=function(){var e=this;return Ve(this._trackKeys,function(t){return e._tracks[t]})},n.prototype.stopTracks=function(e,t){if(!e.length||!this._clip)return!0;for(var r=this._tracks,i=this._trackKeys,a=0;a<e.length;a++){var o=r[e[a]];o&&!o.isFinished()&&(t?o.step(this._target,1):this._started===1&&o.step(this._target,0),o.setFinished())}for(var s=!0,a=0;a<i.length;a++)if(!r[i[a]].isFinished()){s=!1;break}return s&&this._abortedCallback(),s},n.prototype.saveTo=function(e,t,r){if(e){t=t||this._trackKeys;for(var i=0;i<t.length;i++){var a=t[i],o=this._tracks[a];if(!(!o||o.isFinished())){var s=o.keyframes,l=s[r?0:s.length-1];l&&(e[a]=Fx(l.rawValue))}}}},n.prototype.__changeFinalValue=function(e,t){t=t||En(e);for(var r=0;r<t.length;r++){var i=t[r],a=this._tracks[i];if(a){var o=a.keyframes;if(o.length>1){var s=o.pop();a.addKeyframe(s.time,e[i]),a.prepare(this._maxTime,a.getAdditiveTrack())}}}},n})();function ty(){return new Date().getTime()}var Mye=(function(n){Rr(e,n);function e(t){var r=n.call(this)||this;return r._running=!1,r._time=0,r._pausedTime=0,r._pauseStart=0,r._paused=!1,t=t||{},r.stage=t.stage||{},r}return e.prototype.addClip=function(t){t.animation&&this.removeClip(t),this._head?(this._tail.next=t,t.prev=this._tail,t.next=null,this._tail=t):this._head=this._tail=t,t.animation=this},e.prototype.addAnimator=function(t){t.animation=this;var r=t.getClip();r&&this.addClip(r)},e.prototype.removeClip=function(t){if(t.animation){var r=t.prev,i=t.next;r?r.next=i:this._head=i,i?i.prev=r:this._tail=r,t.next=t.prev=t.animation=null}},e.prototype.removeAnimator=function(t){var r=t.getClip();r&&this.removeClip(r),t.animation=null},e.prototype.update=function(t){for(var r=ty()-this._pausedTime,i=r-this._time,a=this._head;a;){var o=a.next,s=a.step(r,i);s&&(a.ondestroy(),this.removeClip(a)),a=o}this._time=r,t||(this.trigger("frame",i),this.stage.update&&this.stage.update())},e.prototype._startLoop=function(){var t=this;this._running=!0;function r(){t._running&&(Ib(r),!t._paused&&t.update())}Ib(r)},e.prototype.start=function(){this._running||(this._time=ty(),this._pausedTime=0,this._startLoop())},e.prototype.stop=function(){this._running=!1},e.prototype.pause=function(){this._paused||(this._pauseStart=ty(),this._paused=!0)},e.prototype.resume=function(){this._paused&&(this._pausedTime+=ty()-this._pauseStart,this._paused=!1)},e.prototype.clear=function(){for(var t=this._head;t;){var r=t.next;t.prev=t.next=t.animation=null,t=r}this._head=this._tail=null},e.prototype.isFinished=function(){return this._head==null},e.prototype.animate=function(t,r){r=r||{},this.start();var i=new _k(t,r.loop);return this.addAnimator(i),i},e})(Ws),Tye=300,pD=Mn.domSupported,vD=(function(){var n=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],e=["touchstart","touchend","touchmove"],t={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},r=Ve(n,function(i){var a=i.replace("mouse","pointer");return t.hasOwnProperty(a)?a:i});return{mouse:n,touch:e,pointer:r}})(),D5={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},R5=!1;function rI(n){var e=n.pointerType;return e==="pen"||e==="touch"}function bye(n){n.touching=!0,n.touchTimer!=null&&(clearTimeout(n.touchTimer),n.touchTimer=null),n.touchTimer=setTimeout(function(){n.touching=!1,n.touchTimer=null},700)}function gD(n){n&&(n.zrByTouch=!0)}function Aye(n,e){return Ls(n.dom,new Cye(n,e),!0)}function NZ(n,e){for(var t=e,r=!1;t&&t.nodeType!==9&&!(r=t.domBelongToZr||t!==e&&t===n.painterRoot);)t=t.parentNode;return r}var Cye=(function(){function n(e,t){this.stopPropagation=ei,this.stopImmediatePropagation=ei,this.preventDefault=ei,this.type=t.type,this.target=this.currentTarget=e.dom,this.pointerType=t.pointerType,this.clientX=t.clientX,this.clientY=t.clientY}return n})(),Al={mousedown:function(n){n=Ls(this.dom,n),this.__mayPointerCapture=[n.zrX,n.zrY],this.trigger("mousedown",n)},mousemove:function(n){n=Ls(this.dom,n);var e=this.__mayPointerCapture;e&&(n.zrX!==e[0]||n.zrY!==e[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",n)},mouseup:function(n){n=Ls(this.dom,n),this.__togglePointerCapture(!1),this.trigger("mouseup",n)},mouseout:function(n){n=Ls(this.dom,n);var e=n.toElement||n.relatedTarget;NZ(this,e)||(this.__pointerCapturing&&(n.zrEventControl="no_globalout"),this.trigger("mouseout",n))},wheel:function(n){R5=!0,n=Ls(this.dom,n),this.trigger("mousewheel",n)},mousewheel:function(n){R5||(n=Ls(this.dom,n),this.trigger("mousewheel",n))},touchstart:function(n){n=Ls(this.dom,n),gD(n),this.__lastTouchMoment=new Date,this.handler.processGesture(n,"start"),Al.mousemove.call(this,n),Al.mousedown.call(this,n)},touchmove:function(n){n=Ls(this.dom,n),gD(n),this.handler.processGesture(n,"change"),Al.mousemove.call(this,n)},touchend:function(n){n=Ls(this.dom,n),gD(n),this.handler.processGesture(n,"end"),Al.mouseup.call(this,n),+new Date-+this.__lastTouchMoment<Tye&&Al.click.call(this,n)},pointerdown:function(n){Al.mousedown.call(this,n)},pointermove:function(n){rI(n)||Al.mousemove.call(this,n)},pointerup:function(n){Al.mouseup.call(this,n)},pointerout:function(n){rI(n)||Al.mouseout.call(this,n)}};G(["click","dblclick","contextmenu"],function(n){Al[n]=function(e){e=Ls(this.dom,e),this.trigger(n,e)}});var iI={pointermove:function(n){rI(n)||iI.mousemove.call(this,n)},pointerup:function(n){iI.mouseup.call(this,n)},mousemove:function(n){this.trigger("mousemove",n)},mouseup:function(n){var e=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",n),e&&(n.zrEventControl="only_globalout",this.trigger("mouseout",n))}};function Eye(n,e){var t=e.domHandlers;Mn.pointerEventsSupported?G(vD.pointer,function(r){KT(e,r,function(i){t[r].call(n,i)})}):(Mn.touchEventsSupported&&G(vD.touch,function(r){KT(e,r,function(i){t[r].call(n,i),bye(e)})}),G(vD.mouse,function(r){KT(e,r,function(i){i=vk(i),e.touching||t[r].call(n,i)})}))}function Pye(n,e){Mn.pointerEventsSupported?G(D5.pointer,t):Mn.touchEventsSupported||G(D5.mouse,t);function t(r){function i(a){a=vk(a),NZ(n,a.target)||(a=Aye(n,a),e.domHandlers[r].call(n,a))}KT(e,r,i,{capture:!0})}}function KT(n,e,t,r){n.mounted[e]=t,n.listenerOpts[e]=r,$L(n.domTarget,e,t,r)}function mD(n){var e=n.mounted;for(var t in e)e.hasOwnProperty(t)&&Bme(n.domTarget,t,e[t],n.listenerOpts[t]);n.mounted={}}var L5=(function(){function n(e,t){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=e,this.domHandlers=t}return n})(),Dye=(function(n){Rr(e,n);function e(t,r){var i=n.call(this)||this;return i.__pointerCapturing=!1,i.dom=t,i.painterRoot=r,i._localHandlerScope=new L5(t,Al),pD&&(i._globalHandlerScope=new L5(document,iI)),Eye(i,i._localHandlerScope),i}return e.prototype.dispose=function(){mD(this._localHandlerScope),pD&&mD(this._globalHandlerScope)},e.prototype.setCursor=function(t){this.dom.style&&(this.dom.style.cursor=t||"default")},e.prototype.__togglePointerCapture=function(t){if(this.__mayPointerCapture=null,pD&&+this.__pointerCapturing^+t){this.__pointerCapturing=t;var r=this._globalHandlerScope;t?Pye(this,r):mD(r)}},e})(Ws),OZ=1;Mn.hasGlobalWindow&&(OZ=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var Bb=OZ,aI=.4,oI="#333",sI="#ccc",Rye="#eee",I5=S1,N5=5e-5;function ep(n){return n>N5||n<-N5}var tp=[],vm=[],yD=Vo(),_D=Math.abs,Uc=(function(){function n(){}return n.prototype.getLocalTransform=function(e){return n.getLocalTransform(this,e)},n.prototype.setPosition=function(e){this.x=e[0],this.y=e[1]},n.prototype.setScale=function(e){this.scaleX=e[0],this.scaleY=e[1]},n.prototype.setSkew=function(e){this.skewX=e[0],this.skewY=e[1]},n.prototype.setOrigin=function(e){this.originX=e[0],this.originY=e[1]},n.prototype.needLocalTransform=function(){return ep(this.rotation)||ep(this.x)||ep(this.y)||ep(this.scaleX-1)||ep(this.scaleY-1)||ep(this.skewX)||ep(this.skewY)},n.prototype.updateTransform=function(){var e=this.parent&&this.parent.transform,t=this.needLocalTransform(),r=this.transform;if(!(t||e)){r&&(I5(r),this.invTransform=null);return}r=r||Vo(),t?this.getLocalTransform(r):I5(r),e&&(t?Pu(r,e,r):vC(r,e)),this.transform=r,this._resolveGlobalScaleRatio(r)},n.prototype._resolveGlobalScaleRatio=function(e){var t=this.globalScaleRatio;if(t!=null&&t!==1){this.getGlobalScale(tp);var r=tp[0]<0?-1:1,i=tp[1]<0?-1:1,a=((tp[0]-r)*t+r)/tp[0]||0,o=((tp[1]-i)*t+i)/tp[1]||0;e[0]*=a,e[1]*=a,e[2]*=o,e[3]*=o}this.invTransform=this.invTransform||Vo(),Fv(this.invTransform,e)},n.prototype.getComputedTransform=function(){for(var e=this,t=[];e;)t.push(e),e=e.parent;for(;e=t.pop();)e.updateTransform();return this.transform},n.prototype.setLocalTransform=function(e){if(e){var t=e[0]*e[0]+e[1]*e[1],r=e[2]*e[2]+e[3]*e[3],i=Math.atan2(e[1],e[0]),a=Math.PI/2+i-Math.atan2(e[3],e[2]);r=Math.sqrt(r)*Math.cos(a),t=Math.sqrt(t),this.skewX=a,this.skewY=0,this.rotation=-i,this.x=+e[4],this.y=+e[5],this.scaleX=t,this.scaleY=r,this.originX=0,this.originY=0}},n.prototype.decomposeTransform=function(){if(this.transform){var e=this.parent,t=this.transform;e&&e.transform&&(e.invTransform=e.invTransform||Vo(),Pu(vm,e.invTransform,t),t=vm);var r=this.originX,i=this.originY;(r||i)&&(yD[4]=r,yD[5]=i,Pu(vm,t,yD),vm[4]-=r,vm[5]-=i,t=vm),this.setLocalTransform(t)}},n.prototype.getGlobalScale=function(e){var t=this.transform;return e=e||[],t?(e[0]=Math.sqrt(t[0]*t[0]+t[1]*t[1]),e[1]=Math.sqrt(t[2]*t[2]+t[3]*t[3]),t[0]<0&&(e[0]=-e[0]),t[3]<0&&(e[1]=-e[1]),e):(e[0]=1,e[1]=1,e)},n.prototype.transformCoordToLocal=function(e,t){var r=[e,t],i=this.invTransform;return i&&ia(r,r,i),r},n.prototype.transformCoordToGlobal=function(e,t){var r=[e,t],i=this.transform;return i&&ia(r,r,i),r},n.prototype.getLineScale=function(){var e=this.transform;return e&&_D(e[0]-1)>1e-10&&_D(e[3]-1)>1e-10?Math.sqrt(_D(e[0]*e[3]-e[2]*e[1])):1},n.prototype.copyTransform=function(e){kZ(this,e)},n.getLocalTransform=function(e,t){t=t||[];var r=e.originX||0,i=e.originY||0,a=e.scaleX,o=e.scaleY,s=e.anchorX,l=e.anchorY,u=e.rotation||0,c=e.x,f=e.y,h=e.skewX?Math.tan(e.skewX):0,d=e.skewY?Math.tan(-e.skewY):0;if(r||i||s||l){var p=r+s,g=i+l;t[4]=-p*a-h*g*o,t[5]=-g*o-d*p*a}else t[4]=t[5]=0;return t[0]=a,t[3]=o,t[1]=d*a,t[2]=h*o,u&&jh(t,t,u),t[4]+=r+c,t[5]+=i+f,t},n.initDefaultProps=(function(){var e=n.prototype;e.scaleX=e.scaleY=e.globalScaleRatio=1,e.x=e.y=e.originX=e.originY=e.skewX=e.skewY=e.rotation=e.anchorX=e.anchorY=0})(),n})(),Lu=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function kZ(n,e){for(var t=0;t<Lu.length;t++){var r=Lu[t];n[r]=e[r]}}var O5={};function cs(n,e){e=e||Nh;var t=O5[e];t||(t=O5[e]=new w1(500));var r=t.get(n);return r==null&&(r=Vl.measureText(n,e).width,t.put(n,r)),r}function k5(n,e,t,r){var i=cs(n,e),a=yC(e),o=fx(0,i,t),s=Um(0,a,r),l=new fn(o,s,i,a);return l}function M1(n,e,t,r){var i=((n||"")+"").split(`
`),a=i.length;if(a===1)return k5(i[0],e,t,r);for(var o=new fn(0,0,0,0),s=0;s<i.length;s++){var l=k5(i[s],e,t,r);s===0?o.copy(l):o.union(l)}return o}function fx(n,e,t){return t==="right"?n-=e:t==="center"&&(n-=e/2),n}function Um(n,e,t){return t==="middle"?n-=e/2:t==="bottom"&&(n-=e),n}function yC(n){return cs("",n)}function Hl(n,e){return typeof n=="string"?n.lastIndexOf("%")>=0?parseFloat(n)/100*e:parseFloat(n):n}function Ub(n,e,t){var r=e.position||"inside",i=e.distance!=null?e.distance:5,a=t.height,o=t.width,s=a/2,l=t.x,u=t.y,c="left",f="top";if(r instanceof Array)l+=Hl(r[0],t.width),u+=Hl(r[1],t.height),c=null,f=null;else switch(r){case"left":l-=i,u+=s,c="right",f="middle";break;case"right":l+=i+o,u+=s,f="middle";break;case"top":l+=o/2,u-=i,c="center",f="bottom";break;case"bottom":l+=o/2,u+=a+i,c="center";break;case"inside":l+=o/2,u+=s,c="center",f="middle";break;case"insideLeft":l+=i,u+=s,f="middle";break;case"insideRight":l+=o-i,u+=s,c="right",f="middle";break;case"insideTop":l+=o/2,u+=i,c="center";break;case"insideBottom":l+=o/2,u+=a-i,c="center",f="bottom";break;case"insideTopLeft":l+=i,u+=i;break;case"insideTopRight":l+=o-i,u+=i,c="right";break;case"insideBottomLeft":l+=i,u+=a-i,f="bottom";break;case"insideBottomRight":l+=o-i,u+=a-i,c="right",f="bottom";break}return n=n||{},n.x=l,n.y=u,n.align=c,n.verticalAlign=f,n}var xD="__zr_normal__",SD=Lu.concat(["ignore"]),Lye=Gs(Lu,function(n,e){return n[e]=!0,n},{ignore:!1}),gm={},Iye=new fn(0,0,0,0),_C=(function(){function n(e){this.id=fk(),this.animators=[],this.currentStates=[],this.states={},this._init(e)}return n.prototype._init=function(e){this.attr(e)},n.prototype.drift=function(e,t,r){switch(this.draggable){case"horizontal":t=0;break;case"vertical":e=0;break}var i=this.transform;i||(i=this.transform=[1,0,0,1,0,0]),i[4]+=e,i[5]+=t,this.decomposeTransform(),this.markRedraw()},n.prototype.beforeUpdate=function(){},n.prototype.afterUpdate=function(){},n.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},n.prototype.updateInnerText=function(e){var t=this._textContent;if(t&&(!t.ignore||e)){this.textConfig||(this.textConfig={});var r=this.textConfig,i=r.local,a=t.innerTransformable,o=void 0,s=void 0,l=!1;a.parent=i?this:null;var u=!1;if(a.copyTransform(t),r.position!=null){var c=Iye;r.layoutRect?c.copy(r.layoutRect):c.copy(this.getBoundingRect()),i||c.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(gm,r,c):Ub(gm,r,c),a.x=gm.x,a.y=gm.y,o=gm.align,s=gm.verticalAlign;var f=r.origin;if(f&&r.rotation!=null){var h=void 0,d=void 0;f==="center"?(h=c.width*.5,d=c.height*.5):(h=Hl(f[0],c.width),d=Hl(f[1],c.height)),u=!0,a.originX=-a.x+h+(i?0:c.x),a.originY=-a.y+d+(i?0:c.y)}}r.rotation!=null&&(a.rotation=r.rotation);var p=r.offset;p&&(a.x+=p[0],a.y+=p[1],u||(a.originX=-p[0],a.originY=-p[1]));var g=r.inside==null?typeof r.position=="string"&&r.position.indexOf("inside")>=0:r.inside,m=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),y=void 0,S=void 0,M=void 0;g&&this.canBeInsideText()?(y=r.insideFill,S=r.insideStroke,(y==null||y==="auto")&&(y=this.getInsideTextFill()),(S==null||S==="auto")&&(S=this.getInsideTextStroke(y),M=!0)):(y=r.outsideFill,S=r.outsideStroke,(y==null||y==="auto")&&(y=this.getOutsideFill()),(S==null||S==="auto")&&(S=this.getOutsideStroke(y),M=!0)),y=y||"#000",(y!==m.fill||S!==m.stroke||M!==m.autoStroke||o!==m.align||s!==m.verticalAlign)&&(l=!0,m.fill=y,m.stroke=S,m.autoStroke=M,m.align=o,m.verticalAlign=s,t.setDefaultTextStyle(m)),t.__dirty|=rs,l&&t.dirtyStyle(!0)}},n.prototype.canBeInsideText=function(){return!0},n.prototype.getInsideTextFill=function(){return"#fff"},n.prototype.getInsideTextStroke=function(e){return"#000"},n.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?sI:oI},n.prototype.getOutsideStroke=function(e){var t=this.__zr&&this.__zr.getBackgroundColor(),r=typeof t=="string"&&go(t);r||(r=[255,255,255,1]);for(var i=r[3],a=this.__zr.isDarkMode(),o=0;o<3;o++)r[o]=r[o]*i+(a?0:255)*(1-i);return r[3]=1,Fl(r,"rgba")},n.prototype.traverse=function(e,t){},n.prototype.attrKV=function(e,t){e==="textConfig"?this.setTextConfig(t):e==="textContent"?this.setTextContent(t):e==="clipPath"?this.setClipPath(t):e==="extra"?(this.extra=this.extra||{},Le(this.extra,t)):this[e]=t},n.prototype.hide=function(){this.ignore=!0,this.markRedraw()},n.prototype.show=function(){this.ignore=!1,this.markRedraw()},n.prototype.attr=function(e,t){if(typeof e=="string")this.attrKV(e,t);else if(Bt(e))for(var r=e,i=En(r),a=0;a<i.length;a++){var o=i[a];this.attrKV(o,e[o])}return this.markRedraw(),this},n.prototype.saveCurrentToNormalState=function(e){this._innerSaveToNormal(e);for(var t=this._normalState,r=0;r<this.animators.length;r++){var i=this.animators[r],a=i.__fromStateTransition;if(!(i.getLoop()||a&&a!==xD)){var o=i.targetName,s=o?t[o]:t;i.saveTo(s)}}},n.prototype._innerSaveToNormal=function(e){var t=this._normalState;t||(t=this._normalState={}),e.textConfig&&!t.textConfig&&(t.textConfig=this.textConfig),this._savePrimaryToNormal(e,t,SD)},n.prototype._savePrimaryToNormal=function(e,t,r){for(var i=0;i<r.length;i++){var a=r[i];e[a]!=null&&!(a in t)&&(t[a]=this[a])}},n.prototype.hasState=function(){return this.currentStates.length>0},n.prototype.getState=function(e){return this.states[e]},n.prototype.ensureState=function(e){var t=this.states;return t[e]||(t[e]={}),t[e]},n.prototype.clearStates=function(e){this.useState(xD,!1,e)},n.prototype.useState=function(e,t,r,i){var a=e===xD,o=this.hasState();if(!(!o&&a)){var s=this.currentStates,l=this.stateTransition;if(!(dn(s,e)>=0&&(t||s.length===1))){var u;if(this.stateProxy&&!a&&(u=this.stateProxy(e)),u||(u=this.states&&this.states[e]),!u&&!a){fC("State "+e+" not exists.");return}a||this.saveCurrentToNormalState(u);var c=!!(u&&u.hoverLayer||i);c&&this._toggleHoverLayerFlag(!0),this._applyStateObj(e,u,this._normalState,t,!r&&!this.__inHover&&l&&l.duration>0,l);var f=this._textContent,h=this._textGuide;return f&&f.useState(e,t,r,c),h&&h.useState(e,t,r,c),a?(this.currentStates=[],this._normalState={}):t?this.currentStates.push(e):this.currentStates=[e],this._updateAnimationTargets(),this.markRedraw(),!c&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~rs),u}}},n.prototype.useStates=function(e,t,r){if(!e.length)this.clearStates();else{var i=[],a=this.currentStates,o=e.length,s=o===a.length;if(s){for(var l=0;l<o;l++)if(e[l]!==a[l]){s=!1;break}}if(s)return;for(var l=0;l<o;l++){var u=e[l],c=void 0;this.stateProxy&&(c=this.stateProxy(u,e)),c||(c=this.states[u]),c&&i.push(c)}var f=i[o-1],h=!!(f&&f.hoverLayer||r);h&&this._toggleHoverLayerFlag(!0);var d=this._mergeStates(i),p=this.stateTransition;this.saveCurrentToNormalState(d),this._applyStateObj(e.join(","),d,this._normalState,!1,!t&&!this.__inHover&&p&&p.duration>0,p);var g=this._textContent,m=this._textGuide;g&&g.useStates(e,t,h),m&&m.useStates(e,t,h),this._updateAnimationTargets(),this.currentStates=e.slice(),this.markRedraw(),!h&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~rs)}},n.prototype.isSilent=function(){for(var e=this.silent,t=this.parent;!e&&t;){if(t.silent){e=!0;break}t=t.parent}return e},n.prototype._updateAnimationTargets=function(){for(var e=0;e<this.animators.length;e++){var t=this.animators[e];t.targetName&&t.changeTarget(this[t.targetName])}},n.prototype.removeState=function(e){var t=dn(this.currentStates,e);if(t>=0){var r=this.currentStates.slice();r.splice(t,1),this.useStates(r)}},n.prototype.replaceState=function(e,t,r){var i=this.currentStates.slice(),a=dn(i,e),o=dn(i,t)>=0;a>=0?o?i.splice(a,1):i[a]=t:r&&!o&&i.push(t),this.useStates(i)},n.prototype.toggleState=function(e,t){t?this.useState(e,!0):this.removeState(e)},n.prototype._mergeStates=function(e){for(var t={},r,i=0;i<e.length;i++){var a=e[i];Le(t,a),a.textConfig&&(r=r||{},Le(r,a.textConfig))}return r&&(t.textConfig=r),t},n.prototype._applyStateObj=function(e,t,r,i,a,o){var s=!(t&&i);t&&t.textConfig?(this.textConfig=Le({},i?this.textConfig:r.textConfig),Le(this.textConfig,t.textConfig)):s&&r.textConfig&&(this.textConfig=r.textConfig);for(var l={},u=!1,c=0;c<SD.length;c++){var f=SD[c],h=a&&Lye[f];t&&t[f]!=null?h?(u=!0,l[f]=t[f]):this[f]=t[f]:s&&r[f]!=null&&(h?(u=!0,l[f]=r[f]):this[f]=r[f])}if(!a)for(var c=0;c<this.animators.length;c++){var d=this.animators[c],p=d.targetName;d.getLoop()||d.__changeFinalValue(p?(t||r)[p]:t||r)}u&&this._transitionState(e,l,o)},n.prototype._attachComponent=function(e){if(!(e.__zr&&!e.__hostTarget)&&e!==this){var t=this.__zr;t&&e.addSelfToZr(t),e.__zr=t,e.__hostTarget=this}},n.prototype._detachComponent=function(e){e.__zr&&e.removeSelfFromZr(e.__zr),e.__zr=null,e.__hostTarget=null},n.prototype.getClipPath=function(){return this._clipPath},n.prototype.setClipPath=function(e){this._clipPath&&this._clipPath!==e&&this.removeClipPath(),this._attachComponent(e),this._clipPath=e,this.markRedraw()},n.prototype.removeClipPath=function(){var e=this._clipPath;e&&(this._detachComponent(e),this._clipPath=null,this.markRedraw())},n.prototype.getTextContent=function(){return this._textContent},n.prototype.setTextContent=function(e){var t=this._textContent;t!==e&&(t&&t!==e&&this.removeTextContent(),e.innerTransformable=new Uc,this._attachComponent(e),this._textContent=e,this.markRedraw())},n.prototype.setTextConfig=function(e){this.textConfig||(this.textConfig={}),Le(this.textConfig,e),this.markRedraw()},n.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},n.prototype.removeTextContent=function(){var e=this._textContent;e&&(e.innerTransformable=null,this._detachComponent(e),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},n.prototype.getTextGuideLine=function(){return this._textGuide},n.prototype.setTextGuideLine=function(e){this._textGuide&&this._textGuide!==e&&this.removeTextGuideLine(),this._attachComponent(e),this._textGuide=e,this.markRedraw()},n.prototype.removeTextGuideLine=function(){var e=this._textGuide;e&&(this._detachComponent(e),this._textGuide=null,this.markRedraw())},n.prototype.markRedraw=function(){this.__dirty|=rs;var e=this.__zr;e&&(this.__inHover?e.refreshHover():e.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},n.prototype.dirty=function(){this.markRedraw()},n.prototype._toggleHoverLayerFlag=function(e){this.__inHover=e;var t=this._textContent,r=this._textGuide;t&&(t.__inHover=e),r&&(r.__inHover=e)},n.prototype.addSelfToZr=function(e){if(this.__zr!==e){this.__zr=e;var t=this.animators;if(t)for(var r=0;r<t.length;r++)e.animation.addAnimator(t[r]);this._clipPath&&this._clipPath.addSelfToZr(e),this._textContent&&this._textContent.addSelfToZr(e),this._textGuide&&this._textGuide.addSelfToZr(e)}},n.prototype.removeSelfFromZr=function(e){if(this.__zr){this.__zr=null;var t=this.animators;if(t)for(var r=0;r<t.length;r++)e.animation.removeAnimator(t[r]);this._clipPath&&this._clipPath.removeSelfFromZr(e),this._textContent&&this._textContent.removeSelfFromZr(e),this._textGuide&&this._textGuide.removeSelfFromZr(e)}},n.prototype.animate=function(e,t,r){var i=e?this[e]:this,a=new _k(i,t,r);return e&&(a.targetName=e),this.addAnimator(a,e),a},n.prototype.addAnimator=function(e,t){var r=this.__zr,i=this;e.during(function(){i.updateDuringAnimation(t)}).done(function(){var a=i.animators,o=dn(a,e);o>=0&&a.splice(o,1)}),this.animators.push(e),r&&r.animation.addAnimator(e),r&&r.wakeUp()},n.prototype.updateDuringAnimation=function(e){this.markRedraw()},n.prototype.stopAnimation=function(e,t){for(var r=this.animators,i=r.length,a=[],o=0;o<i;o++){var s=r[o];!e||e===s.scope?s.stop(t):a.push(s)}return this.animators=a,this},n.prototype.animateTo=function(e,t,r){wD(this,e,t,r)},n.prototype.animateFrom=function(e,t,r){wD(this,e,t,r,!0)},n.prototype._transitionState=function(e,t,r,i){for(var a=wD(this,t,r,i),o=0;o<a.length;o++)a[o].__fromStateTransition=e},n.prototype.getBoundingRect=function(){return null},n.prototype.getPaintRect=function(){return null},n.initDefaultProps=(function(){var e=n.prototype;e.type="element",e.name="",e.ignore=e.silent=e.isGroup=e.draggable=e.dragging=e.ignoreClip=e.__inHover=!1,e.__dirty=rs;function t(r,i,a,o){Object.defineProperty(e,r,{get:function(){if(!this[i]){var l=this[i]=[];s(this,l)}return this[i]},set:function(l){this[a]=l[0],this[o]=l[1],this[i]=l,s(this,l)}});function s(l,u){Object.defineProperty(u,0,{get:function(){return l[a]},set:function(c){l[a]=c}}),Object.defineProperty(u,1,{get:function(){return l[o]},set:function(c){l[o]=c}})}}Object.defineProperty&&(t("position","_legacyPos","x","y"),t("scale","_legacyScale","scaleX","scaleY"),t("origin","_legacyOrigin","originX","originY"))})(),n})();ti(_C,Ws);ti(_C,Uc);function wD(n,e,t,r,i){t=t||{};var a=[];FZ(n,"",n,e,t,r,a,i);var o=a.length,s=!1,l=t.done,u=t.aborted,c=function(){s=!0,o--,o<=0&&(s?l&&l():u&&u())},f=function(){o--,o<=0&&(s?l&&l():u&&u())};o||l&&l(),a.length>0&&t.during&&a[0].during(function(p,g){t.during(g)});for(var h=0;h<a.length;h++){var d=a[h];c&&d.done(c),f&&d.aborted(f),t.force&&d.duration(t.duration),d.start(t.easing)}return a}function MD(n,e,t){for(var r=0;r<t;r++)n[r]=e[r]}function Nye(n){return _a(n[0])}function Oye(n,e,t){if(_a(e[t]))if(_a(n[t])||(n[t]=[]),yo(e[t])){var r=e[t].length;n[t].length!==r&&(n[t]=new e[t].constructor(r),MD(n[t],e[t],r))}else{var i=e[t],a=n[t],o=i.length;if(Nye(i))for(var s=i[0].length,l=0;l<o;l++)a[l]?MD(a[l],i[l],s):a[l]=Array.prototype.slice.call(i[l]);else MD(a,i,o);a.length=i.length}else n[t]=e[t]}function kye(n,e){return n===e||_a(n)&&_a(e)&&Fye(n,e)}function Fye(n,e){var t=n.length;if(t!==e.length)return!1;for(var r=0;r<t;r++)if(n[r]!==e[r])return!1;return!0}function FZ(n,e,t,r,i,a,o,s){for(var l=En(r),u=i.duration,c=i.delay,f=i.additive,h=i.setToFinal,d=!Bt(a),p=n.animators,g=[],m=0;m<l.length;m++){var y=l[m],S=r[y];if(S!=null&&t[y]!=null&&(d||a[y]))if(Bt(S)&&!_a(S)&&!_1(S)){if(e){s||(t[y]=S,n.updateDuringAnimation(e));continue}FZ(n,y,t[y],S,i,a&&a[y],o,s)}else g.push(y);else s||(t[y]=S,n.updateDuringAnimation(e),g.push(y))}var M=g.length;if(!f&&M)for(var b=0;b<p.length;b++){var C=p[b];if(C.targetName===e){var A=C.stopTracks(g);if(A){var E=dn(p,C);p.splice(E,1)}}}if(i.force||(g=$n(g,function(O){return!kye(r[O],t[O])}),M=g.length),M>0||i.force&&!o.length){var I=void 0,L=void 0,R=void 0;if(s){L={},h&&(I={});for(var b=0;b<M;b++){var y=g[b];L[y]=t[y],h?I[y]=r[y]:t[y]=r[y]}}else if(h){R={};for(var b=0;b<M;b++){var y=g[b];R[y]=Fx(t[y]),Oye(t,r,y)}}var C=new _k(t,!1,!1,f?$n(p,function(U){return U.targetName===e}):null);C.targetName=e,i.scope&&(C.scope=i.scope),h&&I&&C.whenWithKeys(0,I,g),R&&C.whenWithKeys(0,R,g),C.whenWithKeys(u??500,s?L:r,g).delay(c||0),n.addAnimator(C,e),o.push(C)}}var Xt=(function(n){Rr(e,n);function e(t){var r=n.call(this)||this;return r.isGroup=!0,r._children=[],r.attr(t),r}return e.prototype.childrenRef=function(){return this._children},e.prototype.children=function(){return this._children.slice()},e.prototype.childAt=function(t){return this._children[t]},e.prototype.childOfName=function(t){for(var r=this._children,i=0;i<r.length;i++)if(r[i].name===t)return r[i]},e.prototype.childCount=function(){return this._children.length},e.prototype.add=function(t){return t&&t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),this},e.prototype.addBefore=function(t,r){if(t&&t!==this&&t.parent!==this&&r&&r.parent===this){var i=this._children,a=i.indexOf(r);a>=0&&(i.splice(a,0,t),this._doAdd(t))}return this},e.prototype.replace=function(t,r){var i=dn(this._children,t);return i>=0&&this.replaceAt(r,i),this},e.prototype.replaceAt=function(t,r){var i=this._children,a=i[r];if(t&&t!==this&&t.parent!==this&&t!==a){i[r]=t,a.parent=null;var o=this.__zr;o&&a.removeSelfFromZr(o),this._doAdd(t)}return this},e.prototype._doAdd=function(t){t.parent&&t.parent.remove(t),t.parent=this;var r=this.__zr;r&&r!==t.__zr&&t.addSelfToZr(r),r&&r.refresh()},e.prototype.remove=function(t){var r=this.__zr,i=this._children,a=dn(i,t);return a<0?this:(i.splice(a,1),t.parent=null,r&&t.removeSelfFromZr(r),r&&r.refresh(),this)},e.prototype.removeAll=function(){for(var t=this._children,r=this.__zr,i=0;i<t.length;i++){var a=t[i];r&&a.removeSelfFromZr(r),a.parent=null}return t.length=0,this},e.prototype.eachChild=function(t,r){for(var i=this._children,a=0;a<i.length;a++){var o=i[a];t.call(r,o,a)}return this},e.prototype.traverse=function(t,r){for(var i=0;i<this._children.length;i++){var a=this._children[i],o=t.call(r,a);a.isGroup&&!o&&a.traverse(t,r)}return this},e.prototype.addSelfToZr=function(t){n.prototype.addSelfToZr.call(this,t);for(var r=0;r<this._children.length;r++){var i=this._children[r];i.addSelfToZr(t)}},e.prototype.removeSelfFromZr=function(t){n.prototype.removeSelfFromZr.call(this,t);for(var r=0;r<this._children.length;r++){var i=this._children[r];i.removeSelfFromZr(t)}},e.prototype.getBoundingRect=function(t){for(var r=new fn(0,0,0,0),i=t||this._children,a=[],o=null,s=0;s<i.length;s++){var l=i[s];if(!(l.ignore||l.invisible)){var u=l.getBoundingRect(),c=l.getLocalTransform(a);c?(fn.applyTransform(r,u,c),o=o||r.clone(),o.union(r)):(o=o||u.clone(),o.union(u))}}return o||r},e})(_C);Xt.prototype.type="group";/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var JT={},jp={};function zye(n){delete jp[n]}function Bye(n){if(!n)return!1;if(typeof n=="string")return DS(n,1)<aI;if(n.colorStops){for(var e=n.colorStops,t=0,r=e.length,i=0;i<r;i++)t+=DS(e[i].color,1);return t/=r,t<aI}return!1}var Uye=(function(){function n(e,t,r){var i=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,r=r||{},this.dom=t,this.id=e;var a=new Kme,o=r.renderer||"canvas";JT[o]||(o=En(JT)[0]),r.useDirtyRect=r.useDirtyRect==null?!1:r.useDirtyRect;var s=new JT[o](t,a,r,e),l=r.ssr||s.ssrOnly;this.storage=a,this.painter=s;var u=!Mn.node&&!Mn.worker&&!l?new Dye(s.getViewportRoot(),s.root):null,c=r.useCoarsePointer,f=c==null||c==="auto"?Mn.touchEventsSupported:!!c,h=44,d;f&&(d=tn(r.pointerSize,h)),this.handler=new gZ(a,s,u,s.root,d),this.animation=new Mye({stage:{update:l?null:function(){return i._flush(!0)}}}),l||this.animation.start()}return n.prototype.add=function(e){this._disposed||!e||(this.storage.addRoot(e),e.addSelfToZr(this),this.refresh())},n.prototype.remove=function(e){this._disposed||!e||(this.storage.delRoot(e),e.removeSelfFromZr(this),this.refresh())},n.prototype.configLayer=function(e,t){this._disposed||(this.painter.configLayer&&this.painter.configLayer(e,t),this.refresh())},n.prototype.setBackgroundColor=function(e){this._disposed||(this.painter.setBackgroundColor&&this.painter.setBackgroundColor(e),this.refresh(),this._backgroundColor=e,this._darkMode=Bye(e))},n.prototype.getBackgroundColor=function(){return this._backgroundColor},n.prototype.setDarkMode=function(e){this._darkMode=e},n.prototype.isDarkMode=function(){return this._darkMode},n.prototype.refreshImmediately=function(e){this._disposed||(e||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1)},n.prototype.refresh=function(){this._disposed||(this._needsRefresh=!0,this.animation.start())},n.prototype.flush=function(){this._disposed||this._flush(!1)},n.prototype._flush=function(e){var t,r=ty();this._needsRefresh&&(t=!0,this.refreshImmediately(e)),this._needsRefreshHover&&(t=!0,this.refreshHoverImmediately());var i=ty();t?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:i-r})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},n.prototype.setSleepAfterStill=function(e){this._sleepAfterStill=e},n.prototype.wakeUp=function(){this._disposed||(this.animation.start(),this._stillFrameAccum=0)},n.prototype.refreshHover=function(){this._needsRefreshHover=!0},n.prototype.refreshHoverImmediately=function(){this._disposed||(this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover())},n.prototype.resize=function(e){this._disposed||(e=e||{},this.painter.resize(e.width,e.height),this.handler.resize())},n.prototype.clearAnimation=function(){this._disposed||this.animation.clear()},n.prototype.getWidth=function(){if(!this._disposed)return this.painter.getWidth()},n.prototype.getHeight=function(){if(!this._disposed)return this.painter.getHeight()},n.prototype.setCursorStyle=function(e){this._disposed||this.handler.setCursorStyle(e)},n.prototype.findHover=function(e,t){if(!this._disposed)return this.handler.findHover(e,t)},n.prototype.on=function(e,t,r){return this._disposed||this.handler.on(e,t,r),this},n.prototype.off=function(e,t){this._disposed||this.handler.off(e,t)},n.prototype.trigger=function(e,t){this._disposed||this.handler.trigger(e,t)},n.prototype.clear=function(){if(!this._disposed){for(var e=this.storage.getRoots(),t=0;t<e.length;t++)e[t]instanceof Xt&&e[t].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()}},n.prototype.dispose=function(){this._disposed||(this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,this._disposed=!0,zye(this.id))},n})();function lI(n,e){var t=new Uye(fk(),n,e);return jp[t.id]=t,t}function Vye(n){n.dispose()}function Gye(){for(var n in jp)jp.hasOwnProperty(n)&&jp[n].dispose();jp={}}function Hye(n){return jp[n]}function zZ(n,e){JT[n]=e}var uI;function BZ(n){if(typeof uI=="function")return uI(n)}function UZ(n){uI=n}var Wye="5.6.1";const Xye=Object.freeze(Object.defineProperty({__proto__:null,dispose:Vye,disposeAll:Gye,getElementSSRData:BZ,getInstance:Hye,init:lI,registerPainter:zZ,registerSSRDataGetter:UZ,version:Wye},Symbol.toStringTag,{value:"Module"}));var F5=1e-4,VZ=20;function Yye(n){return n.replace(/^\s+|\s+$/g,"")}function Qn(n,e,t,r){var i=e[0],a=e[1],o=t[0],s=t[1],l=a-i,u=s-o;if(l===0)return u===0?o:(o+s)/2;if(r)if(l>0){if(n<=i)return o;if(n>=a)return s}else{if(n>=i)return o;if(n<=a)return s}else{if(n===i)return o;if(n===a)return s}return(n-i)/l*u+o}function rt(n,e){switch(n){case"center":case"middle":n="50%";break;case"left":case"top":n="0%";break;case"right":case"bottom":n="100%";break}return ut(n)?Yye(n).match(/%$/)?parseFloat(n)/100*e:parseFloat(n):n==null?NaN:+n}function Zr(n,e,t){return e==null&&(e=10),e=Math.min(Math.max(0,e),VZ),n=(+n).toFixed(e),t?n:+n}function os(n){return n.sort(function(e,t){return e-t}),n}function Il(n){if(n=+n,isNaN(n))return 0;if(n>1e-14){for(var e=1,t=0;t<15;t++,e*=10)if(Math.round(n*e)/e===n)return t}return GZ(n)}function GZ(n){var e=n.toString().toLowerCase(),t=e.indexOf("e"),r=t>0?+e.slice(t+1):0,i=t>0?t:e.length,a=e.indexOf("."),o=a<0?0:i-1-a;return Math.max(0,o-r)}function xk(n,e){var t=Math.log,r=Math.LN10,i=Math.floor(t(n[1]-n[0])/r),a=Math.round(t(Math.abs(e[1]-e[0]))/r),o=Math.min(Math.max(-i+a,0),20);return isFinite(o)?o:20}function jye(n,e,t){if(!n[e])return 0;var r=HZ(n,t);return r[e]||0}function HZ(n,e){var t=Gs(n,function(d,p){return d+(isNaN(p)?0:p)},0);if(t===0)return[];for(var r=Math.pow(10,e),i=Ve(n,function(d){return(isNaN(d)?0:d)/t*r*100}),a=r*100,o=Ve(i,function(d){return Math.floor(d)}),s=Gs(o,function(d,p){return d+p},0),l=Ve(i,function(d,p){return d-o[p]});s<a;){for(var u=Number.NEGATIVE_INFINITY,c=null,f=0,h=l.length;f<h;++f)l[f]>u&&(u=l[f],c=f);++o[c],l[c]=0,++s}return Ve(o,function(d){return d/r})}function Zye(n,e){var t=Math.max(Il(n),Il(e)),r=n+e;return t>VZ?r:Zr(r,t)}var cI=9007199254740991;function Sk(n){var e=Math.PI*2;return(n%e+e)%e}function Ty(n){return n>-F5&&n<F5}var $ye=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function ds(n){if(n instanceof Date)return n;if(ut(n)){var e=$ye.exec(n);if(!e)return new Date(NaN);if(e[8]){var t=+e[4]||0;return e[8].toUpperCase()!=="Z"&&(t-=+e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,t,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0))}else return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0)}else if(n==null)return new Date(NaN);return new Date(Math.round(n))}function WZ(n){return Math.pow(10,xC(n))}function xC(n){if(n===0)return 0;var e=Math.floor(Math.log(n)/Math.LN10);return n/Math.pow(10,e)>=10&&e++,e}function wk(n,e){var t=xC(n),r=Math.pow(10,t),i=n/r,a;return e?i<1.5?a=1:i<2.5?a=2:i<4?a=3:i<7?a=5:a=10:i<1?a=1:i<2?a=2:i<3?a=3:i<5?a=5:a=10,n=a*r,t>=-20?+n.toFixed(t<0?-t:0):n}function QT(n,e){var t=(n.length-1)*e+1,r=Math.floor(t),i=+n[r-1],a=t-r;return a?i+a*(n[r]-i):i}function fI(n){n.sort(function(l,u){return s(l,u,0)?-1:1});for(var e=-1/0,t=1,r=0;r<n.length;){for(var i=n[r].interval,a=n[r].close,o=0;o<2;o++)i[o]<=e&&(i[o]=e,a[o]=o?1:1-t),e=i[o],t=a[o];i[0]===i[1]&&a[0]*a[1]!==1?n.splice(r,1):r++}return n;function s(l,u,c){return l.interval[c]<u.interval[c]||l.interval[c]===u.interval[c]&&(l.close[c]-u.close[c]===(c?-1:1)||!c&&s(l,u,1))}}function Iu(n){var e=parseFloat(n);return e==n&&(e!==0||!ut(n)||n.indexOf("x")<=0)?e:NaN}function Mk(n){return!isNaN(Iu(n))}function XZ(){return Math.round(Math.random()*9)}function YZ(n,e){return e===0?n:YZ(e,n%e)}function z5(n,e){return n==null?e:e==null?n:n*e/YZ(n,e)}function tr(n){throw new Error(n)}function B5(n,e,t){return(e-n)*t+n}var jZ="series\0",ZZ="\0_ec_\0";function dr(n){return n instanceof Array?n:n==null?[]:[n]}function Sv(n,e,t){if(n){n[e]=n[e]||{},n.emphasis=n.emphasis||{},n.emphasis[e]=n.emphasis[e]||{};for(var r=0,i=t.length;r<i;r++){var a=t[r];!n.emphasis[e].hasOwnProperty(a)&&n[e].hasOwnProperty(a)&&(n.emphasis[e][a]=n[e][a])}}}var U5=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function Xy(n){return Bt(n)&&!ze(n)&&!(n instanceof Date)?n.value:n}function qye(n){return Bt(n)&&!(n instanceof Array)}function $Z(n,e,t){var r=t==="normalMerge",i=t==="replaceMerge",a=t==="replaceAll";n=n||[],e=(e||[]).slice();var o=xt();G(e,function(l,u){if(!Bt(l)){e[u]=null;return}});var s=Kye(n,o,t);return(r||i)&&Jye(s,n,o,e),r&&Qye(s,e),r||i?e0e(s,e,i):a&&t0e(s,e),n0e(s),s}function Kye(n,e,t){var r=[];if(t==="replaceAll")return r;for(var i=0;i<n.length;i++){var a=n[i];a&&a.id!=null&&e.set(a.id,i),r.push({existing:t==="replaceMerge"||LS(a)?null:a,newOption:null,keyInfo:null,brandNew:null})}return r}function Jye(n,e,t,r){G(r,function(i,a){if(!(!i||i.id==null)){var o=zx(i.id),s=t.get(o);if(s!=null){var l=n[s];Ha(!l.newOption,'Duplicated option on id "'+o+'".'),l.newOption=i,l.existing=e[s],r[a]=null}}})}function Qye(n,e){G(e,function(t,r){if(!(!t||t.name==null))for(var i=0;i<n.length;i++){var a=n[i].existing;if(!n[i].newOption&&a&&(a.id==null||t.id==null)&&!LS(t)&&!LS(a)&&qZ("name",a,t)){n[i].newOption=t,e[r]=null;return}}})}function e0e(n,e,t){G(e,function(r){if(r){for(var i,a=0;(i=n[a])&&(i.newOption||LS(i.existing)||i.existing&&r.id!=null&&!qZ("id",r,i.existing));)a++;i?(i.newOption=r,i.brandNew=t):n.push({newOption:r,brandNew:t,existing:null,keyInfo:null}),a++}})}function t0e(n,e){G(e,function(t){n.push({newOption:t,brandNew:!0,existing:null,keyInfo:null})})}function n0e(n){var e=xt();G(n,function(t){var r=t.existing;r&&e.set(r.id,t)}),G(n,function(t){var r=t.newOption;Ha(!r||r.id==null||!e.get(r.id)||e.get(r.id)===t,"id duplicates: "+(r&&r.id)),r&&r.id!=null&&e.set(r.id,t),!t.keyInfo&&(t.keyInfo={})}),G(n,function(t,r){var i=t.existing,a=t.newOption,o=t.keyInfo;if(Bt(a)){if(o.name=a.name!=null?zx(a.name):i?i.name:jZ+r,i)o.id=zx(i.id);else if(a.id!=null)o.id=zx(a.id);else{var s=0;do o.id="\0"+o.name+"\0"+s++;while(e.get(o.id))}e.set(o.id,t)}})}function qZ(n,e,t){var r=Di(e[n],null),i=Di(t[n],null);return r!=null&&i!=null&&r===i}function zx(n){return Di(n,"")}function Di(n,e){return n==null?e:ut(n)?n:Hn(n)||Db(n)?n+"":e}function Tk(n){var e=n.name;return!!(e&&e.indexOf(jZ))}function LS(n){return n&&n.id!=null&&zx(n.id).indexOf(ZZ)===0}function r0e(n){return ZZ+n}function i0e(n,e,t){G(n,function(r){var i=r.newOption;Bt(i)&&(r.keyInfo.mainType=e,r.keyInfo.subType=a0e(e,i,r.existing,t))})}function a0e(n,e,t,r){var i=e.type?e.type:t?t.subType:r.determineSubType(n,e);return i}function o0e(n,e){var t={},r={};return i(n||[],t),i(e||[],r,t),[a(t),a(r)];function i(o,s,l){for(var u=0,c=o.length;u<c;u++){var f=Di(o[u].seriesId,null);if(f==null)return;for(var h=dr(o[u].dataIndex),d=l&&l[f],p=0,g=h.length;p<g;p++){var m=h[p];d&&d[m]?d[m]=null:(s[f]||(s[f]={}))[m]=1}}}function a(o,s){var l=[];for(var u in o)if(o.hasOwnProperty(u)&&o[u]!=null)if(s)l.push(+u);else{var c=a(o[u],!0);c.length&&l.push({seriesId:u,dataIndex:c})}return l}}function wv(n,e){if(e.dataIndexInside!=null)return e.dataIndexInside;if(e.dataIndex!=null)return ze(e.dataIndex)?Ve(e.dataIndex,function(t){return n.indexOfRawIndex(t)}):n.indexOfRawIndex(e.dataIndex);if(e.name!=null)return ze(e.name)?Ve(e.name,function(t){return n.indexOfName(t)}):n.indexOfName(e.name)}function Un(){var n="__ec_inner_"+s0e++;return function(e){return e[n]||(e[n]={})}}var s0e=XZ();function Bx(n,e,t){var r=bk(e,t),i=r.mainTypeSpecified,a=r.queryOptionMap,o=r.others,s=o,l=t?t.defaultMainType:null;return!i&&l&&a.set(l,{}),a.each(function(u,c){var f=T1(n,c,u,{useDefault:l===c,enableAll:t&&t.enableAll!=null?t.enableAll:!0,enableNone:t&&t.enableNone!=null?t.enableNone:!0});s[c+"Models"]=f.models,s[c+"Model"]=f.models[0]}),s}function bk(n,e){var t;if(ut(n)){var r={};r[n+"Index"]=0,t=r}else t=n;var i=xt(),a={},o=!1;return G(t,function(s,l){if(l==="dataIndex"||l==="dataIndexInside"){a[l]=s;return}var u=l.match(/^(\w+)(Index|Id|Name)$/)||[],c=u[1],f=(u[2]||"").toLowerCase();if(!(!c||!f||e&&e.includeMainTypes&&dn(e.includeMainTypes,c)<0)){o=o||!!c;var h=i.get(c)||i.set(c,{});h[f]=s}}),{mainTypeSpecified:o,queryOptionMap:i,others:a}}var yi={useDefault:!0,enableAll:!1,enableNone:!1},l0e={useDefault:!1,enableAll:!0,enableNone:!0};function T1(n,e,t,r){r=r||yi;var i=t.index,a=t.id,o=t.name,s={models:null,specified:i!=null||a!=null||o!=null};if(!s.specified){var l=void 0;return s.models=r.useDefault&&(l=n.getComponent(e))?[l]:[],s}return i==="none"||i===!1?(Ha(r.enableNone,'`"none"` or `false` is not a valid value on index option.'),s.models=[],s):(i==="all"&&(Ha(r.enableAll,'`"all"` is not a valid value on index option.'),i=a=o=null),s.models=n.queryComponents({mainType:e,index:i,id:a,name:o}),s)}function KZ(n,e,t){n.setAttribute?n.setAttribute(e,t):n[e]=t}function u0e(n,e){return n.getAttribute?n.getAttribute(e):n[e]}function c0e(n){return n==="auto"?Mn.domSupported?"html":"richText":n||"html"}function hI(n,e){var t=xt(),r=[];return G(n,function(i){var a=e(i);(t.get(a)||(r.push(a),t.set(a,[]))).push(i)}),{keys:r,buckets:t}}function JZ(n,e,t,r,i){var a=e==null||e==="auto";if(r==null)return r;if(Hn(r)){var o=B5(t||0,r,i);return Zr(o,a?Math.max(Il(t||0),Il(r)):e)}else{if(ut(r))return i<1?t:r;for(var s=[],l=t,u=r,c=Math.max(l?l.length:0,u.length),f=0;f<c;++f){var h=n.getDimensionInfo(f);if(h&&h.type==="ordinal")s[f]=(i<1&&l?l:u)[f];else{var d=l&&l[f]?l[f]:0,p=u[f],o=B5(d,p,i);s[f]=Zr(o,a?Math.max(Il(d),Il(p)):e)}}return s}}var f0e=".",np="___EC__COMPONENT__CONTAINER___",QZ="___EC__EXTENDED_CLASS___";function Su(n){var e={main:"",sub:""};if(n){var t=n.split(f0e);e.main=t[0]||"",e.sub=t[1]||""}return e}function h0e(n){Ha(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(n),'componentType "'+n+'" illegal')}function d0e(n){return!!(n&&n[QZ])}function Ak(n,e){n.$constructor=n,n.extend=function(t){var r=this,i;return p0e(r)?i=(function(a){Se(o,a);function o(){return a.apply(this,arguments)||this}return o})(r):(i=function(){(t.$constructor||r).apply(this,arguments)},hk(i,this)),Le(i.prototype,t),i[QZ]=!0,i.extend=this.extend,i.superCall=m0e,i.superApply=y0e,i.superClass=r,i}}function p0e(n){return Ct(n)&&/^class\s/.test(Function.prototype.toString.call(n))}function e$(n,e){n.extend=e.extend}var v0e=Math.round(Math.random()*10);function g0e(n){var e=["__\0is_clz",v0e++].join("_");n.prototype[e]=!0,n.isInstance=function(t){return!!(t&&t[e])}}function m0e(n,e){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];return this.superClass.prototype[e].apply(n,t)}function y0e(n,e,t){return this.superClass.prototype[e].apply(n,t)}function SC(n){var e={};n.registerClass=function(r){var i=r.type||r.prototype.type;if(i){h0e(i),r.prototype.type=i;var a=Su(i);if(!a.sub)e[a.main]=r;else if(a.sub!==np){var o=t(a);o[a.sub]=r}}return r},n.getClass=function(r,i,a){var o=e[r];if(o&&o[np]&&(o=i?o[i]:null),a&&!o)throw new Error(i?"Component "+r+"."+(i||"")+" is used but not imported.":r+".type should be specified.");return o},n.getClassesByMainType=function(r){var i=Su(r),a=[],o=e[i.main];return o&&o[np]?G(o,function(s,l){l!==np&&a.push(s)}):a.push(o),a},n.hasClass=function(r){var i=Su(r);return!!e[i.main]},n.getAllClassMainTypes=function(){var r=[];return G(e,function(i,a){r.push(a)}),r},n.hasSubTypes=function(r){var i=Su(r),a=e[i.main];return a&&a[np]};function t(r){var i=e[r.main];return(!i||!i[np])&&(i=e[r.main]={},i[np]=!0),i}}function Mv(n,e){for(var t=0;t<n.length;t++)n[t][1]||(n[t][1]=n[t][0]);return e=e||!1,function(r,i,a){for(var o={},s=0;s<n.length;s++){var l=n[s][1];if(!(i&&dn(i,l)>=0||a&&dn(a,l)<0)){var u=r.getShallow(l,e);u!=null&&(o[n[s][0]]=u)}}return o}}var _0e=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],x0e=Mv(_0e),S0e=(function(){function n(){}return n.prototype.getAreaStyle=function(e,t){return x0e(this,e,t)},n})(),dI=new w1(50);function w0e(n){if(typeof n=="string"){var e=dI.get(n);return e&&e.image}else return n}function Ck(n,e,t,r,i){if(n)if(typeof n=="string"){if(e&&e.__zrImageSrc===n||!t)return e;var a=dI.get(n),o={hostEl:t,cb:r,cbPayload:i};return a?(e=a.image,!wC(e)&&a.pending.push(o)):(e=Vl.loadImage(n,V5,V5),e.__zrImageSrc=n,dI.put(n,e.__cachedImgObj={image:e,pending:[o]})),e}else return n;else return e}function V5(){var n=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<n.pending.length;e++){var t=n.pending[e],r=t.cb;r&&r(this,t.cbPayload),t.hostEl.dirty()}n.pending.length=0}function wC(n){return n&&n.width&&n.height}var TD=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function M0e(n,e,t,r,i){var a={};return t$(a,n,e,t,r,i),a.text}function t$(n,e,t,r,i,a){if(!t){n.text="",n.isTruncated=!1;return}var o=(e+"").split(`
`);a=n$(t,r,i,a);for(var s=!1,l={},u=0,c=o.length;u<c;u++)r$(l,o[u],a),o[u]=l.textLine,s=s||l.isTruncated;n.text=o.join(`
`),n.isTruncated=s}function n$(n,e,t,r){r=r||{};var i=Le({},r);i.font=e,t=tn(t,"..."),i.maxIterations=tn(r.maxIterations,2);var a=i.minChar=tn(r.minChar,0);i.cnCharWidth=cs("",e);var o=i.ascCharWidth=cs("a",e);i.placeholder=tn(r.placeholder,"");for(var s=n=Math.max(0,n-1),l=0;l<a&&s>=o;l++)s-=o;var u=cs(t,e);return u>s&&(t="",u=0),s=n-u,i.ellipsis=t,i.ellipsisWidth=u,i.contentWidth=s,i.containerWidth=n,i}function r$(n,e,t){var r=t.containerWidth,i=t.font,a=t.contentWidth;if(!r){n.textLine="",n.isTruncated=!1;return}var o=cs(e,i);if(o<=r){n.textLine=e,n.isTruncated=!1;return}for(var s=0;;s++){if(o<=a||s>=t.maxIterations){e+=t.ellipsis;break}var l=s===0?T0e(e,a,t.ascCharWidth,t.cnCharWidth):o>0?Math.floor(e.length*a/o):0;e=e.substr(0,l),o=cs(e,i)}e===""&&(e=t.placeholder),n.textLine=e,n.isTruncated=!0}function T0e(n,e,t,r){for(var i=0,a=0,o=n.length;a<o&&i<e;a++){var s=n.charCodeAt(a);i+=0<=s&&s<=127?t:r}return a}function b0e(n,e){n!=null&&(n+="");var t=e.overflow,r=e.padding,i=e.font,a=t==="truncate",o=yC(i),s=tn(e.lineHeight,o),l=!!e.backgroundColor,u=e.lineOverflow==="truncate",c=!1,f=e.width,h;f!=null&&(t==="break"||t==="breakAll")?h=n?i$(n,e.font,f,t==="breakAll",0).lines:[]:h=n?n.split(`
`):[];var d=h.length*s,p=tn(e.height,d);if(d>p&&u){var g=Math.floor(p/s);c=c||h.length>g,h=h.slice(0,g)}if(n&&a&&f!=null)for(var m=n$(f,i,e.ellipsis,{minChar:e.truncateMinChar,placeholder:e.placeholder}),y={},S=0;S<h.length;S++)r$(y,h[S],m),h[S]=y.textLine,c=c||y.isTruncated;for(var M=p,b=0,S=0;S<h.length;S++)b=Math.max(cs(h[S],i),b);f==null&&(f=b);var C=b;return r&&(M+=r[0]+r[2],C+=r[1]+r[3],f+=r[1]+r[3]),l&&(C=f),{lines:h,height:p,outerWidth:C,outerHeight:M,lineHeight:s,calculatedLineHeight:o,contentWidth:b,contentHeight:d,width:f,isTruncated:c}}var A0e=(function(){function n(){}return n})(),G5=(function(){function n(e){this.tokens=[],e&&(this.tokens=e)}return n})(),C0e=(function(){function n(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[],this.isTruncated=!1}return n})();function E0e(n,e){var t=new C0e;if(n!=null&&(n+=""),!n)return t;for(var r=e.width,i=e.height,a=e.overflow,o=(a==="break"||a==="breakAll")&&r!=null?{width:r,accumWidth:0,breakAll:a==="breakAll"}:null,s=TD.lastIndex=0,l;(l=TD.exec(n))!=null;){var u=l.index;u>s&&bD(t,n.substring(s,u),e,o),bD(t,l[2],e,o,l[1]),s=TD.lastIndex}s<n.length&&bD(t,n.substring(s,n.length),e,o);var c=[],f=0,h=0,d=e.padding,p=a==="truncate",g=e.lineOverflow==="truncate",m={};function y(q,Y,te){q.width=Y,q.lineHeight=te,f+=te,h=Math.max(h,Y)}e:for(var S=0;S<t.lines.length;S++){for(var M=t.lines[S],b=0,C=0,A=0;A<M.tokens.length;A++){var E=M.tokens[A],I=E.styleName&&e.rich[E.styleName]||{},L=E.textPadding=I.padding,R=L?L[1]+L[3]:0,O=E.font=I.font||e.font;E.contentHeight=yC(O);var U=tn(I.height,E.contentHeight);if(E.innerHeight=U,L&&(U+=L[0]+L[2]),E.height=U,E.lineHeight=Ol(I.lineHeight,e.lineHeight,U),E.align=I&&I.align||e.align,E.verticalAlign=I&&I.verticalAlign||"middle",g&&i!=null&&f+E.lineHeight>i){var V=t.lines.length;A>0?(M.tokens=M.tokens.slice(0,A),y(M,C,b),t.lines=t.lines.slice(0,S+1)):t.lines=t.lines.slice(0,S),t.isTruncated=t.isTruncated||t.lines.length<V;break e}var W=I.width,X=W==null||W==="auto";if(typeof W=="string"&&W.charAt(W.length-1)==="%")E.percentWidth=W,c.push(E),E.contentWidth=cs(E.text,O);else{if(X){var j=I.backgroundColor,Q=j&&j.image;Q&&(Q=w0e(Q),wC(Q)&&(E.width=Math.max(E.width,Q.width*U/Q.height)))}var B=p&&r!=null?r-C:null;B!=null&&B<E.width?!X||B<R?(E.text="",E.width=E.contentWidth=0):(t$(m,E.text,B-R,O,e.ellipsis,{minChar:e.truncateMinChar}),E.text=m.text,t.isTruncated=t.isTruncated||m.isTruncated,E.width=E.contentWidth=cs(E.text,O)):E.contentWidth=cs(E.text,O)}E.width+=R,C+=E.width,I&&(b=Math.max(b,E.lineHeight))}y(M,C,b)}t.outerWidth=t.width=tn(r,h),t.outerHeight=t.height=tn(i,f),t.contentHeight=f,t.contentWidth=h,d&&(t.outerWidth+=d[1]+d[3],t.outerHeight+=d[0]+d[2]);for(var S=0;S<c.length;S++){var E=c[S],Z=E.percentWidth;E.width=parseInt(Z,10)/100*t.width}return t}function bD(n,e,t,r,i){var a=e==="",o=i&&t.rich[i]||{},s=n.lines,l=o.font||t.font,u=!1,c,f;if(r){var h=o.padding,d=h?h[1]+h[3]:0;if(o.width!=null&&o.width!=="auto"){var p=Hl(o.width,r.width)+d;s.length>0&&p+r.accumWidth>r.width&&(c=e.split(`
`),u=!0),r.accumWidth=p}else{var g=i$(e,l,r.width,r.breakAll,r.accumWidth);r.accumWidth=g.accumWidth+d,f=g.linesWidths,c=g.lines}}else c=e.split(`
`);for(var m=0;m<c.length;m++){var y=c[m],S=new A0e;if(S.styleName=i,S.text=y,S.isLineHolder=!y&&!a,typeof o.width=="number"?S.width=o.width:S.width=f?f[m]:cs(y,l),!m&&!u){var M=(s[s.length-1]||(s[0]=new G5)).tokens,b=M.length;b===1&&M[0].isLineHolder?M[0]=S:(y||!b||a)&&M.push(S)}else s.push(new G5([S]))}}function P0e(n){var e=n.charCodeAt(0);return e>=32&&e<=591||e>=880&&e<=4351||e>=4608&&e<=5119||e>=7680&&e<=8303}var D0e=Gs(",&?/;] ".split(""),function(n,e){return n[e]=!0,n},{});function R0e(n){return P0e(n)?!!D0e[n]:!0}function i$(n,e,t,r,i){for(var a=[],o=[],s="",l="",u=0,c=0,f=0;f<n.length;f++){var h=n.charAt(f);if(h===`
`){l&&(s+=l,c+=u),a.push(s),o.push(c),s="",l="",u=0,c=0;continue}var d=cs(h,e),p=r?!1:!R0e(h);if(a.length?c+d>t:i+c+d>t){c?(s||l)&&(p?(s||(s=l,l="",u=0,c=u),a.push(s),o.push(c-u),l+=h,u+=d,s="",c=u):(l&&(s+=l,l="",u=0),a.push(s),o.push(c),s=h,c=d)):p?(a.push(l),o.push(u),l=h,u=d):(a.push(h),o.push(d));continue}c+=d,p?(l+=h,u+=d):(l&&(s+=l,l="",u=0),s+=h)}return!a.length&&!s&&(s=n,l="",u=0),l&&(s+=l),s&&(a.push(s),o.push(c)),a.length===1&&(c+=i),{accumWidth:c,lines:a,linesWidths:o}}var pI="__zr_style_"+Math.round(Math.random()*10),lv={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},MC={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};lv[pI]=!0;var H5=["z","z2","invisible"],L0e=["invisible"],Hs=(function(n){Rr(e,n);function e(t){return n.call(this,t)||this}return e.prototype._init=function(t){for(var r=En(t),i=0;i<r.length;i++){var a=r[i];a==="style"?this.useStyle(t[a]):n.prototype.attrKV.call(this,a,t[a])}this.style||this.useStyle({})},e.prototype.beforeBrush=function(){},e.prototype.afterBrush=function(){},e.prototype.innerBeforeBrush=function(){},e.prototype.innerAfterBrush=function(){},e.prototype.shouldBePainted=function(t,r,i,a){var o=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&I0e(this,t,r)||o&&!o[0]&&!o[3])return!1;if(i&&this.__clipPaths){for(var s=0;s<this.__clipPaths.length;++s)if(this.__clipPaths[s].isZeroArea())return!1}if(a&&this.parent)for(var l=this.parent;l;){if(l.ignore)return!1;l=l.parent}return!0},e.prototype.contain=function(t,r){return this.rectContain(t,r)},e.prototype.traverse=function(t,r){t.call(r,this)},e.prototype.rectContain=function(t,r){var i=this.transformCoordToLocal(t,r),a=this.getBoundingRect();return a.contain(i[0],i[1])},e.prototype.getPaintRect=function(){var t=this._paintRect;if(!this._paintRect||this.__dirty){var r=this.transform,i=this.getBoundingRect(),a=this.style,o=a.shadowBlur||0,s=a.shadowOffsetX||0,l=a.shadowOffsetY||0;t=this._paintRect||(this._paintRect=new fn(0,0,0,0)),r?fn.applyTransform(t,i,r):t.copy(i),(o||s||l)&&(t.width+=o*2+Math.abs(s),t.height+=o*2+Math.abs(l),t.x=Math.min(t.x,t.x+s-o),t.y=Math.min(t.y,t.y+l-o));var u=this.dirtyRectTolerance;t.isZero()||(t.x=Math.floor(t.x-u),t.y=Math.floor(t.y-u),t.width=Math.ceil(t.width+1+u*2),t.height=Math.ceil(t.height+1+u*2))}return t},e.prototype.setPrevPaintRect=function(t){t?(this._prevPaintRect=this._prevPaintRect||new fn(0,0,0,0),this._prevPaintRect.copy(t)):this._prevPaintRect=null},e.prototype.getPrevPaintRect=function(){return this._prevPaintRect},e.prototype.animateStyle=function(t){return this.animate("style",t)},e.prototype.updateDuringAnimation=function(t){t==="style"?this.dirtyStyle():this.markRedraw()},e.prototype.attrKV=function(t,r){t!=="style"?n.prototype.attrKV.call(this,t,r):this.style?this.setStyle(r):this.useStyle(r)},e.prototype.setStyle=function(t,r){return typeof t=="string"?this.style[t]=r:Le(this.style,t),this.dirtyStyle(),this},e.prototype.dirtyStyle=function(t){t||this.markRedraw(),this.__dirty|=ux,this._rect&&(this._rect=null)},e.prototype.dirty=function(){this.dirtyStyle()},e.prototype.styleChanged=function(){return!!(this.__dirty&ux)},e.prototype.styleUpdated=function(){this.__dirty&=~ux},e.prototype.createStyle=function(t){return x1(lv,t)},e.prototype.useStyle=function(t){t[pI]||(t=this.createStyle(t)),this.__inHover?this.__hoverStyle=t:this.style=t,this.dirtyStyle()},e.prototype.isStyleObject=function(t){return t[pI]},e.prototype._innerSaveToNormal=function(t){n.prototype._innerSaveToNormal.call(this,t);var r=this._normalState;t.style&&!r.style&&(r.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(t,r,H5)},e.prototype._applyStateObj=function(t,r,i,a,o,s){n.prototype._applyStateObj.call(this,t,r,i,a,o,s);var l=!(r&&a),u;if(r&&r.style?o?a?u=r.style:(u=this._mergeStyle(this.createStyle(),i.style),this._mergeStyle(u,r.style)):(u=this._mergeStyle(this.createStyle(),a?this.style:i.style),this._mergeStyle(u,r.style)):l&&(u=i.style),u)if(o){var c=this.style;if(this.style=this.createStyle(l?{}:c),l)for(var f=En(c),h=0;h<f.length;h++){var d=f[h];d in u&&(u[d]=u[d],this.style[d]=c[d])}for(var p=En(u),h=0;h<p.length;h++){var d=p[h];this.style[d]=this.style[d]}this._transitionState(t,{style:u},s,this.getAnimationStyleProps())}else this.useStyle(u);for(var g=this.__inHover?L0e:H5,h=0;h<g.length;h++){var d=g[h];r&&r[d]!=null?this[d]=r[d]:l&&i[d]!=null&&(this[d]=i[d])}},e.prototype._mergeStates=function(t){for(var r=n.prototype._mergeStates.call(this,t),i,a=0;a<t.length;a++){var o=t[a];o.style&&(i=i||{},this._mergeStyle(i,o.style))}return i&&(r.style=i),r},e.prototype._mergeStyle=function(t,r){return Le(t,r),t},e.prototype.getAnimationStyleProps=function(){return MC},e.initDefaultProps=(function(){var t=e.prototype;t.type="displayable",t.invisible=!1,t.z=0,t.z2=0,t.zlevel=0,t.culling=!1,t.cursor="pointer",t.rectHover=!1,t.incremental=!1,t._rect=null,t.dirtyRectTolerance=0,t.__dirty=rs|ux})(),e})(_C),AD=new fn(0,0,0,0),CD=new fn(0,0,0,0);function I0e(n,e,t){return AD.copy(n.getBoundingRect()),n.transform&&AD.applyTransform(n.transform),CD.width=e,CD.height=t,!AD.intersect(CD)}var zo=Math.min,Bo=Math.max,ED=Math.sin,PD=Math.cos,rp=Math.PI*2,WM=Yh(),XM=Yh(),YM=Yh();function TC(n,e,t){if(n.length!==0){for(var r=n[0],i=r[0],a=r[0],o=r[1],s=r[1],l=1;l<n.length;l++)r=n[l],i=zo(i,r[0]),a=Bo(a,r[0]),o=zo(o,r[1]),s=Bo(s,r[1]);e[0]=i,e[1]=o,t[0]=a,t[1]=s}}function W5(n,e,t,r,i,a){i[0]=zo(n,t),i[1]=zo(e,r),a[0]=Bo(n,t),a[1]=Bo(e,r)}var X5=[],Y5=[];function N0e(n,e,t,r,i,a,o,s,l,u){var c=SZ,f=Vi,h=c(n,t,i,o,X5);l[0]=1/0,l[1]=1/0,u[0]=-1/0,u[1]=-1/0;for(var d=0;d<h;d++){var p=f(n,t,i,o,X5[d]);l[0]=zo(p,l[0]),u[0]=Bo(p,u[0])}h=c(e,r,a,s,Y5);for(var d=0;d<h;d++){var g=f(e,r,a,s,Y5[d]);l[1]=zo(g,l[1]),u[1]=Bo(g,u[1])}l[0]=zo(n,l[0]),u[0]=Bo(n,u[0]),l[0]=zo(o,l[0]),u[0]=Bo(o,u[0]),l[1]=zo(e,l[1]),u[1]=Bo(e,u[1]),l[1]=zo(s,l[1]),u[1]=Bo(s,u[1])}function O0e(n,e,t,r,i,a,o,s){var l=MZ,u=na,c=Bo(zo(l(n,t,i),1),0),f=Bo(zo(l(e,r,a),1),0),h=u(n,t,i,c),d=u(e,r,a,f);o[0]=zo(n,i,h),o[1]=zo(e,a,d),s[0]=Bo(n,i,h),s[1]=Bo(e,a,d)}function k0e(n,e,t,r,i,a,o,s,l){var u=zc,c=Bc,f=Math.abs(i-a);if(f%rp<1e-4&&f>1e-4){s[0]=n-t,s[1]=e-r,l[0]=n+t,l[1]=e+r;return}if(WM[0]=PD(i)*t+n,WM[1]=ED(i)*r+e,XM[0]=PD(a)*t+n,XM[1]=ED(a)*r+e,u(s,WM,XM),c(l,WM,XM),i=i%rp,i<0&&(i=i+rp),a=a%rp,a<0&&(a=a+rp),i>a&&!o?a+=rp:i<a&&o&&(i+=rp),o){var h=a;a=i,i=h}for(var d=0;d<a;d+=Math.PI/2)d>i&&(YM[0]=PD(d)*t+n,YM[1]=ED(d)*r+e,u(s,YM,s),c(l,YM,l))}var yr={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},ip=[],ap=[],lu=[],Qf=[],uu=[],cu=[],DD=Math.min,RD=Math.max,op=Math.cos,sp=Math.sin,Tc=Math.abs,vI=Math.PI,uh=vI*2,LD=typeof Float32Array<"u",P_=[];function ID(n){var e=Math.round(n/vI*1e8)/1e8;return e%2*vI}function Ek(n,e){var t=ID(n[0]);t<0&&(t+=uh);var r=t-n[0],i=n[1];i+=r,!e&&i-t>=uh?i=t+uh:e&&t-i>=uh?i=t-uh:!e&&t>i?i=t+(uh-ID(t-i)):e&&t<i&&(i=t-(uh-ID(i-t))),n[0]=t,n[1]=i}var Nu=(function(){function n(e){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,e&&(this._saveData=!1),this._saveData&&(this.data=[])}return n.prototype.increaseVersion=function(){this._version++},n.prototype.getVersion=function(){return this._version},n.prototype.setScale=function(e,t,r){r=r||0,r>0&&(this._ux=Tc(r/Bb/e)||0,this._uy=Tc(r/Bb/t)||0)},n.prototype.setDPR=function(e){this.dpr=e},n.prototype.setContext=function(e){this._ctx=e},n.prototype.getContext=function(){return this._ctx},n.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},n.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},n.prototype.moveTo=function(e,t){return this._drawPendingPt(),this.addData(yr.M,e,t),this._ctx&&this._ctx.moveTo(e,t),this._x0=e,this._y0=t,this._xi=e,this._yi=t,this},n.prototype.lineTo=function(e,t){var r=Tc(e-this._xi),i=Tc(t-this._yi),a=r>this._ux||i>this._uy;if(this.addData(yr.L,e,t),this._ctx&&a&&this._ctx.lineTo(e,t),a)this._xi=e,this._yi=t,this._pendingPtDist=0;else{var o=r*r+i*i;o>this._pendingPtDist&&(this._pendingPtX=e,this._pendingPtY=t,this._pendingPtDist=o)}return this},n.prototype.bezierCurveTo=function(e,t,r,i,a,o){return this._drawPendingPt(),this.addData(yr.C,e,t,r,i,a,o),this._ctx&&this._ctx.bezierCurveTo(e,t,r,i,a,o),this._xi=a,this._yi=o,this},n.prototype.quadraticCurveTo=function(e,t,r,i){return this._drawPendingPt(),this.addData(yr.Q,e,t,r,i),this._ctx&&this._ctx.quadraticCurveTo(e,t,r,i),this._xi=r,this._yi=i,this},n.prototype.arc=function(e,t,r,i,a,o){this._drawPendingPt(),P_[0]=i,P_[1]=a,Ek(P_,o),i=P_[0],a=P_[1];var s=a-i;return this.addData(yr.A,e,t,r,r,i,s,0,o?0:1),this._ctx&&this._ctx.arc(e,t,r,i,a,o),this._xi=op(a)*r+e,this._yi=sp(a)*r+t,this},n.prototype.arcTo=function(e,t,r,i,a){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(e,t,r,i,a),this},n.prototype.rect=function(e,t,r,i){return this._drawPendingPt(),this._ctx&&this._ctx.rect(e,t,r,i),this.addData(yr.R,e,t,r,i),this},n.prototype.closePath=function(){this._drawPendingPt(),this.addData(yr.Z);var e=this._ctx,t=this._x0,r=this._y0;return e&&e.closePath(),this._xi=t,this._yi=r,this},n.prototype.fill=function(e){e&&e.fill(),this.toStatic()},n.prototype.stroke=function(e){e&&e.stroke(),this.toStatic()},n.prototype.len=function(){return this._len},n.prototype.setData=function(e){var t=e.length;!(this.data&&this.data.length===t)&&LD&&(this.data=new Float32Array(t));for(var r=0;r<t;r++)this.data[r]=e[r];this._len=t},n.prototype.appendPath=function(e){e instanceof Array||(e=[e]);for(var t=e.length,r=0,i=this._len,a=0;a<t;a++)r+=e[a].len();LD&&this.data instanceof Float32Array&&(this.data=new Float32Array(i+r));for(var a=0;a<t;a++)for(var o=e[a].data,s=0;s<o.length;s++)this.data[i++]=o[s];this._len=i},n.prototype.addData=function(e,t,r,i,a,o,s,l,u){if(this._saveData){var c=this.data;this._len+arguments.length>c.length&&(this._expandData(),c=this.data);for(var f=0;f<arguments.length;f++)c[this._len++]=arguments[f]}},n.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},n.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var e=[],t=0;t<this._len;t++)e[t]=this.data[t];this.data=e}},n.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var e=this.data;e instanceof Array&&(e.length=this._len,LD&&this._len>11&&(this.data=new Float32Array(e)))}},n.prototype.getBoundingRect=function(){lu[0]=lu[1]=uu[0]=uu[1]=Number.MAX_VALUE,Qf[0]=Qf[1]=cu[0]=cu[1]=-Number.MAX_VALUE;var e=this.data,t=0,r=0,i=0,a=0,o;for(o=0;o<this._len;){var s=e[o++],l=o===1;switch(l&&(t=e[o],r=e[o+1],i=t,a=r),s){case yr.M:t=i=e[o++],r=a=e[o++],uu[0]=i,uu[1]=a,cu[0]=i,cu[1]=a;break;case yr.L:W5(t,r,e[o],e[o+1],uu,cu),t=e[o++],r=e[o++];break;case yr.C:N0e(t,r,e[o++],e[o++],e[o++],e[o++],e[o],e[o+1],uu,cu),t=e[o++],r=e[o++];break;case yr.Q:O0e(t,r,e[o++],e[o++],e[o],e[o+1],uu,cu),t=e[o++],r=e[o++];break;case yr.A:var u=e[o++],c=e[o++],f=e[o++],h=e[o++],d=e[o++],p=e[o++]+d;o+=1;var g=!e[o++];l&&(i=op(d)*f+u,a=sp(d)*h+c),k0e(u,c,f,h,d,p,g,uu,cu),t=op(p)*f+u,r=sp(p)*h+c;break;case yr.R:i=t=e[o++],a=r=e[o++];var m=e[o++],y=e[o++];W5(i,a,i+m,a+y,uu,cu);break;case yr.Z:t=i,r=a;break}zc(lu,lu,uu),Bc(Qf,Qf,cu)}return o===0&&(lu[0]=lu[1]=Qf[0]=Qf[1]=0),new fn(lu[0],lu[1],Qf[0]-lu[0],Qf[1]-lu[1])},n.prototype._calculateLength=function(){var e=this.data,t=this._len,r=this._ux,i=this._uy,a=0,o=0,s=0,l=0;this._pathSegLen||(this._pathSegLen=[]);for(var u=this._pathSegLen,c=0,f=0,h=0;h<t;){var d=e[h++],p=h===1;p&&(a=e[h],o=e[h+1],s=a,l=o);var g=-1;switch(d){case yr.M:a=s=e[h++],o=l=e[h++];break;case yr.L:{var m=e[h++],y=e[h++],S=m-a,M=y-o;(Tc(S)>r||Tc(M)>i||h===t-1)&&(g=Math.sqrt(S*S+M*M),a=m,o=y);break}case yr.C:{var b=e[h++],C=e[h++],m=e[h++],y=e[h++],A=e[h++],E=e[h++];g=Jme(a,o,b,C,m,y,A,E,10),a=A,o=E;break}case yr.Q:{var b=e[h++],C=e[h++],m=e[h++],y=e[h++];g=eye(a,o,b,C,m,y,10),a=m,o=y;break}case yr.A:var I=e[h++],L=e[h++],R=e[h++],O=e[h++],U=e[h++],V=e[h++],W=V+U;h+=1,p&&(s=op(U)*R+I,l=sp(U)*O+L),g=RD(R,O)*DD(uh,Math.abs(V)),a=op(W)*R+I,o=sp(W)*O+L;break;case yr.R:{s=a=e[h++],l=o=e[h++];var X=e[h++],j=e[h++];g=X*2+j*2;break}case yr.Z:{var S=s-a,M=l-o;g=Math.sqrt(S*S+M*M),a=s,o=l;break}}g>=0&&(u[f++]=g,c+=g)}return this._pathLen=c,c},n.prototype.rebuildPath=function(e,t){var r=this.data,i=this._ux,a=this._uy,o=this._len,s,l,u,c,f,h,d=t<1,p,g,m=0,y=0,S,M=0,b,C;if(!(d&&(this._pathSegLen||this._calculateLength(),p=this._pathSegLen,g=this._pathLen,S=t*g,!S)))e:for(var A=0;A<o;){var E=r[A++],I=A===1;switch(I&&(u=r[A],c=r[A+1],s=u,l=c),E!==yr.L&&M>0&&(e.lineTo(b,C),M=0),E){case yr.M:s=u=r[A++],l=c=r[A++],e.moveTo(u,c);break;case yr.L:{f=r[A++],h=r[A++];var L=Tc(f-u),R=Tc(h-c);if(L>i||R>a){if(d){var O=p[y++];if(m+O>S){var U=(S-m)/O;e.lineTo(u*(1-U)+f*U,c*(1-U)+h*U);break e}m+=O}e.lineTo(f,h),u=f,c=h,M=0}else{var V=L*L+R*R;V>M&&(b=f,C=h,M=V)}break}case yr.C:{var W=r[A++],X=r[A++],j=r[A++],Q=r[A++],B=r[A++],Z=r[A++];if(d){var O=p[y++];if(m+O>S){var U=(S-m)/O;Oh(u,W,j,B,U,ip),Oh(c,X,Q,Z,U,ap),e.bezierCurveTo(ip[1],ap[1],ip[2],ap[2],ip[3],ap[3]);break e}m+=O}e.bezierCurveTo(W,X,j,Q,B,Z),u=B,c=Z;break}case yr.Q:{var W=r[A++],X=r[A++],j=r[A++],Q=r[A++];if(d){var O=p[y++];if(m+O>S){var U=(S-m)/O;CS(u,W,j,U,ip),CS(c,X,Q,U,ap),e.quadraticCurveTo(ip[1],ap[1],ip[2],ap[2]);break e}m+=O}e.quadraticCurveTo(W,X,j,Q),u=j,c=Q;break}case yr.A:var q=r[A++],Y=r[A++],te=r[A++],me=r[A++],ae=r[A++],fe=r[A++],be=r[A++],Ee=!r[A++],Be=te>me?te:me,Oe=Tc(te-me)>.001,$e=ae+fe,ee=!1;if(d){var O=p[y++];m+O>S&&($e=ae+fe*(S-m)/O,ee=!0),m+=O}if(Oe&&e.ellipse?e.ellipse(q,Y,te,me,be,ae,$e,Ee):e.arc(q,Y,Be,ae,$e,Ee),ee)break e;I&&(s=op(ae)*te+q,l=sp(ae)*me+Y),u=op($e)*te+q,c=sp($e)*me+Y;break;case yr.R:s=u=r[A],l=c=r[A+1],f=r[A++],h=r[A++];var ve=r[A++],Ae=r[A++];if(d){var O=p[y++];if(m+O>S){var Ue=S-m;e.moveTo(f,h),e.lineTo(f+DD(Ue,ve),h),Ue-=ve,Ue>0&&e.lineTo(f+ve,h+DD(Ue,Ae)),Ue-=Ae,Ue>0&&e.lineTo(f+RD(ve-Ue,0),h+Ae),Ue-=ve,Ue>0&&e.lineTo(f,h+RD(Ae-Ue,0));break e}m+=O}e.rect(f,h,ve,Ae);break;case yr.Z:if(d){var O=p[y++];if(m+O>S){var U=(S-m)/O;e.lineTo(u*(1-U)+s*U,c*(1-U)+l*U);break e}m+=O}e.closePath(),u=s,c=l}}},n.prototype.clone=function(){var e=new n,t=this.data;return e.data=t.slice?t.slice():Array.prototype.slice.call(t),e._len=this._len,e},n.CMD=yr,n.initDefaultProps=(function(){var e=n.prototype;e._saveData=!0,e._ux=0,e._uy=0,e._pendingPtDist=0,e._version=0})(),n})();function fh(n,e,t,r,i,a,o){if(i===0)return!1;var s=i,l=0,u=n;if(o>e+s&&o>r+s||o<e-s&&o<r-s||a>n+s&&a>t+s||a<n-s&&a<t-s)return!1;if(n!==t)l=(e-r)/(n-t),u=(n*r-t*e)/(n-t);else return Math.abs(a-n)<=s/2;var c=l*a-o+u,f=c*c/(l*l+1);return f<=s/2*s/2}function F0e(n,e,t,r,i,a,o,s,l,u,c){if(l===0)return!1;var f=l;if(c>e+f&&c>r+f&&c>a+f&&c>s+f||c<e-f&&c<r-f&&c<a-f&&c<s-f||u>n+f&&u>t+f&&u>i+f&&u>o+f||u<n-f&&u<t-f&&u<i-f&&u<o-f)return!1;var h=wZ(n,e,t,r,i,a,o,s,u,c,null);return h<=f/2}function a$(n,e,t,r,i,a,o,s,l){if(o===0)return!1;var u=o;if(l>e+u&&l>r+u&&l>a+u||l<e-u&&l<r-u&&l<a-u||s>n+u&&s>t+u&&s>i+u||s<n-u&&s<t-u&&s<i-u)return!1;var c=TZ(n,e,t,r,i,a,s,l,null);return c<=u/2}var j5=Math.PI*2;function ss(n){return n%=j5,n<0&&(n+=j5),n}var D_=Math.PI*2;function z0e(n,e,t,r,i,a,o,s,l){if(o===0)return!1;var u=o;s-=n,l-=e;var c=Math.sqrt(s*s+l*l);if(c-u>t||c+u<t)return!1;if(Math.abs(r-i)%D_<1e-4)return!0;if(a){var f=r;r=ss(i),i=ss(f)}else r=ss(r),i=ss(i);r>i&&(i+=D_);var h=Math.atan2(l,s);return h<0&&(h+=D_),h>=r&&h<=i||h+D_>=r&&h+D_<=i}function Lc(n,e,t,r,i,a){if(a>e&&a>r||a<e&&a<r||r===e)return 0;var o=(a-e)/(r-e),s=r<e?1:-1;(o===1||o===0)&&(s=r<e?.5:-.5);var l=o*(t-n)+n;return l===i?1/0:l>i?s:0}var eh=Nu.CMD,lp=Math.PI*2,B0e=1e-4;function U0e(n,e){return Math.abs(n-e)<B0e}var uo=[-1,-1,-1],Ns=[-1,-1];function V0e(){var n=Ns[0];Ns[0]=Ns[1],Ns[1]=n}function G0e(n,e,t,r,i,a,o,s,l,u){if(u>e&&u>r&&u>a&&u>s||u<e&&u<r&&u<a&&u<s)return 0;var c=Ob(e,r,a,s,u,uo);if(c===0)return 0;for(var f=0,h=-1,d=void 0,p=void 0,g=0;g<c;g++){var m=uo[g],y=m===0||m===1?.5:1,S=Vi(n,t,i,o,m);S<l||(h<0&&(h=SZ(e,r,a,s,Ns),Ns[1]<Ns[0]&&h>1&&V0e(),d=Vi(e,r,a,s,Ns[0]),h>1&&(p=Vi(e,r,a,s,Ns[1]))),h===2?m<Ns[0]?f+=d<e?y:-y:m<Ns[1]?f+=p<d?y:-y:f+=s<p?y:-y:m<Ns[0]?f+=d<e?y:-y:f+=s<d?y:-y)}return f}function H0e(n,e,t,r,i,a,o,s){if(s>e&&s>r&&s>a||s<e&&s<r&&s<a)return 0;var l=Qme(e,r,a,s,uo);if(l===0)return 0;var u=MZ(e,r,a);if(u>=0&&u<=1){for(var c=0,f=na(e,r,a,u),h=0;h<l;h++){var d=uo[h]===0||uo[h]===1?.5:1,p=na(n,t,i,uo[h]);p<o||(uo[h]<u?c+=f<e?d:-d:c+=a<f?d:-d)}return c}else{var d=uo[0]===0||uo[0]===1?.5:1,p=na(n,t,i,uo[0]);return p<o?0:a<e?d:-d}}function W0e(n,e,t,r,i,a,o,s){if(s-=e,s>t||s<-t)return 0;var l=Math.sqrt(t*t-s*s);uo[0]=-l,uo[1]=l;var u=Math.abs(r-i);if(u<1e-4)return 0;if(u>=lp-1e-4){r=0,i=lp;var c=a?1:-1;return o>=uo[0]+n&&o<=uo[1]+n?c:0}if(r>i){var f=r;r=i,i=f}r<0&&(r+=lp,i+=lp);for(var h=0,d=0;d<2;d++){var p=uo[d];if(p+n>o){var g=Math.atan2(s,p),c=a?1:-1;g<0&&(g=lp+g),(g>=r&&g<=i||g+lp>=r&&g+lp<=i)&&(g>Math.PI/2&&g<Math.PI*1.5&&(c=-c),h+=c)}}return h}function o$(n,e,t,r,i){for(var a=n.data,o=n.len(),s=0,l=0,u=0,c=0,f=0,h,d,p=0;p<o;){var g=a[p++],m=p===1;switch(g===eh.M&&p>1&&(t||(s+=Lc(l,u,c,f,r,i))),m&&(l=a[p],u=a[p+1],c=l,f=u),g){case eh.M:c=a[p++],f=a[p++],l=c,u=f;break;case eh.L:if(t){if(fh(l,u,a[p],a[p+1],e,r,i))return!0}else s+=Lc(l,u,a[p],a[p+1],r,i)||0;l=a[p++],u=a[p++];break;case eh.C:if(t){if(F0e(l,u,a[p++],a[p++],a[p++],a[p++],a[p],a[p+1],e,r,i))return!0}else s+=G0e(l,u,a[p++],a[p++],a[p++],a[p++],a[p],a[p+1],r,i)||0;l=a[p++],u=a[p++];break;case eh.Q:if(t){if(a$(l,u,a[p++],a[p++],a[p],a[p+1],e,r,i))return!0}else s+=H0e(l,u,a[p++],a[p++],a[p],a[p+1],r,i)||0;l=a[p++],u=a[p++];break;case eh.A:var y=a[p++],S=a[p++],M=a[p++],b=a[p++],C=a[p++],A=a[p++];p+=1;var E=!!(1-a[p++]);h=Math.cos(C)*M+y,d=Math.sin(C)*b+S,m?(c=h,f=d):s+=Lc(l,u,h,d,r,i);var I=(r-y)*b/M+y;if(t){if(z0e(y,S,b,C,C+A,E,e,I,i))return!0}else s+=W0e(y,S,b,C,C+A,E,I,i);l=Math.cos(C+A)*M+y,u=Math.sin(C+A)*b+S;break;case eh.R:c=l=a[p++],f=u=a[p++];var L=a[p++],R=a[p++];if(h=c+L,d=f+R,t){if(fh(c,f,h,f,e,r,i)||fh(h,f,h,d,e,r,i)||fh(h,d,c,d,e,r,i)||fh(c,d,c,f,e,r,i))return!0}else s+=Lc(h,f,h,d,r,i),s+=Lc(c,d,c,f,r,i);break;case eh.Z:if(t){if(fh(l,u,c,f,e,r,i))return!0}else s+=Lc(l,u,c,f,r,i);l=c,u=f;break}}return!t&&!U0e(u,f)&&(s+=Lc(l,u,c,f,r,i)||0),s!==0}function X0e(n,e,t){return o$(n,0,!1,e,t)}function Y0e(n,e,t,r){return o$(n,e,!0,t,r)}var Vb=Dt({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},lv),j0e={style:Dt({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},MC.style)},ND=Lu.concat(["invisible","culling","z","z2","zlevel","parent"]),Tn=(function(n){Rr(e,n);function e(t){return n.call(this,t)||this}return e.prototype.update=function(){var t=this;n.prototype.update.call(this);var r=this.style;if(r.decal){var i=this._decalEl=this._decalEl||new e;i.buildPath===e.prototype.buildPath&&(i.buildPath=function(l){t.buildPath(l,t.shape)}),i.silent=!0;var a=i.style;for(var o in r)a[o]!==r[o]&&(a[o]=r[o]);a.fill=r.fill?r.decal:null,a.decal=null,a.shadowColor=null,r.strokeFirst&&(a.stroke=null);for(var s=0;s<ND.length;++s)i[ND[s]]=this[ND[s]];i.__dirty|=rs}else this._decalEl&&(this._decalEl=null)},e.prototype.getDecalElement=function(){return this._decalEl},e.prototype._init=function(t){var r=En(t);this.shape=this.getDefaultShape();var i=this.getDefaultStyle();i&&this.useStyle(i);for(var a=0;a<r.length;a++){var o=r[a],s=t[o];o==="style"?this.style?Le(this.style,s):this.useStyle(s):o==="shape"?Le(this.shape,s):n.prototype.attrKV.call(this,o,s)}this.style||this.useStyle({})},e.prototype.getDefaultStyle=function(){return null},e.prototype.getDefaultShape=function(){return{}},e.prototype.canBeInsideText=function(){return this.hasFill()},e.prototype.getInsideTextFill=function(){var t=this.style.fill;if(t!=="none"){if(ut(t)){var r=DS(t,0);return r>.5?oI:r>.2?Rye:sI}else if(t)return sI}return oI},e.prototype.getInsideTextStroke=function(t){var r=this.style.fill;if(ut(r)){var i=this.__zr,a=!!(i&&i.isDarkMode()),o=DS(t,0)<aI;if(a===o)return r}},e.prototype.buildPath=function(t,r,i){},e.prototype.pathUpdated=function(){this.__dirty&=~Bm},e.prototype.getUpdatedPathProxy=function(t){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,t),this.path},e.prototype.createPathProxy=function(){this.path=new Nu(!1)},e.prototype.hasStroke=function(){var t=this.style,r=t.stroke;return!(r==null||r==="none"||!(t.lineWidth>0))},e.prototype.hasFill=function(){var t=this.style,r=t.fill;return r!=null&&r!=="none"},e.prototype.getBoundingRect=function(){var t=this._rect,r=this.style,i=!t;if(i){var a=!1;this.path||(a=!0,this.createPathProxy());var o=this.path;(a||this.__dirty&Bm)&&(o.beginPath(),this.buildPath(o,this.shape,!1),this.pathUpdated()),t=o.getBoundingRect()}if(this._rect=t,this.hasStroke()&&this.path&&this.path.len()>0){var s=this._rectStroke||(this._rectStroke=t.clone());if(this.__dirty||i){s.copy(t);var l=r.strokeNoScale?this.getLineScale():1,u=r.lineWidth;if(!this.hasFill()){var c=this.strokeContainThreshold;u=Math.max(u,c??4)}l>1e-10&&(s.width+=u/l,s.height+=u/l,s.x-=u/l/2,s.y-=u/l/2)}return s}return t},e.prototype.contain=function(t,r){var i=this.transformCoordToLocal(t,r),a=this.getBoundingRect(),o=this.style;if(t=i[0],r=i[1],a.contain(t,r)){var s=this.path;if(this.hasStroke()){var l=o.lineWidth,u=o.strokeNoScale?this.getLineScale():1;if(u>1e-10&&(this.hasFill()||(l=Math.max(l,this.strokeContainThreshold)),Y0e(s,l/u,t,r)))return!0}if(this.hasFill())return X0e(s,t,r)}return!1},e.prototype.dirtyShape=function(){this.__dirty|=Bm,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},e.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},e.prototype.animateShape=function(t){return this.animate("shape",t)},e.prototype.updateDuringAnimation=function(t){t==="style"?this.dirtyStyle():t==="shape"?this.dirtyShape():this.markRedraw()},e.prototype.attrKV=function(t,r){t==="shape"?this.setShape(r):n.prototype.attrKV.call(this,t,r)},e.prototype.setShape=function(t,r){var i=this.shape;return i||(i=this.shape={}),typeof t=="string"?i[t]=r:Le(i,t),this.dirtyShape(),this},e.prototype.shapeChanged=function(){return!!(this.__dirty&Bm)},e.prototype.createStyle=function(t){return x1(Vb,t)},e.prototype._innerSaveToNormal=function(t){n.prototype._innerSaveToNormal.call(this,t);var r=this._normalState;t.shape&&!r.shape&&(r.shape=Le({},this.shape))},e.prototype._applyStateObj=function(t,r,i,a,o,s){n.prototype._applyStateObj.call(this,t,r,i,a,o,s);var l=!(r&&a),u;if(r&&r.shape?o?a?u=r.shape:(u=Le({},i.shape),Le(u,r.shape)):(u=Le({},a?this.shape:i.shape),Le(u,r.shape)):l&&(u=i.shape),u)if(o){this.shape=Le({},this.shape);for(var c={},f=En(u),h=0;h<f.length;h++){var d=f[h];typeof u[d]=="object"?this.shape[d]=u[d]:c[d]=u[d]}this._transitionState(t,{shape:c},s)}else this.shape=u,this.dirtyShape()},e.prototype._mergeStates=function(t){for(var r=n.prototype._mergeStates.call(this,t),i,a=0;a<t.length;a++){var o=t[a];o.shape&&(i=i||{},this._mergeStyle(i,o.shape))}return i&&(r.shape=i),r},e.prototype.getAnimationStyleProps=function(){return j0e},e.prototype.isZeroArea=function(){return!1},e.extend=function(t){var r=(function(a){Rr(o,a);function o(s){var l=a.call(this,s)||this;return t.init&&t.init.call(l,s),l}return o.prototype.getDefaultStyle=function(){return Vt(t.style)},o.prototype.getDefaultShape=function(){return Vt(t.shape)},o})(e);for(var i in t)typeof t[i]=="function"&&(r.prototype[i]=t[i]);return r},e.initDefaultProps=(function(){var t=e.prototype;t.type="path",t.strokeContainThreshold=5,t.segmentIgnoreThreshold=0,t.subPixelOptimize=!1,t.autoBatch=!1,t.__dirty=rs|ux|Bm})(),e})(Hs),Z0e=Dt({strokeFirst:!0,font:Nh,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},Vb),by=(function(n){Rr(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.hasStroke=function(){var t=this.style,r=t.stroke;return r!=null&&r!=="none"&&t.lineWidth>0},e.prototype.hasFill=function(){var t=this.style,r=t.fill;return r!=null&&r!=="none"},e.prototype.createStyle=function(t){return x1(Z0e,t)},e.prototype.setBoundingRect=function(t){this._rect=t},e.prototype.getBoundingRect=function(){var t=this.style;if(!this._rect){var r=t.text;r!=null?r+="":r="";var i=M1(r,t.font,t.textAlign,t.textBaseline);if(i.x+=t.x||0,i.y+=t.y||0,this.hasStroke()){var a=t.lineWidth;i.x-=a/2,i.y-=a/2,i.width+=a,i.height+=a}this._rect=i}return this._rect},e.initDefaultProps=(function(){var t=e.prototype;t.dirtyRectTolerance=10})(),e})(Hs);by.prototype.type="tspan";var $0e=Dt({x:0,y:0},lv),q0e={style:Dt({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},MC.style)};function K0e(n){return!!(n&&typeof n!="string"&&n.width&&n.height)}var $i=(function(n){Rr(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.createStyle=function(t){return x1($0e,t)},e.prototype._getSize=function(t){var r=this.style,i=r[t];if(i!=null)return i;var a=K0e(r.image)?r.image:this.__image;if(!a)return 0;var o=t==="width"?"height":"width",s=r[o];return s==null?a[t]:a[t]/a[o]*s},e.prototype.getWidth=function(){return this._getSize("width")},e.prototype.getHeight=function(){return this._getSize("height")},e.prototype.getAnimationStyleProps=function(){return q0e},e.prototype.getBoundingRect=function(){var t=this.style;return this._rect||(this._rect=new fn(t.x||0,t.y||0,this.getWidth(),this.getHeight())),this._rect},e})(Hs);$i.prototype.type="image";function J0e(n,e){var t=e.x,r=e.y,i=e.width,a=e.height,o=e.r,s,l,u,c;i<0&&(t=t+i,i=-i),a<0&&(r=r+a,a=-a),typeof o=="number"?s=l=u=c=o:o instanceof Array?o.length===1?s=l=u=c=o[0]:o.length===2?(s=u=o[0],l=c=o[1]):o.length===3?(s=o[0],l=c=o[1],u=o[2]):(s=o[0],l=o[1],u=o[2],c=o[3]):s=l=u=c=0;var f;s+l>i&&(f=s+l,s*=i/f,l*=i/f),u+c>i&&(f=u+c,u*=i/f,c*=i/f),l+u>a&&(f=l+u,l*=a/f,u*=a/f),s+c>a&&(f=s+c,s*=a/f,c*=a/f),n.moveTo(t+s,r),n.lineTo(t+i-l,r),l!==0&&n.arc(t+i-l,r+l,l,-Math.PI/2,0),n.lineTo(t+i,r+a-u),u!==0&&n.arc(t+i-u,r+a-u,u,0,Math.PI/2),n.lineTo(t+c,r+a),c!==0&&n.arc(t+c,r+a-c,c,Math.PI/2,Math.PI),n.lineTo(t,r+s),s!==0&&n.arc(t+s,r+s,s,Math.PI,Math.PI*1.5)}var ny=Math.round;function s$(n,e,t){if(e){var r=e.x1,i=e.x2,a=e.y1,o=e.y2;n.x1=r,n.x2=i,n.y1=a,n.y2=o;var s=t&&t.lineWidth;return s&&(ny(r*2)===ny(i*2)&&(n.x1=n.x2=Zp(r,s,!0)),ny(a*2)===ny(o*2)&&(n.y1=n.y2=Zp(a,s,!0))),n}}function l$(n,e,t){if(e){var r=e.x,i=e.y,a=e.width,o=e.height;n.x=r,n.y=i,n.width=a,n.height=o;var s=t&&t.lineWidth;return s&&(n.x=Zp(r,s,!0),n.y=Zp(i,s,!0),n.width=Math.max(Zp(r+a,s,!1)-n.x,a===0?0:1),n.height=Math.max(Zp(i+o,s,!1)-n.y,o===0?0:1)),n}}function Zp(n,e,t){if(!e)return n;var r=ny(n*2);return(r+ny(e))%2===0?r/2:(r+(t?1:-1))/2}var Q0e=(function(){function n(){this.x=0,this.y=0,this.width=0,this.height=0}return n})(),e_e={},kn=(function(n){Rr(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new Q0e},e.prototype.buildPath=function(t,r){var i,a,o,s;if(this.subPixelOptimize){var l=l$(e_e,r,this.style);i=l.x,a=l.y,o=l.width,s=l.height,l.r=r.r,r=l}else i=r.x,a=r.y,o=r.width,s=r.height;r.r?J0e(t,r):t.rect(i,a,o,s)},e.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},e})(Tn);kn.prototype.type="rect";var Z5={fill:"#000"},$5=2,t_e={style:Dt({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},MC.style)},On=(function(n){Rr(e,n);function e(t){var r=n.call(this)||this;return r.type="text",r._children=[],r._defaultStyle=Z5,r.attr(t),r}return e.prototype.childrenRef=function(){return this._children},e.prototype.update=function(){n.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var t=0;t<this._children.length;t++){var r=this._children[t];r.zlevel=this.zlevel,r.z=this.z,r.z2=this.z2,r.culling=this.culling,r.cursor=this.cursor,r.invisible=this.invisible}},e.prototype.updateTransform=function(){var t=this.innerTransformable;t?(t.updateTransform(),t.transform&&(this.transform=t.transform)):n.prototype.updateTransform.call(this)},e.prototype.getLocalTransform=function(t){var r=this.innerTransformable;return r?r.getLocalTransform(t):n.prototype.getLocalTransform.call(this,t)},e.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),n.prototype.getComputedTransform.call(this)},e.prototype._updateSubTexts=function(){this._childCursor=0,i_e(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},e.prototype.addSelfToZr=function(t){n.prototype.addSelfToZr.call(this,t);for(var r=0;r<this._children.length;r++)this._children[r].__zr=t},e.prototype.removeSelfFromZr=function(t){n.prototype.removeSelfFromZr.call(this,t);for(var r=0;r<this._children.length;r++)this._children[r].__zr=null},e.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var t=new fn(0,0,0,0),r=this._children,i=[],a=null,o=0;o<r.length;o++){var s=r[o],l=s.getBoundingRect(),u=s.getLocalTransform(i);u?(t.copy(l),t.applyTransform(u),a=a||t.clone(),a.union(t)):(a=a||l.clone(),a.union(l))}this._rect=a||t}return this._rect},e.prototype.setDefaultTextStyle=function(t){this._defaultStyle=t||Z5},e.prototype.setTextContent=function(t){},e.prototype._mergeStyle=function(t,r){if(!r)return t;var i=r.rich,a=t.rich||i&&{};return Le(t,r),i&&a?(this._mergeRich(a,i),t.rich=a):a&&(t.rich=a),t},e.prototype._mergeRich=function(t,r){for(var i=En(r),a=0;a<i.length;a++){var o=i[a];t[o]=t[o]||{},Le(t[o],r[o])}},e.prototype.getAnimationStyleProps=function(){return t_e},e.prototype._getOrCreateChild=function(t){var r=this._children[this._childCursor];return(!r||!(r instanceof t))&&(r=new t),this._children[this._childCursor++]=r,r.__zr=this.__zr,r.parent=this,r},e.prototype._updatePlainTexts=function(){var t=this.style,r=t.font||Nh,i=t.padding,a=n4(t),o=b0e(a,t),s=OD(t),l=!!t.backgroundColor,u=o.outerHeight,c=o.outerWidth,f=o.contentWidth,h=o.lines,d=o.lineHeight,p=this._defaultStyle;this.isTruncated=!!o.isTruncated;var g=t.x||0,m=t.y||0,y=t.align||p.align||"left",S=t.verticalAlign||p.verticalAlign||"top",M=g,b=Um(m,o.contentHeight,S);if(s||i){var C=fx(g,c,y),A=Um(m,u,S);s&&this._renderBackground(t,t,C,A,c,u)}b+=d/2,i&&(M=t4(g,y,i),S==="top"?b+=i[0]:S==="bottom"&&(b-=i[2]));for(var E=0,I=!1,L=e4("fill"in t?t.fill:(I=!0,p.fill)),R=Q5("stroke"in t?t.stroke:!l&&(!p.autoStroke||I)?(E=$5,p.stroke):null),O=t.textShadowBlur>0,U=t.width!=null&&(t.overflow==="truncate"||t.overflow==="break"||t.overflow==="breakAll"),V=o.calculatedLineHeight,W=0;W<h.length;W++){var X=this._getOrCreateChild(by),j=X.createStyle();X.useStyle(j),j.text=h[W],j.x=M,j.y=b,j.textAlign=y,j.textBaseline="middle",j.opacity=t.opacity,j.strokeFirst=!0,O&&(j.shadowBlur=t.textShadowBlur||0,j.shadowColor=t.textShadowColor||"transparent",j.shadowOffsetX=t.textShadowOffsetX||0,j.shadowOffsetY=t.textShadowOffsetY||0),j.stroke=R,j.fill=L,R&&(j.lineWidth=t.lineWidth||E,j.lineDash=t.lineDash,j.lineDashOffset=t.lineDashOffset||0),j.font=r,K5(j,t),b+=d,U&&X.setBoundingRect(new fn(fx(j.x,f,j.textAlign),Um(j.y,V,j.textBaseline),f,V))}},e.prototype._updateRichTexts=function(){var t=this.style,r=n4(t),i=E0e(r,t),a=i.width,o=i.outerWidth,s=i.outerHeight,l=t.padding,u=t.x||0,c=t.y||0,f=this._defaultStyle,h=t.align||f.align,d=t.verticalAlign||f.verticalAlign;this.isTruncated=!!i.isTruncated;var p=fx(u,o,h),g=Um(c,s,d),m=p,y=g;l&&(m+=l[3],y+=l[0]);var S=m+a;OD(t)&&this._renderBackground(t,t,p,g,o,s);for(var M=!!t.backgroundColor,b=0;b<i.lines.length;b++){for(var C=i.lines[b],A=C.tokens,E=A.length,I=C.lineHeight,L=C.width,R=0,O=m,U=S,V=E-1,W=void 0;R<E&&(W=A[R],!W.align||W.align==="left");)this._placeToken(W,t,I,y,O,"left",M),L-=W.width,O+=W.width,R++;for(;V>=0&&(W=A[V],W.align==="right");)this._placeToken(W,t,I,y,U,"right",M),L-=W.width,U-=W.width,V--;for(O+=(a-(O-m)-(S-U)-L)/2;R<=V;)W=A[R],this._placeToken(W,t,I,y,O+W.width/2,"center",M),O+=W.width,R++;y+=I}},e.prototype._placeToken=function(t,r,i,a,o,s,l){var u=r.rich[t.styleName]||{};u.text=t.text;var c=t.verticalAlign,f=a+i/2;c==="top"?f=a+t.height/2:c==="bottom"&&(f=a+i-t.height/2);var h=!t.isLineHolder&&OD(u);h&&this._renderBackground(u,r,s==="right"?o-t.width:s==="center"?o-t.width/2:o,f-t.height/2,t.width,t.height);var d=!!u.backgroundColor,p=t.textPadding;p&&(o=t4(o,s,p),f-=t.height/2-p[0]-t.innerHeight/2);var g=this._getOrCreateChild(by),m=g.createStyle();g.useStyle(m);var y=this._defaultStyle,S=!1,M=0,b=e4("fill"in u?u.fill:"fill"in r?r.fill:(S=!0,y.fill)),C=Q5("stroke"in u?u.stroke:"stroke"in r?r.stroke:!d&&!l&&(!y.autoStroke||S)?(M=$5,y.stroke):null),A=u.textShadowBlur>0||r.textShadowBlur>0;m.text=t.text,m.x=o,m.y=f,A&&(m.shadowBlur=u.textShadowBlur||r.textShadowBlur||0,m.shadowColor=u.textShadowColor||r.textShadowColor||"transparent",m.shadowOffsetX=u.textShadowOffsetX||r.textShadowOffsetX||0,m.shadowOffsetY=u.textShadowOffsetY||r.textShadowOffsetY||0),m.textAlign=s,m.textBaseline="middle",m.font=t.font||Nh,m.opacity=Ol(u.opacity,r.opacity,1),K5(m,u),C&&(m.lineWidth=Ol(u.lineWidth,r.lineWidth,M),m.lineDash=tn(u.lineDash,r.lineDash),m.lineDashOffset=r.lineDashOffset||0,m.stroke=C),b&&(m.fill=b);var E=t.contentWidth,I=t.contentHeight;g.setBoundingRect(new fn(fx(m.x,E,m.textAlign),Um(m.y,I,m.textBaseline),E,I))},e.prototype._renderBackground=function(t,r,i,a,o,s){var l=t.backgroundColor,u=t.borderWidth,c=t.borderColor,f=l&&l.image,h=l&&!f,d=t.borderRadius,p=this,g,m;if(h||t.lineHeight||u&&c){g=this._getOrCreateChild(kn),g.useStyle(g.createStyle()),g.style.fill=null;var y=g.shape;y.x=i,y.y=a,y.width=o,y.height=s,y.r=d,g.dirtyShape()}if(h){var S=g.style;S.fill=l||null,S.fillOpacity=tn(t.fillOpacity,1)}else if(f){m=this._getOrCreateChild($i),m.onload=function(){p.dirtyStyle()};var M=m.style;M.image=l.image,M.x=i,M.y=a,M.width=o,M.height=s}if(u&&c){var S=g.style;S.lineWidth=u,S.stroke=c,S.strokeOpacity=tn(t.strokeOpacity,1),S.lineDash=t.borderDash,S.lineDashOffset=t.borderDashOffset||0,g.strokeContainThreshold=0,g.hasFill()&&g.hasStroke()&&(S.strokeFirst=!0,S.lineWidth*=2)}var b=(g||m).style;b.shadowBlur=t.shadowBlur||0,b.shadowColor=t.shadowColor||"transparent",b.shadowOffsetX=t.shadowOffsetX||0,b.shadowOffsetY=t.shadowOffsetY||0,b.opacity=Ol(t.opacity,r.opacity,1)},e.makeFont=function(t){var r="";return c$(t)&&(r=[t.fontStyle,t.fontWeight,u$(t.fontSize),t.fontFamily||"sans-serif"].join(" ")),r&&Us(r)||t.textFont||t.font},e})(Hs),n_e={left:!0,right:1,center:1},r_e={top:1,bottom:1,middle:1},q5=["fontStyle","fontWeight","fontSize","fontFamily"];function u$(n){return typeof n=="string"&&(n.indexOf("px")!==-1||n.indexOf("rem")!==-1||n.indexOf("em")!==-1)?n:isNaN(+n)?lk+"px":n+"px"}function K5(n,e){for(var t=0;t<q5.length;t++){var r=q5[t],i=e[r];i!=null&&(n[r]=i)}}function c$(n){return n.fontSize!=null||n.fontFamily||n.fontWeight}function i_e(n){return J5(n),G(n.rich,J5),n}function J5(n){if(n){n.font=On.makeFont(n);var e=n.align;e==="middle"&&(e="center"),n.align=e==null||n_e[e]?e:"left";var t=n.verticalAlign;t==="center"&&(t="middle"),n.verticalAlign=t==null||r_e[t]?t:"top";var r=n.padding;r&&(n.padding=pC(n.padding))}}function Q5(n,e){return n==null||e<=0||n==="transparent"||n==="none"?null:n.image||n.colorStops?"#000":n}function e4(n){return n==null||n==="none"?null:n.image||n.colorStops?"#000":n}function t4(n,e,t){return e==="right"?n-t[1]:e==="center"?n+t[3]/2-t[1]/2:n+t[3]}function n4(n){var e=n.text;return e!=null&&(e+=""),e}function OD(n){return!!(n.backgroundColor||n.lineHeight||n.borderWidth&&n.borderColor)}var $t=Un(),gI=function(n,e,t,r){if(r){var i=$t(r);i.dataIndex=t,i.dataType=e,i.seriesIndex=n,i.ssrType="chart",r.type==="group"&&r.traverse(function(a){var o=$t(a);o.seriesIndex=n,o.dataIndex=t,o.dataType=e,o.ssrType="chart"})}},r4=1,i4={},f$=Un(),Pk=Un(),Dk=0,b1=1,bC=2,_o=["emphasis","blur","select"],IS=["normal","emphasis","blur","select"],Yy=10,a_e=9,uv="highlight",eb="downplay",Ux="select",tb="unselect",Vx="toggleSelect";function mm(n){return n!=null&&n!=="none"}function AC(n,e,t){n.onHoverStateChange&&(n.hoverState||0)!==t&&n.onHoverStateChange(e),n.hoverState=t}function h$(n){AC(n,"emphasis",bC)}function d$(n){n.hoverState===bC&&AC(n,"normal",Dk)}function Rk(n){AC(n,"blur",b1)}function p$(n){n.hoverState===b1&&AC(n,"normal",Dk)}function o_e(n){n.selected=!0}function s_e(n){n.selected=!1}function a4(n,e,t){e(n,t)}function cf(n,e,t){a4(n,e,t),n.isGroup&&n.traverse(function(r){a4(r,e,t)})}function Gb(n,e){switch(e){case"emphasis":n.hoverState=bC;break;case"normal":n.hoverState=Dk;break;case"blur":n.hoverState=b1;break;case"select":n.selected=!0}}function l_e(n,e,t,r){for(var i=n.style,a={},o=0;o<e.length;o++){var s=e[o],l=i[s];a[s]=l??(r&&r[s])}for(var o=0;o<n.animators.length;o++){var u=n.animators[o];u.__fromStateTransition&&u.__fromStateTransition.indexOf(t)<0&&u.targetName==="style"&&u.saveTo(a,e)}return a}function u_e(n,e,t,r){var i=t&&dn(t,"select")>=0,a=!1;if(n instanceof Tn){var o=f$(n),s=i&&o.selectFill||o.normalFill,l=i&&o.selectStroke||o.normalStroke;if(mm(s)||mm(l)){r=r||{};var u=r.style||{};u.fill==="inherit"?(a=!0,r=Le({},r),u=Le({},u),u.fill=s):!mm(u.fill)&&mm(s)?(a=!0,r=Le({},r),u=Le({},u),u.fill=Fb(s)):!mm(u.stroke)&&mm(l)&&(a||(r=Le({},r),u=Le({},u)),u.stroke=Fb(l)),r.style=u}}if(r&&r.z2==null){a||(r=Le({},r));var c=n.z2EmphasisLift;r.z2=n.z2+(c??Yy)}return r}function c_e(n,e,t){if(t&&t.z2==null){t=Le({},t);var r=n.z2SelectLift;t.z2=n.z2+(r??a_e)}return t}function f_e(n,e,t){var r=dn(n.currentStates,e)>=0,i=n.style.opacity,a=r?null:l_e(n,["opacity"],e,{opacity:1});t=t||{};var o=t.style||{};return o.opacity==null&&(t=Le({},t),o=Le({opacity:r?i:a.opacity*.1},o),t.style=o),t}function kD(n,e){var t=this.states[n];if(this.style){if(n==="emphasis")return u_e(this,n,e,t);if(n==="blur")return f_e(this,n,t);if(n==="select")return c_e(this,n,t)}return t}function Tv(n){n.stateProxy=kD;var e=n.getTextContent(),t=n.getTextGuideLine();e&&(e.stateProxy=kD),t&&(t.stateProxy=kD)}function o4(n,e){!y$(n,e)&&!n.__highByOuter&&cf(n,h$)}function s4(n,e){!y$(n,e)&&!n.__highByOuter&&cf(n,d$)}function ef(n,e){n.__highByOuter|=1<<(e||0),cf(n,h$)}function tf(n,e){!(n.__highByOuter&=~(1<<(e||0)))&&cf(n,d$)}function v$(n){cf(n,Rk)}function Lk(n){cf(n,p$)}function g$(n){cf(n,o_e)}function m$(n){cf(n,s_e)}function y$(n,e){return n.__highDownSilentOnTouch&&e.zrByTouch}function _$(n){var e=n.getModel(),t=[],r=[];e.eachComponent(function(i,a){var o=Pk(a),s=i==="series",l=s?n.getViewOfSeriesModel(a):n.getViewOfComponentModel(a);!s&&r.push(l),o.isBlured&&(l.group.traverse(function(u){p$(u)}),s&&t.push(a)),o.isBlured=!1}),G(r,function(i){i&&i.toggleBlurSeries&&i.toggleBlurSeries(t,!1,e)})}function mI(n,e,t,r){var i=r.getModel();t=t||"coordinateSystem";function a(u,c){for(var f=0;f<c.length;f++){var h=u.getItemGraphicEl(c[f]);h&&Lk(h)}}if(n!=null&&!(!e||e==="none")){var o=i.getSeriesByIndex(n),s=o.coordinateSystem;s&&s.master&&(s=s.master);var l=[];i.eachSeries(function(u){var c=o===u,f=u.coordinateSystem;f&&f.master&&(f=f.master);var h=f&&s?f===s:c;if(!(t==="series"&&!c||t==="coordinateSystem"&&!h||e==="series"&&c)){var d=r.getViewOfSeriesModel(u);if(d.group.traverse(function(m){m.__highByOuter&&c&&e==="self"||Rk(m)}),_a(e))a(u.getData(),e);else if(Bt(e))for(var p=En(e),g=0;g<p.length;g++)a(u.getData(p[g]),e[p[g]]);l.push(u),Pk(u).isBlured=!0}}),i.eachComponent(function(u,c){if(u!=="series"){var f=r.getViewOfComponentModel(c);f&&f.toggleBlurSeries&&f.toggleBlurSeries(l,!0,i)}})}}function yI(n,e,t){if(!(n==null||e==null)){var r=t.getModel().getComponent(n,e);if(r){Pk(r).isBlured=!0;var i=t.getViewOfComponentModel(r);!i||!i.focusBlurEnabled||i.group.traverse(function(a){Rk(a)})}}}function h_e(n,e,t){var r=n.seriesIndex,i=n.getData(e.dataType);if(i){var a=wv(i,e);a=(ze(a)?a[0]:a)||0;var o=i.getItemGraphicEl(a);if(!o)for(var s=i.count(),l=0;!o&&l<s;)o=i.getItemGraphicEl(l++);if(o){var u=$t(o);mI(r,u.focus,u.blurScope,t)}else{var c=n.get(["emphasis","focus"]),f=n.get(["emphasis","blurScope"]);c!=null&&mI(r,c,f,t)}}}function Ik(n,e,t,r){var i={focusSelf:!1,dispatchers:null};if(n==null||n==="series"||e==null||t==null)return i;var a=r.getModel().getComponent(n,e);if(!a)return i;var o=r.getViewOfComponentModel(a);if(!o||!o.findHighDownDispatchers)return i;for(var s=o.findHighDownDispatchers(t),l,u=0;u<s.length;u++)if($t(s[u]).focus==="self"){l=!0;break}return{focusSelf:l,dispatchers:s}}function d_e(n,e,t){var r=$t(n),i=Ik(r.componentMainType,r.componentIndex,r.componentHighDownName,t),a=i.dispatchers,o=i.focusSelf;a?(o&&yI(r.componentMainType,r.componentIndex,t),G(a,function(s){return o4(s,e)})):(mI(r.seriesIndex,r.focus,r.blurScope,t),r.focus==="self"&&yI(r.componentMainType,r.componentIndex,t),o4(n,e))}function p_e(n,e,t){_$(t);var r=$t(n),i=Ik(r.componentMainType,r.componentIndex,r.componentHighDownName,t).dispatchers;i?G(i,function(a){return s4(a,e)}):s4(n,e)}function v_e(n,e,t){if(xI(e)){var r=e.dataType,i=n.getData(r),a=wv(i,e);ze(a)||(a=[a]),n[e.type===Vx?"toggleSelect":e.type===Ux?"select":"unselect"](a,r)}}function l4(n){var e=n.getAllData();G(e,function(t){var r=t.data,i=t.type;r.eachItemGraphicEl(function(a,o){n.isSelected(o,i)?g$(a):m$(a)})})}function g_e(n){var e=[];return n.eachSeries(function(t){var r=t.getAllData();G(r,function(i){i.data;var a=i.type,o=t.getSelectedDataIndices();if(o.length>0){var s={dataIndex:o,seriesIndex:t.seriesIndex};a!=null&&(s.dataType=a),e.push(s)}})}),e}function bh(n,e,t){$p(n,!0),cf(n,Tv),_I(n,e,t)}function m_e(n){$p(n,!1)}function Vr(n,e,t,r){r?m_e(n):bh(n,e,t)}function _I(n,e,t){var r=$t(n);e!=null?(r.focus=e,r.blurScope=t):r.focus&&(r.focus=null)}var u4=["emphasis","blur","select"],y_e={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function xa(n,e,t,r){t=t||"itemStyle";for(var i=0;i<u4.length;i++){var a=u4[i],o=e.getModel([a,t]),s=n.ensureState(a);s.style=r?r(o):o[y_e[t]]()}}function $p(n,e){var t=e===!1,r=n;n.highDownSilentOnTouch&&(r.__highDownSilentOnTouch=n.highDownSilentOnTouch),(!t||r.__highDownDispatcher)&&(r.__highByOuter=r.__highByOuter||0,r.__highDownDispatcher=!t)}function NS(n){return!!(n&&n.__highDownDispatcher)}function __e(n,e,t){var r=$t(n);r.componentMainType=e.mainType,r.componentIndex=e.componentIndex,r.componentHighDownName=t}function x_e(n){var e=i4[n];return e==null&&r4<=32&&(e=i4[n]=r4++),e}function xI(n){var e=n.type;return e===Ux||e===tb||e===Vx}function c4(n){var e=n.type;return e===uv||e===eb}function S_e(n){var e=f$(n);e.normalFill=n.style.fill,e.normalStroke=n.style.stroke;var t=n.states.select||{};e.selectFill=t.style&&t.style.fill||null,e.selectStroke=t.style&&t.style.stroke||null}var ym=Nu.CMD,w_e=[[],[],[]],f4=Math.sqrt,M_e=Math.atan2;function x$(n,e){if(e){var t=n.data,r=n.len(),i,a,o,s,l,u,c=ym.M,f=ym.C,h=ym.L,d=ym.R,p=ym.A,g=ym.Q;for(o=0,s=0;o<r;){switch(i=t[o++],s=o,a=0,i){case c:a=1;break;case h:a=1;break;case f:a=3;break;case g:a=2;break;case p:var m=e[4],y=e[5],S=f4(e[0]*e[0]+e[1]*e[1]),M=f4(e[2]*e[2]+e[3]*e[3]),b=M_e(-e[1]/M,e[0]/S);t[o]*=S,t[o++]+=m,t[o]*=M,t[o++]+=y,t[o++]*=S,t[o++]*=M,t[o++]+=b,t[o++]+=b,o+=2,s=o;break;case d:u[0]=t[o++],u[1]=t[o++],ia(u,u,e),t[s++]=u[0],t[s++]=u[1],u[0]+=t[o++],u[1]+=t[o++],ia(u,u,e),t[s++]=u[0],t[s++]=u[1]}for(l=0;l<a;l++){var C=w_e[l];C[0]=t[o++],C[1]=t[o++],ia(C,C,e),t[s++]=C[0],t[s++]=C[1]}}n.increaseVersion()}}var FD=Math.sqrt,jM=Math.sin,ZM=Math.cos,R_=Math.PI;function h4(n){return Math.sqrt(n[0]*n[0]+n[1]*n[1])}function SI(n,e){return(n[0]*e[0]+n[1]*e[1])/(h4(n)*h4(e))}function d4(n,e){return(n[0]*e[1]<n[1]*e[0]?-1:1)*Math.acos(SI(n,e))}function p4(n,e,t,r,i,a,o,s,l,u,c){var f=l*(R_/180),h=ZM(f)*(n-t)/2+jM(f)*(e-r)/2,d=-1*jM(f)*(n-t)/2+ZM(f)*(e-r)/2,p=h*h/(o*o)+d*d/(s*s);p>1&&(o*=FD(p),s*=FD(p));var g=(i===a?-1:1)*FD((o*o*(s*s)-o*o*(d*d)-s*s*(h*h))/(o*o*(d*d)+s*s*(h*h)))||0,m=g*o*d/s,y=g*-s*h/o,S=(n+t)/2+ZM(f)*m-jM(f)*y,M=(e+r)/2+jM(f)*m+ZM(f)*y,b=d4([1,0],[(h-m)/o,(d-y)/s]),C=[(h-m)/o,(d-y)/s],A=[(-1*h-m)/o,(-1*d-y)/s],E=d4(C,A);if(SI(C,A)<=-1&&(E=R_),SI(C,A)>=1&&(E=0),E<0){var I=Math.round(E/R_*1e6)/1e6;E=R_*2+I%2*R_}c.addData(u,S,M,o,s,b,E,f,a)}var T_e=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,b_e=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function A_e(n){var e=new Nu;if(!n)return e;var t=0,r=0,i=t,a=r,o,s=Nu.CMD,l=n.match(T_e);if(!l)return e;for(var u=0;u<l.length;u++){for(var c=l[u],f=c.charAt(0),h=void 0,d=c.match(b_e)||[],p=d.length,g=0;g<p;g++)d[g]=parseFloat(d[g]);for(var m=0;m<p;){var y=void 0,S=void 0,M=void 0,b=void 0,C=void 0,A=void 0,E=void 0,I=t,L=r,R=void 0,O=void 0;switch(f){case"l":t+=d[m++],r+=d[m++],h=s.L,e.addData(h,t,r);break;case"L":t=d[m++],r=d[m++],h=s.L,e.addData(h,t,r);break;case"m":t+=d[m++],r+=d[m++],h=s.M,e.addData(h,t,r),i=t,a=r,f="l";break;case"M":t=d[m++],r=d[m++],h=s.M,e.addData(h,t,r),i=t,a=r,f="L";break;case"h":t+=d[m++],h=s.L,e.addData(h,t,r);break;case"H":t=d[m++],h=s.L,e.addData(h,t,r);break;case"v":r+=d[m++],h=s.L,e.addData(h,t,r);break;case"V":r=d[m++],h=s.L,e.addData(h,t,r);break;case"C":h=s.C,e.addData(h,d[m++],d[m++],d[m++],d[m++],d[m++],d[m++]),t=d[m-2],r=d[m-1];break;case"c":h=s.C,e.addData(h,d[m++]+t,d[m++]+r,d[m++]+t,d[m++]+r,d[m++]+t,d[m++]+r),t+=d[m-2],r+=d[m-1];break;case"S":y=t,S=r,R=e.len(),O=e.data,o===s.C&&(y+=t-O[R-4],S+=r-O[R-3]),h=s.C,I=d[m++],L=d[m++],t=d[m++],r=d[m++],e.addData(h,y,S,I,L,t,r);break;case"s":y=t,S=r,R=e.len(),O=e.data,o===s.C&&(y+=t-O[R-4],S+=r-O[R-3]),h=s.C,I=t+d[m++],L=r+d[m++],t+=d[m++],r+=d[m++],e.addData(h,y,S,I,L,t,r);break;case"Q":I=d[m++],L=d[m++],t=d[m++],r=d[m++],h=s.Q,e.addData(h,I,L,t,r);break;case"q":I=d[m++]+t,L=d[m++]+r,t+=d[m++],r+=d[m++],h=s.Q,e.addData(h,I,L,t,r);break;case"T":y=t,S=r,R=e.len(),O=e.data,o===s.Q&&(y+=t-O[R-4],S+=r-O[R-3]),t=d[m++],r=d[m++],h=s.Q,e.addData(h,y,S,t,r);break;case"t":y=t,S=r,R=e.len(),O=e.data,o===s.Q&&(y+=t-O[R-4],S+=r-O[R-3]),t+=d[m++],r+=d[m++],h=s.Q,e.addData(h,y,S,t,r);break;case"A":M=d[m++],b=d[m++],C=d[m++],A=d[m++],E=d[m++],I=t,L=r,t=d[m++],r=d[m++],h=s.A,p4(I,L,t,r,A,E,M,b,C,h,e);break;case"a":M=d[m++],b=d[m++],C=d[m++],A=d[m++],E=d[m++],I=t,L=r,t+=d[m++],r+=d[m++],h=s.A,p4(I,L,t,r,A,E,M,b,C,h,e);break}}(f==="z"||f==="Z")&&(h=s.Z,e.addData(h),t=i,r=a),o=h}return e.toStatic(),e}var S$=(function(n){Rr(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.applyTransform=function(t){},e})(Tn);function w$(n){return n.setData!=null}function M$(n,e){var t=A_e(n),r=Le({},e);return r.buildPath=function(i){if(w$(i)){i.setData(t.data);var a=i.getContext();a&&i.rebuildPath(a,1)}else{var a=i;t.rebuildPath(a,1)}},r.applyTransform=function(i){x$(t,i),this.dirtyShape()},r}function T$(n,e){return new S$(M$(n,e))}function C_e(n,e){var t=M$(n,e),r=(function(i){Rr(a,i);function a(o){var s=i.call(this,o)||this;return s.applyTransform=t.applyTransform,s.buildPath=t.buildPath,s}return a})(S$);return r}function E_e(n,e){for(var t=[],r=n.length,i=0;i<r;i++){var a=n[i];t.push(a.getUpdatedPathProxy(!0))}var o=new Tn(e);return o.createPathProxy(),o.buildPath=function(s){if(w$(s)){s.appendPath(t);var l=s.getContext();l&&s.rebuildPath(l,1)}},o}function Nk(n,e){e=e||{};var t=new Tn;return n.shape&&t.setShape(n.shape),t.setStyle(n.style),e.bakeTransform?x$(t.path,n.getComputedTransform()):e.toLocal?t.setLocalTransform(n.getComputedTransform()):t.copyTransform(n),t.buildPath=n.buildPath,t.applyTransform=t.applyTransform,t.z=n.z,t.z2=n.z2,t.zlevel=n.zlevel,t}var P_e=(function(){function n(){this.cx=0,this.cy=0,this.r=0}return n})(),ku=(function(n){Rr(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new P_e},e.prototype.buildPath=function(t,r){t.moveTo(r.cx+r.r,r.cy),t.arc(r.cx,r.cy,r.r,0,Math.PI*2)},e})(Tn);ku.prototype.type="circle";var D_e=(function(){function n(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return n})(),A1=(function(n){Rr(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new D_e},e.prototype.buildPath=function(t,r){var i=.5522848,a=r.cx,o=r.cy,s=r.rx,l=r.ry,u=s*i,c=l*i;t.moveTo(a-s,o),t.bezierCurveTo(a-s,o-c,a-u,o-l,a,o-l),t.bezierCurveTo(a+u,o-l,a+s,o-c,a+s,o),t.bezierCurveTo(a+s,o+c,a+u,o+l,a,o+l),t.bezierCurveTo(a-u,o+l,a-s,o+c,a-s,o),t.closePath()},e})(Tn);A1.prototype.type="ellipse";var b$=Math.PI,zD=b$*2,up=Math.sin,_m=Math.cos,R_e=Math.acos,La=Math.atan2,v4=Math.abs,Gx=Math.sqrt,hx=Math.max,fu=Math.min,Tl=1e-4;function L_e(n,e,t,r,i,a,o,s){var l=t-n,u=r-e,c=o-i,f=s-a,h=f*l-c*u;if(!(h*h<Tl))return h=(c*(e-a)-f*(n-i))/h,[n+h*l,e+h*u]}function $M(n,e,t,r,i,a,o){var s=n-t,l=e-r,u=(o?a:-a)/Gx(s*s+l*l),c=u*l,f=-u*s,h=n+c,d=e+f,p=t+c,g=r+f,m=(h+p)/2,y=(d+g)/2,S=p-h,M=g-d,b=S*S+M*M,C=i-a,A=h*g-p*d,E=(M<0?-1:1)*Gx(hx(0,C*C*b-A*A)),I=(A*M-S*E)/b,L=(-A*S-M*E)/b,R=(A*M+S*E)/b,O=(-A*S+M*E)/b,U=I-m,V=L-y,W=R-m,X=O-y;return U*U+V*V>W*W+X*X&&(I=R,L=O),{cx:I,cy:L,x0:-c,y0:-f,x1:I*(i/C-1),y1:L*(i/C-1)}}function I_e(n){var e;if(ze(n)){var t=n.length;if(!t)return n;t===1?e=[n[0],n[0],0,0]:t===2?e=[n[0],n[0],n[1],n[1]]:t===3?e=n.concat(n[2]):e=n}else e=[n,n,n,n];return e}function N_e(n,e){var t,r=hx(e.r,0),i=hx(e.r0||0,0),a=r>0,o=i>0;if(!(!a&&!o)){if(a||(r=i,i=0),i>r){var s=r;r=i,i=s}var l=e.startAngle,u=e.endAngle;if(!(isNaN(l)||isNaN(u))){var c=e.cx,f=e.cy,h=!!e.clockwise,d=v4(u-l),p=d>zD&&d%zD;if(p>Tl&&(d=p),!(r>Tl))n.moveTo(c,f);else if(d>zD-Tl)n.moveTo(c+r*_m(l),f+r*up(l)),n.arc(c,f,r,l,u,!h),i>Tl&&(n.moveTo(c+i*_m(u),f+i*up(u)),n.arc(c,f,i,u,l,h));else{var g=void 0,m=void 0,y=void 0,S=void 0,M=void 0,b=void 0,C=void 0,A=void 0,E=void 0,I=void 0,L=void 0,R=void 0,O=void 0,U=void 0,V=void 0,W=void 0,X=r*_m(l),j=r*up(l),Q=i*_m(u),B=i*up(u),Z=d>Tl;if(Z){var q=e.cornerRadius;q&&(t=I_e(q),g=t[0],m=t[1],y=t[2],S=t[3]);var Y=v4(r-i)/2;if(M=fu(Y,y),b=fu(Y,S),C=fu(Y,g),A=fu(Y,m),L=E=hx(M,b),R=I=hx(C,A),(E>Tl||I>Tl)&&(O=r*_m(u),U=r*up(u),V=i*_m(l),W=i*up(l),d<b$)){var te=L_e(X,j,V,W,O,U,Q,B);if(te){var me=X-te[0],ae=j-te[1],fe=O-te[0],be=U-te[1],Ee=1/up(R_e((me*fe+ae*be)/(Gx(me*me+ae*ae)*Gx(fe*fe+be*be)))/2),Be=Gx(te[0]*te[0]+te[1]*te[1]);L=fu(E,(r-Be)/(Ee+1)),R=fu(I,(i-Be)/(Ee-1))}}}if(!Z)n.moveTo(c+X,f+j);else if(L>Tl){var Oe=fu(y,L),$e=fu(S,L),ee=$M(V,W,X,j,r,Oe,h),ve=$M(O,U,Q,B,r,$e,h);n.moveTo(c+ee.cx+ee.x0,f+ee.cy+ee.y0),L<E&&Oe===$e?n.arc(c+ee.cx,f+ee.cy,L,La(ee.y0,ee.x0),La(ve.y0,ve.x0),!h):(Oe>0&&n.arc(c+ee.cx,f+ee.cy,Oe,La(ee.y0,ee.x0),La(ee.y1,ee.x1),!h),n.arc(c,f,r,La(ee.cy+ee.y1,ee.cx+ee.x1),La(ve.cy+ve.y1,ve.cx+ve.x1),!h),$e>0&&n.arc(c+ve.cx,f+ve.cy,$e,La(ve.y1,ve.x1),La(ve.y0,ve.x0),!h))}else n.moveTo(c+X,f+j),n.arc(c,f,r,l,u,!h);if(!(i>Tl)||!Z)n.lineTo(c+Q,f+B);else if(R>Tl){var Oe=fu(g,R),$e=fu(m,R),ee=$M(Q,B,O,U,i,-$e,h),ve=$M(X,j,V,W,i,-Oe,h);n.lineTo(c+ee.cx+ee.x0,f+ee.cy+ee.y0),R<I&&Oe===$e?n.arc(c+ee.cx,f+ee.cy,R,La(ee.y0,ee.x0),La(ve.y0,ve.x0),!h):($e>0&&n.arc(c+ee.cx,f+ee.cy,$e,La(ee.y0,ee.x0),La(ee.y1,ee.x1),!h),n.arc(c,f,i,La(ee.cy+ee.y1,ee.cx+ee.x1),La(ve.cy+ve.y1,ve.cx+ve.x1),h),Oe>0&&n.arc(c+ve.cx,f+ve.cy,Oe,La(ve.y1,ve.x1),La(ve.y0,ve.x0),!h))}else n.lineTo(c+Q,f+B),n.arc(c,f,i,u,l,h)}n.closePath()}}}var O_e=(function(){function n(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return n})(),Wa=(function(n){Rr(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new O_e},e.prototype.buildPath=function(t,r){N_e(t,r)},e.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},e})(Tn);Wa.prototype.type="sector";var k_e=(function(){function n(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return n})(),jy=(function(n){Rr(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new k_e},e.prototype.buildPath=function(t,r){var i=r.cx,a=r.cy,o=Math.PI*2;t.moveTo(i+r.r,a),t.arc(i,a,r.r,0,o,!1),t.moveTo(i+r.r0,a),t.arc(i,a,r.r0,0,o,!0)},e})(Tn);jy.prototype.type="ring";function F_e(n,e,t,r){var i=[],a=[],o=[],s=[],l,u,c,f;if(r){c=[1/0,1/0],f=[-1/0,-1/0];for(var h=0,d=n.length;h<d;h++)zc(c,c,n[h]),Bc(f,f,n[h]);zc(c,c,r[0]),Bc(f,f,r[1])}for(var h=0,d=n.length;h<d;h++){var p=n[h];if(t)l=n[h?h-1:d-1],u=n[(h+1)%d];else if(h===0||h===d-1){i.push(Eu(n[h]));continue}else l=n[h-1],u=n[h+1];vh(a,u,l),Ix(a,a,e);var g=Lb(p,l),m=Lb(p,u),y=g+m;y!==0&&(g/=y,m/=y),Ix(o,a,-g),Ix(s,a,m);var S=XL([],p,o),M=XL([],p,s);r&&(Bc(S,S,c),zc(S,S,f),Bc(M,M,c),zc(M,M,f)),i.push(S),i.push(M)}return t&&i.push(i.shift()),i}function A$(n,e,t){var r=e.smooth,i=e.points;if(i&&i.length>=2){if(r){var a=F_e(i,r,t,e.smoothConstraint);n.moveTo(i[0][0],i[0][1]);for(var o=i.length,s=0;s<(t?o:o-1);s++){var l=a[s*2],u=a[s*2+1],c=i[(s+1)%o];n.bezierCurveTo(l[0],l[1],u[0],u[1],c[0],c[1])}}else{n.moveTo(i[0][0],i[0][1]);for(var s=1,f=i.length;s<f;s++)n.lineTo(i[s][0],i[s][1])}t&&n.closePath()}}var z_e=(function(){function n(){this.points=null,this.smooth=0,this.smoothConstraint=null}return n})(),Xa=(function(n){Rr(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new z_e},e.prototype.buildPath=function(t,r){A$(t,r,!0)},e})(Tn);Xa.prototype.type="polygon";var B_e=(function(){function n(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return n})(),Za=(function(n){Rr(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new B_e},e.prototype.buildPath=function(t,r){A$(t,r,!1)},e})(Tn);Za.prototype.type="polyline";var U_e={},V_e=(function(){function n(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return n})(),Ri=(function(n){Rr(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new V_e},e.prototype.buildPath=function(t,r){var i,a,o,s;if(this.subPixelOptimize){var l=s$(U_e,r,this.style);i=l.x1,a=l.y1,o=l.x2,s=l.y2}else i=r.x1,a=r.y1,o=r.x2,s=r.y2;var u=r.percent;u!==0&&(t.moveTo(i,a),u<1&&(o=i*(1-u)+o*u,s=a*(1-u)+s*u),t.lineTo(o,s))},e.prototype.pointAt=function(t){var r=this.shape;return[r.x1*(1-t)+r.x2*t,r.y1*(1-t)+r.y2*t]},e})(Tn);Ri.prototype.type="line";var Io=[],G_e=(function(){function n(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return n})();function g4(n,e,t){var r=n.cpx2,i=n.cpy2;return r!=null||i!=null?[(t?M5:Vi)(n.x1,n.cpx1,n.cpx2,n.x2,e),(t?M5:Vi)(n.y1,n.cpy1,n.cpy2,n.y2,e)]:[(t?qL:na)(n.x1,n.cpx1,n.x2,e),(t?qL:na)(n.y1,n.cpy1,n.y2,e)]}var Zy=(function(n){Rr(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new G_e},e.prototype.buildPath=function(t,r){var i=r.x1,a=r.y1,o=r.x2,s=r.y2,l=r.cpx1,u=r.cpy1,c=r.cpx2,f=r.cpy2,h=r.percent;h!==0&&(t.moveTo(i,a),c==null||f==null?(h<1&&(CS(i,l,o,h,Io),l=Io[1],o=Io[2],CS(a,u,s,h,Io),u=Io[1],s=Io[2]),t.quadraticCurveTo(l,u,o,s)):(h<1&&(Oh(i,l,c,o,h,Io),l=Io[1],c=Io[2],o=Io[3],Oh(a,u,f,s,h,Io),u=Io[1],f=Io[2],s=Io[3]),t.bezierCurveTo(l,u,c,f,o,s)))},e.prototype.pointAt=function(t){return g4(this.shape,t,!1)},e.prototype.tangentAt=function(t){var r=g4(this.shape,t,!0);return kv(r,r)},e})(Tn);Zy.prototype.type="bezier-curve";var H_e=(function(){function n(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return n})(),C1=(function(n){Rr(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new H_e},e.prototype.buildPath=function(t,r){var i=r.cx,a=r.cy,o=Math.max(r.r,0),s=r.startAngle,l=r.endAngle,u=r.clockwise,c=Math.cos(s),f=Math.sin(s);t.moveTo(c*o+i,f*o+a),t.arc(i,a,o,s,l,!u)},e})(Tn);C1.prototype.type="arc";var CC=(function(n){Rr(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="compound",t}return e.prototype._updatePathDirty=function(){for(var t=this.shape.paths,r=this.shapeChanged(),i=0;i<t.length;i++)r=r||t[i].shapeChanged();r&&this.dirtyShape()},e.prototype.beforeBrush=function(){this._updatePathDirty();for(var t=this.shape.paths||[],r=this.getGlobalScale(),i=0;i<t.length;i++)t[i].path||t[i].createPathProxy(),t[i].path.setScale(r[0],r[1],t[i].segmentIgnoreThreshold)},e.prototype.buildPath=function(t,r){for(var i=r.paths||[],a=0;a<i.length;a++)i[a].buildPath(t,i[a].shape,!0)},e.prototype.afterBrush=function(){for(var t=this.shape.paths||[],r=0;r<t.length;r++)t[r].pathUpdated()},e.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),Tn.prototype.getBoundingRect.call(this)},e})(Tn),C$=(function(){function n(e){this.colorStops=e||[]}return n.prototype.addColorStop=function(e,t){this.colorStops.push({offset:e,color:t})},n})(),$y=(function(n){Rr(e,n);function e(t,r,i,a,o,s){var l=n.call(this,o)||this;return l.x=t??0,l.y=r??0,l.x2=i??1,l.y2=a??0,l.type="linear",l.global=s||!1,l}return e})(C$),Ok=(function(n){Rr(e,n);function e(t,r,i,a,o){var s=n.call(this,a)||this;return s.x=t??.5,s.y=r??.5,s.r=i??.5,s.type="radial",s.global=o||!1,s}return e})(C$),cp=[0,0],fp=[0,0],qM=new cn,KM=new cn,Hb=(function(){function n(e,t){this._corners=[],this._axes=[],this._origin=[0,0];for(var r=0;r<4;r++)this._corners[r]=new cn;for(var r=0;r<2;r++)this._axes[r]=new cn;e&&this.fromBoundingRect(e,t)}return n.prototype.fromBoundingRect=function(e,t){var r=this._corners,i=this._axes,a=e.x,o=e.y,s=a+e.width,l=o+e.height;if(r[0].set(a,o),r[1].set(s,o),r[2].set(s,l),r[3].set(a,l),t)for(var u=0;u<4;u++)r[u].transform(t);cn.sub(i[0],r[1],r[0]),cn.sub(i[1],r[3],r[0]),i[0].normalize(),i[1].normalize();for(var u=0;u<2;u++)this._origin[u]=i[u].dot(r[0])},n.prototype.intersect=function(e,t){var r=!0,i=!t;return qM.set(1/0,1/0),KM.set(0,0),!this._intersectCheckOneSide(this,e,qM,KM,i,1)&&(r=!1,i)||!this._intersectCheckOneSide(e,this,qM,KM,i,-1)&&(r=!1,i)||i||cn.copy(t,r?qM:KM),r},n.prototype._intersectCheckOneSide=function(e,t,r,i,a,o){for(var s=!0,l=0;l<2;l++){var u=this._axes[l];if(this._getProjMinMaxOnAxis(l,e._corners,cp),this._getProjMinMaxOnAxis(l,t._corners,fp),cp[1]<fp[0]||cp[0]>fp[1]){if(s=!1,a)return s;var c=Math.abs(fp[0]-cp[1]),f=Math.abs(cp[0]-fp[1]);Math.min(c,f)>i.len()&&(c<f?cn.scale(i,u,-c*o):cn.scale(i,u,f*o))}else if(r){var c=Math.abs(fp[0]-cp[1]),f=Math.abs(cp[0]-fp[1]);Math.min(c,f)<r.len()&&(c<f?cn.scale(r,u,c*o):cn.scale(r,u,-f*o))}}return s},n.prototype._getProjMinMaxOnAxis=function(e,t,r){for(var i=this._axes[e],a=this._origin,o=t[0].dot(i)+a[e],s=o,l=o,u=1;u<t.length;u++){var c=t[u].dot(i)+a[e];s=Math.min(c,s),l=Math.max(c,l)}r[0]=s,r[1]=l},n})(),W_e=[],E$=(function(n){Rr(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.notClear=!0,t.incremental=!0,t._displayables=[],t._temporaryDisplayables=[],t._cursor=0,t}return e.prototype.traverse=function(t,r){t.call(r,this)},e.prototype.useStyle=function(){this.style={}},e.prototype.getCursor=function(){return this._cursor},e.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},e.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},e.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},e.prototype.addDisplayable=function(t,r){r?this._temporaryDisplayables.push(t):this._displayables.push(t),this.markRedraw()},e.prototype.addDisplayables=function(t,r){r=r||!1;for(var i=0;i<t.length;i++)this.addDisplayable(t[i],r)},e.prototype.getDisplayables=function(){return this._displayables},e.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},e.prototype.eachPendingDisplayable=function(t){for(var r=this._cursor;r<this._displayables.length;r++)t&&t(this._displayables[r]);for(var r=0;r<this._temporaryDisplayables.length;r++)t&&t(this._temporaryDisplayables[r])},e.prototype.update=function(){this.updateTransform();for(var t=this._cursor;t<this._displayables.length;t++){var r=this._displayables[t];r.parent=this,r.update(),r.parent=null}for(var t=0;t<this._temporaryDisplayables.length;t++){var r=this._temporaryDisplayables[t];r.parent=this,r.update(),r.parent=null}},e.prototype.getBoundingRect=function(){if(!this._rect){for(var t=new fn(1/0,1/0,-1/0,-1/0),r=0;r<this._displayables.length;r++){var i=this._displayables[r],a=i.getBoundingRect().clone();i.needLocalTransform()&&a.applyTransform(i.getLocalTransform(W_e)),t.union(a)}this._rect=t}return this._rect},e.prototype.contain=function(t,r){var i=this.transformCoordToLocal(t,r),a=this.getBoundingRect();if(a.contain(i[0],i[1]))for(var o=0;o<this._displayables.length;o++){var s=this._displayables[o];if(s.contain(t,r))return!0}return!1},e})(Hs),P$=Un();function qy(n,e,t,r,i){var a;if(e&&e.ecModel){var o=e.ecModel.getUpdatePayload();a=o&&o.animation}var s=e&&e.isAnimationEnabled(),l=n==="update";if(s){var u=void 0,c=void 0,f=void 0;r?(u=tn(r.duration,200),c=tn(r.easing,"cubicOut"),f=0):(u=e.getShallow(l?"animationDurationUpdate":"animationDuration"),c=e.getShallow(l?"animationEasingUpdate":"animationEasing"),f=e.getShallow(l?"animationDelayUpdate":"animationDelay")),a&&(a.duration!=null&&(u=a.duration),a.easing!=null&&(c=a.easing),a.delay!=null&&(f=a.delay)),Ct(f)&&(f=f(t,i)),Ct(u)&&(u=u(t));var h={duration:u||0,delay:f,easing:c};return h}else return null}function kk(n,e,t,r,i,a,o){var s=!1,l;Ct(i)?(o=a,a=i,i=null):Bt(i)&&(a=i.cb,o=i.during,s=i.isFrom,l=i.removeOpt,i=i.dataIndex);var u=n==="leave";u||e.stopAnimation("leave");var c=qy(n,r,i,u?l||{}:null,r&&r.getAnimationDelayParams?r.getAnimationDelayParams(e,i):null);if(c&&c.duration>0){var f=c.duration,h=c.delay,d=c.easing,p={duration:f,delay:h||0,easing:d,done:a,force:!!a||!!o,setToFinal:!u,scope:n,during:o};s?e.animateFrom(t,p):e.animateTo(t,p)}else e.stopAnimation(),!s&&e.attr(t),o&&o(1),a&&a()}function Xn(n,e,t,r,i,a){kk("update",n,e,t,r,i,a)}function Dr(n,e,t,r,i,a){kk("enter",n,e,t,r,i,a)}function uy(n){if(!n.__zr)return!0;for(var e=0;e<n.animators.length;e++){var t=n.animators[e];if(t.scope==="leave")return!0}return!1}function kh(n,e,t,r,i,a){uy(n)||kk("leave",n,e,t,r,i,a)}function m4(n,e,t,r){n.removeTextContent(),n.removeTextGuideLine(),kh(n,{style:{opacity:0}},e,t,r)}function OS(n,e,t){function r(){n.parent&&n.parent.remove(n)}n.isGroup?n.traverse(function(i){i.isGroup||m4(i,e,t,r)}):m4(n,e,t,r)}function Wl(n){P$(n).oldStyle=n.style}function X_e(n){return P$(n).oldStyle}var Wb=Math.max,Xb=Math.min,wI={};function D$(n){return Tn.extend(n)}var Y_e=C_e;function R$(n,e){return Y_e(n,e)}function Xs(n,e){wI[n]=e}function EC(n){if(wI.hasOwnProperty(n))return wI[n]}function E1(n,e,t,r){var i=T$(n,e);return t&&(r==="center"&&(t=L$(t,i.getBoundingRect())),zk(i,t)),i}function Fk(n,e,t){var r=new $i({style:{image:n,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(i){if(t==="center"){var a={width:i.width,height:i.height};r.setStyle(L$(e,a))}}});return r}function L$(n,e){var t=e.width/e.height,r=n.height*t,i;r<=n.width?i=n.height:(r=n.width,i=r/t);var a=n.x+n.width/2,o=n.y+n.height/2;return{x:a-r/2,y:o-i/2,width:r,height:i}}var is=E_e;function zk(n,e){if(n.applyTransform){var t=n.getBoundingRect(),r=t.calculateTransform(e);n.applyTransform(r)}}function Ay(n,e){return s$(n,n,{lineWidth:e}),n}function j_e(n){return l$(n.shape,n.shape,n.style),n}var nb=Zp;function Ah(n,e){for(var t=S1([]);n&&n!==e;)Pu(t,n.getLocalTransform(),t),n=n.parent;return t}function zl(n,e,t){return e&&!_a(e)&&(e=Uc.getLocalTransform(e)),t&&(e=Fv([],e)),ia([],n,e)}function PC(n,e,t){var r=e[4]===0||e[5]===0||e[0]===0?1:Math.abs(2*e[4]/e[0]),i=e[4]===0||e[5]===0||e[2]===0?1:Math.abs(2*e[4]/e[2]),a=[n==="left"?-r:n==="right"?r:0,n==="top"?-i:n==="bottom"?i:0];return a=zl(a,e,t),Math.abs(a[0])>Math.abs(a[1])?a[0]>0?"right":"left":a[1]>0?"bottom":"top"}function y4(n){return!n.isGroup}function Z_e(n){return n.shape!=null}function P1(n,e,t){if(!n||!e)return;function r(o){var s={};return o.traverse(function(l){y4(l)&&l.anid&&(s[l.anid]=l)}),s}function i(o){var s={x:o.x,y:o.y,rotation:o.rotation};return Z_e(o)&&(s.shape=Le({},o.shape)),s}var a=r(n);e.traverse(function(o){if(y4(o)&&o.anid){var s=a[o.anid];if(s){var l=i(o);o.attr(i(s)),Xn(o,l,t,$t(o).dataIndex)}}})}function Bk(n,e){return Ve(n,function(t){var r=t[0];r=Wb(r,e.x),r=Xb(r,e.x+e.width);var i=t[1];return i=Wb(i,e.y),i=Xb(i,e.y+e.height),[r,i]})}function I$(n,e){var t=Wb(n.x,e.x),r=Xb(n.x+n.width,e.x+e.width),i=Wb(n.y,e.y),a=Xb(n.y+n.height,e.y+e.height);if(r>=t&&a>=i)return{x:t,y:i,width:r-t,height:a-i}}function Ky(n,e,t){var r=Le({rectHover:!0},e),i=r.style={strokeNoScale:!0};if(t=t||{x:-1,y:-1,width:2,height:2},n)return n.indexOf("image://")===0?(i.image=n.slice(8),Dt(i,t),new $i(r)):E1(n.replace("path://",""),r,t,"center")}function dx(n,e,t,r,i){for(var a=0,o=i[i.length-1];a<i.length;a++){var s=i[a];if(N$(n,e,t,r,s[0],s[1],o[0],o[1]))return!0;o=s}}function N$(n,e,t,r,i,a,o,s){var l=t-n,u=r-e,c=o-i,f=s-a,h=BD(c,f,l,u);if($_e(h))return!1;var d=n-i,p=e-a,g=BD(d,p,l,u)/h;if(g<0||g>1)return!1;var m=BD(d,p,c,f)/h;return!(m<0||m>1)}function BD(n,e,t,r){return n*r-t*e}function $_e(n){return n<=1e-6&&n>=-1e-6}function zv(n){var e=n.itemTooltipOption,t=n.componentModel,r=n.itemName,i=ut(e)?{formatter:e}:e,a=t.mainType,o=t.componentIndex,s={componentType:a,name:r,$vars:["name"]};s[a+"Index"]=o;var l=n.formatterParamsExtra;l&&G(En(l),function(c){gt(s,c)||(s[c]=l[c],s.$vars.push(c))});var u=$t(n.el);u.componentMainType=a,u.componentIndex=o,u.tooltipConfig={name:r,option:Dt({content:r,encodeHTMLContent:!0,formatterParams:s},i)}}function _4(n,e){var t;n.isGroup&&(t=e(n)),t||n.traverse(e)}function Zh(n,e){if(n)if(ze(n))for(var t=0;t<n.length;t++)_4(n[t],e);else _4(n,e)}Xs("circle",ku);Xs("ellipse",A1);Xs("sector",Wa);Xs("ring",jy);Xs("polygon",Xa);Xs("polyline",Za);Xs("rect",kn);Xs("line",Ri);Xs("bezierCurve",Zy);Xs("arc",C1);const Bv=Object.freeze(Object.defineProperty({__proto__:null,Arc:C1,BezierCurve:Zy,BoundingRect:fn,Circle:ku,CompoundPath:CC,Ellipse:A1,Group:Xt,Image:$i,IncrementalDisplayable:E$,Line:Ri,LinearGradient:$y,OrientedBoundingRect:Hb,Path:Tn,Point:cn,Polygon:Xa,Polyline:Za,RadialGradient:Ok,Rect:kn,Ring:jy,Sector:Wa,Text:On,applyTransform:zl,clipPointsByRect:Bk,clipRectByRect:I$,createIcon:Ky,extendPath:R$,extendShape:D$,getShapeClass:EC,getTransform:Ah,groupTransition:P1,initProps:Dr,isElementRemoved:uy,lineLineIntersect:N$,linePolygonIntersect:dx,makeImage:Fk,makePath:E1,mergePath:is,registerShape:Xs,removeElement:kh,removeElementWithFadeOut:OS,resizePath:zk,setTooltipConfig:zv,subPixelOptimize:nb,subPixelOptimizeLine:Ay,subPixelOptimizeRect:j_e,transformDirection:PC,traverseElements:Zh,updateProps:Xn},Symbol.toStringTag,{value:"Module"}));var DC={};function O$(n,e){for(var t=0;t<_o.length;t++){var r=_o[t],i=e[r],a=n.ensureState(r);a.style=a.style||{},a.style.text=i}var o=n.currentStates.slice();n.clearStates(!0),n.setStyle({text:e.normal}),n.useStates(o,!0)}function MI(n,e,t){var r=n.labelFetcher,i=n.labelDataIndex,a=n.labelDimIndex,o=e.normal,s;r&&(s=r.getFormattedLabel(i,"normal",null,a,o&&o.get("formatter"),t!=null?{interpolatedValue:t}:null)),s==null&&(s=Ct(n.defaultText)?n.defaultText(i,n,t):n.defaultText);for(var l={normal:s},u=0;u<_o.length;u++){var c=_o[u],f=e[c];l[c]=tn(r?r.getFormattedLabel(i,c,null,a,f&&f.get("formatter")):null,s)}return l}function Sa(n,e,t,r){t=t||DC;for(var i=n instanceof On,a=!1,o=0;o<IS.length;o++){var s=e[IS[o]];if(s&&s.getShallow("show")){a=!0;break}}var l=i?n:n.getTextContent();if(a){i||(l||(l=new On,n.setTextContent(l)),n.stateProxy&&(l.stateProxy=n.stateProxy));var u=MI(t,e),c=e.normal,f=!!c.getShallow("show"),h=_r(c,r&&r.normal,t,!1,!i);h.text=u.normal,i||n.setTextConfig(Yb(c,t,!1));for(var o=0;o<_o.length;o++){var d=_o[o],s=e[d];if(s){var p=l.ensureState(d),g=!!tn(s.getShallow("show"),f);if(g!==f&&(p.ignore=!g),p.style=_r(s,r&&r[d],t,!0,!i),p.style.text=u[d],!i){var m=n.ensureState(d);m.textConfig=Yb(s,t,!0)}}}l.silent=!!c.getShallow("silent"),l.style.x!=null&&(h.x=l.style.x),l.style.y!=null&&(h.y=l.style.y),l.ignore=!f,l.useStyle(h),l.dirty(),t.enableTextSetter&&(Jy(l).setLabelText=function(y){var S=MI(t,e,y);O$(l,S)})}else l&&(l.ignore=!0);n.dirty()}function ji(n,e){e=e||"label";for(var t={normal:n.getModel(e)},r=0;r<_o.length;r++){var i=_o[r];t[i]=n.getModel([i,e])}return t}function _r(n,e,t,r,i){var a={};return q_e(a,n,t,r,i),e&&Le(a,e),a}function Yb(n,e,t){e=e||{};var r={},i,a=n.getShallow("rotate"),o=tn(n.getShallow("distance"),t?null:5),s=n.getShallow("offset");return i=n.getShallow("position")||(t?null:"inside"),i==="outside"&&(i=e.defaultOutsidePosition||"top"),i!=null&&(r.position=i),s!=null&&(r.offset=s),a!=null&&(a*=Math.PI/180,r.rotation=a),o!=null&&(r.distance=o),r.outsideFill=n.get("color")==="inherit"?e.inheritColor||null:"auto",r}function q_e(n,e,t,r,i){t=t||DC;var a=e.ecModel,o=a&&a.option.textStyle,s=K_e(e),l;if(s){l={};for(var u in s)if(s.hasOwnProperty(u)){var c=e.getModel(["rich",u]);M4(l[u]={},c,o,t,r,i,!1,!0)}}l&&(n.rich=l);var f=e.get("overflow");f&&(n.overflow=f);var h=e.get("minMargin");h!=null&&(n.margin=h),M4(n,e,o,t,r,i,!0,!1)}function K_e(n){for(var e;n&&n!==n.ecModel;){var t=(n.option||DC).rich;if(t){e=e||{};for(var r=En(t),i=0;i<r.length;i++){var a=r[i];e[a]=1}}n=n.parentModel}return e}var x4=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],S4=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],w4=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function M4(n,e,t,r,i,a,o,s){t=!i&&t||DC;var l=r&&r.inheritColor,u=e.getShallow("color"),c=e.getShallow("textBorderColor"),f=tn(e.getShallow("opacity"),t.opacity);(u==="inherit"||u==="auto")&&(l?u=l:u=null),(c==="inherit"||c==="auto")&&(l?c=l:c=null),a||(u=u||t.color,c=c||t.textBorderColor),u!=null&&(n.fill=u),c!=null&&(n.stroke=c);var h=tn(e.getShallow("textBorderWidth"),t.textBorderWidth);h!=null&&(n.lineWidth=h);var d=tn(e.getShallow("textBorderType"),t.textBorderType);d!=null&&(n.lineDash=d);var p=tn(e.getShallow("textBorderDashOffset"),t.textBorderDashOffset);p!=null&&(n.lineDashOffset=p),!i&&f==null&&!s&&(f=r&&r.defaultOpacity),f!=null&&(n.opacity=f),!i&&!a&&n.fill==null&&r.inheritColor&&(n.fill=r.inheritColor);for(var g=0;g<x4.length;g++){var m=x4[g],y=tn(e.getShallow(m),t[m]);y!=null&&(n[m]=y)}for(var g=0;g<S4.length;g++){var m=S4[g],y=e.getShallow(m);y!=null&&(n[m]=y)}if(n.verticalAlign==null){var S=e.getShallow("baseline");S!=null&&(n.verticalAlign=S)}if(!o||!r.disableBox){for(var g=0;g<w4.length;g++){var m=w4[g],y=e.getShallow(m);y!=null&&(n[m]=y)}var M=e.getShallow("borderType");M!=null&&(n.borderDash=M),(n.backgroundColor==="auto"||n.backgroundColor==="inherit")&&l&&(n.backgroundColor=l),(n.borderColor==="auto"||n.borderColor==="inherit")&&l&&(n.borderColor=l)}}function Uk(n,e){var t=e&&e.getModel("textStyle");return Us([n.fontStyle||t&&t.getShallow("fontStyle")||"",n.fontWeight||t&&t.getShallow("fontWeight")||"",(n.fontSize||t&&t.getShallow("fontSize")||12)+"px",n.fontFamily||t&&t.getShallow("fontFamily")||"sans-serif"].join(" "))}var Jy=Un();function k$(n,e,t,r){if(n){var i=Jy(n);i.prevValue=i.value,i.value=t;var a=e.normal;i.valueAnimation=a.get("valueAnimation"),i.valueAnimation&&(i.precision=a.get("precision"),i.defaultInterpolatedText=r,i.statesModels=e)}}function F$(n,e,t,r,i){var a=Jy(n);if(!a.valueAnimation||a.prevValue===a.value)return;var o=a.defaultInterpolatedText,s=tn(a.interpolatedValue,a.prevValue),l=a.value;function u(c){var f=JZ(t,a.precision,s,l,c);a.interpolatedValue=c===1?null:f;var h=MI({labelDataIndex:e,labelFetcher:i,defaultText:o?o(f):f+""},a.statesModels,f);O$(n,h)}n.percent=0,(a.prevValue==null?Dr:Xn)(n,{percent:1},r,e,null,u)}var J_e=["textStyle","color"],UD=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],VD=new On,Q_e=(function(){function n(){}return n.prototype.getTextColor=function(e){var t=this.ecModel;return this.getShallow("color")||(!e&&t?t.get(J_e):null)},n.prototype.getFont=function(){return Uk({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},n.prototype.getTextRect=function(e){for(var t={text:e,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},r=0;r<UD.length;r++)t[UD[r]]=this.getShallow(UD[r]);return VD.useStyle(t),VD.update(),VD.getBoundingRect()},n})(),z$=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],exe=Mv(z$),txe=(function(){function n(){}return n.prototype.getLineStyle=function(e){return exe(this,e)},n})(),B$=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],nxe=Mv(B$),rxe=(function(){function n(){}return n.prototype.getItemStyle=function(e,t){return nxe(this,e,t)},n})(),qn=(function(){function n(e,t,r){this.parentModel=t,this.ecModel=r,this.option=e}return n.prototype.init=function(e,t,r){},n.prototype.mergeOption=function(e,t){on(this.option,e,!0)},n.prototype.get=function(e,t){return e==null?this.option:this._doGet(this.parsePath(e),!t&&this.parentModel)},n.prototype.getShallow=function(e,t){var r=this.option,i=r==null?r:r[e];if(i==null&&!t){var a=this.parentModel;a&&(i=a.getShallow(e))}return i},n.prototype.getModel=function(e,t){var r=e!=null,i=r?this.parsePath(e):null,a=r?this._doGet(i):this.option;return t=t||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(i)),new n(a,t,this.ecModel)},n.prototype.isEmpty=function(){return this.option==null},n.prototype.restoreData=function(){},n.prototype.clone=function(){var e=this.constructor;return new e(Vt(this.option))},n.prototype.parsePath=function(e){return typeof e=="string"?e.split("."):e},n.prototype.resolveParentPath=function(e){return e},n.prototype.isAnimationEnabled=function(){if(!Mn.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},n.prototype._doGet=function(e,t){var r=this.option;if(!e)return r;for(var i=0;i<e.length&&!(e[i]&&(r=r&&typeof r=="object"?r[e[i]]:null,r==null));i++);return r==null&&t&&(r=t._doGet(this.resolveParentPath(e),t.parentModel)),r},n})();Ak(qn);g0e(qn);ti(qn,txe);ti(qn,rxe);ti(qn,S0e);ti(qn,Q_e);var ixe=Math.round(Math.random()*10);function Qy(n){return[n||"",ixe++].join("_")}function axe(n){var e={};n.registerSubTypeDefaulter=function(t,r){var i=Su(t);e[i.main]=r},n.determineSubType=function(t,r){var i=r.type;if(!i){var a=Su(t).main;n.hasSubTypes(t)&&e[a]&&(i=e[a](r))}return i}}function oxe(n,e){n.topologicalTravel=function(a,o,s,l){if(!a.length)return;var u=t(o),c=u.graph,f=u.noEntryList,h={};for(G(a,function(S){h[S]=!0});f.length;){var d=f.pop(),p=c[d],g=!!h[d];g&&(s.call(l,d,p.originalDeps.slice()),delete h[d]),G(p.successor,g?y:m)}G(h,function(){var S="";throw new Error(S)});function m(S){c[S].entryCount--,c[S].entryCount===0&&f.push(S)}function y(S){h[S]=!0,m(S)}};function t(a){var o={},s=[];return G(a,function(l){var u=r(o,l),c=u.originalDeps=e(l),f=i(c,a);u.entryCount=f.length,u.entryCount===0&&s.push(l),G(f,function(h){dn(u.predecessor,h)<0&&u.predecessor.push(h);var d=r(o,h);dn(d.successor,h)<0&&d.successor.push(l)})}),{graph:o,noEntryList:s}}function r(a,o){return a[o]||(a[o]={predecessor:[],successor:[]}),a[o]}function i(a,o){var s=[];return G(a,function(l){dn(o,l)>=0&&s.push(l)}),s}}function $h(n,e){return on(on({},n,!0),e,!0)}const sxe={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst",custom:"Custom chart",chart:"Chart"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},lxe={time:{month:["","","","","","","","","","","",""],monthAbbr:["1","2","3","4","5","6","7","8","9","10","11","12"],dayOfWeek:["","","","","","",""],dayOfWeekAbbr:["","","","","","",""]},legend:{selector:{all:"",inverse:""}},toolbox:{brush:{title:{rect:"",polygon:"",lineX:"",lineY:"",keep:"",clear:""}},dataView:{title:"",lang:["","",""]},dataZoom:{title:{zoom:"",back:""}},magicType:{title:{line:"",bar:"",stack:"",tiled:""}},restore:{title:""},saveAsImage:{title:"",lang:[""]}},series:{typeNames:{pie:"",bar:"",line:"",scatter:"",effectScatter:"",radar:"",tree:"",treemap:"",boxplot:"",candlestick:"K",k:"K",heatmap:"",map:"",parallel:"",lines:"",graph:"",sankey:"",funnel:"",gauge:"",pictorialBar:"",themeRiver:"",sunburst:"",custom:"",chart:""}},aria:{general:{withTitle:"{title}",withoutTitle:""},series:{single:{prefix:"",withName:"{seriesType}{seriesName}",withoutName:"{seriesType}"},multiple:{prefix:"{seriesCount}",withName:"{seriesId}{seriesName}{seriesType}",withoutName:"{seriesId}{seriesType}",separator:{middle:"",end:""}}},data:{allData:"",partialData:"{displayCnt}",withName:"{name}{value}",withoutName:"{value}",separator:{middle:"",end:""}}}};var jb="ZH",Vk="EN",cy=Vk,rb={},Gk={},U$=Mn.domSupported?(function(){var n=(document.documentElement.lang||navigator.language||navigator.browserLanguage||cy).toUpperCase();return n.indexOf(jb)>-1?jb:cy})():cy;function Hk(n,e){n=n.toUpperCase(),Gk[n]=new qn(e),rb[n]=e}function uxe(n){if(ut(n)){var e=rb[n.toUpperCase()]||{};return n===jb||n===Vk?Vt(e):on(Vt(e),Vt(rb[cy]),!1)}else return on(Vt(n),Vt(rb[cy]),!1)}function TI(n){return Gk[n]}function cxe(){return Gk[cy]}Hk(Vk,sxe);Hk(jb,lxe);var Wk=1e3,Xk=Wk*60,Hx=Xk*60,zs=Hx*24,T4=zs*365,px={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},JM="{yyyy}-{MM}-{dd}",b4={year:"{yyyy}",month:"{yyyy}-{MM}",day:JM,hour:JM+" "+px.hour,minute:JM+" "+px.minute,second:JM+" "+px.second,millisecond:px.none},GD=["year","month","day","hour","minute","second","millisecond"],V$=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function co(n,e){return n+="","0000".substr(0,e-n.length)+n}function fy(n){switch(n){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return n}}function fxe(n){return n===fy(n)}function hxe(n){switch(n){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function D1(n,e,t,r){var i=ds(n),a=i[Yk(t)](),o=i[hy(t)]()+1,s=Math.floor((o-1)/3)+1,l=i[RC(t)](),u=i["get"+(t?"UTC":"")+"Day"](),c=i[kS(t)](),f=(c-1)%12+1,h=i[LC(t)](),d=i[IC(t)](),p=i[NC(t)](),g=c>=12?"pm":"am",m=g.toUpperCase(),y=r instanceof qn?r:TI(r||U$)||cxe(),S=y.getModel("time"),M=S.get("month"),b=S.get("monthAbbr"),C=S.get("dayOfWeek"),A=S.get("dayOfWeekAbbr");return(e||"").replace(/{a}/g,g+"").replace(/{A}/g,m+"").replace(/{yyyy}/g,a+"").replace(/{yy}/g,co(a%100+"",2)).replace(/{Q}/g,s+"").replace(/{MMMM}/g,M[o-1]).replace(/{MMM}/g,b[o-1]).replace(/{MM}/g,co(o,2)).replace(/{M}/g,o+"").replace(/{dd}/g,co(l,2)).replace(/{d}/g,l+"").replace(/{eeee}/g,C[u]).replace(/{ee}/g,A[u]).replace(/{e}/g,u+"").replace(/{HH}/g,co(c,2)).replace(/{H}/g,c+"").replace(/{hh}/g,co(f+"",2)).replace(/{h}/g,f+"").replace(/{mm}/g,co(h,2)).replace(/{m}/g,h+"").replace(/{ss}/g,co(d,2)).replace(/{s}/g,d+"").replace(/{SSS}/g,co(p,3)).replace(/{S}/g,p+"")}function dxe(n,e,t,r,i){var a=null;if(ut(t))a=t;else if(Ct(t))a=t(n.value,e,{level:n.level});else{var o=Le({},px);if(n.level>0)for(var s=0;s<GD.length;++s)o[GD[s]]="{primary|"+o[GD[s]]+"}";var l=t?t.inherit===!1?t:Dt(t,o):o,u=G$(n.value,i);if(l[u])a=l[u];else if(l.inherit){for(var c=V$.indexOf(u),s=c-1;s>=0;--s)if(l[u]){a=l[u];break}a=a||o.none}if(ze(a)){var f=n.level==null?0:n.level>=0?n.level:a.length+n.level;f=Math.min(f,a.length-1),a=a[f]}}return D1(new Date(n.value),a,i,r)}function G$(n,e){var t=ds(n),r=t[hy(e)]()+1,i=t[RC(e)](),a=t[kS(e)](),o=t[LC(e)](),s=t[IC(e)](),l=t[NC(e)](),u=l===0,c=u&&s===0,f=c&&o===0,h=f&&a===0,d=h&&i===1,p=d&&r===1;return p?"year":d?"month":h?"day":f?"hour":c?"minute":u?"second":"millisecond"}function A4(n,e,t){var r=Hn(n)?ds(n):n;switch(e=e||G$(n,t),e){case"year":return r[Yk(t)]();case"half-year":return r[hy(t)]()>=6?1:0;case"quarter":return Math.floor((r[hy(t)]()+1)/4);case"month":return r[hy(t)]();case"day":return r[RC(t)]();case"half-day":return r[kS(t)]()/24;case"hour":return r[kS(t)]();case"minute":return r[LC(t)]();case"second":return r[IC(t)]();case"millisecond":return r[NC(t)]()}}function Yk(n){return n?"getUTCFullYear":"getFullYear"}function hy(n){return n?"getUTCMonth":"getMonth"}function RC(n){return n?"getUTCDate":"getDate"}function kS(n){return n?"getUTCHours":"getHours"}function LC(n){return n?"getUTCMinutes":"getMinutes"}function IC(n){return n?"getUTCSeconds":"getSeconds"}function NC(n){return n?"getUTCMilliseconds":"getMilliseconds"}function pxe(n){return n?"setUTCFullYear":"setFullYear"}function H$(n){return n?"setUTCMonth":"setMonth"}function W$(n){return n?"setUTCDate":"setDate"}function X$(n){return n?"setUTCHours":"setHours"}function Y$(n){return n?"setUTCMinutes":"setMinutes"}function j$(n){return n?"setUTCSeconds":"setSeconds"}function Z$(n){return n?"setUTCMilliseconds":"setMilliseconds"}function vxe(n,e,t,r,i,a,o,s){var l=new On({style:{text:n,font:e,align:t,verticalAlign:r,padding:i,rich:a,overflow:o?"truncate":null,lineHeight:s}});return l.getBoundingRect()}function jk(n){if(!Mk(n))return ut(n)?n:"-";var e=(n+"").split(".");return e[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(e.length>1?"."+e[1]:"")}function Zk(n,e){return n=(n||"").toLowerCase().replace(/-(.)/g,function(t,r){return r.toUpperCase()}),e&&n&&(n=n.charAt(0).toUpperCase()+n.slice(1)),n}var Uv=pC;function bI(n,e,t){var r="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function i(c){return c&&Us(c)?c:"-"}function a(c){return!!(c!=null&&!isNaN(c)&&isFinite(c))}var o=e==="time",s=n instanceof Date;if(o||s){var l=o?ds(n):n;if(isNaN(+l)){if(s)return"-"}else return D1(l,r,t)}if(e==="ordinal")return Db(n)?i(n):Hn(n)&&a(n)?n+"":"-";var u=Iu(n);return a(u)?jk(u):Db(n)?i(n):typeof n=="boolean"?n+"":"-"}var C4=["a","b","c","d","e","f","g"],HD=function(n,e){return"{"+n+(e??"")+"}"};function $k(n,e,t){ze(e)||(e=[e]);var r=e.length;if(!r)return"";for(var i=e[0].$vars||[],a=0;a<i.length;a++){var o=C4[a];n=n.replace(HD(o),HD(o,0))}for(var s=0;s<r;s++)for(var l=0;l<i.length;l++){var u=e[s][i[l]];n=n.replace(HD(C4[l],s),t?za(u):u)}return n}function gxe(n,e,t){return G(e,function(r,i){n=n.replace("{"+i+"}",r)}),n}function $$(n,e){var t=ut(n)?{color:n,extraCssText:e}:n||{},r=t.color,i=t.type;e=t.extraCssText;var a=t.renderMode||"html";if(!r)return"";if(a==="html")return i==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+za(r)+";"+(e||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+za(r)+";"+(e||"")+'"></span>';var o=t.markerId||"markerX";return{renderMode:a,content:"{"+o+"|}  ",style:i==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:r}:{width:10,height:10,borderRadius:5,backgroundColor:r}}}function mxe(n,e,t){(n==="week"||n==="month"||n==="quarter"||n==="half-year"||n==="year")&&(n=`MM-dd
yyyy`);var r=ds(e),i=t?"getUTC":"get",a=r[i+"FullYear"](),o=r[i+"Month"]()+1,s=r[i+"Date"](),l=r[i+"Hours"](),u=r[i+"Minutes"](),c=r[i+"Seconds"](),f=r[i+"Milliseconds"]();return n=n.replace("MM",co(o,2)).replace("M",o).replace("yyyy",a).replace("yy",co(a%100+"",2)).replace("dd",co(s,2)).replace("d",s).replace("hh",co(l,2)).replace("h",l).replace("mm",co(u,2)).replace("m",u).replace("ss",co(c,2)).replace("s",c).replace("SSS",co(f,3)),n}function yxe(n){return n&&n.charAt(0).toUpperCase()+n.substr(1)}function bv(n,e){return e=e||"transparent",ut(n)?n:Bt(n)&&n.colorStops&&(n.colorStops[0]||{}).color||e}function Zb(n,e){if(e==="_blank"||e==="blank"){var t=window.open();t.opener=null,t.location.href=n}else window.open(n,e)}var ib=G,q$=["left","right","top","bottom","width","height"],qp=[["width","left","right"],["height","top","bottom"]];function qk(n,e,t,r,i){var a=0,o=0;r==null&&(r=1/0),i==null&&(i=1/0);var s=0;e.eachChild(function(l,u){var c=l.getBoundingRect(),f=e.childAt(u+1),h=f&&f.getBoundingRect(),d,p;if(n==="horizontal"){var g=c.width+(h?-h.x+c.x:0);d=a+g,d>r||l.newline?(a=0,d=g,o+=s+t,s=c.height):s=Math.max(s,c.height)}else{var m=c.height+(h?-h.y+c.y:0);p=o+m,p>i||l.newline?(a+=s+t,o=0,p=m,s=c.width):s=Math.max(s,c.width)}l.newline||(l.x=a,l.y=o,l.markRedraw(),n==="horizontal"?a=d+t:o=p+t)})}var cv=qk;nn(qk,"vertical");nn(qk,"horizontal");function _xe(n,e,t){var r=e.width,i=e.height,a=rt(n.left,r),o=rt(n.top,i),s=rt(n.right,r),l=rt(n.bottom,i);return(isNaN(a)||isNaN(parseFloat(n.left)))&&(a=0),(isNaN(s)||isNaN(parseFloat(n.right)))&&(s=r),(isNaN(o)||isNaN(parseFloat(n.top)))&&(o=0),(isNaN(l)||isNaN(parseFloat(n.bottom)))&&(l=i),t=Uv(t||0),{width:Math.max(s-a-t[1]-t[3],0),height:Math.max(l-o-t[0]-t[2],0)}}function _i(n,e,t){t=Uv(t||0);var r=e.width,i=e.height,a=rt(n.left,r),o=rt(n.top,i),s=rt(n.right,r),l=rt(n.bottom,i),u=rt(n.width,r),c=rt(n.height,i),f=t[2]+t[0],h=t[1]+t[3],d=n.aspect;switch(isNaN(u)&&(u=r-s-h-a),isNaN(c)&&(c=i-l-f-o),d!=null&&(isNaN(u)&&isNaN(c)&&(d>r/i?u=r*.8:c=i*.8),isNaN(u)&&(u=d*c),isNaN(c)&&(c=u/d)),isNaN(a)&&(a=r-s-u-h),isNaN(o)&&(o=i-l-c-f),n.left||n.right){case"center":a=r/2-u/2-t[3];break;case"right":a=r-u-h;break}switch(n.top||n.bottom){case"middle":case"center":o=i/2-c/2-t[0];break;case"bottom":o=i-c-f;break}a=a||0,o=o||0,isNaN(u)&&(u=r-h-a-(s||0)),isNaN(c)&&(c=i-f-o-(l||0));var p=new fn(a+t[3],o+t[0],u,c);return p.margin=t,p}function OC(n,e,t,r,i,a){var o=!i||!i.hv||i.hv[0],s=!i||!i.hv||i.hv[1],l=i&&i.boundingMode||"all";if(a=a||n,a.x=n.x,a.y=n.y,!o&&!s)return!1;var u;if(l==="raw")u=n.type==="group"?new fn(0,0,+e.width||0,+e.height||0):n.getBoundingRect();else if(u=n.getBoundingRect(),n.needLocalTransform()){var c=n.getLocalTransform();u=u.clone(),u.applyTransform(c)}var f=_i(Dt({width:u.width,height:u.height},e),t,r),h=o?f.x-u.x:0,d=s?f.y-u.y:0;return l==="raw"?(a.x=h,a.y=d):(a.x+=h,a.y+=d),a===n&&n.markRedraw(),!0}function xxe(n,e){return n[qp[e][0]]!=null||n[qp[e][1]]!=null&&n[qp[e][2]]!=null}function FS(n){var e=n.layoutMode||n.constructor.layoutMode;return Bt(e)?e:e?{type:e}:null}function Fh(n,e,t){var r=t&&t.ignoreSize;!ze(r)&&(r=[r,r]);var i=o(qp[0],0),a=o(qp[1],1);u(qp[0],n,i),u(qp[1],n,a);function o(c,f){var h={},d=0,p={},g=0,m=2;if(ib(c,function(M){p[M]=n[M]}),ib(c,function(M){s(e,M)&&(h[M]=p[M]=e[M]),l(h,M)&&d++,l(p,M)&&g++}),r[f])return l(e,c[1])?p[c[2]]=null:l(e,c[2])&&(p[c[1]]=null),p;if(g===m||!d)return p;if(d>=m)return h;for(var y=0;y<c.length;y++){var S=c[y];if(!s(h,S)&&s(n,S)){h[S]=n[S];break}}return h}function s(c,f){return c.hasOwnProperty(f)}function l(c,f){return c[f]!=null&&c[f]!=="auto"}function u(c,f,h){ib(c,function(d){f[d]=h[d]})}}function e0(n){return K$({},n)}function K$(n,e){return e&&n&&ib(q$,function(t){e.hasOwnProperty(t)&&(n[t]=e[t])}),n}var Sxe=Un(),wn=(function(n){Se(e,n);function e(t,r,i){var a=n.call(this,t,r,i)||this;return a.uid=Qy("ec_cpt_model"),a}return e.prototype.init=function(t,r,i){this.mergeDefaultAndTheme(t,i)},e.prototype.mergeDefaultAndTheme=function(t,r){var i=FS(this),a=i?e0(t):{},o=r.getTheme();on(t,o.get(this.mainType)),on(t,this.getDefaultOption()),i&&Fh(t,a,i)},e.prototype.mergeOption=function(t,r){on(this.option,t,!0);var i=FS(this);i&&Fh(this.option,t,i)},e.prototype.optionUpdated=function(t,r){},e.prototype.getDefaultOption=function(){var t=this.constructor;if(!d0e(t))return t.defaultOption;var r=Sxe(this);if(!r.defaultOption){for(var i=[],a=t;a;){var o=a.prototype.defaultOption;o&&i.push(o),a=a.superClass}for(var s={},l=i.length-1;l>=0;l--)s=on(s,i[l],!0);r.defaultOption=s}return r.defaultOption},e.prototype.getReferringComponents=function(t,r){var i=t+"Index",a=t+"Id";return T1(this.ecModel,t,{index:this.get(i,!0),id:this.get(a,!0)},r)},e.prototype.getBoxLayoutParams=function(){var t=this;return{left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")}},e.prototype.getZLevelKey=function(){return""},e.prototype.setZLevel=function(t){this.option.zlevel=t},e.protoInitialize=(function(){var t=e.prototype;t.type="component",t.id="",t.name="",t.mainType="",t.subType="",t.componentIndex=0})(),e})(qn);e$(wn,qn);SC(wn);axe(wn);oxe(wn,wxe);function wxe(n){var e=[];return G(wn.getClassesByMainType(n),function(t){e=e.concat(t.dependencies||t.prototype.dependencies||[])}),e=Ve(e,function(t){return Su(t).main}),n!=="dataset"&&dn(e,"dataset")<=0&&e.unshift("dataset"),e}var J$="";typeof navigator<"u"&&(J$=navigator.platform||"");var xm="rgba(0, 0, 0, 0.2)";const Mxe={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:xm,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:xm,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:xm,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:xm,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:xm,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:xm,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:J$.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var Q$=xt(["tooltip","label","itemName","itemId","itemGroupId","itemChildGroupId","seriesName"]),Ys="original",Ya="arrayRows",js="objectRows",Fu="keyedColumns",Ch="typedArray",eq="unknown",Du="column",t0="row",ma={Must:1,Might:2,Not:3},tq=Un();function Txe(n){tq(n).datasetMap=xt()}function nq(n,e,t){var r={},i=Jk(e);if(!i||!n)return r;var a=[],o=[],s=e.ecModel,l=tq(s).datasetMap,u=i.uid+"_"+t.seriesLayoutBy,c,f;n=n.slice(),G(n,function(g,m){var y=Bt(g)?g:n[m]={name:g};y.type==="ordinal"&&c==null&&(c=m,f=p(y)),r[y.name]=[]});var h=l.get(u)||l.set(u,{categoryWayDim:f,valueWayDim:0});G(n,function(g,m){var y=g.name,S=p(g);if(c==null){var M=h.valueWayDim;d(r[y],M,S),d(o,M,S),h.valueWayDim+=S}else if(c===m)d(r[y],0,S),d(a,0,S);else{var M=h.categoryWayDim;d(r[y],M,S),d(o,M,S),h.categoryWayDim+=S}});function d(g,m,y){for(var S=0;S<y;S++)g.push(m+S)}function p(g){var m=g.dimsDef;return m?m.length:1}return a.length&&(r.itemName=a),o.length&&(r.seriesName=o),r}function Kk(n,e,t){var r={},i=Jk(n);if(!i)return r;var a=e.sourceFormat,o=e.dimensionsDefine,s;(a===js||a===Fu)&&G(o,function(c,f){(Bt(c)?c.name:c)==="name"&&(s=f)});var l=(function(){for(var c={},f={},h=[],d=0,p=Math.min(5,t);d<p;d++){var g=iq(e.data,a,e.seriesLayoutBy,o,e.startIndex,d);h.push(g);var m=g===ma.Not;if(m&&c.v==null&&d!==s&&(c.v=d),(c.n==null||c.n===c.v||!m&&h[c.n]===ma.Not)&&(c.n=d),y(c)&&h[c.n]!==ma.Not)return c;m||(g===ma.Might&&f.v==null&&d!==s&&(f.v=d),(f.n==null||f.n===f.v)&&(f.n=d))}function y(S){return S.v!=null&&S.n!=null}return y(c)?c:y(f)?f:null})();if(l){r.value=[l.v];var u=s??l.n;r.itemName=[u],r.seriesName=[u]}return r}function Jk(n){var e=n.get("data",!0);if(!e)return T1(n.ecModel,"dataset",{index:n.get("datasetIndex",!0),id:n.get("datasetId",!0)},yi).models[0]}function bxe(n){return!n.get("transform",!0)&&!n.get("fromTransformResult",!0)?[]:T1(n.ecModel,"dataset",{index:n.get("fromDatasetIndex",!0),id:n.get("fromDatasetId",!0)},yi).models}function rq(n,e){return iq(n.data,n.sourceFormat,n.seriesLayoutBy,n.dimensionsDefine,n.startIndex,e)}function iq(n,e,t,r,i,a){var o,s=5;if(yo(n))return ma.Not;var l,u;if(r){var c=r[a];Bt(c)?(l=c.name,u=c.type):ut(c)&&(l=c)}if(u!=null)return u==="ordinal"?ma.Must:ma.Not;if(e===Ya){var f=n;if(t===t0){for(var h=f[a],d=0;d<(h||[]).length&&d<s;d++)if((o=b(h[i+d]))!=null)return o}else for(var d=0;d<f.length&&d<s;d++){var p=f[i+d];if(p&&(o=b(p[a]))!=null)return o}}else if(e===js){var g=n;if(!l)return ma.Not;for(var d=0;d<g.length&&d<s;d++){var m=g[d];if(m&&(o=b(m[l]))!=null)return o}}else if(e===Fu){var y=n;if(!l)return ma.Not;var h=y[l];if(!h||yo(h))return ma.Not;for(var d=0;d<h.length&&d<s;d++)if((o=b(h[d]))!=null)return o}else if(e===Ys)for(var S=n,d=0;d<S.length&&d<s;d++){var m=S[d],M=Xy(m);if(!ze(M))return ma.Not;if((o=b(M[a]))!=null)return o}function b(C){var A=ut(C);if(C!=null&&Number.isFinite(Number(C))&&C!=="")return A?ma.Might:ma.Not;if(A&&C!=="-")return ma.Must}return ma.Not}var AI=xt();function Axe(n,e){Ha(AI.get(n)==null&&e),AI.set(n,e)}function Cxe(n,e,t){var r=AI.get(e);if(!r)return t;var i=r(n);return i?t.concat(i):t}var E4=Un(),Exe=Un(),Qk=(function(){function n(){}return n.prototype.getColorFromPalette=function(e,t,r){var i=dr(this.get("color",!0)),a=this.get("colorLayer",!0);return aq(this,E4,i,a,e,t,r)},n.prototype.clearColorPalette=function(){Dxe(this,E4)},n})();function CI(n,e,t,r){var i=dr(n.get(["aria","decal","decals"]));return aq(n,Exe,i,null,e,t,r)}function Pxe(n,e){for(var t=n.length,r=0;r<t;r++)if(n[r].length>e)return n[r];return n[t-1]}function aq(n,e,t,r,i,a,o){a=a||n;var s=e(a),l=s.paletteIdx||0,u=s.paletteNameMap=s.paletteNameMap||{};if(u.hasOwnProperty(i))return u[i];var c=o==null||!r?t:Pxe(r,o);if(c=c||t,!(!c||!c.length)){var f=c[l];return i&&(u[i]=f),s.paletteIdx=(l+1)%c.length,f}}function Dxe(n,e){e(n).paletteIdx=0,e(n).paletteNameMap={}}var QM,L_,P4,D4="\0_ec_inner",Rxe=1,e3=(function(n){Se(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.init=function(t,r,i,a,o,s){a=a||{},this.option=null,this._theme=new qn(a),this._locale=new qn(o),this._optionManager=s},e.prototype.setOption=function(t,r,i){var a=I4(r);this._optionManager.setOption(t,i,a),this._resetOption(null,a)},e.prototype.resetOption=function(t,r){return this._resetOption(t,I4(r))},e.prototype._resetOption=function(t,r){var i=!1,a=this._optionManager;if(!t||t==="recreate"){var o=a.mountOption(t==="recreate");!this.option||t==="recreate"?P4(this,o):(this.restoreData(),this._mergeOption(o,r)),i=!0}if((t==="timeline"||t==="media")&&this.restoreData(),!t||t==="recreate"||t==="timeline"){var s=a.getTimelineOption(this);s&&(i=!0,this._mergeOption(s,r))}if(!t||t==="recreate"||t==="media"){var l=a.getMediaOption(this);l.length&&G(l,function(u){i=!0,this._mergeOption(u,r)},this)}return i},e.prototype.mergeOption=function(t){this._mergeOption(t,null)},e.prototype._mergeOption=function(t,r){var i=this.option,a=this._componentsMap,o=this._componentsCount,s=[],l=xt(),u=r&&r.replaceMergeMainTypeMap;Txe(this),G(t,function(f,h){f!=null&&(wn.hasClass(h)?h&&(s.push(h),l.set(h,!0)):i[h]=i[h]==null?Vt(f):on(i[h],f,!0))}),u&&u.each(function(f,h){wn.hasClass(h)&&!l.get(h)&&(s.push(h),l.set(h,!0))}),wn.topologicalTravel(s,wn.getAllClassMainTypes(),c,this);function c(f){var h=Cxe(this,f,dr(t[f])),d=a.get(f),p=d?u&&u.get(f)?"replaceMerge":"normalMerge":"replaceAll",g=$Z(d,h,p);i0e(g,f,wn),i[f]=null,a.set(f,null),o.set(f,0);var m=[],y=[],S=0,M;G(g,function(b,C){var A=b.existing,E=b.newOption;if(!E)A&&(A.mergeOption({},this),A.optionUpdated({},!1));else{var I=f==="series",L=wn.getClass(f,b.keyInfo.subType,!I);if(!L)return;if(f==="tooltip"){if(M)return;M=!0}if(A&&A.constructor===L)A.name=b.keyInfo.name,A.mergeOption(E,this),A.optionUpdated(E,!1);else{var R=Le({componentIndex:C},b.keyInfo);A=new L(E,this,this,R),Le(A,R),b.brandNew&&(A.__requireNewView=!0),A.init(E,this,this),A.optionUpdated(null,!0)}}A?(m.push(A.option),y.push(A),S++):(m.push(void 0),y.push(void 0))},this),i[f]=m,a.set(f,y),o.set(f,S),f==="series"&&QM(this)}this._seriesIndices||QM(this)},e.prototype.getOption=function(){var t=Vt(this.option);return G(t,function(r,i){if(wn.hasClass(i)){for(var a=dr(r),o=a.length,s=!1,l=o-1;l>=0;l--)a[l]&&!LS(a[l])?s=!0:(a[l]=null,!s&&o--);a.length=o,t[i]=a}}),delete t[D4],t},e.prototype.getTheme=function(){return this._theme},e.prototype.getLocaleModel=function(){return this._locale},e.prototype.setUpdatePayload=function(t){this._payload=t},e.prototype.getUpdatePayload=function(){return this._payload},e.prototype.getComponent=function(t,r){var i=this._componentsMap.get(t);if(i){var a=i[r||0];if(a)return a;if(r==null){for(var o=0;o<i.length;o++)if(i[o])return i[o]}}},e.prototype.queryComponents=function(t){var r=t.mainType;if(!r)return[];var i=t.index,a=t.id,o=t.name,s=this._componentsMap.get(r);if(!s||!s.length)return[];var l;return i!=null?(l=[],G(dr(i),function(u){s[u]&&l.push(s[u])})):a!=null?l=R4("id",a,s):o!=null?l=R4("name",o,s):l=$n(s,function(u){return!!u}),L4(l,t)},e.prototype.findComponents=function(t){var r=t.query,i=t.mainType,a=s(r),o=a?this.queryComponents(a):$n(this._componentsMap.get(i),function(u){return!!u});return l(L4(o,t));function s(u){var c=i+"Index",f=i+"Id",h=i+"Name";return u&&(u[c]!=null||u[f]!=null||u[h]!=null)?{mainType:i,index:u[c],id:u[f],name:u[h]}:null}function l(u){return t.filter?$n(u,t.filter):u}},e.prototype.eachComponent=function(t,r,i){var a=this._componentsMap;if(Ct(t)){var o=r,s=t;a.each(function(f,h){for(var d=0;f&&d<f.length;d++){var p=f[d];p&&s.call(o,h,p,p.componentIndex)}})}else for(var l=ut(t)?a.get(t):Bt(t)?this.findComponents(t):null,u=0;l&&u<l.length;u++){var c=l[u];c&&r.call(i,c,c.componentIndex)}},e.prototype.getSeriesByName=function(t){var r=Di(t,null);return $n(this._componentsMap.get("series"),function(i){return!!i&&r!=null&&i.name===r})},e.prototype.getSeriesByIndex=function(t){return this._componentsMap.get("series")[t]},e.prototype.getSeriesByType=function(t){return $n(this._componentsMap.get("series"),function(r){return!!r&&r.subType===t})},e.prototype.getSeries=function(){return $n(this._componentsMap.get("series"),function(t){return!!t})},e.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},e.prototype.eachSeries=function(t,r){L_(this),G(this._seriesIndices,function(i){var a=this._componentsMap.get("series")[i];t.call(r,a,i)},this)},e.prototype.eachRawSeries=function(t,r){G(this._componentsMap.get("series"),function(i){i&&t.call(r,i,i.componentIndex)})},e.prototype.eachSeriesByType=function(t,r,i){L_(this),G(this._seriesIndices,function(a){var o=this._componentsMap.get("series")[a];o.subType===t&&r.call(i,o,a)},this)},e.prototype.eachRawSeriesByType=function(t,r,i){return G(this.getSeriesByType(t),r,i)},e.prototype.isSeriesFiltered=function(t){return L_(this),this._seriesIndicesMap.get(t.componentIndex)==null},e.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},e.prototype.filterSeries=function(t,r){L_(this);var i=[];G(this._seriesIndices,function(a){var o=this._componentsMap.get("series")[a];t.call(r,o,a)&&i.push(a)},this),this._seriesIndices=i,this._seriesIndicesMap=xt(i)},e.prototype.restoreData=function(t){QM(this);var r=this._componentsMap,i=[];r.each(function(a,o){wn.hasClass(o)&&i.push(o)}),wn.topologicalTravel(i,wn.getAllClassMainTypes(),function(a){G(r.get(a),function(o){o&&(a!=="series"||!Lxe(o,t))&&o.restoreData()})})},e.internalField=(function(){QM=function(t){var r=t._seriesIndices=[];G(t._componentsMap.get("series"),function(i){i&&r.push(i.componentIndex)}),t._seriesIndicesMap=xt(r)},L_=function(t){},P4=function(t,r){t.option={},t.option[D4]=Rxe,t._componentsMap=xt({series:[]}),t._componentsCount=xt();var i=r.aria;Bt(i)&&i.enabled==null&&(i.enabled=!0),Ixe(r,t._theme.option),on(r,Mxe,!1),t._mergeOption(r,null)}})(),e})(qn);function Lxe(n,e){if(e){var t=e.seriesIndex,r=e.seriesId,i=e.seriesName;return t!=null&&n.componentIndex!==t||r!=null&&n.id!==r||i!=null&&n.name!==i}}function Ixe(n,e){var t=n.color&&!n.colorLayer;G(e,function(r,i){i==="colorLayer"&&t||wn.hasClass(i)||(typeof r=="object"?n[i]=n[i]?on(n[i],r,!1):Vt(r):n[i]==null&&(n[i]=r))})}function R4(n,e,t){if(ze(e)){var r=xt();return G(e,function(a){if(a!=null){var o=Di(a,null);o!=null&&r.set(a,!0)}}),$n(t,function(a){return a&&r.get(a[n])})}else{var i=Di(e,null);return $n(t,function(a){return a&&i!=null&&a[n]===i})}}function L4(n,e){return e.hasOwnProperty("subType")?$n(n,function(t){return t&&t.subType===e.subType}):n}function I4(n){var e=xt();return n&&G(dr(n.replaceMerge),function(t){e.set(t,!0)}),{replaceMergeMainTypeMap:e}}ti(e3,Qk);var Nxe=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],oq=(function(){function n(e){G(Nxe,function(t){this[t]=ht(e[t],e)},this)}return n})(),WD={},n0=(function(){function n(){this._coordinateSystems=[]}return n.prototype.create=function(e,t){var r=[];G(WD,function(i,a){var o=i.create(e,t);r=r.concat(o||[])}),this._coordinateSystems=r},n.prototype.update=function(e,t){G(this._coordinateSystems,function(r){r.update&&r.update(e,t)})},n.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},n.register=function(e,t){WD[e]=t},n.get=function(e){return WD[e]},n})(),Oxe=/^(min|max)?(.+)$/,kxe=(function(){function n(e){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=e}return n.prototype.setOption=function(e,t,r){e&&(G(dr(e.series),function(o){o&&o.data&&yo(o.data)&&bS(o.data)}),G(dr(e.dataset),function(o){o&&o.source&&yo(o.source)&&bS(o.source)})),e=Vt(e);var i=this._optionBackup,a=Fxe(e,t,!i);this._newBaseOption=a.baseOption,i?(a.timelineOptions.length&&(i.timelineOptions=a.timelineOptions),a.mediaList.length&&(i.mediaList=a.mediaList),a.mediaDefault&&(i.mediaDefault=a.mediaDefault)):this._optionBackup=a},n.prototype.mountOption=function(e){var t=this._optionBackup;return this._timelineOptions=t.timelineOptions,this._mediaList=t.mediaList,this._mediaDefault=t.mediaDefault,this._currentMediaIndices=[],Vt(e?t.baseOption:this._newBaseOption)},n.prototype.getTimelineOption=function(e){var t,r=this._timelineOptions;if(r.length){var i=e.getComponent("timeline");i&&(t=Vt(r[i.getCurrentIndex()]))}return t},n.prototype.getMediaOption=function(e){var t=this._api.getWidth(),r=this._api.getHeight(),i=this._mediaList,a=this._mediaDefault,o=[],s=[];if(!i.length&&!a)return s;for(var l=0,u=i.length;l<u;l++)zxe(i[l].query,t,r)&&o.push(l);return!o.length&&a&&(o=[-1]),o.length&&!Uxe(o,this._currentMediaIndices)&&(s=Ve(o,function(c){return Vt(c===-1?a.option:i[c].option)})),this._currentMediaIndices=o,s},n})();function Fxe(n,e,t){var r=[],i,a,o=n.baseOption,s=n.timeline,l=n.options,u=n.media,c=!!n.media,f=!!(l||s||o&&o.timeline);o?(a=o,a.timeline||(a.timeline=s)):((f||c)&&(n.options=n.media=null),a=n),c&&ze(u)&&G(u,function(d){d&&d.option&&(d.query?r.push(d):i||(i=d))}),h(a),G(l,function(d){return h(d)}),G(r,function(d){return h(d.option)});function h(d){G(e,function(p){p(d,t)})}return{baseOption:a,timelineOptions:l||[],mediaDefault:i,mediaList:r}}function zxe(n,e,t){var r={width:e,height:t,aspectratio:e/t},i=!0;return G(n,function(a,o){var s=o.match(Oxe);if(!(!s||!s[1]||!s[2])){var l=s[1],u=s[2].toLowerCase();Bxe(r[u],a,l)||(i=!1)}}),i}function Bxe(n,e,t){return t==="min"?n>=e:t==="max"?n<=e:n===e}function Uxe(n,e){return n.join(",")===e.join(",")}var wl=G,zS=Bt,N4=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function XD(n){var e=n&&n.itemStyle;if(e)for(var t=0,r=N4.length;t<r;t++){var i=N4[t],a=e.normal,o=e.emphasis;a&&a[i]&&(n[i]=n[i]||{},n[i].normal?on(n[i].normal,a[i]):n[i].normal=a[i],a[i]=null),o&&o[i]&&(n[i]=n[i]||{},n[i].emphasis?on(n[i].emphasis,o[i]):n[i].emphasis=o[i],o[i]=null)}}function Fa(n,e,t){if(n&&n[e]&&(n[e].normal||n[e].emphasis)){var r=n[e].normal,i=n[e].emphasis;r&&(t?(n[e].normal=n[e].emphasis=null,Dt(n[e],r)):n[e]=r),i&&(n.emphasis=n.emphasis||{},n.emphasis[e]=i,i.focus&&(n.emphasis.focus=i.focus),i.blurScope&&(n.emphasis.blurScope=i.blurScope))}}function vx(n){Fa(n,"itemStyle"),Fa(n,"lineStyle"),Fa(n,"areaStyle"),Fa(n,"label"),Fa(n,"labelLine"),Fa(n,"upperLabel"),Fa(n,"edgeLabel")}function gi(n,e){var t=zS(n)&&n[e],r=zS(t)&&t.textStyle;if(r)for(var i=0,a=U5.length;i<a;i++){var o=U5[i];r.hasOwnProperty(o)&&(t[o]=r[o])}}function Is(n){n&&(vx(n),gi(n,"label"),n.emphasis&&gi(n.emphasis,"label"))}function Vxe(n){if(zS(n)){XD(n),vx(n),gi(n,"label"),gi(n,"upperLabel"),gi(n,"edgeLabel"),n.emphasis&&(gi(n.emphasis,"label"),gi(n.emphasis,"upperLabel"),gi(n.emphasis,"edgeLabel"));var e=n.markPoint;e&&(XD(e),Is(e));var t=n.markLine;t&&(XD(t),Is(t));var r=n.markArea;r&&Is(r);var i=n.data;if(n.type==="graph"){i=i||n.nodes;var a=n.links||n.edges;if(a&&!yo(a))for(var o=0;o<a.length;o++)Is(a[o]);G(n.categories,function(u){vx(u)})}if(i&&!yo(i))for(var o=0;o<i.length;o++)Is(i[o]);if(e=n.markPoint,e&&e.data)for(var s=e.data,o=0;o<s.length;o++)Is(s[o]);if(t=n.markLine,t&&t.data)for(var l=t.data,o=0;o<l.length;o++)ze(l[o])?(Is(l[o][0]),Is(l[o][1])):Is(l[o]);n.type==="gauge"?(gi(n,"axisLabel"),gi(n,"title"),gi(n,"detail")):n.type==="treemap"?(Fa(n.breadcrumb,"itemStyle"),G(n.levels,function(u){vx(u)})):n.type==="tree"&&vx(n.leaves)}}function bc(n){return ze(n)?n:n?[n]:[]}function O4(n){return(ze(n)?n[0]:n)||{}}function Gxe(n,e){wl(bc(n.series),function(r){zS(r)&&Vxe(r)});var t=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];e&&t.push("valueAxis","categoryAxis","logAxis","timeAxis"),wl(t,function(r){wl(bc(n[r]),function(i){i&&(gi(i,"axisLabel"),gi(i.axisPointer,"label"))})}),wl(bc(n.parallel),function(r){var i=r&&r.parallelAxisDefault;gi(i,"axisLabel"),gi(i&&i.axisPointer,"label")}),wl(bc(n.calendar),function(r){Fa(r,"itemStyle"),gi(r,"dayLabel"),gi(r,"monthLabel"),gi(r,"yearLabel")}),wl(bc(n.radar),function(r){gi(r,"name"),r.name&&r.axisName==null&&(r.axisName=r.name,delete r.name),r.nameGap!=null&&r.axisNameGap==null&&(r.axisNameGap=r.nameGap,delete r.nameGap)}),wl(bc(n.geo),function(r){zS(r)&&(Is(r),wl(bc(r.regions),function(i){Is(i)}))}),wl(bc(n.timeline),function(r){Is(r),Fa(r,"label"),Fa(r,"itemStyle"),Fa(r,"controlStyle",!0);var i=r.data;ze(i)&&G(i,function(a){Bt(a)&&(Fa(a,"label"),Fa(a,"itemStyle"))})}),wl(bc(n.toolbox),function(r){Fa(r,"iconStyle"),wl(r.feature,function(i){Fa(i,"iconStyle")})}),gi(O4(n.axisPointer),"label"),gi(O4(n.tooltip).axisPointer,"label")}function Hxe(n,e){for(var t=e.split(","),r=n,i=0;i<t.length&&(r=r&&r[t[i]],r!=null);i++);return r}function Wxe(n,e,t,r){for(var i=e.split(","),a=n,o,s=0;s<i.length-1;s++)o=i[s],a[o]==null&&(a[o]={}),a=a[o];a[i[s]]==null&&(a[i[s]]=t)}function k4(n){n&&G(Xxe,function(e){e[0]in n&&!(e[1]in n)&&(n[e[1]]=n[e[0]])})}var Xxe=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],Yxe=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],YD=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function I_(n){var e=n&&n.itemStyle;if(e)for(var t=0;t<YD.length;t++){var r=YD[t][1],i=YD[t][0];e[r]!=null&&(e[i]=e[r])}}function F4(n){n&&n.alignTo==="edge"&&n.margin!=null&&n.edgeDistance==null&&(n.edgeDistance=n.margin)}function z4(n){n&&n.downplay&&!n.blur&&(n.blur=n.downplay)}function jxe(n){n&&n.focusNodeAdjacency!=null&&(n.emphasis=n.emphasis||{},n.emphasis.focus==null&&(n.emphasis.focus="adjacency"))}function sq(n,e){if(n)for(var t=0;t<n.length;t++)e(n[t]),n[t]&&sq(n[t].children,e)}function lq(n,e){Gxe(n,e),n.series=dr(n.series),G(n.series,function(t){if(Bt(t)){var r=t.type;if(r==="line")t.clipOverflow!=null&&(t.clip=t.clipOverflow);else if(r==="pie"||r==="gauge"){t.clockWise!=null&&(t.clockwise=t.clockWise),F4(t.label);var i=t.data;if(i&&!yo(i))for(var a=0;a<i.length;a++)F4(i[a]);t.hoverOffset!=null&&(t.emphasis=t.emphasis||{},(t.emphasis.scaleSize=null)&&(t.emphasis.scaleSize=t.hoverOffset))}else if(r==="gauge"){var o=Hxe(t,"pointer.color");o!=null&&Wxe(t,"itemStyle.color",o)}else if(r==="bar"){I_(t),I_(t.backgroundStyle),I_(t.emphasis);var i=t.data;if(i&&!yo(i))for(var a=0;a<i.length;a++)typeof i[a]=="object"&&(I_(i[a]),I_(i[a]&&i[a].emphasis))}else if(r==="sunburst"){var s=t.highlightPolicy;s&&(t.emphasis=t.emphasis||{},t.emphasis.focus||(t.emphasis.focus=s)),z4(t),sq(t.data,z4)}else r==="graph"||r==="sankey"?jxe(t):r==="map"&&(t.mapType&&!t.map&&(t.map=t.mapType),t.mapLocation&&Dt(t,t.mapLocation));t.hoverAnimation!=null&&(t.emphasis=t.emphasis||{},t.emphasis&&t.emphasis.scale==null&&(t.emphasis.scale=t.hoverAnimation)),k4(t)}}),n.dataRange&&(n.visualMap=n.dataRange),G(Yxe,function(t){var r=n[t];r&&(ze(r)||(r=[r]),G(r,function(i){k4(i)}))})}function Zxe(n){var e=xt();n.eachSeries(function(t){var r=t.get("stack");if(r){var i=e.get(r)||e.set(r,[]),a=t.getData(),o={stackResultDimension:a.getCalculationInfo("stackResultDimension"),stackedOverDimension:a.getCalculationInfo("stackedOverDimension"),stackedDimension:a.getCalculationInfo("stackedDimension"),stackedByDimension:a.getCalculationInfo("stackedByDimension"),isStackedByIndex:a.getCalculationInfo("isStackedByIndex"),data:a,seriesModel:t};if(!o.stackedDimension||!(o.isStackedByIndex||o.stackedByDimension))return;i.length&&a.setCalculationInfo("stackedOnSeries",i[i.length-1].seriesModel),i.push(o)}}),e.each($xe)}function $xe(n){G(n,function(e,t){var r=[],i=[NaN,NaN],a=[e.stackResultDimension,e.stackedOverDimension],o=e.data,s=e.isStackedByIndex,l=e.seriesModel.get("stackStrategy")||"samesign";o.modify(a,function(u,c,f){var h=o.get(e.stackedDimension,f);if(isNaN(h))return i;var d,p;s?p=o.getRawIndex(f):d=o.get(e.stackedByDimension,f);for(var g=NaN,m=t-1;m>=0;m--){var y=n[m];if(s||(p=y.data.rawIndexOf(y.stackedByDimension,d)),p>=0){var S=y.data.getByRawIndex(y.stackResultDimension,p);if(l==="all"||l==="positive"&&S>0||l==="negative"&&S<0||l==="samesign"&&h>=0&&S>0||l==="samesign"&&h<=0&&S<0){h=Zye(h,S),g=S;break}}}return r[0]=h,r[1]=g,r})})}var kC=(function(){function n(e){this.data=e.data||(e.sourceFormat===Fu?{}:[]),this.sourceFormat=e.sourceFormat||eq,this.seriesLayoutBy=e.seriesLayoutBy||Du,this.startIndex=e.startIndex||0,this.dimensionsDetectedCount=e.dimensionsDetectedCount,this.metaRawOption=e.metaRawOption;var t=this.dimensionsDefine=e.dimensionsDefine;if(t)for(var r=0;r<t.length;r++){var i=t[r];i.type==null&&rq(this,r)===ma.Must&&(i.type="ordinal")}}return n})();function t3(n){return n instanceof kC}function EI(n,e,t){t=t||uq(n);var r=e.seriesLayoutBy,i=Kxe(n,t,r,e.sourceHeader,e.dimensions),a=new kC({data:n,sourceFormat:t,seriesLayoutBy:r,dimensionsDefine:i.dimensionsDefine,startIndex:i.startIndex,dimensionsDetectedCount:i.dimensionsDetectedCount,metaRawOption:Vt(e)});return a}function n3(n){return new kC({data:n,sourceFormat:yo(n)?Ch:Ys})}function qxe(n){return new kC({data:n.data,sourceFormat:n.sourceFormat,seriesLayoutBy:n.seriesLayoutBy,dimensionsDefine:Vt(n.dimensionsDefine),startIndex:n.startIndex,dimensionsDetectedCount:n.dimensionsDetectedCount})}function uq(n){var e=eq;if(yo(n))e=Ch;else if(ze(n)){n.length===0&&(e=Ya);for(var t=0,r=n.length;t<r;t++){var i=n[t];if(i!=null){if(ze(i)||yo(i)){e=Ya;break}else if(Bt(i)){e=js;break}}}}else if(Bt(n)){for(var a in n)if(gt(n,a)&&_a(n[a])){e=Fu;break}}return e}function Kxe(n,e,t,r,i){var a,o;if(!n)return{dimensionsDefine:B4(i),startIndex:o,dimensionsDetectedCount:a};if(e===Ya){var s=n;r==="auto"||r==null?U4(function(u){u!=null&&u!=="-"&&(ut(u)?o==null&&(o=1):o=0)},t,s,10):o=Hn(r)?r:r?1:0,!i&&o===1&&(i=[],U4(function(u,c){i[c]=u!=null?u+"":""},t,s,1/0)),a=i?i.length:t===t0?s.length:s[0]?s[0].length:null}else if(e===js)i||(i=Jxe(n));else if(e===Fu)i||(i=[],G(n,function(u,c){i.push(c)}));else if(e===Ys){var l=Xy(n[0]);a=ze(l)&&l.length||1}return{startIndex:o,dimensionsDefine:B4(i),dimensionsDetectedCount:a}}function Jxe(n){for(var e=0,t;e<n.length&&!(t=n[e++]););if(t)return En(t)}function B4(n){if(n){var e=xt();return Ve(n,function(t,r){t=Bt(t)?t:{name:t};var i={name:t.name,displayName:t.displayName,type:t.type};if(i.name==null)return i;i.name+="",i.displayName==null&&(i.displayName=i.name);var a=e.get(i.name);return a?i.name+="-"+a.count++:e.set(i.name,{count:1}),i})}}function U4(n,e,t,r){if(e===t0)for(var i=0;i<t.length&&i<r;i++)n(t[i]?t[i][0]:null,i);else for(var a=t[0]||[],i=0;i<a.length&&i<r;i++)n(a[i],i)}function cq(n){var e=n.sourceFormat;return e===js||e===Fu}var hp,dp,pp,V4,G4,fq=(function(){function n(e,t){var r=t3(e)?e:n3(e);this._source=r;var i=this._data=r.data;r.sourceFormat===Ch&&(this._offset=0,this._dimSize=t,this._data=i),G4(this,i,r)}return n.prototype.getSource=function(){return this._source},n.prototype.count=function(){return 0},n.prototype.getItem=function(e,t){},n.prototype.appendData=function(e){},n.prototype.clean=function(){},n.protoInitialize=(function(){var e=n.prototype;e.pure=!1,e.persistent=!0})(),n.internalField=(function(){var e;G4=function(o,s,l){var u=l.sourceFormat,c=l.seriesLayoutBy,f=l.startIndex,h=l.dimensionsDefine,d=V4[r3(u,c)];if(Le(o,d),u===Ch)o.getItem=t,o.count=i,o.fillStorage=r;else{var p=hq(u,c);o.getItem=ht(p,null,s,f,h);var g=dq(u,c);o.count=ht(g,null,s,f,h)}};var t=function(o,s){o=o-this._offset,s=s||[];for(var l=this._data,u=this._dimSize,c=u*o,f=0;f<u;f++)s[f]=l[c+f];return s},r=function(o,s,l,u){for(var c=this._data,f=this._dimSize,h=0;h<f;h++){for(var d=u[h],p=d[0]==null?1/0:d[0],g=d[1]==null?-1/0:d[1],m=s-o,y=l[h],S=0;S<m;S++){var M=c[S*f+h];y[o+S]=M,M<p&&(p=M),M>g&&(g=M)}d[0]=p,d[1]=g}},i=function(){return this._data?this._data.length/this._dimSize:0};V4=(e={},e[Ya+"_"+Du]={pure:!0,appendData:a},e[Ya+"_"+t0]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},e[js]={pure:!0,appendData:a},e[Fu]={pure:!0,appendData:function(o){var s=this._data;G(o,function(l,u){for(var c=s[u]||(s[u]=[]),f=0;f<(l||[]).length;f++)c.push(l[f])})}},e[Ys]={appendData:a},e[Ch]={persistent:!1,pure:!0,appendData:function(o){this._data=o},clean:function(){this._offset+=this.count(),this._data=null}},e);function a(o){for(var s=0;s<o.length;s++)this._data.push(o[s])}})(),n})(),H4=function(n,e,t,r){return n[r]},Qxe=(hp={},hp[Ya+"_"+Du]=function(n,e,t,r){return n[r+e]},hp[Ya+"_"+t0]=function(n,e,t,r,i){r+=e;for(var a=i||[],o=n,s=0;s<o.length;s++){var l=o[s];a[s]=l?l[r]:null}return a},hp[js]=H4,hp[Fu]=function(n,e,t,r,i){for(var a=i||[],o=0;o<t.length;o++){var s=t[o].name,l=n[s];a[o]=l?l[r]:null}return a},hp[Ys]=H4,hp);function hq(n,e){var t=Qxe[r3(n,e)];return t}var W4=function(n,e,t){return n.length},eSe=(dp={},dp[Ya+"_"+Du]=function(n,e,t){return Math.max(0,n.length-e)},dp[Ya+"_"+t0]=function(n,e,t){var r=n[0];return r?Math.max(0,r.length-e):0},dp[js]=W4,dp[Fu]=function(n,e,t){var r=t[0].name,i=n[r];return i?i.length:0},dp[Ys]=W4,dp);function dq(n,e){var t=eSe[r3(n,e)];return t}var jD=function(n,e,t){return n[e]},tSe=(pp={},pp[Ya]=jD,pp[js]=function(n,e,t){return n[t]},pp[Fu]=jD,pp[Ys]=function(n,e,t){var r=Xy(n);return r instanceof Array?r[e]:r},pp[Ch]=jD,pp);function pq(n){var e=tSe[n];return e}function r3(n,e){return n===Ya?n+"_"+e:n}function Cy(n,e,t){if(n){var r=n.getRawDataItem(e);if(r!=null){var i=n.getStore(),a=i.getSource().sourceFormat;if(t!=null){var o=n.getDimensionIndex(t),s=i.getDimensionProperty(o);return pq(a)(r,o,s)}else{var l=r;return a===Ys&&(l=Xy(r)),l}}}}var nSe=/\{@(.+?)\}/g,FC=(function(){function n(){}return n.prototype.getDataParams=function(e,t){var r=this.getData(t),i=this.getRawValue(e,t),a=r.getRawIndex(e),o=r.getName(e),s=r.getRawDataItem(e),l=r.getItemVisual(e,"style"),u=l&&l[r.getItemVisual(e,"drawType")||"fill"],c=l&&l.stroke,f=this.mainType,h=f==="series",d=r.userOutput&&r.userOutput.get();return{componentType:f,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:h?this.subType:null,seriesIndex:this.seriesIndex,seriesId:h?this.id:null,seriesName:h?this.name:null,name:o,dataIndex:a,data:s,dataType:t,value:i,color:u,borderColor:c,dimensionNames:d?d.fullDimensions:null,encode:d?d.encode:null,$vars:["seriesName","name","value"]}},n.prototype.getFormattedLabel=function(e,t,r,i,a,o){t=t||"normal";var s=this.getData(r),l=this.getDataParams(e,r);if(o&&(l.value=o.interpolatedValue),i!=null&&ze(l.value)&&(l.value=l.value[i]),!a){var u=s.getItemModel(e);a=u.get(t==="normal"?["label","formatter"]:[t,"label","formatter"])}if(Ct(a))return l.status=t,l.dimensionIndex=i,a(l);if(ut(a)){var c=$k(a,l);return c.replace(nSe,function(f,h){var d=h.length,p=h;p.charAt(0)==="["&&p.charAt(d-1)==="]"&&(p=+p.slice(1,d-1));var g=Cy(s,e,p);if(o&&ze(o.interpolatedValue)){var m=s.getDimensionIndex(p);m>=0&&(g=o.interpolatedValue[m])}return g!=null?g+"":""})}},n.prototype.getRawValue=function(e,t){return Cy(this.getData(t),e)},n.prototype.formatTooltip=function(e,t,r){},n})();function X4(n){var e,t;return Bt(n)?n.type&&(t=n):e=n,{text:e,frag:t}}function Wx(n){return new rSe(n)}var rSe=(function(){function n(e){e=e||{},this._reset=e.reset,this._plan=e.plan,this._count=e.count,this._onDirty=e.onDirty,this._dirty=!0}return n.prototype.perform=function(e){var t=this._upstream,r=e&&e.skip;if(this._dirty&&t){var i=this.context;i.data=i.outputData=t.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var a;this._plan&&!r&&(a=this._plan(this.context));var o=c(this._modBy),s=this._modDataCount||0,l=c(e&&e.modBy),u=e&&e.modDataCount||0;(o!==l||s!==u)&&(a="reset");function c(S){return!(S>=1)&&(S=1),S}var f;(this._dirty||a==="reset")&&(this._dirty=!1,f=this._doReset(r)),this._modBy=l,this._modDataCount=u;var h=e&&e.step;if(t?this._dueEnd=t._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var d=this._dueIndex,p=Math.min(h!=null?this._dueIndex+h:1/0,this._dueEnd);if(!r&&(f||d<p)){var g=this._progress;if(ze(g))for(var m=0;m<g.length;m++)this._doProgress(g[m],d,p,l,u);else this._doProgress(g,d,p,l,u)}this._dueIndex=p;var y=this._settedOutputEnd!=null?this._settedOutputEnd:p;this._outputDueEnd=y}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},n.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},n.prototype._doProgress=function(e,t,r,i,a){Y4.reset(t,r,i,a),this._callingProgress=e,this._callingProgress({start:t,end:r,count:r-t,next:Y4.next},this.context)},n.prototype._doReset=function(e){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var t,r;!e&&this._reset&&(t=this._reset(this.context),t&&t.progress&&(r=t.forceFirstProgress,t=t.progress),ze(t)&&!t.length&&(t=null)),this._progress=t,this._modBy=this._modDataCount=null;var i=this._downstream;return i&&i.dirty(),r},n.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},n.prototype.pipe=function(e){(this._downstream!==e||this._dirty)&&(this._downstream=e,e._upstream=this,e.dirty())},n.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},n.prototype.getUpstream=function(){return this._upstream},n.prototype.getDownstream=function(){return this._downstream},n.prototype.setOutputEnd=function(e){this._outputDueEnd=this._settedOutputEnd=e},n})(),Y4=(function(){var n,e,t,r,i,a={reset:function(l,u,c,f){e=l,n=u,t=c,r=f,i=Math.ceil(r/t),a.next=t>1&&r>0?s:o}};return a;function o(){return e<n?e++:null}function s(){var l=e%i*t+Math.ceil(e/i),u=e>=n?null:l<r?l:e;return e++,u}})();function Eh(n,e){var t=e&&e.type;return t==="ordinal"?n:(t==="time"&&!Hn(n)&&n!=null&&n!=="-"&&(n=+ds(n)),n==null||n===""?NaN:Number(n))}var iSe=xt({number:function(n){return parseFloat(n)},time:function(n){return+ds(n)},trim:function(n){return ut(n)?Us(n):n}});function vq(n){return iSe.get(n)}var gq={lt:function(n,e){return n<e},lte:function(n,e){return n<=e},gt:function(n,e){return n>e},gte:function(n,e){return n>=e}},aSe=(function(){function n(e,t){if(!Hn(t)){var r="";tr(r)}this._opFn=gq[e],this._rvalFloat=Iu(t)}return n.prototype.evaluate=function(e){return Hn(e)?this._opFn(e,this._rvalFloat):this._opFn(Iu(e),this._rvalFloat)},n})(),mq=(function(){function n(e,t){var r=e==="desc";this._resultLT=r?1:-1,t==null&&(t=r?"min":"max"),this._incomparable=t==="min"?-1/0:1/0}return n.prototype.evaluate=function(e,t){var r=Hn(e)?e:Iu(e),i=Hn(t)?t:Iu(t),a=isNaN(r),o=isNaN(i);if(a&&(r=this._incomparable),o&&(i=this._incomparable),a&&o){var s=ut(e),l=ut(t);s&&(r=l?e:0),l&&(i=s?t:0)}return r<i?this._resultLT:r>i?-this._resultLT:0},n})(),oSe=(function(){function n(e,t){this._rval=t,this._isEQ=e,this._rvalTypeof=typeof t,this._rvalFloat=Iu(t)}return n.prototype.evaluate=function(e){var t=e===this._rval;if(!t){var r=typeof e;r!==this._rvalTypeof&&(r==="number"||this._rvalTypeof==="number")&&(t=Iu(e)===this._rvalFloat)}return this._isEQ?t:!t},n})();function sSe(n,e){return n==="eq"||n==="ne"?new oSe(n==="eq",e):gt(gq,n)?new aSe(n,e):null}var lSe=(function(){function n(){}return n.prototype.getRawData=function(){throw new Error("not supported")},n.prototype.getRawDataItem=function(e){throw new Error("not supported")},n.prototype.cloneRawData=function(){},n.prototype.getDimensionInfo=function(e){},n.prototype.cloneAllDimensionInfo=function(){},n.prototype.count=function(){},n.prototype.retrieveValue=function(e,t){},n.prototype.retrieveValueFromItem=function(e,t){},n.prototype.convertValue=function(e,t){return Eh(e,t)},n})();function uSe(n,e){var t=new lSe,r=n.data,i=t.sourceFormat=n.sourceFormat,a=n.startIndex,o="";n.seriesLayoutBy!==Du&&tr(o);var s=[],l={},u=n.dimensionsDefine;if(u)G(u,function(g,m){var y=g.name,S={index:m,name:y,displayName:g.displayName};if(s.push(S),y!=null){var M="";gt(l,y)&&tr(M),l[y]=S}});else for(var c=0;c<n.dimensionsDetectedCount;c++)s.push({index:c});var f=hq(i,Du);e.__isBuiltIn&&(t.getRawDataItem=function(g){return f(r,a,s,g)},t.getRawData=ht(cSe,null,n)),t.cloneRawData=ht(fSe,null,n);var h=dq(i,Du);t.count=ht(h,null,r,a,s);var d=pq(i);t.retrieveValue=function(g,m){var y=f(r,a,s,g);return p(y,m)};var p=t.retrieveValueFromItem=function(g,m){if(g!=null){var y=s[m];if(y)return d(g,m,y.name)}};return t.getDimensionInfo=ht(hSe,null,s,l),t.cloneAllDimensionInfo=ht(dSe,null,s),t}function cSe(n){var e=n.sourceFormat;if(!i3(e)){var t="";tr(t)}return n.data}function fSe(n){var e=n.sourceFormat,t=n.data;if(!i3(e)){var r="";tr(r)}if(e===Ya){for(var i=[],a=0,o=t.length;a<o;a++)i.push(t[a].slice());return i}else if(e===js){for(var i=[],a=0,o=t.length;a<o;a++)i.push(Le({},t[a]));return i}}function hSe(n,e,t){if(t!=null){if(Hn(t)||!isNaN(t)&&!gt(e,t))return n[t];if(gt(e,t))return e[t]}}function dSe(n){return Vt(n)}var yq=xt();function pSe(n){n=Vt(n);var e=n.type,t="";e||tr(t);var r=e.split(":");r.length!==2&&tr(t);var i=!1;r[0]==="echarts"&&(e=r[1],i=!0),n.__isBuiltIn=i,yq.set(e,n)}function vSe(n,e,t){var r=dr(n),i=r.length,a="";i||tr(a);for(var o=0,s=i;o<s;o++){var l=r[o];e=gSe(l,e),o!==s-1&&(e.length=Math.max(e.length,1))}return e}function gSe(n,e,t,r){var i="";e.length||tr(i),Bt(n)||tr(i);var a=n.type,o=yq.get(a);o||tr(i);var s=Ve(e,function(u){return uSe(u,o)}),l=dr(o.transform({upstream:s[0],upstreamList:s,config:Vt(n.config)}));return Ve(l,function(u,c){var f="";Bt(u)||tr(f),u.data||tr(f);var h=uq(u.data);i3(h)||tr(f);var d,p=e[0];if(p&&c===0&&!u.dimensions){var g=p.startIndex;g&&(u.data=p.data.slice(0,g).concat(u.data)),d={seriesLayoutBy:Du,sourceHeader:g,dimensions:p.metaRawOption.dimensions}}else d={seriesLayoutBy:Du,sourceHeader:0,dimensions:u.dimensions};return EI(u.data,d,null)})}function i3(n){return n===Ya||n===js}var zC="undefined",mSe=typeof Uint32Array===zC?Array:Uint32Array,ySe=typeof Uint16Array===zC?Array:Uint16Array,_q=typeof Int32Array===zC?Array:Int32Array,j4=typeof Float64Array===zC?Array:Float64Array,xq={float:j4,int:_q,ordinal:Array,number:Array,time:j4},ZD;function Sm(n){return n>65535?mSe:ySe}function wm(){return[1/0,-1/0]}function _Se(n){var e=n.constructor;return e===Array?n.slice():new e(n)}function Z4(n,e,t,r,i){var a=xq[t||"float"];if(i){var o=n[e],s=o&&o.length;if(s!==r){for(var l=new a(r),u=0;u<s;u++)l[u]=o[u];n[e]=l}}else n[e]=new a(r)}var PI=(function(){function n(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=xt()}return n.prototype.initData=function(e,t,r){this._provider=e,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var i=e.getSource(),a=this.defaultDimValueGetter=ZD[i.sourceFormat];this._dimValueGetter=r||a,this._rawExtent=[],cq(i),this._dimensions=Ve(t,function(o){return{type:o.type,property:o.property}}),this._initDataFromProvider(0,e.count())},n.prototype.getProvider=function(){return this._provider},n.prototype.getSource=function(){return this._provider.getSource()},n.prototype.ensureCalculationDimension=function(e,t){var r=this._calcDimNameToIdx,i=this._dimensions,a=r.get(e);if(a!=null){if(i[a].type===t)return a}else a=i.length;return i[a]={type:t},r.set(e,a),this._chunks[a]=new xq[t||"float"](this._rawCount),this._rawExtent[a]=wm(),a},n.prototype.collectOrdinalMeta=function(e,t){var r=this._chunks[e],i=this._dimensions[e],a=this._rawExtent,o=i.ordinalOffset||0,s=r.length;o===0&&(a[e]=wm());for(var l=a[e],u=o;u<s;u++){var c=r[u]=t.parseAndCollect(r[u]);isNaN(c)||(l[0]=Math.min(c,l[0]),l[1]=Math.max(c,l[1]))}i.ordinalMeta=t,i.ordinalOffset=s,i.type="ordinal"},n.prototype.getOrdinalMeta=function(e){var t=this._dimensions[e],r=t.ordinalMeta;return r},n.prototype.getDimensionProperty=function(e){var t=this._dimensions[e];return t&&t.property},n.prototype.appendData=function(e){var t=this._provider,r=this.count();t.appendData(e);var i=t.count();return t.persistent||(i+=r),r<i&&this._initDataFromProvider(r,i,!0),[r,i]},n.prototype.appendValues=function(e,t){for(var r=this._chunks,i=this._dimensions,a=i.length,o=this._rawExtent,s=this.count(),l=s+Math.max(e.length,t||0),u=0;u<a;u++){var c=i[u];Z4(r,u,c.type,l,!0)}for(var f=[],h=s;h<l;h++)for(var d=h-s,p=0;p<a;p++){var c=i[p],g=ZD.arrayRows.call(this,e[d]||f,c.property,d,p);r[p][h]=g;var m=o[p];g<m[0]&&(m[0]=g),g>m[1]&&(m[1]=g)}return this._rawCount=this._count=l,{start:s,end:l}},n.prototype._initDataFromProvider=function(e,t,r){for(var i=this._provider,a=this._chunks,o=this._dimensions,s=o.length,l=this._rawExtent,u=Ve(o,function(S){return S.property}),c=0;c<s;c++){var f=o[c];l[c]||(l[c]=wm()),Z4(a,c,f.type,t,r)}if(i.fillStorage)i.fillStorage(e,t,a,l);else for(var h=[],d=e;d<t;d++){h=i.getItem(d,h);for(var p=0;p<s;p++){var g=a[p],m=this._dimValueGetter(h,u[p],d,p);g[d]=m;var y=l[p];m<y[0]&&(y[0]=m),m>y[1]&&(y[1]=m)}}!i.persistent&&i.clean&&i.clean(),this._rawCount=this._count=t,this._extent=[]},n.prototype.count=function(){return this._count},n.prototype.get=function(e,t){if(!(t>=0&&t<this._count))return NaN;var r=this._chunks[e];return r?r[this.getRawIndex(t)]:NaN},n.prototype.getValues=function(e,t){var r=[],i=[];if(t==null){t=e,e=[];for(var a=0;a<this._dimensions.length;a++)i.push(a)}else i=e;for(var a=0,o=i.length;a<o;a++)r.push(this.get(i[a],t));return r},n.prototype.getByRawIndex=function(e,t){if(!(t>=0&&t<this._rawCount))return NaN;var r=this._chunks[e];return r?r[t]:NaN},n.prototype.getSum=function(e){var t=this._chunks[e],r=0;if(t)for(var i=0,a=this.count();i<a;i++){var o=this.get(e,i);isNaN(o)||(r+=o)}return r},n.prototype.getMedian=function(e){var t=[];this.each([e],function(a){isNaN(a)||t.push(a)});var r=t.sort(function(a,o){return a-o}),i=this.count();return i===0?0:i%2===1?r[(i-1)/2]:(r[i/2]+r[i/2-1])/2},n.prototype.indexOfRawIndex=function(e){if(e>=this._rawCount||e<0)return-1;if(!this._indices)return e;var t=this._indices,r=t[e];if(r!=null&&r<this._count&&r===e)return e;for(var i=0,a=this._count-1;i<=a;){var o=(i+a)/2|0;if(t[o]<e)i=o+1;else if(t[o]>e)a=o-1;else return o}return-1},n.prototype.indicesOfNearest=function(e,t,r){var i=this._chunks,a=i[e],o=[];if(!a)return o;r==null&&(r=1/0);for(var s=1/0,l=-1,u=0,c=0,f=this.count();c<f;c++){var h=this.getRawIndex(c),d=t-a[h],p=Math.abs(d);p<=r&&((p<s||p===s&&d>=0&&l<0)&&(s=p,l=d,u=0),d===l&&(o[u++]=c))}return o.length=u,o},n.prototype.getIndices=function(){var e,t=this._indices;if(t){var r=t.constructor,i=this._count;if(r===Array){e=new r(i);for(var a=0;a<i;a++)e[a]=t[a]}else e=new r(t.buffer,0,i)}else{var r=Sm(this._rawCount);e=new r(this.count());for(var a=0;a<e.length;a++)e[a]=a}return e},n.prototype.filter=function(e,t){if(!this._count)return this;for(var r=this.clone(),i=r.count(),a=Sm(r._rawCount),o=new a(i),s=[],l=e.length,u=0,c=e[0],f=r._chunks,h=0;h<i;h++){var d=void 0,p=r.getRawIndex(h);if(l===0)d=t(h);else if(l===1){var g=f[c][p];d=t(g,h)}else{for(var m=0;m<l;m++)s[m]=f[e[m]][p];s[m]=h,d=t.apply(null,s)}d&&(o[u++]=p)}return u<i&&(r._indices=o),r._count=u,r._extent=[],r._updateGetRawIdx(),r},n.prototype.selectRange=function(e){var t=this.clone(),r=t._count;if(!r)return this;var i=En(e),a=i.length;if(!a)return this;var o=t.count(),s=Sm(t._rawCount),l=new s(o),u=0,c=i[0],f=e[c][0],h=e[c][1],d=t._chunks,p=!1;if(!t._indices){var g=0;if(a===1){for(var m=d[i[0]],y=0;y<r;y++){var S=m[y];(S>=f&&S<=h||isNaN(S))&&(l[u++]=g),g++}p=!0}else if(a===2){for(var m=d[i[0]],M=d[i[1]],b=e[i[1]][0],C=e[i[1]][1],y=0;y<r;y++){var S=m[y],A=M[y];(S>=f&&S<=h||isNaN(S))&&(A>=b&&A<=C||isNaN(A))&&(l[u++]=g),g++}p=!0}}if(!p)if(a===1)for(var y=0;y<o;y++){var E=t.getRawIndex(y),S=d[i[0]][E];(S>=f&&S<=h||isNaN(S))&&(l[u++]=E)}else for(var y=0;y<o;y++){for(var I=!0,E=t.getRawIndex(y),L=0;L<a;L++){var R=i[L],S=d[R][E];(S<e[R][0]||S>e[R][1])&&(I=!1)}I&&(l[u++]=t.getRawIndex(y))}return u<o&&(t._indices=l),t._count=u,t._extent=[],t._updateGetRawIdx(),t},n.prototype.map=function(e,t){var r=this.clone(e);return this._updateDims(r,e,t),r},n.prototype.modify=function(e,t){this._updateDims(this,e,t)},n.prototype._updateDims=function(e,t,r){for(var i=e._chunks,a=[],o=t.length,s=e.count(),l=[],u=e._rawExtent,c=0;c<t.length;c++)u[t[c]]=wm();for(var f=0;f<s;f++){for(var h=e.getRawIndex(f),d=0;d<o;d++)l[d]=i[t[d]][h];l[o]=f;var p=r&&r.apply(null,l);if(p!=null){typeof p!="object"&&(a[0]=p,p=a);for(var c=0;c<p.length;c++){var g=t[c],m=p[c],y=u[g],S=i[g];S&&(S[h]=m),m<y[0]&&(y[0]=m),m>y[1]&&(y[1]=m)}}}},n.prototype.lttbDownSample=function(e,t){var r=this.clone([e],!0),i=r._chunks,a=i[e],o=this.count(),s=0,l=Math.floor(1/t),u=this.getRawIndex(0),c,f,h,d=new(Sm(this._rawCount))(Math.min((Math.ceil(o/l)+2)*2,o));d[s++]=u;for(var p=1;p<o-1;p+=l){for(var g=Math.min(p+l,o-1),m=Math.min(p+l*2,o),y=(m+g)/2,S=0,M=g;M<m;M++){var b=this.getRawIndex(M),C=a[b];isNaN(C)||(S+=C)}S/=m-g;var A=p,E=Math.min(p+l,o),I=p-1,L=a[u];c=-1,h=A;for(var R=-1,O=0,M=A;M<E;M++){var b=this.getRawIndex(M),C=a[b];if(isNaN(C)){O++,R<0&&(R=b);continue}f=Math.abs((I-y)*(C-L)-(I-M)*(S-L)),f>c&&(c=f,h=b)}O>0&&O<E-A&&(d[s++]=Math.min(R,h),h=Math.max(R,h)),d[s++]=h,u=h}return d[s++]=this.getRawIndex(o-1),r._count=s,r._indices=d,r.getRawIndex=this._getRawIdx,r},n.prototype.minmaxDownSample=function(e,t){for(var r=this.clone([e],!0),i=r._chunks,a=Math.floor(1/t),o=i[e],s=this.count(),l=new(Sm(this._rawCount))(Math.ceil(s/a)*2),u=0,c=0;c<s;c+=a){var f=c,h=o[this.getRawIndex(f)],d=c,p=o[this.getRawIndex(d)],g=a;c+a>s&&(g=s-c);for(var m=0;m<g;m++){var y=this.getRawIndex(c+m),S=o[y];S<h&&(h=S,f=c+m),S>p&&(p=S,d=c+m)}var M=this.getRawIndex(f),b=this.getRawIndex(d);f<d?(l[u++]=M,l[u++]=b):(l[u++]=b,l[u++]=M)}return r._count=u,r._indices=l,r._updateGetRawIdx(),r},n.prototype.downSample=function(e,t,r,i){for(var a=this.clone([e],!0),o=a._chunks,s=[],l=Math.floor(1/t),u=o[e],c=this.count(),f=a._rawExtent[e]=wm(),h=new(Sm(this._rawCount))(Math.ceil(c/l)),d=0,p=0;p<c;p+=l){l>c-p&&(l=c-p,s.length=l);for(var g=0;g<l;g++){var m=this.getRawIndex(p+g);s[g]=u[m]}var y=r(s),S=this.getRawIndex(Math.min(p+i(s,y)||0,c-1));u[S]=y,y<f[0]&&(f[0]=y),y>f[1]&&(f[1]=y),h[d++]=S}return a._count=d,a._indices=h,a._updateGetRawIdx(),a},n.prototype.each=function(e,t){if(this._count)for(var r=e.length,i=this._chunks,a=0,o=this.count();a<o;a++){var s=this.getRawIndex(a);switch(r){case 0:t(a);break;case 1:t(i[e[0]][s],a);break;case 2:t(i[e[0]][s],i[e[1]][s],a);break;default:for(var l=0,u=[];l<r;l++)u[l]=i[e[l]][s];u[l]=a,t.apply(null,u)}}},n.prototype.getDataExtent=function(e){var t=this._chunks[e],r=wm();if(!t)return r;var i=this.count(),a=!this._indices,o;if(a)return this._rawExtent[e].slice();if(o=this._extent[e],o)return o.slice();o=r;for(var s=o[0],l=o[1],u=0;u<i;u++){var c=this.getRawIndex(u),f=t[c];f<s&&(s=f),f>l&&(l=f)}return o=[s,l],this._extent[e]=o,o},n.prototype.getRawDataItem=function(e){var t=this.getRawIndex(e);if(this._provider.persistent)return this._provider.getItem(t);for(var r=[],i=this._chunks,a=0;a<i.length;a++)r.push(i[a][t]);return r},n.prototype.clone=function(e,t){var r=new n,i=this._chunks,a=e&&Gs(e,function(s,l){return s[l]=!0,s},{});if(a)for(var o=0;o<i.length;o++)r._chunks[o]=a[o]?_Se(i[o]):i[o];else r._chunks=i;return this._copyCommonProps(r),t||(r._indices=this._cloneIndices()),r._updateGetRawIdx(),r},n.prototype._copyCommonProps=function(e){e._count=this._count,e._rawCount=this._rawCount,e._provider=this._provider,e._dimensions=this._dimensions,e._extent=Vt(this._extent),e._rawExtent=Vt(this._rawExtent)},n.prototype._cloneIndices=function(){if(this._indices){var e=this._indices.constructor,t=void 0;if(e===Array){var r=this._indices.length;t=new e(r);for(var i=0;i<r;i++)t[i]=this._indices[i]}else t=new e(this._indices);return t}return null},n.prototype._getRawIdxIdentity=function(e){return e},n.prototype._getRawIdx=function(e){return e<this._count&&e>=0?this._indices[e]:-1},n.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},n.internalField=(function(){function e(t,r,i,a){return Eh(t[a],this._dimensions[a])}ZD={arrayRows:e,objectRows:function(t,r,i,a){return Eh(t[r],this._dimensions[a])},keyedColumns:e,original:function(t,r,i,a){var o=t&&(t.value==null?t:t.value);return Eh(o instanceof Array?o[a]:o,this._dimensions[a])},typedArray:function(t,r,i,a){return t[a]}}})(),n})(),Sq=(function(){function n(e){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=e}return n.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},n.prototype._setLocalSource=function(e,t){this._sourceList=e,this._upstreamSignList=t,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},n.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},n.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},n.prototype._createSource=function(){this._setLocalSource([],[]);var e=this._sourceHost,t=this._getUpstreamSourceManagers(),r=!!t.length,i,a;if(eT(e)){var o=e,s=void 0,l=void 0,u=void 0;if(r){var c=t[0];c.prepareSource(),u=c.getSource(),s=u.data,l=u.sourceFormat,a=[c._getVersionSign()]}else s=o.get("data",!0),l=yo(s)?Ch:Ys,a=[];var f=this._getSourceMetaRawOption()||{},h=u&&u.metaRawOption||{},d=tn(f.seriesLayoutBy,h.seriesLayoutBy)||null,p=tn(f.sourceHeader,h.sourceHeader),g=tn(f.dimensions,h.dimensions),m=d!==h.seriesLayoutBy||!!p!=!!h.sourceHeader||g;i=m?[EI(s,{seriesLayoutBy:d,sourceHeader:p,dimensions:g},l)]:[]}else{var y=e;if(r){var S=this._applyTransform(t);i=S.sourceList,a=S.upstreamSignList}else{var M=y.get("source",!0);i=[EI(M,this._getSourceMetaRawOption(),null)],a=[]}}this._setLocalSource(i,a)},n.prototype._applyTransform=function(e){var t=this._sourceHost,r=t.get("transform",!0),i=t.get("fromTransformResult",!0);if(i!=null){var a="";e.length!==1&&q4(a)}var o,s=[],l=[];return G(e,function(u){u.prepareSource();var c=u.getSource(i||0),f="";i!=null&&!c&&q4(f),s.push(c),l.push(u._getVersionSign())}),r?o=vSe(r,s,{datasetIndex:t.componentIndex}):i!=null&&(o=[qxe(s[0])]),{sourceList:o,upstreamSignList:l}},n.prototype._isDirty=function(){if(this._dirty)return!0;for(var e=this._getUpstreamSourceManagers(),t=0;t<e.length;t++){var r=e[t];if(r._isDirty()||this._upstreamSignList[t]!==r._getVersionSign())return!0}},n.prototype.getSource=function(e){e=e||0;var t=this._sourceList[e];if(!t){var r=this._getUpstreamSourceManagers();return r[0]&&r[0].getSource(e)}return t},n.prototype.getSharedDataStore=function(e){var t=e.makeStoreSchema();return this._innerGetDataStore(t.dimensions,e.source,t.hash)},n.prototype._innerGetDataStore=function(e,t,r){var i=0,a=this._storeList,o=a[i];o||(o=a[i]={});var s=o[r];if(!s){var l=this._getUpstreamSourceManagers()[0];eT(this._sourceHost)&&l?s=l._innerGetDataStore(e,t,r):(s=new PI,s.initData(new fq(t,e.length),e)),o[r]=s}return s},n.prototype._getUpstreamSourceManagers=function(){var e=this._sourceHost;if(eT(e)){var t=Jk(e);return t?[t.getSourceManager()]:[]}else return Ve(bxe(e),function(r){return r.getSourceManager()})},n.prototype._getSourceMetaRawOption=function(){var e=this._sourceHost,t,r,i;if(eT(e))t=e.get("seriesLayoutBy",!0),r=e.get("sourceHeader",!0),i=e.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var a=e;t=a.get("seriesLayoutBy",!0),r=a.get("sourceHeader",!0),i=a.get("dimensions",!0)}return{seriesLayoutBy:t,sourceHeader:r,dimensions:i}},n})();function $4(n){var e=n.option.transform;e&&bS(n.option.transform)}function eT(n){return n.mainType==="series"}function q4(n){throw new Error(n)}var xSe="line-height:1";function wq(n){var e=n.lineHeight;return e==null?xSe:"line-height:"+za(e+"")+"px"}function Mq(n,e){var t=n.color||"#6e7079",r=n.fontSize||12,i=n.fontWeight||"400",a=n.color||"#464646",o=n.fontSize||14,s=n.fontWeight||"900";return e==="html"?{nameStyle:"font-size:"+za(r+"")+"px;color:"+za(t)+";font-weight:"+za(i+""),valueStyle:"font-size:"+za(o+"")+"px;color:"+za(a)+";font-weight:"+za(s+"")}:{nameStyle:{fontSize:r,fill:t,fontWeight:i},valueStyle:{fontSize:o,fill:a,fontWeight:s}}}var SSe=[0,10,20,30],wSe=["",`
`,`

`,`


`];function Zi(n,e){return e.type=n,e}function DI(n){return n.type==="section"}function Tq(n){return DI(n)?MSe:TSe}function bq(n){if(DI(n)){var e=0,t=n.blocks.length,r=t>1||t>0&&!n.noHeader;return G(n.blocks,function(i){var a=bq(i);a>=e&&(e=a+ +(r&&(!a||DI(i)&&!i.noHeader)))}),e}return 0}function MSe(n,e,t,r){var i=e.noHeader,a=bSe(bq(e)),o=[],s=e.blocks||[];Ha(!s||ze(s)),s=s||[];var l=n.orderMode;if(e.sortBlocks&&l){s=s.slice();var u={valueAsc:"asc",valueDesc:"desc"};if(gt(u,l)){var c=new mq(u[l],null);s.sort(function(g,m){return c.evaluate(g.sortParam,m.sortParam)})}else l==="seriesDesc"&&s.reverse()}G(s,function(g,m){var y=e.valueFormatter,S=Tq(g)(y?Le(Le({},n),{valueFormatter:y}):n,g,m>0?a.html:0,r);S!=null&&o.push(S)});var f=n.renderMode==="richText"?o.join(a.richText):RI(r,o.join(""),i?t:a.html);if(i)return f;var h=bI(e.header,"ordinal",n.useUTC),d=Mq(r,n.renderMode).nameStyle,p=wq(r);return n.renderMode==="richText"?Aq(n,h,d)+a.richText+f:RI(r,'<div style="'+d+";"+p+';">'+za(h)+"</div>"+f,t)}function TSe(n,e,t,r){var i=n.renderMode,a=e.noName,o=e.noValue,s=!e.markerType,l=e.name,u=n.useUTC,c=e.valueFormatter||n.valueFormatter||function(b){return b=ze(b)?b:[b],Ve(b,function(C,A){return bI(C,ze(d)?d[A]:d,u)})};if(!(a&&o)){var f=s?"":n.markupStyleCreator.makeTooltipMarker(e.markerType,e.markerColor||"#333",i),h=a?"":bI(l,"ordinal",u),d=e.valueType,p=o?[]:c(e.value,e.dataIndex),g=!s||!a,m=!s&&a,y=Mq(r,i),S=y.nameStyle,M=y.valueStyle;return i==="richText"?(s?"":f)+(a?"":Aq(n,h,S))+(o?"":ESe(n,p,g,m,M)):RI(r,(s?"":f)+(a?"":ASe(h,!s,S))+(o?"":CSe(p,g,m,M)),t)}}function K4(n,e,t,r,i,a){if(n){var o=Tq(n),s={useUTC:i,renderMode:t,orderMode:r,markupStyleCreator:e,valueFormatter:n.valueFormatter};return o(s,n,0,a)}}function bSe(n){return{html:SSe[n],richText:wSe[n]}}function RI(n,e,t){var r='<div style="clear:both"></div>',i="margin: "+t+"px 0 0",a=wq(n);return'<div style="'+i+";"+a+';">'+e+r+"</div>"}function ASe(n,e,t){var r=e?"margin-left:2px":"";return'<span style="'+t+";"+r+'">'+za(n)+"</span>"}function CSe(n,e,t,r){var i=t?"10px":"20px",a=e?"float:right;margin-left:"+i:"";return n=ze(n)?n:[n],'<span style="'+a+";"+r+'">'+Ve(n,function(o){return za(o)}).join("&nbsp;&nbsp;")+"</span>"}function Aq(n,e,t){return n.markupStyleCreator.wrapRichTextStyle(e,t)}function ESe(n,e,t,r,i){var a=[i],o=r?10:20;return t&&a.push({padding:[0,0,0,o],align:"right"}),n.markupStyleCreator.wrapRichTextStyle(ze(e)?e.join("  "):e,a)}function Cq(n,e){var t=n.getData().getItemVisual(e,"style"),r=t[n.visualDrawType];return bv(r)}function Eq(n,e){var t=n.get("padding");return t??(e==="richText"?[8,10]:10)}var $D=(function(){function n(){this.richTextStyles={},this._nextStyleNameId=XZ()}return n.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},n.prototype.makeTooltipMarker=function(e,t,r){var i=r==="richText"?this._generateStyleName():null,a=$$({color:t,type:e,renderMode:r,markerId:i});return ut(a)?a:(this.richTextStyles[i]=a.style,a.content)},n.prototype.wrapRichTextStyle=function(e,t){var r={};ze(t)?G(t,function(a){return Le(r,a)}):Le(r,t);var i=this._generateStyleName();return this.richTextStyles[i]=r,"{"+i+"|"+e+"}"},n})();function Pq(n){var e=n.series,t=n.dataIndex,r=n.multipleSeries,i=e.getData(),a=i.mapDimensionsAll("defaultedTooltip"),o=a.length,s=e.getRawValue(t),l=ze(s),u=Cq(e,t),c,f,h,d;if(o>1||l&&!o){var p=PSe(s,e,t,a,u);c=p.inlineValues,f=p.inlineValueTypes,h=p.blocks,d=p.inlineValues[0]}else if(o){var g=i.getDimensionInfo(a[0]);d=c=Cy(i,t,a[0]),f=g.type}else d=c=l?s[0]:s;var m=Tk(e),y=m&&e.name||"",S=i.getName(t),M=r?y:S;return Zi("section",{header:y,noHeader:r||!m,sortParam:d,blocks:[Zi("nameValue",{markerType:"item",markerColor:u,name:M,noName:!Us(M),value:c,valueType:f,dataIndex:t})].concat(h||[])})}function PSe(n,e,t,r,i){var a=e.getData(),o=Gs(n,function(f,h,d){var p=a.getDimensionInfo(d);return f=f||p&&p.tooltip!==!1&&p.displayName!=null},!1),s=[],l=[],u=[];r.length?G(r,function(f){c(Cy(a,t,f),f)}):G(n,c);function c(f,h){var d=a.getDimensionInfo(h);!d||d.otherDims.tooltip===!1||(o?u.push(Zi("nameValue",{markerType:"subItem",markerColor:i,name:d.displayName,value:f,valueType:d.type})):(s.push(f),l.push(d.type)))}return{inlineValues:s,inlineValueTypes:l,blocks:u}}var th=Un();function tT(n,e){return n.getName(e)||n.getId(e)}var ab="__universalTransitionEnabled",pr=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t._selectedDataIndicesMap={},t}return e.prototype.init=function(t,r,i){this.seriesIndex=this.componentIndex,this.dataTask=Wx({count:RSe,reset:LSe}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(t,i);var a=th(this).sourceManager=new Sq(this);a.prepareSource();var o=this.getInitialData(t,i);Q4(o,this),this.dataTask.context.data=o,th(this).dataBeforeProcessed=o,J4(this),this._initSelectedMapFromData(o)},e.prototype.mergeDefaultAndTheme=function(t,r){var i=FS(this),a=i?e0(t):{},o=this.subType;wn.hasClass(o)&&(o+="Series"),on(t,r.getTheme().get(this.subType)),on(t,this.getDefaultOption()),Sv(t,"label",["show"]),this.fillDataTextStyle(t.data),i&&Fh(t,a,i)},e.prototype.mergeOption=function(t,r){t=on(this.option,t,!0),this.fillDataTextStyle(t.data);var i=FS(this);i&&Fh(this.option,t,i);var a=th(this).sourceManager;a.dirty(),a.prepareSource();var o=this.getInitialData(t,r);Q4(o,this),this.dataTask.dirty(),this.dataTask.context.data=o,th(this).dataBeforeProcessed=o,J4(this),this._initSelectedMapFromData(o)},e.prototype.fillDataTextStyle=function(t){if(t&&!yo(t))for(var r=["show"],i=0;i<t.length;i++)t[i]&&t[i].label&&Sv(t[i],"label",r)},e.prototype.getInitialData=function(t,r){},e.prototype.appendData=function(t){var r=this.getRawData();r.appendData(t.data)},e.prototype.getData=function(t){var r=LI(this);if(r){var i=r.context.data;return t==null||!i.getLinkedData?i:i.getLinkedData(t)}else return th(this).data},e.prototype.getAllData=function(){var t=this.getData();return t&&t.getLinkedDataAll?t.getLinkedDataAll():[{data:t}]},e.prototype.setData=function(t){var r=LI(this);if(r){var i=r.context;i.outputData=t,r!==this.dataTask&&(i.data=t)}th(this).data=t},e.prototype.getEncode=function(){var t=this.get("encode",!0);if(t)return xt(t)},e.prototype.getSourceManager=function(){return th(this).sourceManager},e.prototype.getSource=function(){return this.getSourceManager().getSource()},e.prototype.getRawData=function(){return th(this).dataBeforeProcessed},e.prototype.getColorBy=function(){var t=this.get("colorBy");return t||"series"},e.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},e.prototype.getBaseAxis=function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()},e.prototype.formatTooltip=function(t,r,i){return Pq({series:this,dataIndex:t,multipleSeries:r})},e.prototype.isAnimationEnabled=function(){var t=this.ecModel;if(Mn.node&&!(t&&t.ssr))return!1;var r=this.getShallow("animation");return r&&this.getData().count()>this.getShallow("animationThreshold")&&(r=!1),!!r},e.prototype.restoreData=function(){this.dataTask.dirty()},e.prototype.getColorFromPalette=function(t,r,i){var a=this.ecModel,o=Qk.prototype.getColorFromPalette.call(this,t,r,i);return o||(o=a.getColorFromPalette(t,r,i)),o},e.prototype.coordDimToDataDim=function(t){return this.getRawData().mapDimensionsAll(t)},e.prototype.getProgressive=function(){return this.get("progressive")},e.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},e.prototype.select=function(t,r){this._innerSelect(this.getData(r),t)},e.prototype.unselect=function(t,r){var i=this.option.selectedMap;if(i){var a=this.option.selectedMode,o=this.getData(r);if(a==="series"||i==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var s=0;s<t.length;s++){var l=t[s],u=tT(o,l);i[u]=!1,this._selectedDataIndicesMap[u]=-1}}},e.prototype.toggleSelect=function(t,r){for(var i=[],a=0;a<t.length;a++)i[0]=t[a],this.isSelected(t[a],r)?this.unselect(i,r):this.select(i,r)},e.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var t=this._selectedDataIndicesMap,r=En(t),i=[],a=0;a<r.length;a++){var o=t[r[a]];o>=0&&i.push(o)}return i},e.prototype.isSelected=function(t,r){var i=this.option.selectedMap;if(!i)return!1;var a=this.getData(r);return(i==="all"||i[tT(a,t)])&&!a.getItemModel(t).get(["select","disabled"])},e.prototype.isUniversalTransitionEnabled=function(){if(this[ab])return!0;var t=this.option.universalTransition;return t?t===!0?!0:t&&t.enabled:!1},e.prototype._innerSelect=function(t,r){var i,a,o=this.option,s=o.selectedMode,l=r.length;if(!(!s||!l)){if(s==="series")o.selectedMap="all";else if(s==="multiple"){Bt(o.selectedMap)||(o.selectedMap={});for(var u=o.selectedMap,c=0;c<l;c++){var f=r[c],h=tT(t,f);u[h]=!0,this._selectedDataIndicesMap[h]=t.getRawIndex(f)}}else if(s==="single"||s===!0){var d=r[l-1],h=tT(t,d);o.selectedMap=(i={},i[h]=!0,i),this._selectedDataIndicesMap=(a={},a[h]=t.getRawIndex(d),a)}}},e.prototype._initSelectedMapFromData=function(t){if(!this.option.selectedMap){var r=[];t.hasItemOption&&t.each(function(i){var a=t.getRawDataItem(i);a&&a.selected&&r.push(i)}),r.length>0&&this._innerSelect(t,r)}},e.registerClass=function(t){return wn.registerClass(t)},e.protoInitialize=(function(){var t=e.prototype;t.type="series.__base__",t.seriesIndex=0,t.ignoreStyleOnData=!1,t.hasSymbolVisual=!1,t.defaultSymbol="circle",t.visualStyleAccessPath="itemStyle",t.visualDrawType="fill"})(),e})(wn);ti(pr,FC);ti(pr,Qk);e$(pr,wn);function J4(n){var e=n.name;Tk(n)||(n.name=DSe(n)||e)}function DSe(n){var e=n.getRawData(),t=e.mapDimensionsAll("seriesName"),r=[];return G(t,function(i){var a=e.getDimensionInfo(i);a.displayName&&r.push(a.displayName)}),r.join(" ")}function RSe(n){return n.model.getRawData().count()}function LSe(n){var e=n.model;return e.setData(e.getRawData().cloneShallow()),ISe}function ISe(n,e){e.outputData&&n.end>e.outputData.count()&&e.model.getRawData().cloneShallow(e.outputData)}function Q4(n,e){G(My(n.CHANGABLE_METHODS,n.DOWNSAMPLE_METHODS),function(t){n.wrapMethod(t,nn(NSe,e))})}function NSe(n,e){var t=LI(n);return t&&t.setOutputEnd((e||this).count()),e}function LI(n){var e=(n.ecModel||{}).scheduler,t=e&&e.getPipeline(n.uid);if(t){var r=t.currentTask;if(r){var i=r.agentStubMap;i&&(r=i.get(n.uid))}return r}}var br=(function(){function n(){this.group=new Xt,this.uid=Qy("viewComponent")}return n.prototype.init=function(e,t){},n.prototype.render=function(e,t,r,i){},n.prototype.dispose=function(e,t){},n.prototype.updateView=function(e,t,r,i){},n.prototype.updateLayout=function(e,t,r,i){},n.prototype.updateVisual=function(e,t,r,i){},n.prototype.toggleBlurSeries=function(e,t,r){},n.prototype.eachRendered=function(e){var t=this.group;t&&t.traverse(e)},n})();Ak(br);SC(br);function r0(){var n=Un();return function(e){var t=n(e),r=e.pipelineContext,i=!!t.large,a=!!t.progressiveRender,o=t.large=!!(r&&r.large),s=t.progressiveRender=!!(r&&r.progressiveRender);return(i!==o||a!==s)&&"reset"}}var Dq=Un(),OSe=r0(),sr=(function(){function n(){this.group=new Xt,this.uid=Qy("viewChart"),this.renderTask=Wx({plan:kSe,reset:FSe}),this.renderTask.context={view:this}}return n.prototype.init=function(e,t){},n.prototype.render=function(e,t,r,i){},n.prototype.highlight=function(e,t,r,i){var a=e.getData(i&&i.dataType);a&&tG(a,i,"emphasis")},n.prototype.downplay=function(e,t,r,i){var a=e.getData(i&&i.dataType);a&&tG(a,i,"normal")},n.prototype.remove=function(e,t){this.group.removeAll()},n.prototype.dispose=function(e,t){},n.prototype.updateView=function(e,t,r,i){this.render(e,t,r,i)},n.prototype.updateLayout=function(e,t,r,i){this.render(e,t,r,i)},n.prototype.updateVisual=function(e,t,r,i){this.render(e,t,r,i)},n.prototype.eachRendered=function(e){Zh(this.group,e)},n.markUpdateMethod=function(e,t){Dq(e).updateMethod=t},n.protoInitialize=(function(){var e=n.prototype;e.type="chart"})(),n})();function eG(n,e,t){n&&NS(n)&&(e==="emphasis"?ef:tf)(n,t)}function tG(n,e,t){var r=wv(n,e),i=e&&e.highlightKey!=null?x_e(e.highlightKey):null;r!=null?G(dr(r),function(a){eG(n.getItemGraphicEl(a),t,i)}):n.eachItemGraphicEl(function(a){eG(a,t,i)})}Ak(sr);SC(sr);function kSe(n){return OSe(n.model)}function FSe(n){var e=n.model,t=n.ecModel,r=n.api,i=n.payload,a=e.pipelineContext.progressiveRender,o=n.view,s=i&&Dq(i).updateMethod,l=a?"incrementalPrepareRender":s&&o[s]?s:"render";return l!=="render"&&o[l](e,t,r,i),zSe[l]}var zSe={incrementalPrepareRender:{progress:function(n,e){e.view.incrementalRender(n,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:!0,progress:function(n,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}},$b="\0__throttleOriginMethod",nG="\0__throttleRate",rG="\0__throttleType";function BC(n,e,t){var r,i=0,a=0,o=null,s,l,u,c;e=e||0;function f(){a=new Date().getTime(),o=null,n.apply(l,u||[])}var h=function(){for(var d=[],p=0;p<arguments.length;p++)d[p]=arguments[p];r=new Date().getTime(),l=this,u=d;var g=c||e,m=c||t;c=null,s=r-(m?i:a)-g,clearTimeout(o),m?o=setTimeout(f,g):s>=0?f():o=setTimeout(f,-s),i=r};return h.clear=function(){o&&(clearTimeout(o),o=null)},h.debounceNextCall=function(d){c=d},h}function i0(n,e,t,r){var i=n[e];if(i){var a=i[$b]||i,o=i[rG],s=i[nG];if(s!==t||o!==r){if(t==null||!r)return n[e]=a;i=n[e]=BC(a,t,r==="debounce"),i[$b]=a,i[rG]=r,i[nG]=t}return i}}function BS(n,e){var t=n[e];t&&t[$b]&&(t.clear&&t.clear(),n[e]=t[$b])}var iG=Un(),aG={itemStyle:Mv(B$,!0),lineStyle:Mv(z$,!0)},BSe={lineStyle:"stroke",itemStyle:"fill"};function Rq(n,e){var t=n.visualStyleMapper||aG[e];return t||(console.warn("Unknown style type '"+e+"'."),aG.itemStyle)}function Lq(n,e){var t=n.visualDrawType||BSe[e];return t||(console.warn("Unknown style type '"+e+"'."),"fill")}var USe={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,e){var t=n.getData(),r=n.visualStyleAccessPath||"itemStyle",i=n.getModel(r),a=Rq(n,r),o=a(i),s=i.getShallow("decal");s&&(t.setVisual("decal",s),s.dirty=!0);var l=Lq(n,r),u=o[l],c=Ct(u)?u:null,f=o.fill==="auto"||o.stroke==="auto";if(!o[l]||c||f){var h=n.getColorFromPalette(n.name,null,e.getSeriesCount());o[l]||(o[l]=h,t.setVisual("colorFromPalette",!0)),o.fill=o.fill==="auto"||Ct(o.fill)?h:o.fill,o.stroke=o.stroke==="auto"||Ct(o.stroke)?h:o.stroke}if(t.setVisual("style",o),t.setVisual("drawType",l),!e.isSeriesFiltered(n)&&c)return t.setVisual("colorFromPalette",!1),{dataEach:function(d,p){var g=n.getDataParams(p),m=Le({},o);m[l]=c(g),d.setItemVisual(p,"style",m)}}}},N_=new qn,VSe={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,e){if(!(n.ignoreStyleOnData||e.isSeriesFiltered(n))){var t=n.getData(),r=n.visualStyleAccessPath||"itemStyle",i=Rq(n,r),a=t.getVisual("drawType");return{dataEach:t.hasItemOption?function(o,s){var l=o.getRawDataItem(s);if(l&&l[r]){N_.option=l[r];var u=i(N_),c=o.ensureUniqueItemVisual(s,"style");Le(c,u),N_.option.decal&&(o.setItemVisual(s,"decal",N_.option.decal),N_.option.decal.dirty=!0),a in u&&o.setItemVisual(s,"colorFromPalette",!1)}}:null}}}},GSe={performRawSeries:!0,overallReset:function(n){var e=xt();n.eachSeries(function(t){var r=t.getColorBy();if(!t.isColorBySeries()){var i=t.type+"-"+r,a=e.get(i);a||(a={},e.set(i,a)),iG(t).scope=a}}),n.eachSeries(function(t){if(!(t.isColorBySeries()||n.isSeriesFiltered(t))){var r=t.getRawData(),i={},a=t.getData(),o=iG(t).scope,s=t.visualStyleAccessPath||"itemStyle",l=Lq(t,s);a.each(function(u){var c=a.getRawIndex(u);i[c]=u}),r.each(function(u){var c=i[u],f=a.getItemVisual(c,"colorFromPalette");if(f){var h=a.ensureUniqueItemVisual(c,"style"),d=r.getName(u)||u+"",p=r.count();h[l]=t.getColorFromPalette(d,o,p)}})}})}},nT=Math.PI;function HSe(n,e){e=e||{},Dt(e,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var t=new Xt,r=new kn({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4});t.add(r);var i=new On({style:{text:e.text,fill:e.textColor,fontSize:e.fontSize,fontWeight:e.fontWeight,fontStyle:e.fontStyle,fontFamily:e.fontFamily},zlevel:e.zlevel,z:10001}),a=new kn({style:{fill:"none"},textContent:i,textConfig:{position:"right",distance:10},zlevel:e.zlevel,z:10001});t.add(a);var o;return e.showSpinner&&(o=new C1({shape:{startAngle:-nT/2,endAngle:-nT/2+.1,r:e.spinnerRadius},style:{stroke:e.color,lineCap:"round",lineWidth:e.lineWidth},zlevel:e.zlevel,z:10001}),o.animateShape(!0).when(1e3,{endAngle:nT*3/2}).start("circularInOut"),o.animateShape(!0).when(1e3,{startAngle:nT*3/2}).delay(300).start("circularInOut"),t.add(o)),t.resize=function(){var s=i.getBoundingRect().width,l=e.showSpinner?e.spinnerRadius:0,u=(n.getWidth()-l*2-(e.showSpinner&&s?10:0)-s)/2-(e.showSpinner&&s?0:5+s/2)+(e.showSpinner?0:s/2)+(s?0:l),c=n.getHeight()/2;e.showSpinner&&o.setShape({cx:u,cy:c}),a.setShape({x:u-l,y:c-l,width:l*2,height:l*2}),r.setShape({x:0,y:0,width:n.getWidth(),height:n.getHeight()})},t.resize(),t}var Iq=(function(){function n(e,t,r,i){this._stageTaskMap=xt(),this.ecInstance=e,this.api=t,r=this._dataProcessorHandlers=r.slice(),i=this._visualHandlers=i.slice(),this._allHandlers=r.concat(i)}return n.prototype.restoreData=function(e,t){e.restoreData(t),this._stageTaskMap.each(function(r){var i=r.overallTask;i&&i.dirty()})},n.prototype.getPerformArgs=function(e,t){if(e.__pipeline){var r=this._pipelineMap.get(e.__pipeline.id),i=r.context,a=!t&&r.progressiveEnabled&&(!i||i.progressiveRender)&&e.__idxInPipeline>r.blockIndex,o=a?r.step:null,s=i&&i.modDataCount,l=s!=null?Math.ceil(s/o):null;return{step:o,modBy:l,modDataCount:s}}},n.prototype.getPipeline=function(e){return this._pipelineMap.get(e)},n.prototype.updateStreamModes=function(e,t){var r=this._pipelineMap.get(e.uid),i=e.getData(),a=i.count(),o=r.progressiveEnabled&&t.incrementalPrepareRender&&a>=r.threshold,s=e.get("large")&&a>=e.get("largeThreshold"),l=e.get("progressiveChunkMode")==="mod"?a:null;e.pipelineContext=r.context={progressiveRender:o,modDataCount:l,large:s}},n.prototype.restorePipelines=function(e){var t=this,r=t._pipelineMap=xt();e.eachSeries(function(i){var a=i.getProgressive(),o=i.uid;r.set(o,{id:o,head:null,tail:null,threshold:i.getProgressiveThreshold(),progressiveEnabled:a&&!(i.preventIncremental&&i.preventIncremental()),blockIndex:-1,step:Math.round(a||700),count:0}),t._pipe(i,i.dataTask)})},n.prototype.prepareStageTasks=function(){var e=this._stageTaskMap,t=this.api.getModel(),r=this.api;G(this._allHandlers,function(i){var a=e.get(i.uid)||e.set(i.uid,{}),o="";Ha(!(i.reset&&i.overallReset),o),i.reset&&this._createSeriesStageTask(i,a,t,r),i.overallReset&&this._createOverallStageTask(i,a,t,r)},this)},n.prototype.prepareView=function(e,t,r,i){var a=e.renderTask,o=a.context;o.model=t,o.ecModel=r,o.api=i,a.__block=!e.incrementalPrepareRender,this._pipe(t,a)},n.prototype.performDataProcessorTasks=function(e,t){this._performStageTasks(this._dataProcessorHandlers,e,t,{block:!0})},n.prototype.performVisualTasks=function(e,t,r){this._performStageTasks(this._visualHandlers,e,t,r)},n.prototype._performStageTasks=function(e,t,r,i){i=i||{};var a=!1,o=this;G(e,function(l,u){if(!(i.visualType&&i.visualType!==l.visualType)){var c=o._stageTaskMap.get(l.uid),f=c.seriesTaskMap,h=c.overallTask;if(h){var d,p=h.agentStubMap;p.each(function(m){s(i,m)&&(m.dirty(),d=!0)}),d&&h.dirty(),o.updatePayload(h,r);var g=o.getPerformArgs(h,i.block);p.each(function(m){m.perform(g)}),h.perform(g)&&(a=!0)}else f&&f.each(function(m,y){s(i,m)&&m.dirty();var S=o.getPerformArgs(m,i.block);S.skip=!l.performRawSeries&&t.isSeriesFiltered(m.context.model),o.updatePayload(m,r),m.perform(S)&&(a=!0)})}});function s(l,u){return l.setDirty&&(!l.dirtyMap||l.dirtyMap.get(u.__pipeline.id))}this.unfinished=a||this.unfinished},n.prototype.performSeriesTasks=function(e){var t;e.eachSeries(function(r){t=r.dataTask.perform()||t}),this.unfinished=t||this.unfinished},n.prototype.plan=function(){this._pipelineMap.each(function(e){var t=e.tail;do{if(t.__block){e.blockIndex=t.__idxInPipeline;break}t=t.getUpstream()}while(t)})},n.prototype.updatePayload=function(e,t){t!=="remain"&&(e.context.payload=t)},n.prototype._createSeriesStageTask=function(e,t,r,i){var a=this,o=t.seriesTaskMap,s=t.seriesTaskMap=xt(),l=e.seriesType,u=e.getTargetSeries;e.createOnAllSeries?r.eachRawSeries(c):l?r.eachRawSeriesByType(l,c):u&&u(r,i).each(c);function c(f){var h=f.uid,d=s.set(h,o&&o.get(h)||Wx({plan:ZSe,reset:$Se,count:KSe}));d.context={model:f,ecModel:r,api:i,useClearVisual:e.isVisual&&!e.isLayout,plan:e.plan,reset:e.reset,scheduler:a},a._pipe(f,d)}},n.prototype._createOverallStageTask=function(e,t,r,i){var a=this,o=t.overallTask=t.overallTask||Wx({reset:WSe});o.context={ecModel:r,api:i,overallReset:e.overallReset,scheduler:a};var s=o.agentStubMap,l=o.agentStubMap=xt(),u=e.seriesType,c=e.getTargetSeries,f=!0,h=!1,d="";Ha(!e.createOnAllSeries,d),u?r.eachRawSeriesByType(u,p):c?c(r,i).each(p):(f=!1,G(r.getSeries(),p));function p(g){var m=g.uid,y=l.set(m,s&&s.get(m)||(h=!0,Wx({reset:XSe,onDirty:jSe})));y.context={model:g,overallProgress:f},y.agent=o,y.__block=f,a._pipe(g,y)}h&&o.dirty()},n.prototype._pipe=function(e,t){var r=e.uid,i=this._pipelineMap.get(r);!i.head&&(i.head=t),i.tail&&i.tail.pipe(t),i.tail=t,t.__idxInPipeline=i.count++,t.__pipeline=i},n.wrapStageHandler=function(e,t){return Ct(e)&&(e={overallReset:e,seriesType:JSe(e)}),e.uid=Qy("stageHandler"),t&&(e.visualType=t),e},n})();function WSe(n){n.overallReset(n.ecModel,n.api,n.payload)}function XSe(n){return n.overallProgress&&YSe}function YSe(){this.agent.dirty(),this.getDownstream().dirty()}function jSe(){this.agent&&this.agent.dirty()}function ZSe(n){return n.plan?n.plan(n.model,n.ecModel,n.api,n.payload):null}function $Se(n){n.useClearVisual&&n.data.clearAllVisual();var e=n.resetDefines=dr(n.reset(n.model,n.ecModel,n.api,n.payload));return e.length>1?Ve(e,function(t,r){return Nq(r)}):qSe}var qSe=Nq(0);function Nq(n){return function(e,t){var r=t.data,i=t.resetDefines[n];if(i&&i.dataEach)for(var a=e.start;a<e.end;a++)i.dataEach(r,a);else i&&i.progress&&i.progress(e,r)}}function KSe(n){return n.data.count()}function JSe(n){qb=null;try{n(US,Oq)}catch{}return qb}var US={},Oq={},qb;kq(US,e3);kq(Oq,oq);US.eachSeriesByType=US.eachRawSeriesByType=function(n){qb=n};US.eachComponent=function(n){n.mainType==="series"&&n.subType&&(qb=n.subType)};function kq(n,e){for(var t in e.prototype)n[t]=ei}var oG=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];const QSe={color:oG,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],oG]};var Na="#B9B8CE",sG="#100C2A",rT=function(){return{axisLine:{lineStyle:{color:Na}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},lG=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],Fq={darkMode:!0,color:lG,backgroundColor:sG,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:Na},pageTextStyle:{color:Na}},textStyle:{color:Na},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:Na}},dataZoom:{borderColor:"#71708A",textStyle:{color:Na},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:Na}},timeline:{lineStyle:{color:Na},label:{color:Na},controlStyle:{color:Na,borderColor:Na}},calendar:{itemStyle:{color:sG},dayLabel:{color:Na},monthLabel:{color:Na},yearLabel:{color:Na}},timeAxis:rT(),logAxis:rT(),valueAxis:rT(),categoryAxis:rT(),line:{symbol:"circle"},graph:{color:lG},gauge:{title:{color:Na},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:Na},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};Fq.categoryAxis.splitLine.show=!1;var e1e=(function(){function n(){}return n.prototype.normalizeQuery=function(e){var t={},r={},i={};if(ut(e)){var a=Su(e);t.mainType=a.main||null,t.subType=a.sub||null}else{var o=["Index","Name","Id"],s={name:1,dataIndex:1,dataType:1};G(e,function(l,u){for(var c=!1,f=0;f<o.length;f++){var h=o[f],d=u.lastIndexOf(h);if(d>0&&d===u.length-h.length){var p=u.slice(0,d);p!=="data"&&(t.mainType=p,t[h.toLowerCase()]=l,c=!0)}}s.hasOwnProperty(u)&&(r[u]=l,c=!0),c||(i[u]=l)})}return{cptQuery:t,dataQuery:r,otherQuery:i}},n.prototype.filter=function(e,t){var r=this.eventInfo;if(!r)return!0;var i=r.targetEl,a=r.packedEvent,o=r.model,s=r.view;if(!o||!s)return!0;var l=t.cptQuery,u=t.dataQuery;return c(l,o,"mainType")&&c(l,o,"subType")&&c(l,o,"index","componentIndex")&&c(l,o,"name")&&c(l,o,"id")&&c(u,a,"name")&&c(u,a,"dataIndex")&&c(u,a,"dataType")&&(!s.filterForExposedEvent||s.filterForExposedEvent(e,t.otherQuery,i,a));function c(f,h,d,p){return f[d]==null||h[p||d]===f[d]}},n.prototype.afterTrigger=function(){this.eventInfo=null},n})(),II=["symbol","symbolSize","symbolRotate","symbolOffset"],uG=II.concat(["symbolKeepAspect"]),t1e={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,e){var t=n.getData();if(n.legendIcon&&t.setVisual("legendIcon",n.legendIcon),!n.hasSymbolVisual)return;for(var r={},i={},a=!1,o=0;o<II.length;o++){var s=II[o],l=n.get(s);Ct(l)?(a=!0,i[s]=l):r[s]=l}if(r.symbol=r.symbol||n.defaultSymbol,t.setVisual(Le({legendIcon:n.legendIcon||r.symbol,symbolKeepAspect:n.get("symbolKeepAspect")},r)),e.isSeriesFiltered(n))return;var u=En(i);function c(f,h){for(var d=n.getRawValue(h),p=n.getDataParams(h),g=0;g<u.length;g++){var m=u[g];f.setItemVisual(h,m,i[m](d,p))}}return{dataEach:a?c:null}}},n1e={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,e){if(!n.hasSymbolVisual||e.isSeriesFiltered(n))return;var t=n.getData();function r(i,a){for(var o=i.getItemModel(a),s=0;s<uG.length;s++){var l=uG[s],u=o.getShallow(l,!0);u!=null&&i.setItemVisual(a,l,u)}}return{dataEach:t.hasItemOption?r:null}}};function a3(n,e,t){switch(t){case"color":var r=n.getItemVisual(e,"style");return r[n.getVisual("drawType")];case"opacity":return n.getItemVisual(e,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return n.getItemVisual(e,t)}}function R1(n,e){switch(e){case"color":var t=n.getVisual("style");return t[n.getVisual("drawType")];case"opacity":return n.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return n.getVisual(e)}}function zq(n,e,t,r){switch(t){case"color":var i=n.ensureUniqueItemVisual(e,"style");i[n.getVisual("drawType")]=r,n.setItemVisual(e,"colorFromPalette",!1);break;case"opacity":n.ensureUniqueItemVisual(e,"style").opacity=r;break;case"symbol":case"symbolSize":case"liftZ":n.setItemVisual(e,t,r);break}}function Bq(n,e){function t(r,i){var a=[];return r.eachComponent({mainType:"series",subType:n,query:i},function(o){a.push(o.seriesIndex)}),a}G([[n+"ToggleSelect","toggleSelect"],[n+"Select","select"],[n+"UnSelect","unselect"]],function(r){e(r[0],function(i,a,o){i=Le({},i),o.dispatchAction(Le(i,{type:r[1],seriesIndex:t(a,i)}))})})}function Mm(n,e,t,r,i){var a=n+e;t.isSilent(a)||r.eachComponent({mainType:"series",subType:"pie"},function(o){for(var s=o.seriesIndex,l=o.option.selectedMap,u=i.selected,c=0;c<u.length;c++)if(u[c].seriesIndex===s){var f=o.getData(),h=wv(f,i.fromActionPayload);t.trigger(a,{type:a,seriesId:o.id,name:ze(h)?f.getName(h[0]):f.getName(h),selected:ut(l)?l:Le({},l)})}})}function r1e(n,e,t){n.on("selectchanged",function(r){var i=t.getModel();r.isFromClick?(Mm("map","selectchanged",e,i,r),Mm("pie","selectchanged",e,i,r)):r.fromAction==="select"?(Mm("map","selected",e,i,r),Mm("pie","selected",e,i,r)):r.fromAction==="unselect"&&(Mm("map","unselected",e,i,r),Mm("pie","unselected",e,i,r))})}function Kp(n,e,t){for(var r;n&&!(e(n)&&(r=n,t));)n=n.__hostTarget||n.parent;return r}var i1e=Math.round(Math.random()*9),a1e=typeof Object.defineProperty=="function",o1e=(function(){function n(){this._id="__ec_inner_"+i1e++}return n.prototype.get=function(e){return this._guard(e)[this._id]},n.prototype.set=function(e,t){var r=this._guard(e);return a1e?Object.defineProperty(r,this._id,{value:t,enumerable:!1,configurable:!0}):r[this._id]=t,this},n.prototype.delete=function(e){return this.has(e)?(delete this._guard(e)[this._id],!0):!1},n.prototype.has=function(e){return!!this._guard(e)[this._id]},n.prototype._guard=function(e){if(e!==Object(e))throw TypeError("Value of WeakMap is not a non-null object.");return e},n})(),s1e=Tn.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(n,e){var t=e.cx,r=e.cy,i=e.width/2,a=e.height/2;n.moveTo(t,r-a),n.lineTo(t+i,r+a),n.lineTo(t-i,r+a),n.closePath()}}),l1e=Tn.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(n,e){var t=e.cx,r=e.cy,i=e.width/2,a=e.height/2;n.moveTo(t,r-a),n.lineTo(t+i,r),n.lineTo(t,r+a),n.lineTo(t-i,r),n.closePath()}}),u1e=Tn.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(n,e){var t=e.x,r=e.y,i=e.width/5*3,a=Math.max(i,e.height),o=i/2,s=o*o/(a-o),l=r-a+o+s,u=Math.asin(s/o),c=Math.cos(u)*o,f=Math.sin(u),h=Math.cos(u),d=o*.6,p=o*.7;n.moveTo(t-c,l+s),n.arc(t,l,o,Math.PI-u,Math.PI*2+u),n.bezierCurveTo(t+c-f*d,l+s+h*d,t,r-p,t,r),n.bezierCurveTo(t,r-p,t-c+f*d,l+s+h*d,t-c,l+s),n.closePath()}}),c1e=Tn.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(n,e){var t=e.height,r=e.width,i=e.x,a=e.y,o=r/3*2;n.moveTo(i,a),n.lineTo(i+o,a+t),n.lineTo(i,a+t/4*3),n.lineTo(i-o,a+t),n.lineTo(i,a),n.closePath()}}),f1e={line:Ri,rect:kn,roundRect:kn,square:kn,circle:ku,diamond:l1e,pin:u1e,arrow:c1e,triangle:s1e},h1e={line:function(n,e,t,r,i){i.x1=n,i.y1=e+r/2,i.x2=n+t,i.y2=e+r/2},rect:function(n,e,t,r,i){i.x=n,i.y=e,i.width=t,i.height=r},roundRect:function(n,e,t,r,i){i.x=n,i.y=e,i.width=t,i.height=r,i.r=Math.min(t,r)/4},square:function(n,e,t,r,i){var a=Math.min(t,r);i.x=n,i.y=e,i.width=a,i.height=a},circle:function(n,e,t,r,i){i.cx=n+t/2,i.cy=e+r/2,i.r=Math.min(t,r)/2},diamond:function(n,e,t,r,i){i.cx=n+t/2,i.cy=e+r/2,i.width=t,i.height=r},pin:function(n,e,t,r,i){i.x=n+t/2,i.y=e+r/2,i.width=t,i.height=r},arrow:function(n,e,t,r,i){i.x=n+t/2,i.y=e+r/2,i.width=t,i.height=r},triangle:function(n,e,t,r,i){i.cx=n+t/2,i.cy=e+r/2,i.width=t,i.height=r}},Kb={};G(f1e,function(n,e){Kb[e]=new n});var d1e=Tn.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(n,e,t){var r=Ub(n,e,t),i=this.shape;return i&&i.symbolType==="pin"&&e.position==="inside"&&(r.y=t.y+t.height*.4),r},buildPath:function(n,e,t){var r=e.symbolType;if(r!=="none"){var i=Kb[r];i||(r="rect",i=Kb[r]),h1e[r](e.x,e.y,e.width,e.height,i.shape),i.buildPath(n,i.shape,t)}}});function p1e(n,e){if(this.type!=="image"){var t=this.style;this.__isEmptyBrush?(t.stroke=n,t.fill=e||"#fff",t.lineWidth=2):this.shape.symbolType==="line"?t.stroke=n:t.fill=n,this.markRedraw()}}function ci(n,e,t,r,i,a,o){var s=n.indexOf("empty")===0;s&&(n=n.substr(5,1).toLowerCase()+n.substr(6));var l;return n.indexOf("image://")===0?l=Fk(n.slice(8),new fn(e,t,r,i),o?"center":"cover"):n.indexOf("path://")===0?l=E1(n.slice(7),{},new fn(e,t,r,i),o?"center":"cover"):l=new d1e({shape:{symbolType:n,x:e,y:t,width:r,height:i}}),l.__isEmptyBrush=s,l.setColor=p1e,a&&l.setColor(a),l}function a0(n){return ze(n)||(n=[+n,+n]),[n[0]||0,n[1]||0]}function Vv(n,e){if(n!=null)return ze(n)||(n=[n,n]),[rt(n[0],e[0])||0,rt(tn(n[1],n[0]),e[1])||0]}function Jp(n){return isFinite(n)}function v1e(n,e,t){var r=e.x==null?0:e.x,i=e.x2==null?1:e.x2,a=e.y==null?0:e.y,o=e.y2==null?0:e.y2;e.global||(r=r*t.width+t.x,i=i*t.width+t.x,a=a*t.height+t.y,o=o*t.height+t.y),r=Jp(r)?r:0,i=Jp(i)?i:1,a=Jp(a)?a:0,o=Jp(o)?o:0;var s=n.createLinearGradient(r,a,i,o);return s}function g1e(n,e,t){var r=t.width,i=t.height,a=Math.min(r,i),o=e.x==null?.5:e.x,s=e.y==null?.5:e.y,l=e.r==null?.5:e.r;e.global||(o=o*r+t.x,s=s*i+t.y,l=l*a),o=Jp(o)?o:.5,s=Jp(s)?s:.5,l=l>=0&&Jp(l)?l:.5;var u=n.createRadialGradient(o,s,0,o,s,l);return u}function NI(n,e,t){for(var r=e.type==="radial"?g1e(n,e,t):v1e(n,e,t),i=e.colorStops,a=0;a<i.length;a++)r.addColorStop(i[a].offset,i[a].color);return r}function m1e(n,e){if(n===e||!n&&!e)return!1;if(!n||!e||n.length!==e.length)return!0;for(var t=0;t<n.length;t++)if(n[t]!==e[t])return!0;return!1}function iT(n){return parseInt(n,10)}function ry(n,e,t){var r=["width","height"][e],i=["clientWidth","clientHeight"][e],a=["paddingLeft","paddingTop"][e],o=["paddingRight","paddingBottom"][e];if(t[r]!=null&&t[r]!=="auto")return parseFloat(t[r]);var s=document.defaultView.getComputedStyle(n);return(n[i]||iT(s[r])||iT(n.style[r]))-(iT(s[a])||0)-(iT(s[o])||0)|0}function y1e(n,e){return!n||n==="solid"||!(e>0)?null:n==="dashed"?[4*e,2*e]:n==="dotted"?[e]:Hn(n)?[n]:ze(n)?n:null}function o3(n){var e=n.style,t=e.lineDash&&e.lineWidth>0&&y1e(e.lineDash,e.lineWidth),r=e.lineDashOffset;if(t){var i=e.strokeNoScale&&n.getLineScale?n.getLineScale():1;i&&i!==1&&(t=Ve(t,function(a){return a/i}),r/=i)}return[t,r]}var _1e=new Nu(!0);function Jb(n){var e=n.stroke;return!(e==null||e==="none"||!(n.lineWidth>0))}function cG(n){return typeof n=="string"&&n!=="none"}function Qb(n){var e=n.fill;return e!=null&&e!=="none"}function fG(n,e){if(e.fillOpacity!=null&&e.fillOpacity!==1){var t=n.globalAlpha;n.globalAlpha=e.fillOpacity*e.opacity,n.fill(),n.globalAlpha=t}else n.fill()}function hG(n,e){if(e.strokeOpacity!=null&&e.strokeOpacity!==1){var t=n.globalAlpha;n.globalAlpha=e.strokeOpacity*e.opacity,n.stroke(),n.globalAlpha=t}else n.stroke()}function OI(n,e,t){var r=Ck(e.image,e.__image,t);if(wC(r)){var i=n.createPattern(r,e.repeat||"repeat");if(typeof DOMMatrix=="function"&&i&&i.setTransform){var a=new DOMMatrix;a.translateSelf(e.x||0,e.y||0),a.rotateSelf(0,0,(e.rotation||0)*Lx),a.scaleSelf(e.scaleX||1,e.scaleY||1),i.setTransform(a)}return i}}function x1e(n,e,t,r){var i,a=Jb(t),o=Qb(t),s=t.strokePercent,l=s<1,u=!e.path;(!e.silent||l)&&u&&e.createPathProxy();var c=e.path||_1e,f=e.__dirty;if(!r){var h=t.fill,d=t.stroke,p=o&&!!h.colorStops,g=a&&!!d.colorStops,m=o&&!!h.image,y=a&&!!d.image,S=void 0,M=void 0,b=void 0,C=void 0,A=void 0;(p||g)&&(A=e.getBoundingRect()),p&&(S=f?NI(n,h,A):e.__canvasFillGradient,e.__canvasFillGradient=S),g&&(M=f?NI(n,d,A):e.__canvasStrokeGradient,e.__canvasStrokeGradient=M),m&&(b=f||!e.__canvasFillPattern?OI(n,h,e):e.__canvasFillPattern,e.__canvasFillPattern=b),y&&(C=f||!e.__canvasStrokePattern?OI(n,d,e):e.__canvasStrokePattern,e.__canvasStrokePattern=b),p?n.fillStyle=S:m&&(b?n.fillStyle=b:o=!1),g?n.strokeStyle=M:y&&(C?n.strokeStyle=C:a=!1)}var E=e.getGlobalScale();c.setScale(E[0],E[1],e.segmentIgnoreThreshold);var I,L;n.setLineDash&&t.lineDash&&(i=o3(e),I=i[0],L=i[1]);var R=!0;(u||f&Bm)&&(c.setDPR(n.dpr),l?c.setContext(null):(c.setContext(n),R=!1),c.reset(),e.buildPath(c,e.shape,r),c.toStatic(),e.pathUpdated()),R&&c.rebuildPath(n,l?s:1),I&&(n.setLineDash(I),n.lineDashOffset=L),r||(t.strokeFirst?(a&&hG(n,t),o&&fG(n,t)):(o&&fG(n,t),a&&hG(n,t))),I&&n.setLineDash([])}function S1e(n,e,t){var r=e.__image=Ck(t.image,e.__image,e,e.onload);if(!(!r||!wC(r))){var i=t.x||0,a=t.y||0,o=e.getWidth(),s=e.getHeight(),l=r.width/r.height;if(o==null&&s!=null?o=s*l:s==null&&o!=null?s=o/l:o==null&&s==null&&(o=r.width,s=r.height),t.sWidth&&t.sHeight){var u=t.sx||0,c=t.sy||0;n.drawImage(r,u,c,t.sWidth,t.sHeight,i,a,o,s)}else if(t.sx&&t.sy){var u=t.sx,c=t.sy,f=o-u,h=s-c;n.drawImage(r,u,c,f,h,i,a,o,s)}else n.drawImage(r,i,a,o,s)}}function w1e(n,e,t){var r,i=t.text;if(i!=null&&(i+=""),i){n.font=t.font||Nh,n.textAlign=t.textAlign,n.textBaseline=t.textBaseline;var a=void 0,o=void 0;n.setLineDash&&t.lineDash&&(r=o3(e),a=r[0],o=r[1]),a&&(n.setLineDash(a),n.lineDashOffset=o),t.strokeFirst?(Jb(t)&&n.strokeText(i,t.x,t.y),Qb(t)&&n.fillText(i,t.x,t.y)):(Qb(t)&&n.fillText(i,t.x,t.y),Jb(t)&&n.strokeText(i,t.x,t.y)),a&&n.setLineDash([])}}var dG=["shadowBlur","shadowOffsetX","shadowOffsetY"],pG=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function Uq(n,e,t,r,i){var a=!1;if(!r&&(t=t||{},e===t))return!1;if(r||e.opacity!==t.opacity){Uo(n,i),a=!0;var o=Math.max(Math.min(e.opacity,1),0);n.globalAlpha=isNaN(o)?lv.opacity:o}(r||e.blend!==t.blend)&&(a||(Uo(n,i),a=!0),n.globalCompositeOperation=e.blend||lv.blend);for(var s=0;s<dG.length;s++){var l=dG[s];(r||e[l]!==t[l])&&(a||(Uo(n,i),a=!0),n[l]=n.dpr*(e[l]||0))}return(r||e.shadowColor!==t.shadowColor)&&(a||(Uo(n,i),a=!0),n.shadowColor=e.shadowColor||lv.shadowColor),a}function vG(n,e,t,r,i){var a=VS(e,i.inHover),o=r?null:t&&VS(t,i.inHover)||{};if(a===o)return!1;var s=Uq(n,a,o,r,i);if((r||a.fill!==o.fill)&&(s||(Uo(n,i),s=!0),cG(a.fill)&&(n.fillStyle=a.fill)),(r||a.stroke!==o.stroke)&&(s||(Uo(n,i),s=!0),cG(a.stroke)&&(n.strokeStyle=a.stroke)),(r||a.opacity!==o.opacity)&&(s||(Uo(n,i),s=!0),n.globalAlpha=a.opacity==null?1:a.opacity),e.hasStroke()){var l=a.lineWidth,u=l/(a.strokeNoScale&&e.getLineScale?e.getLineScale():1);n.lineWidth!==u&&(s||(Uo(n,i),s=!0),n.lineWidth=u)}for(var c=0;c<pG.length;c++){var f=pG[c],h=f[0];(r||a[h]!==o[h])&&(s||(Uo(n,i),s=!0),n[h]=a[h]||f[1])}return s}function M1e(n,e,t,r,i){return Uq(n,VS(e,i.inHover),t&&VS(t,i.inHover),r,i)}function Vq(n,e){var t=e.transform,r=n.dpr||1;t?n.setTransform(r*t[0],r*t[1],r*t[2],r*t[3],r*t[4],r*t[5]):n.setTransform(r,0,0,r,0,0)}function T1e(n,e,t){for(var r=!1,i=0;i<n.length;i++){var a=n[i];r=r||a.isZeroArea(),Vq(e,a),e.beginPath(),a.buildPath(e,a.shape),e.clip()}t.allClipped=r}function b1e(n,e){return n&&e?n[0]!==e[0]||n[1]!==e[1]||n[2]!==e[2]||n[3]!==e[3]||n[4]!==e[4]||n[5]!==e[5]:!(!n&&!e)}var gG=1,mG=2,yG=3,_G=4;function A1e(n){var e=Qb(n),t=Jb(n);return!(n.lineDash||!(+e^+t)||e&&typeof n.fill!="string"||t&&typeof n.stroke!="string"||n.strokePercent<1||n.strokeOpacity<1||n.fillOpacity<1)}function Uo(n,e){e.batchFill&&n.fill(),e.batchStroke&&n.stroke(),e.batchFill="",e.batchStroke=""}function VS(n,e){return e&&n.__hoverStyle||n.style}function s3(n,e){Qp(n,e,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function Qp(n,e,t,r){var i=e.transform;if(!e.shouldBePainted(t.viewWidth,t.viewHeight,!1,!1)){e.__dirty&=~rs,e.__isRendered=!1;return}var a=e.__clipPaths,o=t.prevElClipPaths,s=!1,l=!1;if((!o||m1e(a,o))&&(o&&o.length&&(Uo(n,t),n.restore(),l=s=!0,t.prevElClipPaths=null,t.allClipped=!1,t.prevEl=null),a&&a.length&&(Uo(n,t),n.save(),T1e(a,n,t),s=!0),t.prevElClipPaths=a),t.allClipped){e.__isRendered=!1;return}e.beforeBrush&&e.beforeBrush(),e.innerBeforeBrush();var u=t.prevEl;u||(l=s=!0);var c=e instanceof Tn&&e.autoBatch&&A1e(e.style);s||b1e(i,u.transform)?(Uo(n,t),Vq(n,e)):c||Uo(n,t);var f=VS(e,t.inHover);e instanceof Tn?(t.lastDrawType!==gG&&(l=!0,t.lastDrawType=gG),vG(n,e,u,l,t),(!c||!t.batchFill&&!t.batchStroke)&&n.beginPath(),x1e(n,e,f,c),c&&(t.batchFill=f.fill||"",t.batchStroke=f.stroke||"")):e instanceof by?(t.lastDrawType!==yG&&(l=!0,t.lastDrawType=yG),vG(n,e,u,l,t),w1e(n,e,f)):e instanceof $i?(t.lastDrawType!==mG&&(l=!0,t.lastDrawType=mG),M1e(n,e,u,l,t),S1e(n,e,f)):e.getTemporalDisplayables&&(t.lastDrawType!==_G&&(l=!0,t.lastDrawType=_G),C1e(n,e,t)),c&&r&&Uo(n,t),e.innerAfterBrush(),e.afterBrush&&e.afterBrush(),t.prevEl=e,e.__dirty=0,e.__isRendered=!0}function C1e(n,e,t){var r=e.getDisplayables(),i=e.getTemporalDisplayables();n.save();var a={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:t.viewWidth,viewHeight:t.viewHeight,inHover:t.inHover},o,s;for(o=e.getCursor(),s=r.length;o<s;o++){var l=r[o];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),Qp(n,l,a,o===s-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),a.prevEl=l}for(var u=0,c=i.length;u<c;u++){var l=i[u];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),Qp(n,l,a,u===c-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),a.prevEl=l}e.clearTemporalDisplayables(),e.notClear=!0,n.restore()}var qD=new o1e,xG=new w1(100),SG=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function Ey(n,e){if(n==="none")return null;var t=e.getDevicePixelRatio(),r=e.getZr(),i=r.painter.type==="svg";n.dirty&&qD.delete(n);var a=qD.get(n);if(a)return a;var o=Dt(n,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});o.backgroundColor==="none"&&(o.backgroundColor=null);var s={repeat:"repeat"};return l(s),s.rotation=o.rotation,s.scaleX=s.scaleY=i?1:1/t,qD.set(n,s),n.dirty=!1,s;function l(u){for(var c=[t],f=!0,h=0;h<SG.length;++h){var d=o[SG[h]];if(d!=null&&!ze(d)&&!ut(d)&&!Hn(d)&&typeof d!="boolean"){f=!1;break}c.push(d)}var p;if(f){p=c.join(",")+(i?"-svg":"");var g=xG.get(p);g&&(i?u.svgElement=g:u.image=g)}var m=Hq(o.dashArrayX),y=E1e(o.dashArrayY),S=Gq(o.symbol),M=P1e(m),b=Wq(y),C=!i&&Vl.createCanvas(),A=i&&{tag:"g",attrs:{},key:"dcl",children:[]},E=L(),I;C&&(C.width=E.width*t,C.height=E.height*t,I=C.getContext("2d")),R(),f&&xG.put(p,C||A),u.image=C,u.svgElement=A,u.svgWidth=E.width,u.svgHeight=E.height;function L(){for(var O=1,U=0,V=M.length;U<V;++U)O=z5(O,M[U]);for(var W=1,U=0,V=S.length;U<V;++U)W=z5(W,S[U].length);O*=W;var X=b*M.length*S.length;return{width:Math.max(1,Math.min(O,o.maxTileWidth)),height:Math.max(1,Math.min(X,o.maxTileHeight))}}function R(){I&&(I.clearRect(0,0,C.width,C.height),o.backgroundColor&&(I.fillStyle=o.backgroundColor,I.fillRect(0,0,C.width,C.height)));for(var O=0,U=0;U<y.length;++U)O+=y[U];if(O<=0)return;for(var V=-b,W=0,X=0,j=0;V<E.height;){if(W%2===0){for(var Q=X/2%S.length,B=0,Z=0,q=0;B<E.width*2;){for(var Y=0,U=0;U<m[j].length;++U)Y+=m[j][U];if(Y<=0)break;if(Z%2===0){var te=(1-o.symbolSize)*.5,me=B+m[j][Z]*te,ae=V+y[W]*te,fe=m[j][Z]*o.symbolSize,be=y[W]*o.symbolSize,Ee=q/2%S[Q].length;Be(me,ae,fe,be,S[Q][Ee])}B+=m[j][Z],++q,++Z,Z===m[j].length&&(Z=0)}++j,j===m.length&&(j=0)}V+=y[W],++X,++W,W===y.length&&(W=0)}function Be(Oe,$e,ee,ve,Ae){var Ue=i?1:t,Ge=ci(Ae,Oe*Ue,$e*Ue,ee*Ue,ve*Ue,o.color,o.symbolKeepAspect);if(i){var He=r.painter.renderOneToVNode(Ge);He&&A.children.push(He)}else s3(I,Ge)}}}}function Gq(n){if(!n||n.length===0)return[["rect"]];if(ut(n))return[[n]];for(var e=!0,t=0;t<n.length;++t)if(!ut(n[t])){e=!1;break}if(e)return Gq([n]);for(var r=[],t=0;t<n.length;++t)ut(n[t])?r.push([n[t]]):r.push(n[t]);return r}function Hq(n){if(!n||n.length===0)return[[0,0]];if(Hn(n)){var e=Math.ceil(n);return[[e,e]]}for(var t=!0,r=0;r<n.length;++r)if(!Hn(n[r])){t=!1;break}if(t)return Hq([n]);for(var i=[],r=0;r<n.length;++r)if(Hn(n[r])){var e=Math.ceil(n[r]);i.push([e,e])}else{var e=Ve(n[r],function(s){return Math.ceil(s)});e.length%2===1?i.push(e.concat(e)):i.push(e)}return i}function E1e(n){if(!n||typeof n=="object"&&n.length===0)return[0,0];if(Hn(n)){var e=Math.ceil(n);return[e,e]}var t=Ve(n,function(r){return Math.ceil(r)});return n.length%2?t.concat(t):t}function P1e(n){return Ve(n,function(e){return Wq(e)})}function Wq(n){for(var e=0,t=0;t<n.length;++t)e+=n[t];return n.length%2===1?e*2:e}function D1e(n,e){n.eachRawSeries(function(t){if(!n.isSeriesFiltered(t)){var r=t.getData();r.hasItemVisual()&&r.each(function(o){var s=r.getItemVisual(o,"decal");if(s){var l=r.ensureUniqueItemVisual(o,"style");l.decal=Ey(s,e)}});var i=r.getVisual("decal");if(i){var a=r.getVisual("style");a.decal=Ey(i,e)}}})}var Cl=new Ws,Xq={};function R1e(n,e){Xq[n]=e}function Yq(n){return Xq[n]}var L1e="5.6.0",I1e={zrender:"5.6.1"},N1e=1,O1e=800,k1e=900,F1e=1e3,z1e=2e3,B1e=5e3,jq=1e3,U1e=1100,l3=2e3,Zq=3e3,V1e=4e3,UC=4500,G1e=4600,H1e=5e3,W1e=6e3,$q=7e3,qq={PROCESSOR:{FILTER:F1e,SERIES_FILTER:O1e,STATISTIC:B1e},VISUAL:{LAYOUT:jq,PROGRESSIVE_LAYOUT:U1e,GLOBAL:l3,CHART:Zq,POST_CHART_LAYOUT:G1e,COMPONENT:V1e,BRUSH:H1e,CHART_ITEM:UC,ARIA:W1e,DECAL:$q}},Ia="__flagInMainProcess",No="__pendingUpdate",KD="__needsUpdateStatus",wG=/^[a-zA-Z0-9_]+$/,JD="__connectUpdateStatus",MG=0,X1e=1,Y1e=2;function Kq(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(this.isDisposed()){this.id;return}return Qq(this,n,e)}}function Jq(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Qq(this,n,e)}}function Qq(n,e,t){return t[0]=t[0]&&t[0].toLowerCase(),Ws.prototype[e].apply(n,t)}var eK=(function(n){Se(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e})(Ws),tK=eK.prototype;tK.on=Jq("on");tK.off=Jq("off");var Tm,QD,aT,nh,eR,tR,nR,O_,k_,TG,bG,rR,AG,oT,CG,nK,As,EG,eA=(function(n){Se(e,n);function e(t,r,i){var a=n.call(this,new e1e)||this;a._chartsViews=[],a._chartsMap={},a._componentsViews=[],a._componentsMap={},a._pendingActions=[],i=i||{},ut(r)&&(r=rK[r]),a._dom=t;var o="canvas",s="auto",l=!1;i.ssr&&UZ(function(h){var d=$t(h),p=d.dataIndex;if(p!=null){var g=xt();return g.set("series_index",d.seriesIndex),g.set("data_index",p),d.ssrType&&g.set("ssr_type",d.ssrType),g}});var u=a._zr=lI(t,{renderer:i.renderer||o,devicePixelRatio:i.devicePixelRatio,width:i.width,height:i.height,ssr:i.ssr,useDirtyRect:tn(i.useDirtyRect,l),useCoarsePointer:tn(i.useCoarsePointer,s),pointerSize:i.pointerSize});a._ssr=i.ssr,a._throttledZrFlush=BC(ht(u.flush,u),17),r=Vt(r),r&&lq(r,!0),a._theme=r,a._locale=uxe(i.locale||U$),a._coordSysMgr=new n0;var c=a._api=CG(a);function f(h,d){return h.__prio-d.__prio}return ZT(nA,f),ZT(kI,f),a._scheduler=new Iq(a,c,kI,nA),a._messageCenter=new eK,a._initEvents(),a.resize=ht(a.resize,a),u.animation.on("frame",a._onframe,a),TG(u,a),bG(u,a),bS(a),a}return e.prototype._onframe=function(){if(!this._disposed){EG(this);var t=this._scheduler;if(this[No]){var r=this[No].silent;this[Ia]=!0;try{Tm(this),nh.update.call(this,null,this[No].updateParams)}catch(l){throw this[Ia]=!1,this[No]=null,l}this._zr.flush(),this[Ia]=!1,this[No]=null,O_.call(this,r),k_.call(this,r)}else if(t.unfinished){var i=N1e,a=this._model,o=this._api;t.unfinished=!1;do{var s=+new Date;t.performSeriesTasks(a),t.performDataProcessorTasks(a),tR(this,a),t.performVisualTasks(a),oT(this,this._model,o,"remain",{}),i-=+new Date-s}while(i>0&&t.unfinished);t.unfinished||this._zr.flush()}}},e.prototype.getDom=function(){return this._dom},e.prototype.getId=function(){return this.id},e.prototype.getZr=function(){return this._zr},e.prototype.isSSR=function(){return this._ssr},e.prototype.setOption=function(t,r,i){if(!this[Ia]){if(this._disposed){this.id;return}var a,o,s;if(Bt(r)&&(i=r.lazyUpdate,a=r.silent,o=r.replaceMerge,s=r.transition,r=r.notMerge),this[Ia]=!0,!this._model||r){var l=new kxe(this._api),u=this._theme,c=this._model=new e3;c.scheduler=this._scheduler,c.ssr=this._ssr,c.init(null,null,null,u,this._locale,l)}this._model.setOption(t,{replaceMerge:o},FI);var f={seriesTransition:s,optionChanged:!0};if(i)this[No]={silent:a,updateParams:f},this[Ia]=!1,this.getZr().wakeUp();else{try{Tm(this),nh.update.call(this,null,f)}catch(h){throw this[No]=null,this[Ia]=!1,h}this._ssr||this._zr.flush(),this[No]=null,this[Ia]=!1,O_.call(this,a),k_.call(this,a)}}},e.prototype.setTheme=function(){},e.prototype.getModel=function(){return this._model},e.prototype.getOption=function(){return this._model&&this._model.getOption()},e.prototype.getWidth=function(){return this._zr.getWidth()},e.prototype.getHeight=function(){return this._zr.getHeight()},e.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||Mn.hasGlobalWindow&&window.devicePixelRatio||1},e.prototype.getRenderedCanvas=function(t){return this.renderToCanvas(t)},e.prototype.renderToCanvas=function(t){t=t||{};var r=this._zr.painter;return r.getRenderedCanvas({backgroundColor:t.backgroundColor||this._model.get("backgroundColor"),pixelRatio:t.pixelRatio||this.getDevicePixelRatio()})},e.prototype.renderToSVGString=function(t){t=t||{};var r=this._zr.painter;return r.renderToString({useViewBox:t.useViewBox})},e.prototype.getSvgDataURL=function(){if(Mn.svgSupported){var t=this._zr,r=t.storage.getDisplayList();return G(r,function(i){i.stopAnimation(null,!0)}),t.painter.toDataURL()}},e.prototype.getDataURL=function(t){if(this._disposed){this.id;return}t=t||{};var r=t.excludeComponents,i=this._model,a=[],o=this;G(r,function(l){i.eachComponent({mainType:l},function(u){var c=o._componentsMap[u.__viewId];c.group.ignore||(a.push(c),c.group.ignore=!0)})});var s=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(t).toDataURL("image/"+(t&&t.type||"png"));return G(a,function(l){l.group.ignore=!1}),s},e.prototype.getConnectedDataURL=function(t){if(this._disposed){this.id;return}var r=t.type==="svg",i=this.group,a=Math.min,o=Math.max,s=1/0;if(rA[i]){var l=s,u=s,c=-s,f=-s,h=[],d=t&&t.pixelRatio||this.getDevicePixelRatio();G(fv,function(M,b){if(M.group===i){var C=r?M.getZr().painter.getSvgDom().innerHTML:M.renderToCanvas(Vt(t)),A=M.getDom().getBoundingClientRect();l=a(A.left,l),u=a(A.top,u),c=o(A.right,c),f=o(A.bottom,f),h.push({dom:C,left:A.left,top:A.top})}}),l*=d,u*=d,c*=d,f*=d;var p=c-l,g=f-u,m=Vl.createCanvas(),y=lI(m,{renderer:r?"svg":"canvas"});if(y.resize({width:p,height:g}),r){var S="";return G(h,function(M){var b=M.left-l,C=M.top-u;S+='<g transform="translate('+b+","+C+')">'+M.dom+"</g>"}),y.painter.getSvgRoot().innerHTML=S,t.connectedBackgroundColor&&y.painter.setBackgroundColor(t.connectedBackgroundColor),y.refreshImmediately(),y.painter.toDataURL()}else return t.connectedBackgroundColor&&y.add(new kn({shape:{x:0,y:0,width:p,height:g},style:{fill:t.connectedBackgroundColor}})),G(h,function(M){var b=new $i({style:{x:M.left*d-l,y:M.top*d-u,image:M.dom}});y.add(b)}),y.refreshImmediately(),m.toDataURL("image/"+(t&&t.type||"png"))}else return this.getDataURL(t)},e.prototype.convertToPixel=function(t,r){return eR(this,"convertToPixel",t,r)},e.prototype.convertFromPixel=function(t,r){return eR(this,"convertFromPixel",t,r)},e.prototype.containPixel=function(t,r){if(this._disposed){this.id;return}var i=this._model,a,o=Bx(i,t);return G(o,function(s,l){l.indexOf("Models")>=0&&G(s,function(u){var c=u.coordinateSystem;if(c&&c.containPoint)a=a||!!c.containPoint(r);else if(l==="seriesModels"){var f=this._chartsMap[u.__viewId];f&&f.containPoint&&(a=a||f.containPoint(r,u))}},this)},this),!!a},e.prototype.getVisual=function(t,r){var i=this._model,a=Bx(i,t,{defaultMainType:"series"}),o=a.seriesModel,s=o.getData(),l=a.hasOwnProperty("dataIndexInside")?a.dataIndexInside:a.hasOwnProperty("dataIndex")?s.indexOfRawIndex(a.dataIndex):null;return l!=null?a3(s,l,r):R1(s,r)},e.prototype.getViewOfComponentModel=function(t){return this._componentsMap[t.__viewId]},e.prototype.getViewOfSeriesModel=function(t){return this._chartsMap[t.__viewId]},e.prototype._initEvents=function(){var t=this;G(j1e,function(r){var i=function(a){var o=t.getModel(),s=a.target,l,u=r==="globalout";if(u?l={}:s&&Kp(s,function(p){var g=$t(p);if(g&&g.dataIndex!=null){var m=g.dataModel||o.getSeriesByIndex(g.seriesIndex);return l=m&&m.getDataParams(g.dataIndex,g.dataType,s)||{},!0}else if(g.eventData)return l=Le({},g.eventData),!0},!0),l){var c=l.componentType,f=l.componentIndex;(c==="markLine"||c==="markPoint"||c==="markArea")&&(c="series",f=l.seriesIndex);var h=c&&f!=null&&o.getComponent(c,f),d=h&&t[h.mainType==="series"?"_chartsMap":"_componentsMap"][h.__viewId];l.event=a,l.type=r,t._$eventProcessor.eventInfo={targetEl:s,packedEvent:l,model:h,view:d},t.trigger(r,l)}};i.zrEventfulCallAtLast=!0,t._zr.on(r,i,t)}),G(Xx,function(r,i){t._messageCenter.on(i,function(a){this.trigger(i,a)},t)}),G(["selectchanged"],function(r){t._messageCenter.on(r,function(i){this.trigger(r,i)},t)}),r1e(this._messageCenter,this,this._api)},e.prototype.isDisposed=function(){return this._disposed},e.prototype.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},e.prototype.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0;var t=this.getDom();t&&KZ(this.getDom(),c3,"");var r=this,i=r._api,a=r._model;G(r._componentsViews,function(o){o.dispose(a,i)}),G(r._chartsViews,function(o){o.dispose(a,i)}),r._zr.dispose(),r._dom=r._model=r._chartsMap=r._componentsMap=r._chartsViews=r._componentsViews=r._scheduler=r._api=r._zr=r._throttledZrFlush=r._theme=r._coordSysMgr=r._messageCenter=null,delete fv[r.id]},e.prototype.resize=function(t){if(!this[Ia]){if(this._disposed){this.id;return}this._zr.resize(t);var r=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!r){var i=r.resetOption("media"),a=t&&t.silent;this[No]&&(a==null&&(a=this[No].silent),i=!0,this[No]=null),this[Ia]=!0;try{i&&Tm(this),nh.update.call(this,{type:"resize",animation:Le({duration:0},t&&t.animation)})}catch(o){throw this[Ia]=!1,o}this[Ia]=!1,O_.call(this,a),k_.call(this,a)}}},e.prototype.showLoading=function(t,r){if(this._disposed){this.id;return}if(Bt(t)&&(r=t,t=""),t=t||"default",this.hideLoading(),!!zI[t]){var i=zI[t](this._api,r),a=this._zr;this._loadingFX=i,a.add(i)}},e.prototype.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},e.prototype.makeActionFromEvent=function(t){var r=Le({},t);return r.type=Xx[t.type],r},e.prototype.dispatchAction=function(t,r){if(this._disposed){this.id;return}if(Bt(r)||(r={silent:!!r}),!!tA[t.type]&&this._model){if(this[Ia]){this._pendingActions.push(t);return}var i=r.silent;nR.call(this,t,i);var a=r.flush;a?this._zr.flush():a!==!1&&Mn.browser.weChat&&this._throttledZrFlush(),O_.call(this,i),k_.call(this,i)}},e.prototype.updateLabelLayout=function(){Cl.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},e.prototype.appendData=function(t){if(this._disposed){this.id;return}var r=t.seriesIndex,i=this.getModel(),a=i.getSeriesByIndex(r);a.appendData(t),this._scheduler.unfinished=!0,this.getZr().wakeUp()},e.internalField=(function(){Tm=function(f){var h=f._scheduler;h.restorePipelines(f._model),h.prepareStageTasks(),QD(f,!0),QD(f,!1),h.plan()},QD=function(f,h){for(var d=f._model,p=f._scheduler,g=h?f._componentsViews:f._chartsViews,m=h?f._componentsMap:f._chartsMap,y=f._zr,S=f._api,M=0;M<g.length;M++)g[M].__alive=!1;h?d.eachComponent(function(A,E){A!=="series"&&b(E)}):d.eachSeries(b);function b(A){var E=A.__requireNewView;A.__requireNewView=!1;var I="_ec_"+A.id+"_"+A.type,L=!E&&m[I];if(!L){var R=Su(A.type),O=h?br.getClass(R.main,R.sub):sr.getClass(R.sub);L=new O,L.init(d,S),m[I]=L,g.push(L),y.add(L.group)}A.__viewId=L.__id=I,L.__alive=!0,L.__model=A,L.group.__ecComponentInfo={mainType:A.mainType,index:A.componentIndex},!h&&p.prepareView(L,A,d,S)}for(var M=0;M<g.length;){var C=g[M];C.__alive?M++:(!h&&C.renderTask.dispose(),y.remove(C.group),C.dispose(d,S),g.splice(M,1),m[C.__id]===C&&delete m[C.__id],C.__id=C.group.__ecComponentInfo=null)}},aT=function(f,h,d,p,g){var m=f._model;if(m.setUpdatePayload(d),!p){G([].concat(f._componentsViews).concat(f._chartsViews),C);return}var y={};y[p+"Id"]=d[p+"Id"],y[p+"Index"]=d[p+"Index"],y[p+"Name"]=d[p+"Name"];var S={mainType:p,query:y};g&&(S.subType=g);var M=d.excludeSeriesId,b;M!=null&&(b=xt(),G(dr(M),function(A){var E=Di(A,null);E!=null&&b.set(E,!0)})),m&&m.eachComponent(S,function(A){var E=b&&b.get(A.id)!=null;if(!E)if(c4(d))if(A instanceof pr)d.type===uv&&!d.notBlur&&!A.get(["emphasis","disabled"])&&h_e(A,d,f._api);else{var I=Ik(A.mainType,A.componentIndex,d.name,f._api),L=I.focusSelf,R=I.dispatchers;d.type===uv&&L&&!d.notBlur&&yI(A.mainType,A.componentIndex,f._api),R&&G(R,function(O){d.type===uv?ef(O):tf(O)})}else xI(d)&&A instanceof pr&&(v_e(A,d,f._api),l4(A),As(f))},f),m&&m.eachComponent(S,function(A){var E=b&&b.get(A.id)!=null;E||C(f[p==="series"?"_chartsMap":"_componentsMap"][A.__viewId])},f);function C(A){A&&A.__alive&&A[h]&&A[h](A.__model,m,f._api,d)}},nh={prepareAndUpdate:function(f){Tm(this),nh.update.call(this,f,{optionChanged:f.newOption!=null})},update:function(f,h){var d=this._model,p=this._api,g=this._zr,m=this._coordSysMgr,y=this._scheduler;if(d){d.setUpdatePayload(f),y.restoreData(d,f),y.performSeriesTasks(d),m.create(d,p),y.performDataProcessorTasks(d,f),tR(this,d),m.update(d,p),t(d),y.performVisualTasks(d,f),rR(this,d,p,f,h);var S=d.get("backgroundColor")||"transparent",M=d.get("darkMode");g.setBackgroundColor(S),M!=null&&M!=="auto"&&g.setDarkMode(M),Cl.trigger("afterupdate",d,p)}},updateTransform:function(f){var h=this,d=this._model,p=this._api;if(d){d.setUpdatePayload(f);var g=[];d.eachComponent(function(y,S){if(y!=="series"){var M=h.getViewOfComponentModel(S);if(M&&M.__alive)if(M.updateTransform){var b=M.updateTransform(S,d,p,f);b&&b.update&&g.push(M)}else g.push(M)}});var m=xt();d.eachSeries(function(y){var S=h._chartsMap[y.__viewId];if(S.updateTransform){var M=S.updateTransform(y,d,p,f);M&&M.update&&m.set(y.uid,1)}else m.set(y.uid,1)}),t(d),this._scheduler.performVisualTasks(d,f,{setDirty:!0,dirtyMap:m}),oT(this,d,p,f,{},m),Cl.trigger("afterupdate",d,p)}},updateView:function(f){var h=this._model;h&&(h.setUpdatePayload(f),sr.markUpdateMethod(f,"updateView"),t(h),this._scheduler.performVisualTasks(h,f,{setDirty:!0}),rR(this,h,this._api,f,{}),Cl.trigger("afterupdate",h,this._api))},updateVisual:function(f){var h=this,d=this._model;d&&(d.setUpdatePayload(f),d.eachSeries(function(p){p.getData().clearAllVisual()}),sr.markUpdateMethod(f,"updateVisual"),t(d),this._scheduler.performVisualTasks(d,f,{visualType:"visual",setDirty:!0}),d.eachComponent(function(p,g){if(p!=="series"){var m=h.getViewOfComponentModel(g);m&&m.__alive&&m.updateVisual(g,d,h._api,f)}}),d.eachSeries(function(p){var g=h._chartsMap[p.__viewId];g.updateVisual(p,d,h._api,f)}),Cl.trigger("afterupdate",d,this._api))},updateLayout:function(f){nh.update.call(this,f)}},eR=function(f,h,d,p){if(f._disposed){f.id;return}for(var g=f._model,m=f._coordSysMgr.getCoordinateSystems(),y,S=Bx(g,d),M=0;M<m.length;M++){var b=m[M];if(b[h]&&(y=b[h](g,S,p))!=null)return y}},tR=function(f,h){var d=f._chartsMap,p=f._scheduler;h.eachSeries(function(g){p.updateStreamModes(g,d[g.__viewId])})},nR=function(f,h){var d=this,p=this.getModel(),g=f.type,m=f.escapeConnect,y=tA[g],S=y.actionInfo,M=(S.update||"update").split(":"),b=M.pop(),C=M[0]!=null&&Su(M[0]);this[Ia]=!0;var A=[f],E=!1;f.batch&&(E=!0,A=Ve(f.batch,function(W){return W=Dt(Le({},W),f),W.batch=null,W}));var I=[],L,R=xI(f),O=c4(f);if(O&&_$(this._api),G(A,function(W){if(L=y.action(W,d._model,d._api),L=L||Le({},W),L.type=S.event||L.type,I.push(L),O){var X=bk(f),j=X.queryOptionMap,Q=X.mainTypeSpecified,B=Q?j.keys()[0]:"series";aT(d,b,W,B),As(d)}else R?(aT(d,b,W,"series"),As(d)):C&&aT(d,b,W,C.main,C.sub)}),b!=="none"&&!O&&!R&&!C)try{this[No]?(Tm(this),nh.update.call(this,f),this[No]=null):nh[b].call(this,f)}catch(W){throw this[Ia]=!1,W}if(E?L={type:S.event||g,escapeConnect:m,batch:I}:L=I[0],this[Ia]=!1,!h){var U=this._messageCenter;if(U.trigger(L.type,L),R){var V={type:"selectchanged",escapeConnect:m,selected:g_e(p),isFromClick:f.isFromClick||!1,fromAction:f.type,fromActionPayload:f};U.trigger(V.type,V)}}},O_=function(f){for(var h=this._pendingActions;h.length;){var d=h.shift();nR.call(this,d,f)}},k_=function(f){!f&&this.trigger("updated")},TG=function(f,h){f.on("rendered",function(d){h.trigger("rendered",d),f.animation.isFinished()&&!h[No]&&!h._scheduler.unfinished&&!h._pendingActions.length&&h.trigger("finished")})},bG=function(f,h){f.on("mouseover",function(d){var p=d.target,g=Kp(p,NS);g&&(d_e(g,d,h._api),As(h))}).on("mouseout",function(d){var p=d.target,g=Kp(p,NS);g&&(p_e(g,d,h._api),As(h))}).on("click",function(d){var p=d.target,g=Kp(p,function(S){return $t(S).dataIndex!=null},!0);if(g){var m=g.selected?"unselect":"select",y=$t(g);h._api.dispatchAction({type:m,dataType:y.dataType,dataIndexInside:y.dataIndex,seriesIndex:y.seriesIndex,isFromClick:!0})}})};function t(f){f.clearColorPalette(),f.eachSeries(function(h){h.clearColorPalette()})}function r(f){var h=[],d=[],p=!1;if(f.eachComponent(function(S,M){var b=M.get("zlevel")||0,C=M.get("z")||0,A=M.getZLevelKey();p=p||!!A,(S==="series"?d:h).push({zlevel:b,z:C,idx:M.componentIndex,type:S,key:A})}),p){var g=h.concat(d),m,y;ZT(g,function(S,M){return S.zlevel===M.zlevel?S.z-M.z:S.zlevel-M.zlevel}),G(g,function(S){var M=f.getComponent(S.type,S.idx),b=S.zlevel,C=S.key;m!=null&&(b=Math.max(m,b)),C?(b===m&&C!==y&&b++,y=C):y&&(b===m&&b++,y=""),m=b,M.setZLevel(b)})}}rR=function(f,h,d,p,g){r(h),AG(f,h,d,p,g),G(f._chartsViews,function(m){m.__alive=!1}),oT(f,h,d,p,g),G(f._chartsViews,function(m){m.__alive||m.remove(h,d)})},AG=function(f,h,d,p,g,m){G(m||f._componentsViews,function(y){var S=y.__model;u(S,y),y.render(S,h,d,p),s(S,y),c(S,y)})},oT=function(f,h,d,p,g,m){var y=f._scheduler;g=Le(g||{},{updatedSeries:h.getSeries()}),Cl.trigger("series:beforeupdate",h,d,g);var S=!1;h.eachSeries(function(M){var b=f._chartsMap[M.__viewId];b.__alive=!0;var C=b.renderTask;y.updatePayload(C,p),u(M,b),m&&m.get(M.uid)&&C.dirty(),C.perform(y.getPerformArgs(C))&&(S=!0),b.group.silent=!!M.get("silent"),o(M,b),l4(M)}),y.unfinished=S||y.unfinished,Cl.trigger("series:layoutlabels",h,d,g),Cl.trigger("series:transition",h,d,g),h.eachSeries(function(M){var b=f._chartsMap[M.__viewId];s(M,b),c(M,b)}),a(f,h),Cl.trigger("series:afterupdate",h,d,g)},As=function(f){f[KD]=!0,f.getZr().wakeUp()},EG=function(f){f[KD]&&(f.getZr().storage.traverse(function(h){uy(h)||i(h)}),f[KD]=!1)};function i(f){for(var h=[],d=f.currentStates,p=0;p<d.length;p++){var g=d[p];g==="emphasis"||g==="blur"||g==="select"||h.push(g)}f.selected&&f.states.select&&h.push("select"),f.hoverState===bC&&f.states.emphasis?h.push("emphasis"):f.hoverState===b1&&f.states.blur&&h.push("blur"),f.useStates(h)}function a(f,h){var d=f._zr,p=d.storage,g=0;p.traverse(function(m){m.isGroup||g++}),g>h.get("hoverLayerThreshold")&&!Mn.node&&!Mn.worker&&h.eachSeries(function(m){if(!m.preventUsingHoverLayer){var y=f._chartsMap[m.__viewId];y.__alive&&y.eachRendered(function(S){S.states.emphasis&&(S.states.emphasis.hoverLayer=!0)})}})}function o(f,h){var d=f.get("blendMode")||null;h.eachRendered(function(p){p.isGroup||(p.style.blend=d)})}function s(f,h){if(!f.preventAutoZ){var d=f.get("z")||0,p=f.get("zlevel")||0;h.eachRendered(function(g){return l(g,d,p,-1/0),!0})}}function l(f,h,d,p){var g=f.getTextContent(),m=f.getTextGuideLine(),y=f.isGroup;if(y)for(var S=f.childrenRef(),M=0;M<S.length;M++)p=Math.max(l(S[M],h,d,p),p);else f.z=h,f.zlevel=d,p=Math.max(f.z2,p);if(g&&(g.z=h,g.zlevel=d,isFinite(p)&&(g.z2=p+2)),m){var b=f.textGuideLineConfig;m.z=h,m.zlevel=d,isFinite(p)&&(m.z2=p+(b&&b.showAbove?1:-1))}return p}function u(f,h){h.eachRendered(function(d){if(!uy(d)){var p=d.getTextContent(),g=d.getTextGuideLine();d.stateTransition&&(d.stateTransition=null),p&&p.stateTransition&&(p.stateTransition=null),g&&g.stateTransition&&(g.stateTransition=null),d.hasState()?(d.prevStates=d.currentStates,d.clearStates()):d.prevStates&&(d.prevStates=null)}})}function c(f,h){var d=f.getModel("stateAnimation"),p=f.isAnimationEnabled(),g=d.get("duration"),m=g>0?{duration:g,delay:d.get("delay"),easing:d.get("easing")}:null;h.eachRendered(function(y){if(y.states&&y.states.emphasis){if(uy(y))return;if(y instanceof Tn&&S_e(y),y.__dirty){var S=y.prevStates;S&&y.useStates(S)}if(p){y.stateTransition=m;var M=y.getTextContent(),b=y.getTextGuideLine();M&&(M.stateTransition=m),b&&(b.stateTransition=m)}y.__dirty&&i(y)}})}CG=function(f){return new((function(h){Se(d,h);function d(){return h!==null&&h.apply(this,arguments)||this}return d.prototype.getCoordinateSystems=function(){return f._coordSysMgr.getCoordinateSystems()},d.prototype.getComponentByElement=function(p){for(;p;){var g=p.__ecComponentInfo;if(g!=null)return f._model.getComponent(g.mainType,g.index);p=p.parent}},d.prototype.enterEmphasis=function(p,g){ef(p,g),As(f)},d.prototype.leaveEmphasis=function(p,g){tf(p,g),As(f)},d.prototype.enterBlur=function(p){v$(p),As(f)},d.prototype.leaveBlur=function(p){Lk(p),As(f)},d.prototype.enterSelect=function(p){g$(p),As(f)},d.prototype.leaveSelect=function(p){m$(p),As(f)},d.prototype.getModel=function(){return f.getModel()},d.prototype.getViewOfComponentModel=function(p){return f.getViewOfComponentModel(p)},d.prototype.getViewOfSeriesModel=function(p){return f.getViewOfSeriesModel(p)},d})(oq))(f)},nK=function(f){function h(d,p){for(var g=0;g<d.length;g++){var m=d[g];m[JD]=p}}G(Xx,function(d,p){f._messageCenter.on(p,function(g){if(rA[f.group]&&f[JD]!==MG){if(g&&g.escapeConnect)return;var m=f.makeActionFromEvent(g),y=[];G(fv,function(S){S!==f&&S.group===f.group&&y.push(S)}),h(y,MG),G(y,function(S){S[JD]!==X1e&&S.dispatchAction(m)}),h(y,Y1e)}})})}})(),e})(Ws),u3=eA.prototype;u3.on=Kq("on");u3.off=Kq("off");u3.one=function(n,e,t){var r=this;function i(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];e&&e.apply&&e.apply(this,a),r.off(n,i)}this.on.call(this,n,i,t)};var j1e=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];var tA={},Xx={},kI=[],FI=[],nA=[],rK={},zI={},fv={},rA={},Z1e=+new Date-0,$1e=+new Date-0,c3="_echarts_instance_";function q1e(n,e,t){var r=!(t&&t.ssr);if(r){var i=f3(n);if(i)return i}var a=new eA(n,e,t);return a.id="ec_"+Z1e++,fv[a.id]=a,r&&KZ(n,c3,a.id),nK(a),Cl.trigger("afterinit",a),a}function K1e(n){if(ze(n)){var e=n;n=null,G(e,function(t){t.group!=null&&(n=t.group)}),n=n||"g_"+$1e++,G(e,function(t){t.group=n})}return rA[n]=!0,n}function iK(n){rA[n]=!1}var J1e=iK;function Q1e(n){ut(n)?n=fv[n]:n instanceof eA||(n=f3(n)),n instanceof eA&&!n.isDisposed()&&n.dispose()}function f3(n){return fv[u0e(n,c3)]}function ewe(n){return fv[n]}function h3(n,e){rK[n]=e}function d3(n){dn(FI,n)<0&&FI.push(n)}function p3(n,e){v3(kI,n,e,z1e)}function aK(n){VC("afterinit",n)}function oK(n){VC("afterupdate",n)}function VC(n,e){Cl.on(n,e)}function jl(n,e,t){Ct(e)&&(t=e,e="");var r=Bt(n)?n.type:[n,n={event:e}][0];n.event=(n.event||r).toLowerCase(),e=n.event,!Xx[e]&&(Ha(wG.test(r)&&wG.test(e)),tA[r]||(tA[r]={action:t,actionInfo:n}),Xx[e]=r)}function sK(n,e){n0.register(n,e)}function twe(n){var e=n0.get(n);if(e)return e.getDimensionsInfo?e.getDimensionsInfo():e.dimensions.slice()}function lK(n,e){v3(nA,n,e,jq,"layout")}function qh(n,e){v3(nA,n,e,Zq,"visual")}var PG=[];function v3(n,e,t,r,i){if((Ct(e)||Bt(e))&&(t=e,e=r),!(dn(PG,t)>=0)){PG.push(t);var a=Iq.wrapStageHandler(t,i);a.__prio=e,a.__raw=t,n.push(a)}}function g3(n,e){zI[n]=e}function nwe(n){nZ({createCanvas:n})}function uK(n,e,t){var r=Yq("registerMap");r&&r(n,e,t)}function rwe(n){var e=Yq("getMap");return e&&e(n)}var cK=pSe;qh(l3,USe);qh(UC,VSe);qh(UC,GSe);qh(l3,t1e);qh(UC,n1e);qh($q,D1e);d3(lq);p3(k1e,Zxe);g3("default",HSe);jl({type:uv,event:uv,update:uv},ei);jl({type:eb,event:eb,update:eb},ei);jl({type:Ux,event:Ux,update:Ux},ei);jl({type:tb,event:tb,update:tb},ei);jl({type:Vx,event:Vx,update:Vx},ei);h3("light",QSe);h3("dark",Fq);var iwe={},DG=[],awe={registerPreprocessor:d3,registerProcessor:p3,registerPostInit:aK,registerPostUpdate:oK,registerUpdateLifecycle:VC,registerAction:jl,registerCoordinateSystem:sK,registerLayout:lK,registerVisual:qh,registerTransform:cK,registerLoading:g3,registerMap:uK,registerImpl:R1e,PRIORITY:qq,ComponentModel:wn,ComponentView:br,SeriesModel:pr,ChartView:sr,registerComponentModel:function(n){wn.registerClass(n)},registerComponentView:function(n){br.registerClass(n)},registerSeriesModel:function(n){pr.registerClass(n)},registerChartView:function(n){sr.registerClass(n)},registerSubTypeDefaulter:function(n,e){wn.registerSubTypeDefaulter(n,e)},registerPainter:function(n,e){zZ(n,e)}};function Sn(n){if(ze(n)){G(n,function(e){Sn(e)});return}dn(DG,n)>=0||(DG.push(n),Ct(n)&&(n={install:n}),n.install(awe))}function F_(n){return n==null?0:n.length||1}function RG(n){return n}var nf=(function(){function n(e,t,r,i,a,o){this._old=e,this._new=t,this._oldKeyGetter=r||RG,this._newKeyGetter=i||RG,this.context=a,this._diffModeMultiple=o==="multiple"}return n.prototype.add=function(e){return this._add=e,this},n.prototype.update=function(e){return this._update=e,this},n.prototype.updateManyToOne=function(e){return this._updateManyToOne=e,this},n.prototype.updateOneToMany=function(e){return this._updateOneToMany=e,this},n.prototype.updateManyToMany=function(e){return this._updateManyToMany=e,this},n.prototype.remove=function(e){return this._remove=e,this},n.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},n.prototype._executeOneToOne=function(){var e=this._old,t=this._new,r={},i=new Array(e.length),a=new Array(t.length);this._initIndexMap(e,null,i,"_oldKeyGetter"),this._initIndexMap(t,r,a,"_newKeyGetter");for(var o=0;o<e.length;o++){var s=i[o],l=r[s],u=F_(l);if(u>1){var c=l.shift();l.length===1&&(r[s]=l[0]),this._update&&this._update(c,o)}else u===1?(r[s]=null,this._update&&this._update(l,o)):this._remove&&this._remove(o)}this._performRestAdd(a,r)},n.prototype._executeMultiple=function(){var e=this._old,t=this._new,r={},i={},a=[],o=[];this._initIndexMap(e,r,a,"_oldKeyGetter"),this._initIndexMap(t,i,o,"_newKeyGetter");for(var s=0;s<a.length;s++){var l=a[s],u=r[l],c=i[l],f=F_(u),h=F_(c);if(f>1&&h===1)this._updateManyToOne&&this._updateManyToOne(c,u),i[l]=null;else if(f===1&&h>1)this._updateOneToMany&&this._updateOneToMany(c,u),i[l]=null;else if(f===1&&h===1)this._update&&this._update(c,u),i[l]=null;else if(f>1&&h>1)this._updateManyToMany&&this._updateManyToMany(c,u),i[l]=null;else if(f>1)for(var d=0;d<f;d++)this._remove&&this._remove(u[d]);else this._remove&&this._remove(u)}this._performRestAdd(o,i)},n.prototype._performRestAdd=function(e,t){for(var r=0;r<e.length;r++){var i=e[r],a=t[i],o=F_(a);if(o>1)for(var s=0;s<o;s++)this._add&&this._add(a[s]);else o===1&&this._add&&this._add(a);t[i]=null}},n.prototype._initIndexMap=function(e,t,r,i){for(var a=this._diffModeMultiple,o=0;o<e.length;o++){var s="_ec_"+this[i](e[o],o);if(a||(r[o]=s),!!t){var l=t[s],u=F_(l);u===0?(t[s]=o,a&&r.push(s)):u===1?t[s]=[l,o]:l.push(o)}}},n})(),owe=(function(){function n(e,t){this._encode=e,this._schema=t}return n.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},n.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},n})();function swe(n,e){var t={},r=t.encode={},i=xt(),a=[],o=[],s={};G(n.dimensions,function(h){var d=n.getDimensionInfo(h),p=d.coordDim;if(p){var g=d.coordDimIndex;iR(r,p)[g]=h,d.isExtraCoord||(i.set(p,1),lwe(d.type)&&(a[0]=h),iR(s,p)[g]=n.getDimensionIndex(d.name)),d.defaultTooltip&&o.push(h)}Q$.each(function(m,y){var S=iR(r,y),M=d.otherDims[y];M!=null&&M!==!1&&(S[M]=d.name)})});var l=[],u={};i.each(function(h,d){var p=r[d];u[d]=p[0],l=l.concat(p)}),t.dataDimsOnCoord=l,t.dataDimIndicesOnCoord=Ve(l,function(h){return n.getDimensionInfo(h).storeDimIndex}),t.encodeFirstDimNotExtra=u;var c=r.label;c&&c.length&&(a=c.slice());var f=r.tooltip;return f&&f.length?o=f.slice():o.length||(o=a.slice()),r.defaultedLabel=a,r.defaultedTooltip=o,t.userOutput=new owe(s,e),t}function iR(n,e){return n.hasOwnProperty(e)||(n[e]=[]),n[e]}function iA(n){return n==="category"?"ordinal":n==="time"?"time":"float"}function lwe(n){return!(n==="ordinal"||n==="time")}var ob=(function(){function n(e){this.otherDims={},e!=null&&Le(this,e)}return n})(),uwe=Un(),cwe={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},fK=(function(){function n(e){this.dimensions=e.dimensions,this._dimOmitted=e.dimensionOmitted,this.source=e.source,this._fullDimCount=e.fullDimensionCount,this._updateDimOmitted(e.dimensionOmitted)}return n.prototype.isDimensionOmitted=function(){return this._dimOmitted},n.prototype._updateDimOmitted=function(e){this._dimOmitted=e,e&&(this._dimNameMap||(this._dimNameMap=pK(this.source)))},n.prototype.getSourceDimensionIndex=function(e){return tn(this._dimNameMap.get(e),-1)},n.prototype.getSourceDimension=function(e){var t=this.source.dimensionsDefine;if(t)return t[e]},n.prototype.makeStoreSchema=function(){for(var e=this._fullDimCount,t=cq(this.source),r=!vK(e),i="",a=[],o=0,s=0;o<e;o++){var l=void 0,u=void 0,c=void 0,f=this.dimensions[s];if(f&&f.storeDimIndex===o)l=t?f.name:null,u=f.type,c=f.ordinalMeta,s++;else{var h=this.getSourceDimension(o);h&&(l=t?h.name:null,u=h.type)}a.push({property:l,type:u,ordinalMeta:c}),t&&l!=null&&(!f||!f.isCalculationCoord)&&(i+=r?l.replace(/\`/g,"`1").replace(/\$/g,"`2"):l),i+="$",i+=cwe[u]||"f",c&&(i+=c.uid),i+="$"}var d=this.source,p=[d.seriesLayoutBy,d.startIndex,i].join("$$");return{dimensions:a,hash:p}},n.prototype.makeOutputDimensionNames=function(){for(var e=[],t=0,r=0;t<this._fullDimCount;t++){var i=void 0,a=this.dimensions[r];if(a&&a.storeDimIndex===t)a.isCalculationCoord||(i=a.name),r++;else{var o=this.getSourceDimension(t);o&&(i=o.name)}e.push(i)}return e},n.prototype.appendCalculationDimension=function(e){this.dimensions.push(e),e.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},n})();function hK(n){return n instanceof fK}function dK(n){for(var e=xt(),t=0;t<(n||[]).length;t++){var r=n[t],i=Bt(r)?r.name:r;i!=null&&e.get(i)==null&&e.set(i,t)}return e}function pK(n){var e=uwe(n);return e.dimNameMap||(e.dimNameMap=dK(n.dimensionsDefine))}function vK(n){return n>30}var z_=Bt,rh=Ve,fwe=typeof Int32Array>"u"?Array:Int32Array,hwe="e\0\0",LG=-1,dwe=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],pwe=["_approximateExtent"],IG,sT,B_,U_,aR,V_,oR,Ga=(function(){function n(e,t){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","minmaxDownSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","minmaxDownSample","lttbDownSample"];var r,i=!1;hK(e)?(r=e.dimensions,this._dimOmitted=e.isDimensionOmitted(),this._schema=e):(i=!0,r=e),r=r||["x","y"];for(var a={},o=[],s={},l=!1,u={},c=0;c<r.length;c++){var f=r[c],h=ut(f)?new ob({name:f}):f instanceof ob?f:new ob(f),d=h.name;h.type=h.type||"float",h.coordDim||(h.coordDim=d,h.coordDimIndex=0);var p=h.otherDims=h.otherDims||{};o.push(d),a[d]=h,u[d]!=null&&(l=!0),h.createInvertedIndices&&(s[d]=[]),p.itemName===0&&(this._nameDimIdx=c),p.itemId===0&&(this._idDimIdx=c),i&&(h.storeDimIndex=c)}if(this.dimensions=o,this._dimInfos=a,this._initGetDimensionInfo(l),this.hostModel=t,this._invertedIndicesMap=s,this._dimOmitted){var g=this._dimIdxToName=xt();G(o,function(m){g.set(a[m].storeDimIndex,m)})}}return n.prototype.getDimension=function(e){var t=this._recognizeDimIndex(e);if(t==null)return e;if(t=e,!this._dimOmitted)return this.dimensions[t];var r=this._dimIdxToName.get(t);if(r!=null)return r;var i=this._schema.getSourceDimension(t);if(i)return i.name},n.prototype.getDimensionIndex=function(e){var t=this._recognizeDimIndex(e);if(t!=null)return t;if(e==null)return-1;var r=this._getDimInfo(e);return r?r.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(e):-1},n.prototype._recognizeDimIndex=function(e){if(Hn(e)||e!=null&&!isNaN(e)&&!this._getDimInfo(e)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(e)<0))return+e},n.prototype._getStoreDimIndex=function(e){var t=this.getDimensionIndex(e);return t},n.prototype.getDimensionInfo=function(e){return this._getDimInfo(this.getDimension(e))},n.prototype._initGetDimensionInfo=function(e){var t=this._dimInfos;this._getDimInfo=e?function(r){return t.hasOwnProperty(r)?t[r]:void 0}:function(r){return t[r]}},n.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},n.prototype.mapDimension=function(e,t){var r=this._dimSummary;if(t==null)return r.encodeFirstDimNotExtra[e];var i=r.encode[e];return i?i[t]:null},n.prototype.mapDimensionsAll=function(e){var t=this._dimSummary,r=t.encode[e];return(r||[]).slice()},n.prototype.getStore=function(){return this._store},n.prototype.initData=function(e,t,r){var i=this,a;if(e instanceof PI&&(a=e),!a){var o=this.dimensions,s=t3(e)||_a(e)?new fq(e,o.length):e;a=new PI;var l=rh(o,function(u){return{type:i._dimInfos[u].type,property:u}});a.initData(s,l,r)}this._store=a,this._nameList=(t||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,a.count()),this._dimSummary=swe(this,this._schema),this.userOutput=this._dimSummary.userOutput},n.prototype.appendData=function(e){var t=this._store.appendData(e);this._doInit(t[0],t[1])},n.prototype.appendValues=function(e,t){var r=this._store.appendValues(e,t&&t.length),i=r.start,a=r.end,o=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),t)for(var s=i;s<a;s++){var l=s-i;this._nameList[s]=t[l],o&&oR(this,s)}},n.prototype._updateOrdinalMeta=function(){for(var e=this._store,t=this.dimensions,r=0;r<t.length;r++){var i=this._dimInfos[t[r]];i.ordinalMeta&&e.collectOrdinalMeta(i.storeDimIndex,i.ordinalMeta)}},n.prototype._shouldMakeIdFromName=function(){var e=this._store.getProvider();return this._idDimIdx==null&&e.getSource().sourceFormat!==Ch&&!e.fillStorage},n.prototype._doInit=function(e,t){if(!(e>=t)){var r=this._store,i=r.getProvider();this._updateOrdinalMeta();var a=this._nameList,o=this._idList,s=i.getSource().sourceFormat,l=s===Ys;if(l&&!i.pure)for(var u=[],c=e;c<t;c++){var f=i.getItem(c,u);if(!this.hasItemOption&&qye(f)&&(this.hasItemOption=!0),f){var h=f.name;a[c]==null&&h!=null&&(a[c]=Di(h,null));var d=f.id;o[c]==null&&d!=null&&(o[c]=Di(d,null))}}if(this._shouldMakeIdFromName())for(var c=e;c<t;c++)oR(this,c);IG(this)}},n.prototype.getApproximateExtent=function(e){return this._approximateExtent[e]||this._store.getDataExtent(this._getStoreDimIndex(e))},n.prototype.setApproximateExtent=function(e,t){t=this.getDimension(t),this._approximateExtent[t]=e.slice()},n.prototype.getCalculationInfo=function(e){return this._calculationInfo[e]},n.prototype.setCalculationInfo=function(e,t){z_(e)?Le(this._calculationInfo,e):this._calculationInfo[e]=t},n.prototype.getName=function(e){var t=this.getRawIndex(e),r=this._nameList[t];return r==null&&this._nameDimIdx!=null&&(r=B_(this,this._nameDimIdx,t)),r==null&&(r=""),r},n.prototype._getCategory=function(e,t){var r=this._store.get(e,t),i=this._store.getOrdinalMeta(e);return i?i.categories[r]:r},n.prototype.getId=function(e){return sT(this,this.getRawIndex(e))},n.prototype.count=function(){return this._store.count()},n.prototype.get=function(e,t){var r=this._store,i=this._dimInfos[e];if(i)return r.get(i.storeDimIndex,t)},n.prototype.getByRawIndex=function(e,t){var r=this._store,i=this._dimInfos[e];if(i)return r.getByRawIndex(i.storeDimIndex,t)},n.prototype.getIndices=function(){return this._store.getIndices()},n.prototype.getDataExtent=function(e){return this._store.getDataExtent(this._getStoreDimIndex(e))},n.prototype.getSum=function(e){return this._store.getSum(this._getStoreDimIndex(e))},n.prototype.getMedian=function(e){return this._store.getMedian(this._getStoreDimIndex(e))},n.prototype.getValues=function(e,t){var r=this,i=this._store;return ze(e)?i.getValues(rh(e,function(a){return r._getStoreDimIndex(a)}),t):i.getValues(e)},n.prototype.hasValue=function(e){for(var t=this._dimSummary.dataDimIndicesOnCoord,r=0,i=t.length;r<i;r++)if(isNaN(this._store.get(t[r],e)))return!1;return!0},n.prototype.indexOfName=function(e){for(var t=0,r=this._store.count();t<r;t++)if(this.getName(t)===e)return t;return-1},n.prototype.getRawIndex=function(e){return this._store.getRawIndex(e)},n.prototype.indexOfRawIndex=function(e){return this._store.indexOfRawIndex(e)},n.prototype.rawIndexOf=function(e,t){var r=e&&this._invertedIndicesMap[e],i=r&&r[t];return i==null||isNaN(i)?LG:i},n.prototype.indicesOfNearest=function(e,t,r){return this._store.indicesOfNearest(this._getStoreDimIndex(e),t,r)},n.prototype.each=function(e,t,r){Ct(e)&&(r=t,t=e,e=[]);var i=r||this,a=rh(U_(e),this._getStoreDimIndex,this);this._store.each(a,i?ht(t,i):t)},n.prototype.filterSelf=function(e,t,r){Ct(e)&&(r=t,t=e,e=[]);var i=r||this,a=rh(U_(e),this._getStoreDimIndex,this);return this._store=this._store.filter(a,i?ht(t,i):t),this},n.prototype.selectRange=function(e){var t=this,r={},i=En(e);return G(i,function(a){var o=t._getStoreDimIndex(a);r[o]=e[a]}),this._store=this._store.selectRange(r),this},n.prototype.mapArray=function(e,t,r){Ct(e)&&(r=t,t=e,e=[]),r=r||this;var i=[];return this.each(e,function(){i.push(t&&t.apply(this,arguments))},r),i},n.prototype.map=function(e,t,r,i){var a=r||i||this,o=rh(U_(e),this._getStoreDimIndex,this),s=V_(this);return s._store=this._store.map(o,a?ht(t,a):t),s},n.prototype.modify=function(e,t,r,i){var a=r||i||this,o=rh(U_(e),this._getStoreDimIndex,this);this._store.modify(o,a?ht(t,a):t)},n.prototype.downSample=function(e,t,r,i){var a=V_(this);return a._store=this._store.downSample(this._getStoreDimIndex(e),t,r,i),a},n.prototype.minmaxDownSample=function(e,t){var r=V_(this);return r._store=this._store.minmaxDownSample(this._getStoreDimIndex(e),t),r},n.prototype.lttbDownSample=function(e,t){var r=V_(this);return r._store=this._store.lttbDownSample(this._getStoreDimIndex(e),t),r},n.prototype.getRawDataItem=function(e){return this._store.getRawDataItem(e)},n.prototype.getItemModel=function(e){var t=this.hostModel,r=this.getRawDataItem(e);return new qn(r,t,t&&t.ecModel)},n.prototype.diff=function(e){var t=this;return new nf(e?e.getStore().getIndices():[],this.getStore().getIndices(),function(r){return sT(e,r)},function(r){return sT(t,r)})},n.prototype.getVisual=function(e){var t=this._visual;return t&&t[e]},n.prototype.setVisual=function(e,t){this._visual=this._visual||{},z_(e)?Le(this._visual,e):this._visual[e]=t},n.prototype.getItemVisual=function(e,t){var r=this._itemVisuals[e],i=r&&r[t];return i??this.getVisual(t)},n.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},n.prototype.ensureUniqueItemVisual=function(e,t){var r=this._itemVisuals,i=r[e];i||(i=r[e]={});var a=i[t];return a==null&&(a=this.getVisual(t),ze(a)?a=a.slice():z_(a)&&(a=Le({},a)),i[t]=a),a},n.prototype.setItemVisual=function(e,t,r){var i=this._itemVisuals[e]||{};this._itemVisuals[e]=i,z_(t)?Le(i,t):i[t]=r},n.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},n.prototype.setLayout=function(e,t){z_(e)?Le(this._layout,e):this._layout[e]=t},n.prototype.getLayout=function(e){return this._layout[e]},n.prototype.getItemLayout=function(e){return this._itemLayouts[e]},n.prototype.setItemLayout=function(e,t,r){this._itemLayouts[e]=r?Le(this._itemLayouts[e]||{},t):t},n.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},n.prototype.setItemGraphicEl=function(e,t){var r=this.hostModel&&this.hostModel.seriesIndex;gI(r,this.dataType,e,t),this._graphicEls[e]=t},n.prototype.getItemGraphicEl=function(e){return this._graphicEls[e]},n.prototype.eachItemGraphicEl=function(e,t){G(this._graphicEls,function(r,i){r&&e&&e.call(t,r,i)})},n.prototype.cloneShallow=function(e){return e||(e=new n(this._schema?this._schema:rh(this.dimensions,this._getDimInfo,this),this.hostModel)),aR(e,this),e._store=this._store,e},n.prototype.wrapMethod=function(e,t){var r=this[e];Ct(r)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(e),this[e]=function(){var i=r.apply(this,arguments);return t.apply(this,[i].concat(dC(arguments)))})},n.internalField=(function(){IG=function(e){var t=e._invertedIndicesMap;G(t,function(r,i){var a=e._dimInfos[i],o=a.ordinalMeta,s=e._store;if(o){r=t[i]=new fwe(o.categories.length);for(var l=0;l<r.length;l++)r[l]=LG;for(var l=0;l<s.count();l++)r[s.get(a.storeDimIndex,l)]=l}})},B_=function(e,t,r){return Di(e._getCategory(t,r),null)},sT=function(e,t){var r=e._idList[t];return r==null&&e._idDimIdx!=null&&(r=B_(e,e._idDimIdx,t)),r==null&&(r=hwe+t),r},U_=function(e){return ze(e)||(e=e!=null?[e]:[]),e},V_=function(e){var t=new n(e._schema?e._schema:rh(e.dimensions,e._getDimInfo,e),e.hostModel);return aR(t,e),t},aR=function(e,t){G(dwe.concat(t.__wrappedMethods||[]),function(r){t.hasOwnProperty(r)&&(e[r]=t[r])}),e.__wrappedMethods=t.__wrappedMethods,G(pwe,function(r){e[r]=Vt(t[r])}),e._calculationInfo=Le({},t._calculationInfo)},oR=function(e,t){var r=e._nameList,i=e._idList,a=e._nameDimIdx,o=e._idDimIdx,s=r[t],l=i[t];if(s==null&&a!=null&&(r[t]=s=B_(e,a,t)),l==null&&o!=null&&(i[t]=l=B_(e,o,t)),l==null&&s!=null){var u=e._nameRepeatCount,c=u[s]=(u[s]||0)+1;l=s,c>1&&(l+="__ec__"+c),i[t]=l}}})(),n})();function vwe(n,e){return o0(n,e).dimensions}function o0(n,e){t3(n)||(n=n3(n)),e=e||{};var t=e.coordDimensions||[],r=e.dimensionsDefine||n.dimensionsDefine||[],i=xt(),a=[],o=mwe(n,t,r,e.dimensionsCount),s=e.canOmitUnusedDimensions&&vK(o),l=r===n.dimensionsDefine,u=l?pK(n):dK(r),c=e.encodeDefine;!c&&e.encodeDefaulter&&(c=e.encodeDefaulter(n,o));for(var f=xt(c),h=new _q(o),d=0;d<h.length;d++)h[d]=-1;function p(L){var R=h[L];if(R<0){var O=r[L],U=Bt(O)?O:{name:O},V=new ob,W=U.name;W!=null&&u.get(W)!=null&&(V.name=V.displayName=W),U.type!=null&&(V.type=U.type),U.displayName!=null&&(V.displayName=U.displayName);var X=a.length;return h[L]=X,V.storeDimIndex=L,a.push(V),V}return a[R]}if(!s)for(var d=0;d<o;d++)p(d);f.each(function(L,R){var O=dr(L).slice();if(O.length===1&&!ut(O[0])&&O[0]<0){f.set(R,!1);return}var U=f.set(R,[]);G(O,function(V,W){var X=ut(V)?u.get(V):V;X!=null&&X<o&&(U[W]=X,m(p(X),R,W))})});var g=0;G(t,function(L){var R,O,U,V;if(ut(L))R=L,V={};else{V=L,R=V.name;var W=V.ordinalMeta;V.ordinalMeta=null,V=Le({},V),V.ordinalMeta=W,O=V.dimsDef,U=V.otherDims,V.name=V.coordDim=V.coordDimIndex=V.dimsDef=V.otherDims=null}var X=f.get(R);if(X!==!1){if(X=dr(X),!X.length)for(var j=0;j<(O&&O.length||1);j++){for(;g<o&&p(g).coordDim!=null;)g++;g<o&&X.push(g++)}G(X,function(Q,B){var Z=p(Q);if(l&&V.type!=null&&(Z.type=V.type),m(Dt(Z,V),R,B),Z.name==null&&O){var q=O[B];!Bt(q)&&(q={name:q}),Z.name=Z.displayName=q.name,Z.defaultTooltip=q.defaultTooltip}U&&Dt(Z.otherDims,U)})}});function m(L,R,O){Q$.get(R)!=null?L.otherDims[R]=O:(L.coordDim=R,L.coordDimIndex=O,i.set(R,!0))}var y=e.generateCoord,S=e.generateCoordCount,M=S!=null;S=y?S||1:0;var b=y||"value";function C(L){L.name==null&&(L.name=L.coordDim)}if(s)G(a,function(L){C(L)}),a.sort(function(L,R){return L.storeDimIndex-R.storeDimIndex});else for(var A=0;A<o;A++){var E=p(A),I=E.coordDim;I==null&&(E.coordDim=ywe(b,i,M),E.coordDimIndex=0,(!y||S<=0)&&(E.isExtraCoord=!0),S--),C(E),E.type==null&&(rq(n,A)===ma.Must||E.isExtraCoord&&(E.otherDims.itemName!=null||E.otherDims.seriesName!=null))&&(E.type="ordinal")}return gwe(a),new fK({source:n,dimensions:a,fullDimensionCount:o,dimensionOmitted:s})}function gwe(n){for(var e=xt(),t=0;t<n.length;t++){var r=n[t],i=r.name,a=e.get(i)||0;a>0&&(r.name=i+(a-1)),a++,e.set(i,a)}}function mwe(n,e,t,r){var i=Math.max(n.dimensionsDetectedCount||1,e.length,t.length,r||0);return G(e,function(a){var o;Bt(a)&&(o=a.dimsDef)&&(i=Math.max(i,o.length))}),i}function ywe(n,e,t){if(t||e.hasKey(n)){for(var r=0;e.hasKey(n+r);)r++;n+=r}return e.set(n,!0),n}var _we=(function(){function n(e){this.coordSysDims=[],this.axisMap=xt(),this.categoryAxisMap=xt(),this.coordSysName=e}return n})();function xwe(n){var e=n.get("coordinateSystem"),t=new _we(e),r=Swe[e];if(r)return r(n,t,t.axisMap,t.categoryAxisMap),t}var Swe={cartesian2d:function(n,e,t,r){var i=n.getReferringComponents("xAxis",yi).models[0],a=n.getReferringComponents("yAxis",yi).models[0];e.coordSysDims=["x","y"],t.set("x",i),t.set("y",a),bm(i)&&(r.set("x",i),e.firstCategoryDimIndex=0),bm(a)&&(r.set("y",a),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},singleAxis:function(n,e,t,r){var i=n.getReferringComponents("singleAxis",yi).models[0];e.coordSysDims=["single"],t.set("single",i),bm(i)&&(r.set("single",i),e.firstCategoryDimIndex=0)},polar:function(n,e,t,r){var i=n.getReferringComponents("polar",yi).models[0],a=i.findAxisModel("radiusAxis"),o=i.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],t.set("radius",a),t.set("angle",o),bm(a)&&(r.set("radius",a),e.firstCategoryDimIndex=0),bm(o)&&(r.set("angle",o),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},geo:function(n,e,t,r){e.coordSysDims=["lng","lat"]},parallel:function(n,e,t,r){var i=n.ecModel,a=i.getComponent("parallel",n.get("parallelIndex")),o=e.coordSysDims=a.dimensions.slice();G(a.parallelAxisIndex,function(s,l){var u=i.getComponent("parallelAxis",s),c=o[l];t.set(c,u),bm(u)&&(r.set(c,u),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=l))})}};function bm(n){return n.get("type")==="category"}function gK(n,e,t){t=t||{};var r=t.byIndex,i=t.stackedCoordDimension,a,o,s;wwe(e)?a=e:(o=e.schema,a=o.dimensions,s=e.store);var l=!!(n&&n.get("stack")),u,c,f,h;if(G(a,function(S,M){ut(S)&&(a[M]=S={name:S}),l&&!S.isExtraCoord&&(!r&&!u&&S.ordinalMeta&&(u=S),!c&&S.type!=="ordinal"&&S.type!=="time"&&(!i||i===S.coordDim)&&(c=S))}),c&&!r&&!u&&(r=!0),c){f="__\0ecstackresult_"+n.id,h="__\0ecstackedover_"+n.id,u&&(u.createInvertedIndices=!0);var d=c.coordDim,p=c.type,g=0;G(a,function(S){S.coordDim===d&&g++});var m={name:f,coordDim:d,coordDimIndex:g,type:p,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:a.length},y={name:h,coordDim:h,coordDimIndex:g+1,type:p,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:a.length+1};o?(s&&(m.storeDimIndex=s.ensureCalculationDimension(h,p),y.storeDimIndex=s.ensureCalculationDimension(f,p)),o.appendCalculationDimension(m),o.appendCalculationDimension(y)):(a.push(m),a.push(y))}return{stackedDimension:c&&c.name,stackedByDimension:u&&u.name,isStackedByIndex:r,stackedOverDimension:h,stackResultDimension:f}}function wwe(n){return!hK(n.schema)}function rf(n,e){return!!e&&e===n.getCalculationInfo("stackedDimension")}function m3(n,e){return rf(n,e)?n.getCalculationInfo("stackResultDimension"):e}function Mwe(n,e){var t=n.get("coordinateSystem"),r=n0.get(t),i;return e&&e.coordSysDims&&(i=Ve(e.coordSysDims,function(a){var o={name:a},s=e.axisMap.get(a);if(s){var l=s.get("type");o.type=iA(l)}return o})),i||(i=r&&(r.getDimensionsInfo?r.getDimensionsInfo():r.dimensions.slice())||["x","y"]),i}function Twe(n,e,t){var r,i;return t&&G(n,function(a,o){var s=a.coordDim,l=t.categoryAxisMap.get(s);l&&(r==null&&(r=o),a.ordinalMeta=l.getOrdinalMeta(),e&&(a.createInvertedIndices=!0)),a.otherDims.itemName!=null&&(i=!0)}),!i&&r!=null&&(n[r].otherDims.itemName=0),r}function zu(n,e,t){t=t||{};var r=e.getSourceManager(),i,a=!1;n?(a=!0,i=n3(n)):(i=r.getSource(),a=i.sourceFormat===Ys);var o=xwe(e),s=Mwe(e,o),l=t.useEncodeDefaulter,u=Ct(l)?l:l?nn(nq,s,e):null,c={coordDimensions:s,generateCoord:t.generateCoord,encodeDefine:e.getEncode(),encodeDefaulter:u,canOmitUnusedDimensions:!a},f=o0(i,c),h=Twe(f.dimensions,t.createInvertedIndices,o),d=a?null:r.getSharedDataStore(f),p=gK(e,{schema:f,store:d}),g=new Ga(f,e);g.setCalculationInfo(p);var m=h!=null&&bwe(i)?function(y,S,M,b){return b===h?M:this.defaultDimValueGetter(y,S,M,b)}:null;return g.hasItemOption=!1,g.initData(a?i:d,null,m),g}function bwe(n){if(n.sourceFormat===Ys){var e=Awe(n.data||[]);return!ze(Xy(e))}}function Awe(n){for(var e=0;e<n.length&&n[e]==null;)e++;return n[e]}var Bu=(function(){function n(e){this._setting=e||{},this._extent=[1/0,-1/0]}return n.prototype.getSetting=function(e){return this._setting[e]},n.prototype.unionExtent=function(e){var t=this._extent;e[0]<t[0]&&(t[0]=e[0]),e[1]>t[1]&&(t[1]=e[1])},n.prototype.unionExtentFromData=function(e,t){this.unionExtent(e.getApproximateExtent(t))},n.prototype.getExtent=function(){return this._extent.slice()},n.prototype.setExtent=function(e,t){var r=this._extent;isNaN(e)||(r[0]=e),isNaN(t)||(r[1]=t)},n.prototype.isInExtentRange=function(e){return this._extent[0]<=e&&this._extent[1]>=e},n.prototype.isBlank=function(){return this._isBlank},n.prototype.setBlank=function(e){this._isBlank=e},n})();SC(Bu);var Cwe=0,BI=(function(){function n(e){this.categories=e.categories||[],this._needCollect=e.needCollect,this._deduplication=e.deduplication,this.uid=++Cwe}return n.createByAxisModel=function(e){var t=e.option,r=t.data,i=r&&Ve(r,Ewe);return new n({categories:i,needCollect:!i,deduplication:t.dedplication!==!1})},n.prototype.getOrdinal=function(e){return this._getOrCreateMap().get(e)},n.prototype.parseAndCollect=function(e){var t,r=this._needCollect;if(!ut(e)&&!r)return e;if(r&&!this._deduplication)return t=this.categories.length,this.categories[t]=e,t;var i=this._getOrCreateMap();return t=i.get(e),t==null&&(r?(t=this.categories.length,this.categories[t]=e,i.set(e,t)):t=NaN),t},n.prototype._getOrCreateMap=function(){return this._map||(this._map=xt(this.categories))},n})();function Ewe(n){return Bt(n)&&n.value!=null?n.value:n+""}function UI(n){return n.type==="interval"||n.type==="log"}function Pwe(n,e,t,r){var i={},a=n[1]-n[0],o=i.interval=wk(a/e,!0);t!=null&&o<t&&(o=i.interval=t),r!=null&&o>r&&(o=i.interval=r);var s=i.intervalPrecision=mK(o),l=i.niceTickExtent=[Zr(Math.ceil(n[0]/o)*o,s),Zr(Math.floor(n[1]/o)*o,s)];return Dwe(l,n),i}function sR(n){var e=Math.pow(10,xC(n)),t=n/e;return t?t===2?t=3:t===3?t=5:t*=2:t=1,Zr(t*e)}function mK(n){return Il(n)+2}function NG(n,e,t){n[e]=Math.max(Math.min(n[e],t[1]),t[0])}function Dwe(n,e){!isFinite(n[0])&&(n[0]=e[0]),!isFinite(n[1])&&(n[1]=e[1]),NG(n,0,e),NG(n,1,e),n[0]>n[1]&&(n[0]=n[1])}function GC(n,e){return n>=e[0]&&n<=e[1]}function HC(n,e){return e[1]===e[0]?.5:(n-e[0])/(e[1]-e[0])}function WC(n,e){return n*(e[1]-e[0])+e[0]}var XC=(function(n){Se(e,n);function e(t){var r=n.call(this,t)||this;r.type="ordinal";var i=r.getSetting("ordinalMeta");return i||(i=new BI({})),ze(i)&&(i=new BI({categories:Ve(i,function(a){return Bt(a)?a.value:a})})),r._ordinalMeta=i,r._extent=r.getSetting("extent")||[0,i.categories.length-1],r}return e.prototype.parse=function(t){return t==null?NaN:ut(t)?this._ordinalMeta.getOrdinal(t):Math.round(t)},e.prototype.contain=function(t){return t=this.parse(t),GC(t,this._extent)&&this._ordinalMeta.categories[t]!=null},e.prototype.normalize=function(t){return t=this._getTickNumber(this.parse(t)),HC(t,this._extent)},e.prototype.scale=function(t){return t=Math.round(WC(t,this._extent)),this.getRawOrdinalNumber(t)},e.prototype.getTicks=function(){for(var t=[],r=this._extent,i=r[0];i<=r[1];)t.push({value:i}),i++;return t},e.prototype.getMinorTicks=function(t){},e.prototype.setSortInfo=function(t){if(t==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var r=t.ordinalNumbers,i=this._ordinalNumbersByTick=[],a=this._ticksByOrdinalNumber=[],o=0,s=this._ordinalMeta.categories.length,l=Math.min(s,r.length);o<l;++o){var u=r[o];i[o]=u,a[u]=o}for(var c=0;o<s;++o){for(;a[c]!=null;)c++;i.push(c),a[c]=o}},e.prototype._getTickNumber=function(t){var r=this._ticksByOrdinalNumber;return r&&t>=0&&t<r.length?r[t]:t},e.prototype.getRawOrdinalNumber=function(t){var r=this._ordinalNumbersByTick;return r&&t>=0&&t<r.length?r[t]:t},e.prototype.getLabel=function(t){if(!this.isBlank()){var r=this.getRawOrdinalNumber(t.value),i=this._ordinalMeta.categories[r];return i==null?"":i+""}},e.prototype.count=function(){return this._extent[1]-this._extent[0]+1},e.prototype.unionExtentFromData=function(t,r){this.unionExtent(t.getApproximateExtent(r))},e.prototype.isInExtentRange=function(t){return t=this._getTickNumber(t),this._extent[0]<=t&&this._extent[1]>=t},e.prototype.getOrdinalMeta=function(){return this._ordinalMeta},e.prototype.calcNiceTicks=function(){},e.prototype.calcNiceExtent=function(){},e.type="ordinal",e})(Bu);Bu.registerClass(XC);var vp=Zr,af=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="interval",t._interval=0,t._intervalPrecision=2,t}return e.prototype.parse=function(t){return t},e.prototype.contain=function(t){return GC(t,this._extent)},e.prototype.normalize=function(t){return HC(t,this._extent)},e.prototype.scale=function(t){return WC(t,this._extent)},e.prototype.setExtent=function(t,r){var i=this._extent;isNaN(t)||(i[0]=parseFloat(t)),isNaN(r)||(i[1]=parseFloat(r))},e.prototype.unionExtent=function(t){var r=this._extent;t[0]<r[0]&&(r[0]=t[0]),t[1]>r[1]&&(r[1]=t[1]),this.setExtent(r[0],r[1])},e.prototype.getInterval=function(){return this._interval},e.prototype.setInterval=function(t){this._interval=t,this._niceExtent=this._extent.slice(),this._intervalPrecision=mK(t)},e.prototype.getTicks=function(t){var r=this._interval,i=this._extent,a=this._niceExtent,o=this._intervalPrecision,s=[];if(!r)return s;var l=1e4;i[0]<a[0]&&(t?s.push({value:vp(a[0]-r,o)}):s.push({value:i[0]}));for(var u=a[0];u<=a[1]&&(s.push({value:u}),u=vp(u+r,o),u!==s[s.length-1].value);)if(s.length>l)return[];var c=s.length?s[s.length-1].value:a[1];return i[1]>c&&(t?s.push({value:vp(c+r,o)}):s.push({value:i[1]})),s},e.prototype.getMinorTicks=function(t){for(var r=this.getTicks(!0),i=[],a=this.getExtent(),o=1;o<r.length;o++){for(var s=r[o],l=r[o-1],u=0,c=[],f=s.value-l.value,h=f/t;u<t-1;){var d=vp(l.value+(u+1)*h);d>a[0]&&d<a[1]&&c.push(d),u++}i.push(c)}return i},e.prototype.getLabel=function(t,r){if(t==null)return"";var i=r&&r.precision;i==null?i=Il(t.value)||0:i==="auto"&&(i=this._intervalPrecision);var a=vp(t.value,i,!0);return jk(a)},e.prototype.calcNiceTicks=function(t,r,i){t=t||5;var a=this._extent,o=a[1]-a[0];if(isFinite(o)){o<0&&(o=-o,a.reverse());var s=Pwe(a,t,r,i);this._intervalPrecision=s.intervalPrecision,this._interval=s.interval,this._niceExtent=s.niceTickExtent}},e.prototype.calcNiceExtent=function(t){var r=this._extent;if(r[0]===r[1])if(r[0]!==0){var i=Math.abs(r[0]);t.fixMax||(r[1]+=i/2),r[0]-=i/2}else r[1]=1;var a=r[1]-r[0];isFinite(a)||(r[0]=0,r[1]=1),this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval);var o=this._interval;t.fixMin||(r[0]=vp(Math.floor(r[0]/o)*o)),t.fixMax||(r[1]=vp(Math.ceil(r[1]/o)*o))},e.prototype.setNiceExtent=function(t,r){this._niceExtent=[t,r]},e.type="interval",e})(Bu);Bu.registerClass(af);var yK=typeof Float32Array<"u",Rwe=yK?Float32Array:Array;function wu(n){return ze(n)?yK?new Float32Array(n):n:new Rwe(n)}var VI="__ec_stack_";function _K(n){return n.get("stack")||VI+n.seriesIndex}function y3(n){return n.dim+n.index}function Lwe(n){var e=[],t=n.axis,r="axis0";if(t.type==="category"){for(var i=t.getBandWidth(),a=0;a<n.count;a++)e.push(Dt({bandWidth:i,axisKey:r,stackId:VI+a},n));for(var o=wK(e),s=[],a=0;a<n.count;a++){var l=o[r][VI+a];l.offsetCenter=l.offset+l.width/2,s.push(l)}return s}}function xK(n,e){var t=[];return e.eachSeriesByType(n,function(r){bK(r)&&t.push(r)}),t}function Iwe(n){var e={};G(n,function(l){var u=l.coordinateSystem,c=u.getBaseAxis();if(!(c.type!=="time"&&c.type!=="value"))for(var f=l.getData(),h=c.dim+"_"+c.index,d=f.getDimensionIndex(f.mapDimension(c.dim)),p=f.getStore(),g=0,m=p.count();g<m;++g){var y=p.get(d,g);e[h]?e[h].push(y):e[h]=[y]}});var t={};for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];if(i){i.sort(function(l,u){return l-u});for(var a=null,o=1;o<i.length;++o){var s=i[o]-i[o-1];s>0&&(a=a===null?s:Math.min(a,s))}t[r]=a}}return t}function SK(n){var e=Iwe(n),t=[];return G(n,function(r){var i=r.coordinateSystem,a=i.getBaseAxis(),o=a.getExtent(),s;if(a.type==="category")s=a.getBandWidth();else if(a.type==="value"||a.type==="time"){var l=a.dim+"_"+a.index,u=e[l],c=Math.abs(o[1]-o[0]),f=a.scale.getExtent(),h=Math.abs(f[1]-f[0]);s=u?c/h*u:c}else{var d=r.getData();s=Math.abs(o[1]-o[0])/d.count()}var p=rt(r.get("barWidth"),s),g=rt(r.get("barMaxWidth"),s),m=rt(r.get("barMinWidth")||(AK(r)?.5:1),s),y=r.get("barGap"),S=r.get("barCategoryGap");t.push({bandWidth:s,barWidth:p,barMaxWidth:g,barMinWidth:m,barGap:y,barCategoryGap:S,axisKey:y3(a),stackId:_K(r)})}),wK(t)}function wK(n){var e={};G(n,function(r,i){var a=r.axisKey,o=r.bandWidth,s=e[a]||{bandWidth:o,remainedWidth:o,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},l=s.stacks;e[a]=s;var u=r.stackId;l[u]||s.autoWidthCount++,l[u]=l[u]||{width:0,maxWidth:0};var c=r.barWidth;c&&!l[u].width&&(l[u].width=c,c=Math.min(s.remainedWidth,c),s.remainedWidth-=c);var f=r.barMaxWidth;f&&(l[u].maxWidth=f);var h=r.barMinWidth;h&&(l[u].minWidth=h);var d=r.barGap;d!=null&&(s.gap=d);var p=r.barCategoryGap;p!=null&&(s.categoryGap=p)});var t={};return G(e,function(r,i){t[i]={};var a=r.stacks,o=r.bandWidth,s=r.categoryGap;if(s==null){var l=En(a).length;s=Math.max(35-l*4,15)+"%"}var u=rt(s,o),c=rt(r.gap,1),f=r.remainedWidth,h=r.autoWidthCount,d=(f-u)/(h+(h-1)*c);d=Math.max(d,0),G(a,function(y){var S=y.maxWidth,M=y.minWidth;if(y.width){var b=y.width;S&&(b=Math.min(b,S)),M&&(b=Math.max(b,M)),y.width=b,f-=b+c*b,h--}else{var b=d;S&&S<b&&(b=Math.min(S,f)),M&&M>b&&(b=M),b!==d&&(y.width=b,f-=b+c*b,h--)}}),d=(f-u)/(h+(h-1)*c),d=Math.max(d,0);var p=0,g;G(a,function(y,S){y.width||(y.width=d),g=y,p+=y.width*(1+c)}),g&&(p-=g.width*c);var m=-p/2;G(a,function(y,S){t[i][S]=t[i][S]||{bandWidth:o,offset:m,width:y.width},m+=y.width*(1+c)})}),t}function Nwe(n,e,t){if(n&&e){var r=n[y3(e)];return r}}function MK(n,e){var t=xK(n,e),r=SK(t);G(t,function(i){var a=i.getData(),o=i.coordinateSystem,s=o.getBaseAxis(),l=_K(i),u=r[y3(s)][l],c=u.offset,f=u.width;a.setLayout({bandWidth:u.bandWidth,offset:c,size:f})})}function TK(n){return{seriesType:n,plan:r0(),reset:function(e){if(bK(e)){var t=e.getData(),r=e.coordinateSystem,i=r.getBaseAxis(),a=r.getOtherAxis(i),o=t.getDimensionIndex(t.mapDimension(a.dim)),s=t.getDimensionIndex(t.mapDimension(i.dim)),l=e.get("showBackground",!0),u=t.mapDimension(a.dim),c=t.getCalculationInfo("stackResultDimension"),f=rf(t,u)&&!!t.getCalculationInfo("stackedOnSeries"),h=a.isHorizontal(),d=Owe(i,a),p=AK(e),g=e.get("barMinHeight")||0,m=c&&t.getDimensionIndex(c),y=t.getLayout("size"),S=t.getLayout("offset");return{progress:function(M,b){for(var C=M.count,A=p&&wu(C*3),E=p&&l&&wu(C*3),I=p&&wu(C),L=r.master.getRect(),R=h?L.width:L.height,O,U=b.getStore(),V=0;(O=M.next())!=null;){var W=U.get(f?m:o,O),X=U.get(s,O),j=d,Q=void 0;f&&(Q=+W-U.get(o,O));var B=void 0,Z=void 0,q=void 0,Y=void 0;if(h){var te=r.dataToPoint([W,X]);if(f){var me=r.dataToPoint([Q,X]);j=me[0]}B=j,Z=te[1]+S,q=te[0]-j,Y=y,Math.abs(q)<g&&(q=(q<0?-1:1)*g)}else{var te=r.dataToPoint([X,W]);if(f){var me=r.dataToPoint([X,Q]);j=me[1]}B=te[0]+S,Z=j,q=y,Y=te[1]-j,Math.abs(Y)<g&&(Y=(Y<=0?-1:1)*g)}p?(A[V]=B,A[V+1]=Z,A[V+2]=h?q:Y,E&&(E[V]=h?L.x:B,E[V+1]=h?Z:L.y,E[V+2]=R),I[O]=O):b.setItemLayout(O,{x:B,y:Z,width:q,height:Y}),V+=3}p&&b.setLayout({largePoints:A,largeDataIndices:I,largeBackgroundPoints:E,valueAxisHorizontal:h})}}}}}}function bK(n){return n.coordinateSystem&&n.coordinateSystem.type==="cartesian2d"}function AK(n){return n.pipelineContext&&n.pipelineContext.large}function Owe(n,e){var t=e.model.get("startValue");return t||(t=0),e.toGlobalCoord(e.dataToCoord(e.type==="log"?t>0?t:1:t))}var kwe=function(n,e,t,r){for(;t<r;){var i=t+r>>>1;n[i][1]<e?t=i+1:r=i}return t},_3=(function(n){Se(e,n);function e(t){var r=n.call(this,t)||this;return r.type="time",r}return e.prototype.getLabel=function(t){var r=this.getSetting("useUTC");return D1(t.value,b4[hxe(fy(this._minLevelUnit))]||b4.second,r,this.getSetting("locale"))},e.prototype.getFormattedLabel=function(t,r,i){var a=this.getSetting("useUTC"),o=this.getSetting("locale");return dxe(t,r,i,o,a)},e.prototype.getTicks=function(){var t=this._interval,r=this._extent,i=[];if(!t)return i;i.push({value:r[0],level:0});var a=this.getSetting("useUTC"),o=Hwe(this._minLevelUnit,this._approxInterval,a,r);return i=i.concat(o),i.push({value:r[1],level:0}),i},e.prototype.calcNiceExtent=function(t){var r=this._extent;if(r[0]===r[1]&&(r[0]-=zs,r[1]+=zs),r[1]===-1/0&&r[0]===1/0){var i=new Date;r[1]=+new Date(i.getFullYear(),i.getMonth(),i.getDate()),r[0]=r[1]-zs}this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval)},e.prototype.calcNiceTicks=function(t,r,i){t=t||10;var a=this._extent,o=a[1]-a[0];this._approxInterval=o/t,r!=null&&this._approxInterval<r&&(this._approxInterval=r),i!=null&&this._approxInterval>i&&(this._approxInterval=i);var s=lT.length,l=Math.min(kwe(lT,this._approxInterval,0,s),s-1);this._interval=lT[l][1],this._minLevelUnit=lT[Math.max(l-1,0)][0]},e.prototype.parse=function(t){return Hn(t)?t:+ds(t)},e.prototype.contain=function(t){return GC(this.parse(t),this._extent)},e.prototype.normalize=function(t){return HC(this.parse(t),this._extent)},e.prototype.scale=function(t){return WC(t,this._extent)},e.type="time",e})(af),lT=[["second",Wk],["minute",Xk],["hour",Hx],["quarter-day",Hx*6],["half-day",Hx*12],["day",zs*1.2],["half-week",zs*3.5],["week",zs*7],["month",zs*31],["quarter",zs*95],["half-year",T4/2],["year",T4]];function Fwe(n,e,t,r){var i=ds(e),a=ds(t),o=function(p){return A4(i,p,r)===A4(a,p,r)},s=function(){return o("year")},l=function(){return s()&&o("month")},u=function(){return l()&&o("day")},c=function(){return u()&&o("hour")},f=function(){return c()&&o("minute")},h=function(){return f()&&o("second")},d=function(){return h()&&o("millisecond")};switch(n){case"year":return s();case"month":return l();case"day":return u();case"hour":return c();case"minute":return f();case"second":return h();case"millisecond":return d()}}function zwe(n,e){return n/=zs,n>16?16:n>7.5?7:n>3.5?4:n>1.5?2:1}function Bwe(n){var e=30*zs;return n/=e,n>6?6:n>3?3:n>2?2:1}function Uwe(n){return n/=Hx,n>12?12:n>6?6:n>3.5?4:n>2?2:1}function OG(n,e){return n/=e?Xk:Wk,n>30?30:n>20?20:n>15?15:n>10?10:n>5?5:n>2?2:1}function Vwe(n){return wk(n,!0)}function Gwe(n,e,t){var r=new Date(n);switch(fy(e)){case"year":case"month":r[H$(t)](0);case"day":r[W$(t)](1);case"hour":r[X$(t)](0);case"minute":r[Y$(t)](0);case"second":r[j$(t)](0),r[Z$(t)](0)}return r.getTime()}function Hwe(n,e,t,r){var i=1e4,a=V$,o=0;function s(R,O,U,V,W,X,j){for(var Q=new Date(O),B=O,Z=Q[V]();B<U&&B<=r[1];)j.push({value:B}),Z+=R,Q[W](Z),B=Q.getTime();j.push({value:B,notAdd:!0})}function l(R,O,U){var V=[],W=!O.length;if(!Fwe(fy(R),r[0],r[1],t)){W&&(O=[{value:Gwe(new Date(r[0]),R,t)},{value:r[1]}]);for(var X=0;X<O.length-1;X++){var j=O[X].value,Q=O[X+1].value;if(j!==Q){var B=void 0,Z=void 0,q=void 0,Y=!1;switch(R){case"year":B=Math.max(1,Math.round(e/zs/365)),Z=Yk(t),q=pxe(t);break;case"half-year":case"quarter":case"month":B=Bwe(e),Z=hy(t),q=H$(t);break;case"week":case"half-week":case"day":B=zwe(e),Z=RC(t),q=W$(t),Y=!0;break;case"half-day":case"quarter-day":case"hour":B=Uwe(e),Z=kS(t),q=X$(t);break;case"minute":B=OG(e,!0),Z=LC(t),q=Y$(t);break;case"second":B=OG(e,!1),Z=IC(t),q=j$(t);break;case"millisecond":B=Vwe(e),Z=NC(t),q=Z$(t);break}s(B,j,Q,Z,q,Y,V),R==="year"&&U.length>1&&X===0&&U.unshift({value:U[0].value-B})}}for(var X=0;X<V.length;X++)U.push(V[X]);return V}}for(var u=[],c=[],f=0,h=0,d=0;d<a.length&&o++<i;++d){var p=fy(a[d]);if(fxe(a[d])){l(a[d],u[u.length-1]||[],c);var g=a[d+1]?fy(a[d+1]):null;if(p!==g){if(c.length){h=f,c.sort(function(R,O){return R.value-O.value});for(var m=[],y=0;y<c.length;++y){var S=c[y].value;(y===0||c[y-1].value!==S)&&(m.push(c[y]),S>=r[0]&&S<=r[1]&&f++)}var M=(r[1]-r[0])/e;if(f>M*1.5&&h>M/1.5||(u.push(m),f>M||n===a[d]))break}c=[]}}}for(var b=$n(Ve(u,function(R){return $n(R,function(O){return O.value>=r[0]&&O.value<=r[1]&&!O.notAdd})}),function(R){return R.length>0}),C=[],A=b.length-1,d=0;d<b.length;++d)for(var E=b[d],I=0;I<E.length;++I)C.push({value:E[I].value,level:A-d});C.sort(function(R,O){return R.value-O.value});for(var L=[],d=0;d<C.length;++d)(d===0||C[d].value!==C[d-1].value)&&L.push(C[d]);return L}Bu.registerClass(_3);var kG=Bu.prototype,Yx=af.prototype,Wwe=Zr,Xwe=Math.floor,Ywe=Math.ceil,uT=Math.pow,Ml=Math.log,x3=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="log",t.base=10,t._originalScale=new af,t._interval=0,t}return e.prototype.getTicks=function(t){var r=this._originalScale,i=this._extent,a=r.getExtent(),o=Yx.getTicks.call(this,t);return Ve(o,function(s){var l=s.value,u=Zr(uT(this.base,l));return u=l===i[0]&&this._fixMin?cT(u,a[0]):u,u=l===i[1]&&this._fixMax?cT(u,a[1]):u,{value:u}},this)},e.prototype.setExtent=function(t,r){var i=Ml(this.base);t=Ml(Math.max(0,t))/i,r=Ml(Math.max(0,r))/i,Yx.setExtent.call(this,t,r)},e.prototype.getExtent=function(){var t=this.base,r=kG.getExtent.call(this);r[0]=uT(t,r[0]),r[1]=uT(t,r[1]);var i=this._originalScale,a=i.getExtent();return this._fixMin&&(r[0]=cT(r[0],a[0])),this._fixMax&&(r[1]=cT(r[1],a[1])),r},e.prototype.unionExtent=function(t){this._originalScale.unionExtent(t);var r=this.base;t[0]=Ml(t[0])/Ml(r),t[1]=Ml(t[1])/Ml(r),kG.unionExtent.call(this,t)},e.prototype.unionExtentFromData=function(t,r){this.unionExtent(t.getApproximateExtent(r))},e.prototype.calcNiceTicks=function(t){t=t||10;var r=this._extent,i=r[1]-r[0];if(!(i===1/0||i<=0)){var a=WZ(i),o=t/i*a;for(o<=.5&&(a*=10);!isNaN(a)&&Math.abs(a)<1&&Math.abs(a)>0;)a*=10;var s=[Zr(Ywe(r[0]/a)*a),Zr(Xwe(r[1]/a)*a)];this._interval=a,this._niceExtent=s}},e.prototype.calcNiceExtent=function(t){Yx.calcNiceExtent.call(this,t),this._fixMin=t.fixMin,this._fixMax=t.fixMax},e.prototype.parse=function(t){return t},e.prototype.contain=function(t){return t=Ml(t)/Ml(this.base),GC(t,this._extent)},e.prototype.normalize=function(t){return t=Ml(t)/Ml(this.base),HC(t,this._extent)},e.prototype.scale=function(t){return t=WC(t,this._extent),uT(this.base,t)},e.type="log",e})(Bu),CK=x3.prototype;CK.getMinorTicks=Yx.getMinorTicks;CK.getLabel=Yx.getLabel;function cT(n,e){return Wwe(n,Il(e))}Bu.registerClass(x3);var jwe=(function(){function n(e,t,r){this._prepareParams(e,t,r)}return n.prototype._prepareParams=function(e,t,r){r[1]<r[0]&&(r=[NaN,NaN]),this._dataMin=r[0],this._dataMax=r[1];var i=this._isOrdinal=e.type==="ordinal";this._needCrossZero=e.type==="interval"&&t.getNeedCrossZero&&t.getNeedCrossZero();var a=t.get("min",!0);a==null&&(a=t.get("startValue",!0));var o=this._modelMinRaw=a;Ct(o)?this._modelMinNum=fT(e,o({min:r[0],max:r[1]})):o!=="dataMin"&&(this._modelMinNum=fT(e,o));var s=this._modelMaxRaw=t.get("max",!0);if(Ct(s)?this._modelMaxNum=fT(e,s({min:r[0],max:r[1]})):s!=="dataMax"&&(this._modelMaxNum=fT(e,s)),i)this._axisDataLen=t.getCategories().length;else{var l=t.get("boundaryGap"),u=ze(l)?l:[l||0,l||0];typeof u[0]=="boolean"||typeof u[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[Hl(u[0],1),Hl(u[1],1)]}},n.prototype.calculate=function(){var e=this._isOrdinal,t=this._dataMin,r=this._dataMax,i=this._axisDataLen,a=this._boundaryGapInner,o=e?null:r-t||Math.abs(t),s=this._modelMinRaw==="dataMin"?t:this._modelMinNum,l=this._modelMaxRaw==="dataMax"?r:this._modelMaxNum,u=s!=null,c=l!=null;s==null&&(s=e?i?0:NaN:t-a[0]*o),l==null&&(l=e?i?i-1:NaN:r+a[1]*o),(s==null||!isFinite(s))&&(s=NaN),(l==null||!isFinite(l))&&(l=NaN);var f=wy(s)||wy(l)||e&&!i;this._needCrossZero&&(s>0&&l>0&&!u&&(s=0),s<0&&l<0&&!c&&(l=0));var h=this._determinedMin,d=this._determinedMax;return h!=null&&(s=h,u=!0),d!=null&&(l=d,c=!0),{min:s,max:l,minFixed:u,maxFixed:c,isBlank:f}},n.prototype.modifyDataMinMax=function(e,t){this[$we[e]]=t},n.prototype.setDeterminedMinMax=function(e,t){var r=Zwe[e];this[r]=t},n.prototype.freeze=function(){this.frozen=!0},n})(),Zwe={min:"_determinedMin",max:"_determinedMax"},$we={min:"_dataMin",max:"_dataMax"};function EK(n,e,t){var r=n.rawExtentInfo;return r||(r=new jwe(n,e,t),n.rawExtentInfo=r,r)}function fT(n,e){return e==null?null:wy(e)?NaN:n.parse(e)}function PK(n,e){var t=n.type,r=EK(n,e,n.getExtent()).calculate();n.setBlank(r.isBlank);var i=r.min,a=r.max,o=e.ecModel;if(o&&t==="time"){var s=xK("bar",o),l=!1;if(G(s,function(f){l=l||f.getBaseAxis()===e.axis}),l){var u=SK(s),c=qwe(i,a,e,u);i=c.min,a=c.max}}return{extent:[i,a],fixMin:r.minFixed,fixMax:r.maxFixed}}function qwe(n,e,t,r){var i=t.axis.getExtent(),a=Math.abs(i[1]-i[0]),o=Nwe(r,t.axis);if(o===void 0)return{min:n,max:e};var s=1/0;G(o,function(d){s=Math.min(d.offset,s)});var l=-1/0;G(o,function(d){l=Math.max(d.offset+d.width,l)}),s=Math.abs(s),l=Math.abs(l);var u=s+l,c=e-n,f=1-(s+l)/a,h=c/f-c;return e+=h*(l/u),n-=h*(s/u),{min:n,max:e}}function Av(n,e){var t=e,r=PK(n,t),i=r.extent,a=t.get("splitNumber");n instanceof x3&&(n.base=t.get("logBase"));var o=n.type,s=t.get("interval"),l=o==="interval"||o==="time";n.setExtent(i[0],i[1]),n.calcNiceExtent({splitNumber:a,fixMin:r.fixMin,fixMax:r.fixMax,minInterval:l?t.get("minInterval"):null,maxInterval:l?t.get("maxInterval"):null}),s!=null&&n.setInterval&&n.setInterval(s)}function L1(n,e){if(e=e||n.get("type"),e)switch(e){case"category":return new XC({ordinalMeta:n.getOrdinalMeta?n.getOrdinalMeta():n.getCategories(),extent:[1/0,-1/0]});case"time":return new _3({locale:n.ecModel.getLocaleModel(),useUTC:n.ecModel.get("useUTC")});default:return new(Bu.getClass(e)||af)}}function Kwe(n){var e=n.scale.getExtent(),t=e[0],r=e[1];return!(t>0&&r>0||t<0&&r<0)}function s0(n){var e=n.getLabelModel().get("formatter"),t=n.type==="category"?n.scale.getExtent()[0]:null;return n.scale.type==="time"?(function(r){return function(i,a){return n.scale.getFormattedLabel(i,a,r)}})(e):ut(e)?(function(r){return function(i){var a=n.scale.getLabel(i),o=r.replace("{value}",a??"");return o}})(e):Ct(e)?(function(r){return function(i,a){return t!=null&&(a=i.value-t),r(S3(n,i),a,i.level!=null?{level:i.level}:null)}})(e):function(r){return n.scale.getLabel(r)}}function S3(n,e){return n.type==="category"?n.scale.getLabel(e):e.value}function Jwe(n){var e=n.model,t=n.scale;if(!(!e.get(["axisLabel","show"])||t.isBlank())){var r,i,a=t.getExtent();t instanceof XC?i=t.count():(r=t.getTicks(),i=r.length);var o=n.getLabelModel(),s=s0(n),l,u=1;i>40&&(u=Math.ceil(i/40));for(var c=0;c<i;c+=u){var f=r?r[c]:{value:a[0]+c},h=s(f,c),d=o.getTextRect(h),p=Qwe(d,o.get("rotate")||0);l?l.union(p):l=p}return l}}function Qwe(n,e){var t=e*Math.PI/180,r=n.width,i=n.height,a=r*Math.abs(Math.cos(t))+Math.abs(i*Math.sin(t)),o=r*Math.abs(Math.sin(t))+Math.abs(i*Math.cos(t)),s=new fn(n.x,n.y,a,o);return s}function w3(n){var e=n.get("interval");return e??"auto"}function DK(n){return n.type==="category"&&w3(n.getLabelModel())===0}function aA(n,e){var t={};return G(n.mapDimensionsAll(e),function(r){t[m3(n,r)]=!0}),En(t)}function eMe(n,e,t){e&&G(aA(e,t),function(r){var i=e.getApproximateExtent(r);i[0]<n[0]&&(n[0]=i[0]),i[1]>n[1]&&(n[1]=i[1])})}var l0=(function(){function n(){}return n.prototype.getNeedCrossZero=function(){var e=this.option;return!e.scale},n.prototype.getCoordSysModel=function(){},n})();function tMe(n){return zu(null,n)}var nMe={isDimensionStacked:rf,enableDataStack:gK,getStackedDimension:m3};function rMe(n,e){var t=e;e instanceof qn||(t=new qn(e));var r=L1(t);return r.setExtent(n[0],n[1]),Av(r,t),r}function iMe(n){ti(n,l0)}function aMe(n,e){return e=e||{},_r(n,null,null,e.state!=="normal")}const oMe=Object.freeze(Object.defineProperty({__proto__:null,createDimensions:vwe,createList:tMe,createScale:rMe,createSymbol:ci,createTextStyle:aMe,dataStack:nMe,enableHoverEmphasis:bh,getECData:$t,getLayoutRect:_i,mixinAxisModelCommonMethods:iMe},Symbol.toStringTag,{value:"Module"}));var sMe=1e-8;function FG(n,e){return Math.abs(n-e)<sMe}function Op(n,e,t){var r=0,i=n[0];if(!i)return!1;for(var a=1;a<n.length;a++){var o=n[a];r+=Lc(i[0],i[1],o[0],o[1],e,t),i=o}var s=n[0];return(!FG(i[0],s[0])||!FG(i[1],s[1]))&&(r+=Lc(i[0],i[1],s[0],s[1],e,t)),r!==0}var lMe=[];function lR(n,e){for(var t=0;t<n.length;t++)ia(n[t],n[t],e)}function zG(n,e,t,r){for(var i=0;i<n.length;i++){var a=n[i];r&&(a=r.project(a)),a&&isFinite(a[0])&&isFinite(a[1])&&(zc(e,e,a),Bc(t,t,a))}}function uMe(n){for(var e=0,t=0,r=0,i=n.length,a=n[i-1][0],o=n[i-1][1],s=0;s<i;s++){var l=n[s][0],u=n[s][1],c=a*u-l*o;e+=c,t+=(a+l)*c,r+=(o+u)*c,a=l,o=u}return e?[t/e/3,r/e/3,e]:[n[0][0]||0,n[0][1]||0]}var RK=(function(){function n(e){this.name=e}return n.prototype.setCenter=function(e){this._center=e},n.prototype.getCenter=function(){var e=this._center;return e||(e=this._center=this.calcCenter()),e},n})(),BG=(function(){function n(e,t){this.type="polygon",this.exterior=e,this.interiors=t}return n})(),UG=(function(){function n(e){this.type="linestring",this.points=e}return n})(),LK=(function(n){Se(e,n);function e(t,r,i){var a=n.call(this,t)||this;return a.type="geoJSON",a.geometries=r,a._center=i&&[i[0],i[1]],a}return e.prototype.calcCenter=function(){for(var t=this.geometries,r,i=0,a=0;a<t.length;a++){var o=t[a],s=o.exterior,l=s&&s.length;l>i&&(r=o,i=l)}if(r)return uMe(r.exterior);var u=this.getBoundingRect();return[u.x+u.width/2,u.y+u.height/2]},e.prototype.getBoundingRect=function(t){var r=this._rect;if(r&&!t)return r;var i=[1/0,1/0],a=[-1/0,-1/0],o=this.geometries;return G(o,function(s){s.type==="polygon"?zG(s.exterior,i,a,t):G(s.points,function(l){zG(l,i,a,t)})}),isFinite(i[0])&&isFinite(i[1])&&isFinite(a[0])&&isFinite(a[1])||(i[0]=i[1]=a[0]=a[1]=0),r=new fn(i[0],i[1],a[0]-i[0],a[1]-i[1]),t||(this._rect=r),r},e.prototype.contain=function(t){var r=this.getBoundingRect(),i=this.geometries;if(!r.contain(t[0],t[1]))return!1;e:for(var a=0,o=i.length;a<o;a++){var s=i[a];if(s.type==="polygon"){var l=s.exterior,u=s.interiors;if(Op(l,t[0],t[1])){for(var c=0;c<(u?u.length:0);c++)if(Op(u[c],t[0],t[1]))continue e;return!0}}}return!1},e.prototype.transformTo=function(t,r,i,a){var o=this.getBoundingRect(),s=o.width/o.height;i?a||(a=i/s):i=s*a;for(var l=new fn(t,r,i,a),u=o.calculateTransform(l),c=this.geometries,f=0;f<c.length;f++){var h=c[f];h.type==="polygon"?(lR(h.exterior,u),G(h.interiors,function(d){lR(d,u)})):G(h.points,function(d){lR(d,u)})}o=this._rect,o.copy(l),this._center=[o.x+o.width/2,o.y+o.height/2]},e.prototype.cloneShallow=function(t){t==null&&(t=this.name);var r=new e(t,this.geometries,this._center);return r._rect=this._rect,r.transformTo=null,r},e})(RK),cMe=(function(n){Se(e,n);function e(t,r){var i=n.call(this,t)||this;return i.type="geoSVG",i._elOnlyForCalculate=r,i}return e.prototype.calcCenter=function(){for(var t=this._elOnlyForCalculate,r=t.getBoundingRect(),i=[r.x+r.width/2,r.y+r.height/2],a=S1(lMe),o=t;o&&!o.isGeoSVGGraphicRoot;)Pu(a,o.getLocalTransform(),a),o=o.parent;return Fv(a,a),ia(i,i,a),i},e})(RK);function fMe(n){if(!n.UTF8Encoding)return n;var e=n,t=e.UTF8Scale;t==null&&(t=1024);var r=e.features;return G(r,function(i){var a=i.geometry,o=a.encodeOffsets,s=a.coordinates;if(o)switch(a.type){case"LineString":a.coordinates=IK(s,o,t);break;case"Polygon":uR(s,o,t);break;case"MultiLineString":uR(s,o,t);break;case"MultiPolygon":G(s,function(l,u){return uR(l,o[u],t)})}}),e.UTF8Encoding=!1,e}function uR(n,e,t){for(var r=0;r<n.length;r++)n[r]=IK(n[r],e[r],t)}function IK(n,e,t){for(var r=[],i=e[0],a=e[1],o=0;o<n.length;o+=2){var s=n.charCodeAt(o)-64,l=n.charCodeAt(o+1)-64;s=s>>1^-(s&1),l=l>>1^-(l&1),s+=i,l+=a,i=s,a=l,r.push([s/t,l/t])}return r}function GI(n,e){return n=fMe(n),Ve($n(n.features,function(t){return t.geometry&&t.properties&&t.geometry.coordinates.length>0}),function(t){var r=t.properties,i=t.geometry,a=[];switch(i.type){case"Polygon":var o=i.coordinates;a.push(new BG(o[0],o.slice(1)));break;case"MultiPolygon":G(i.coordinates,function(l){l[0]&&a.push(new BG(l[0],l.slice(1)))});break;case"LineString":a.push(new UG([i.coordinates]));break;case"MultiLineString":a.push(new UG(i.coordinates))}var s=new LK(r[e||"name"],a,r.cp);return s.properties=r,s})}const hMe=Object.freeze(Object.defineProperty({__proto__:null,MAX_SAFE_INTEGER:cI,asc:os,getPercentWithPrecision:jye,getPixelPrecision:xk,getPrecision:Il,getPrecisionSafe:GZ,isNumeric:Mk,isRadianAroundZero:Ty,linearMap:Qn,nice:wk,numericToNumber:Iu,parseDate:ds,quantile:QT,quantity:WZ,quantityExponent:xC,reformIntervals:fI,remRadian:Sk,round:Zr},Symbol.toStringTag,{value:"Module"})),dMe=Object.freeze(Object.defineProperty({__proto__:null,format:D1,parse:ds},Symbol.toStringTag,{value:"Module"})),pMe=Object.freeze(Object.defineProperty({__proto__:null,Arc:C1,BezierCurve:Zy,BoundingRect:fn,Circle:ku,CompoundPath:CC,Ellipse:A1,Group:Xt,Image:$i,IncrementalDisplayable:E$,Line:Ri,LinearGradient:$y,Polygon:Xa,Polyline:Za,RadialGradient:Ok,Rect:kn,Ring:jy,Sector:Wa,Text:On,clipPointsByRect:Bk,clipRectByRect:I$,createIcon:Ky,extendPath:R$,extendShape:D$,getShapeClass:EC,getTransform:Ah,initProps:Dr,makeImage:Fk,makePath:E1,mergePath:is,registerShape:Xs,resizePath:zk,updateProps:Xn},Symbol.toStringTag,{value:"Module"})),vMe=Object.freeze(Object.defineProperty({__proto__:null,addCommas:jk,capitalFirst:yxe,encodeHTML:za,formatTime:mxe,formatTpl:$k,getTextRect:vxe,getTooltipMarker:$$,normalizeCssArray:Uv,toCamelCase:Zk,truncateText:M0e},Symbol.toStringTag,{value:"Module"})),gMe=Object.freeze(Object.defineProperty({__proto__:null,bind:ht,clone:Vt,curry:nn,defaults:Dt,each:G,extend:Le,filter:$n,indexOf:dn,inherits:hk,isArray:ze,isFunction:Ct,isObject:Bt,isString:ut,map:Ve,merge:on,reduce:Gs},Symbol.toStringTag,{value:"Module"}));var GS=Un();function NK(n,e){var t=Ve(e,function(r){return n.scale.parse(r)});return n.type==="time"&&t.length>0&&(t.sort(),t.unshift(t[0]),t.push(t[t.length-1])),t}function mMe(n){var e=n.getLabelModel().get("customValues");if(e){var t=s0(n),r=n.scale.getExtent(),i=NK(n,e),a=$n(i,function(o){return o>=r[0]&&o<=r[1]});return{labels:Ve(a,function(o){var s={value:o};return{formattedLabel:t(s),rawLabel:n.scale.getLabel(s),tickValue:o}})}}return n.type==="category"?_Me(n):SMe(n)}function yMe(n,e){var t=n.getTickModel().get("customValues");if(t){var r=n.scale.getExtent(),i=NK(n,t);return{ticks:$n(i,function(a){return a>=r[0]&&a<=r[1]})}}return n.type==="category"?xMe(n,e):{ticks:Ve(n.scale.getTicks(),function(a){return a.value})}}function _Me(n){var e=n.getLabelModel(),t=OK(n,e);return!e.get("show")||n.scale.isBlank()?{labels:[],labelCategoryInterval:t.labelCategoryInterval}:t}function OK(n,e){var t=kK(n,"labels"),r=w3(e),i=FK(t,r);if(i)return i;var a,o;return Ct(r)?a=UK(n,r):(o=r==="auto"?wMe(n):r,a=BK(n,o)),zK(t,r,{labels:a,labelCategoryInterval:o})}function xMe(n,e){var t=kK(n,"ticks"),r=w3(e),i=FK(t,r);if(i)return i;var a,o;if((!e.get("show")||n.scale.isBlank())&&(a=[]),Ct(r))a=UK(n,r,!0);else if(r==="auto"){var s=OK(n,n.getLabelModel());o=s.labelCategoryInterval,a=Ve(s.labels,function(l){return l.tickValue})}else o=r,a=BK(n,o,!0);return zK(t,r,{ticks:a,tickCategoryInterval:o})}function SMe(n){var e=n.scale.getTicks(),t=s0(n);return{labels:Ve(e,function(r,i){return{level:r.level,formattedLabel:t(r,i),rawLabel:n.scale.getLabel(r),tickValue:r.value}})}}function kK(n,e){return GS(n)[e]||(GS(n)[e]=[])}function FK(n,e){for(var t=0;t<n.length;t++)if(n[t].key===e)return n[t].value}function zK(n,e,t){return n.push({key:e,value:t}),t}function wMe(n){var e=GS(n).autoInterval;return e??(GS(n).autoInterval=n.calculateCategoryInterval())}function MMe(n){var e=TMe(n),t=s0(n),r=(e.axisRotate-e.labelRotate)/180*Math.PI,i=n.scale,a=i.getExtent(),o=i.count();if(a[1]-a[0]<1)return 0;var s=1;o>40&&(s=Math.max(1,Math.floor(o/40)));for(var l=a[0],u=n.dataToCoord(l+1)-n.dataToCoord(l),c=Math.abs(u*Math.cos(r)),f=Math.abs(u*Math.sin(r)),h=0,d=0;l<=a[1];l+=s){var p=0,g=0,m=M1(t({value:l}),e.font,"center","top");p=m.width*1.3,g=m.height*1.3,h=Math.max(h,p,7),d=Math.max(d,g,7)}var y=h/c,S=d/f;isNaN(y)&&(y=1/0),isNaN(S)&&(S=1/0);var M=Math.max(0,Math.floor(Math.min(y,S))),b=GS(n.model),C=n.getExtent(),A=b.lastAutoInterval,E=b.lastTickCount;return A!=null&&E!=null&&Math.abs(A-M)<=1&&Math.abs(E-o)<=1&&A>M&&b.axisExtent0===C[0]&&b.axisExtent1===C[1]?M=A:(b.lastTickCount=o,b.lastAutoInterval=M,b.axisExtent0=C[0],b.axisExtent1=C[1]),M}function TMe(n){var e=n.getLabelModel();return{axisRotate:n.getRotate?n.getRotate():n.isHorizontal&&!n.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}function BK(n,e,t){var r=s0(n),i=n.scale,a=i.getExtent(),o=n.getLabelModel(),s=[],l=Math.max((e||0)+1,1),u=a[0],c=i.count();u!==0&&l>1&&c/l>2&&(u=Math.round(Math.ceil(u/l)*l));var f=DK(n),h=o.get("showMinLabel")||f,d=o.get("showMaxLabel")||f;h&&u!==a[0]&&g(a[0]);for(var p=u;p<=a[1];p+=l)g(p);d&&p-l!==a[1]&&g(a[1]);function g(m){var y={value:m};s.push(t?m:{formattedLabel:r(y),rawLabel:i.getLabel(y),tickValue:m})}return s}function UK(n,e,t){var r=n.scale,i=s0(n),a=[];return G(r.getTicks(),function(o){var s=r.getLabel(o),l=o.value;e(o.value,s)&&a.push(t?l:{formattedLabel:i(o),rawLabel:s,tickValue:l})}),a}var VG=[0,1],Zs=(function(){function n(e,t,r){this.onBand=!1,this.inverse=!1,this.dim=e,this.scale=t,this._extent=r||[0,0]}return n.prototype.contain=function(e){var t=this._extent,r=Math.min(t[0],t[1]),i=Math.max(t[0],t[1]);return e>=r&&e<=i},n.prototype.containData=function(e){return this.scale.contain(e)},n.prototype.getExtent=function(){return this._extent.slice()},n.prototype.getPixelPrecision=function(e){return xk(e||this.scale.getExtent(),this._extent)},n.prototype.setExtent=function(e,t){var r=this._extent;r[0]=e,r[1]=t},n.prototype.dataToCoord=function(e,t){var r=this._extent,i=this.scale;return e=i.normalize(e),this.onBand&&i.type==="ordinal"&&(r=r.slice(),GG(r,i.count())),Qn(e,VG,r,t)},n.prototype.coordToData=function(e,t){var r=this._extent,i=this.scale;this.onBand&&i.type==="ordinal"&&(r=r.slice(),GG(r,i.count()));var a=Qn(e,r,VG,t);return this.scale.scale(a)},n.prototype.pointToData=function(e,t){},n.prototype.getTicksCoords=function(e){e=e||{};var t=e.tickModel||this.getTickModel(),r=yMe(this,t),i=r.ticks,a=Ve(i,function(s){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(s):s),tickValue:s}},this),o=t.get("alignWithLabel");return bMe(this,a,o,e.clamp),a},n.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var e=this.model.getModel("minorTick"),t=e.get("splitNumber");t>0&&t<100||(t=5);var r=this.scale.getMinorTicks(t),i=Ve(r,function(a){return Ve(a,function(o){return{coord:this.dataToCoord(o),tickValue:o}},this)},this);return i},n.prototype.getViewLabels=function(){return mMe(this).labels},n.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},n.prototype.getTickModel=function(){return this.model.getModel("axisTick")},n.prototype.getBandWidth=function(){var e=this._extent,t=this.scale.getExtent(),r=t[1]-t[0]+(this.onBand?1:0);r===0&&(r=1);var i=Math.abs(e[1]-e[0]);return Math.abs(i)/r},n.prototype.calculateCategoryInterval=function(){return MMe(this)},n})();function GG(n,e){var t=n[1]-n[0],r=e,i=t/r/2;n[0]+=i,n[1]-=i}function bMe(n,e,t,r){var i=e.length;if(!n.onBand||t||!i)return;var a=n.getExtent(),o,s;if(i===1)e[0].coord=a[0],o=e[1]={coord:a[1],tickValue:e[0].tickValue};else{var l=e[i-1].tickValue-e[0].tickValue,u=(e[i-1].coord-e[0].coord)/l;G(e,function(d){d.coord-=u/2});var c=n.scale.getExtent();s=1+c[1]-e[i-1].tickValue,o={coord:e[i-1].coord+u*s,tickValue:c[1]+1},e.push(o)}var f=a[0]>a[1];h(e[0].coord,a[0])&&(r?e[0].coord=a[0]:e.shift()),r&&h(a[0],e[0].coord)&&e.unshift({coord:a[0]}),h(a[1],o.coord)&&(r?o.coord=a[1]:e.pop()),r&&h(o.coord,a[1])&&e.push({coord:a[1]});function h(d,p){return d=Zr(d),p=Zr(p),f?d>p:d<p}}function AMe(n){var e=wn.extend(n);return wn.registerClass(e),e}function CMe(n){var e=br.extend(n);return br.registerClass(e),e}function EMe(n){var e=pr.extend(n);return pr.registerClass(e),e}function PMe(n){var e=sr.extend(n);return sr.registerClass(e),e}var G_=Math.PI*2,gp=Nu.CMD,DMe=["top","right","bottom","left"];function RMe(n,e,t,r,i){var a=t.width,o=t.height;switch(n){case"top":r.set(t.x+a/2,t.y-e),i.set(0,-1);break;case"bottom":r.set(t.x+a/2,t.y+o+e),i.set(0,1);break;case"left":r.set(t.x-e,t.y+o/2),i.set(-1,0);break;case"right":r.set(t.x+a+e,t.y+o/2),i.set(1,0);break}}function LMe(n,e,t,r,i,a,o,s,l){o-=n,s-=e;var u=Math.sqrt(o*o+s*s);o/=u,s/=u;var c=o*t+n,f=s*t+e;if(Math.abs(r-i)%G_<1e-4)return l[0]=c,l[1]=f,u-t;if(a){var h=r;r=ss(i),i=ss(h)}else r=ss(r),i=ss(i);r>i&&(i+=G_);var d=Math.atan2(s,o);if(d<0&&(d+=G_),d>=r&&d<=i||d+G_>=r&&d+G_<=i)return l[0]=c,l[1]=f,u-t;var p=t*Math.cos(r)+n,g=t*Math.sin(r)+e,m=t*Math.cos(i)+n,y=t*Math.sin(i)+e,S=(p-o)*(p-o)+(g-s)*(g-s),M=(m-o)*(m-o)+(y-s)*(y-s);return S<M?(l[0]=p,l[1]=g,Math.sqrt(S)):(l[0]=m,l[1]=y,Math.sqrt(M))}function oA(n,e,t,r,i,a,o,s){var l=i-n,u=a-e,c=t-n,f=r-e,h=Math.sqrt(c*c+f*f);c/=h,f/=h;var d=l*c+u*f,p=d/h;s&&(p=Math.min(Math.max(p,0),1)),p*=h;var g=o[0]=n+p*c,m=o[1]=e+p*f;return Math.sqrt((g-i)*(g-i)+(m-a)*(m-a))}function VK(n,e,t,r,i,a,o){t<0&&(n=n+t,t=-t),r<0&&(e=e+r,r=-r);var s=n+t,l=e+r,u=o[0]=Math.min(Math.max(i,n),s),c=o[1]=Math.min(Math.max(a,e),l);return Math.sqrt((u-i)*(u-i)+(c-a)*(c-a))}var Pl=[];function IMe(n,e,t){var r=VK(e.x,e.y,e.width,e.height,n.x,n.y,Pl);return t.set(Pl[0],Pl[1]),r}function NMe(n,e,t){for(var r=0,i=0,a=0,o=0,s,l,u=1/0,c=e.data,f=n.x,h=n.y,d=0;d<c.length;){var p=c[d++];d===1&&(r=c[d],i=c[d+1],a=r,o=i);var g=u;switch(p){case gp.M:a=c[d++],o=c[d++],r=a,i=o;break;case gp.L:g=oA(r,i,c[d],c[d+1],f,h,Pl,!0),r=c[d++],i=c[d++];break;case gp.C:g=wZ(r,i,c[d++],c[d++],c[d++],c[d++],c[d],c[d+1],f,h,Pl),r=c[d++],i=c[d++];break;case gp.Q:g=TZ(r,i,c[d++],c[d++],c[d],c[d+1],f,h,Pl),r=c[d++],i=c[d++];break;case gp.A:var m=c[d++],y=c[d++],S=c[d++],M=c[d++],b=c[d++],C=c[d++];d+=1;var A=!!(1-c[d++]);s=Math.cos(b)*S+m,l=Math.sin(b)*M+y,d<=1&&(a=s,o=l);var E=(f-m)*M/S+m;g=LMe(m,y,M,b,b+C,A,E,h,Pl),r=Math.cos(b+C)*S+m,i=Math.sin(b+C)*M+y;break;case gp.R:a=r=c[d++],o=i=c[d++];var I=c[d++],L=c[d++];g=VK(a,o,I,L,f,h,Pl);break;case gp.Z:g=oA(r,i,a,o,f,h,Pl,!0),r=a,i=o;break}g<u&&(u=g,t.set(Pl[0],Pl[1]))}return u}var Nl=new cn,wr=new cn,li=new cn,Mu=new cn,yu=new cn;function HG(n,e){if(n){var t=n.getTextGuideLine(),r=n.getTextContent();if(r&&t){var i=n.textGuideLineConfig||{},a=[[0,0],[0,0],[0,0]],o=i.candidates||DMe,s=r.getBoundingRect().clone();s.applyTransform(r.getComputedTransform());var l=1/0,u=i.anchor,c=n.getComputedTransform(),f=c&&Fv([],c),h=e.get("length2")||0;u&&li.copy(u);for(var d=0;d<o.length;d++){var p=o[d];RMe(p,0,s,Nl,Mu),cn.scaleAndAdd(wr,Nl,Mu,h),wr.transform(f);var g=n.getBoundingRect(),m=u?u.distance(wr):n instanceof Tn?NMe(wr,n.path,li):IMe(wr,g,li);m<l&&(l=m,wr.transform(c),li.transform(c),li.toArray(a[0]),wr.toArray(a[1]),Nl.toArray(a[2]))}GK(a,e.get("minTurnAngle")),t.setShape({points:a})}}}var sA=[],fo=new cn;function GK(n,e){if(e<=180&&e>0){e=e/180*Math.PI,Nl.fromArray(n[0]),wr.fromArray(n[1]),li.fromArray(n[2]),cn.sub(Mu,Nl,wr),cn.sub(yu,li,wr);var t=Mu.len(),r=yu.len();if(!(t<.001||r<.001)){Mu.scale(1/t),yu.scale(1/r);var i=Mu.dot(yu),a=Math.cos(e);if(a<i){var o=oA(wr.x,wr.y,li.x,li.y,Nl.x,Nl.y,sA,!1);fo.fromArray(sA),fo.scaleAndAdd(yu,o/Math.tan(Math.PI-e));var s=li.x!==wr.x?(fo.x-wr.x)/(li.x-wr.x):(fo.y-wr.y)/(li.y-wr.y);if(isNaN(s))return;s<0?cn.copy(fo,wr):s>1&&cn.copy(fo,li),fo.toArray(n[1])}}}}function OMe(n,e,t){if(t<=180&&t>0){t=t/180*Math.PI,Nl.fromArray(n[0]),wr.fromArray(n[1]),li.fromArray(n[2]),cn.sub(Mu,wr,Nl),cn.sub(yu,li,wr);var r=Mu.len(),i=yu.len();if(!(r<.001||i<.001)){Mu.scale(1/r),yu.scale(1/i);var a=Mu.dot(e),o=Math.cos(t);if(a<o){var s=oA(wr.x,wr.y,li.x,li.y,Nl.x,Nl.y,sA,!1);fo.fromArray(sA);var l=Math.PI/2,u=Math.acos(yu.dot(e)),c=l+u-t;if(c>=l)cn.copy(fo,li);else{fo.scaleAndAdd(yu,s/Math.tan(Math.PI/2-c));var f=li.x!==wr.x?(fo.x-wr.x)/(li.x-wr.x):(fo.y-wr.y)/(li.y-wr.y);if(isNaN(f))return;f<0?cn.copy(fo,wr):f>1&&cn.copy(fo,li)}fo.toArray(n[1])}}}}function cR(n,e,t,r){var i=t==="normal",a=i?n:n.ensureState(t);a.ignore=e;var o=r.get("smooth");o&&o===!0&&(o=.3),a.shape=a.shape||{},o>0&&(a.shape.smooth=o);var s=r.getModel("lineStyle").getLineStyle();i?n.useStyle(s):a.style=s}function kMe(n,e){var t=e.smooth,r=e.points;if(r)if(n.moveTo(r[0][0],r[0][1]),t>0&&r.length>=3){var i=Fc(r[0],r[1]),a=Fc(r[1],r[2]);if(!i||!a){n.lineTo(r[1][0],r[1][1]),n.lineTo(r[2][0],r[2][1]);return}var o=Math.min(i,a)*t,s=Nx([],r[1],r[0],o/i),l=Nx([],r[1],r[2],o/a),u=Nx([],s,l,.5);n.bezierCurveTo(s[0],s[1],s[0],s[1],u[0],u[1]),n.bezierCurveTo(l[0],l[1],l[0],l[1],r[2][0],r[2][1])}else for(var c=1;c<r.length;c++)n.lineTo(r[c][0],r[c][1])}function M3(n,e,t){var r=n.getTextGuideLine(),i=n.getTextContent();if(!i){r&&n.removeTextGuideLine();return}for(var a=e.normal,o=a.get("show"),s=i.ignore,l=0;l<IS.length;l++){var u=IS[l],c=e[u],f=u==="normal";if(c){var h=c.get("show"),d=f?s:tn(i.states[u]&&i.states[u].ignore,s);if(d||!tn(h,o)){var p=f?r:r&&r.states[u];p&&(p.ignore=!0),r&&cR(r,!0,u,c);continue}r||(r=new Za,n.setTextGuideLine(r),!f&&(s||!o)&&cR(r,!0,"normal",e.normal),n.stateProxy&&(r.stateProxy=n.stateProxy)),cR(r,!1,u,c)}}if(r){Dt(r.style,t),r.style.fill=null;var g=a.get("showAbove"),m=n.textGuideLineConfig=n.textGuideLineConfig||{};m.showAbove=g||!1,r.buildPath=kMe}}function T3(n,e){e=e||"labelLine";for(var t={normal:n.getModel(e)},r=0;r<_o.length;r++){var i=_o[r];t[i]=n.getModel([i,e])}return t}function HK(n){for(var e=[],t=0;t<n.length;t++){var r=n[t];if(!r.defaultAttr.ignore){var i=r.label,a=i.getComputedTransform(),o=i.getBoundingRect(),s=!a||a[1]<1e-5&&a[2]<1e-5,l=i.style.margin||0,u=o.clone();u.applyTransform(a),u.x-=l/2,u.y-=l/2,u.width+=l,u.height+=l;var c=s?new Hb(o,a):null;e.push({label:i,labelLine:r.labelLine,rect:u,localRect:o,obb:c,priority:r.priority,defaultAttr:r.defaultAttr,layoutOption:r.computedLayoutOption,axisAligned:s,transform:a})}}return e}function WK(n,e,t,r,i,a){var o=n.length;if(o<2)return;n.sort(function(A,E){return A.rect[e]-E.rect[e]});for(var s=0,l,u=!1,c=0;c<o;c++){var f=n[c],h=f.rect;l=h[e]-s,l<0&&(h[e]-=l,f.label[e]-=l,u=!0),s=h[e]+h[t]}var d=n[0],p=n[o-1],g,m;y(),g<0&&b(-g,.8),m<0&&b(m,.8),y(),S(g,m,1),S(m,g,-1),y(),g<0&&C(-g),m<0&&C(m);function y(){g=d.rect[e]-r,m=i-p.rect[e]-p.rect[t]}function S(A,E,I){if(A<0){var L=Math.min(E,-A);if(L>0){M(L*I,0,o);var R=L+A;R<0&&b(-R*I,1)}else b(-A*I,1)}}function M(A,E,I){A!==0&&(u=!0);for(var L=E;L<I;L++){var R=n[L],O=R.rect;O[e]+=A,R.label[e]+=A}}function b(A,E){for(var I=[],L=0,R=1;R<o;R++){var O=n[R-1].rect,U=Math.max(n[R].rect[e]-O[e]-O[t],0);I.push(U),L+=U}if(L){var V=Math.min(Math.abs(A)/L,E);if(A>0)for(var R=0;R<o-1;R++){var W=I[R]*V;M(W,0,R+1)}else for(var R=o-1;R>0;R--){var W=I[R-1]*V;M(-W,R,o)}}}function C(A){var E=A<0?-1:1;A=Math.abs(A);for(var I=Math.ceil(A/(o-1)),L=0;L<o-1;L++)if(E>0?M(I,0,L+1):M(-I,o-L-1,o),A-=I,A<=0)return}return u}function FMe(n,e,t,r){return WK(n,"x","width",e,t)}function XK(n,e,t,r){return WK(n,"y","height",e,t)}function YK(n){var e=[];n.sort(function(g,m){return m.priority-g.priority});var t=new fn(0,0,0,0);function r(g){if(!g.ignore){var m=g.ensureState("emphasis");m.ignore==null&&(m.ignore=!1)}g.ignore=!0}for(var i=0;i<n.length;i++){var a=n[i],o=a.axisAligned,s=a.localRect,l=a.transform,u=a.label,c=a.labelLine;t.copy(a.rect),t.width-=.1,t.height-=.1,t.x+=.05,t.y+=.05;for(var f=a.obb,h=!1,d=0;d<e.length;d++){var p=e[d];if(t.intersect(p.rect)){if(o&&p.axisAligned){h=!0;break}if(p.obb||(p.obb=new Hb(p.localRect,p.transform)),f||(f=new Hb(s,l)),f.intersect(p.obb)){h=!0;break}}}h?(r(u),c&&r(c)):(u.attr("ignore",a.defaultAttr.ignore),c&&c.attr("ignore",a.defaultAttr.labelGuideIgnore),e.push(a))}}function zMe(n){if(n){for(var e=[],t=0;t<n.length;t++)e.push(n[t].slice());return e}}function BMe(n,e){var t=n.label,r=e&&e.getTextGuideLine();return{dataIndex:n.dataIndex,dataType:n.dataType,seriesIndex:n.seriesModel.seriesIndex,text:n.label.style.text,rect:n.hostRect,labelRect:n.rect,align:t.style.align,verticalAlign:t.style.verticalAlign,labelLinePoints:zMe(r&&r.shape.points)}}var WG=["align","verticalAlign","width","height","fontSize"],so=new Uc,fR=Un(),UMe=Un();function hT(n,e,t){for(var r=0;r<t.length;r++){var i=t[r];e[i]!=null&&(n[i]=e[i])}}var dT=["x","y","rotation"],VMe=(function(){function n(){this._labelList=[],this._chartViewList=[]}return n.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},n.prototype._addLabel=function(e,t,r,i,a){var o=i.style,s=i.__hostTarget,l=s.textConfig||{},u=i.getComputedTransform(),c=i.getBoundingRect().plain();fn.applyTransform(c,c,u),u?so.setLocalTransform(u):(so.x=so.y=so.rotation=so.originX=so.originY=0,so.scaleX=so.scaleY=1),so.rotation=ss(so.rotation);var f=i.__hostTarget,h;if(f){h=f.getBoundingRect().plain();var d=f.getComputedTransform();fn.applyTransform(h,h,d)}var p=h&&f.getTextGuideLine();this._labelList.push({label:i,labelLine:p,seriesModel:r,dataIndex:e,dataType:t,layoutOption:a,computedLayoutOption:null,rect:c,hostRect:h,priority:h?h.width*h.height:0,defaultAttr:{ignore:i.ignore,labelGuideIgnore:p&&p.ignore,x:so.x,y:so.y,scaleX:so.scaleX,scaleY:so.scaleY,rotation:so.rotation,style:{x:o.x,y:o.y,align:o.align,verticalAlign:o.verticalAlign,width:o.width,height:o.height,fontSize:o.fontSize},cursor:i.cursor,attachedPos:l.position,attachedRot:l.rotation}})},n.prototype.addLabelsOfSeries=function(e){var t=this;this._chartViewList.push(e);var r=e.__model,i=r.get("labelLayout");(Ct(i)||En(i).length)&&e.group.traverse(function(a){if(a.ignore)return!0;var o=a.getTextContent(),s=$t(a);o&&!o.disableLabelLayout&&t._addLabel(s.dataIndex,s.dataType,r,o,i)})},n.prototype.updateLayoutConfig=function(e){var t=e.getWidth(),r=e.getHeight();function i(M,b){return function(){HG(M,b)}}for(var a=0;a<this._labelList.length;a++){var o=this._labelList[a],s=o.label,l=s.__hostTarget,u=o.defaultAttr,c=void 0;Ct(o.layoutOption)?c=o.layoutOption(BMe(o,l)):c=o.layoutOption,c=c||{},o.computedLayoutOption=c;var f=Math.PI/180;l&&l.setTextConfig({local:!1,position:c.x!=null||c.y!=null?null:u.attachedPos,rotation:c.rotate!=null?c.rotate*f:u.attachedRot,offset:[c.dx||0,c.dy||0]});var h=!1;if(c.x!=null?(s.x=rt(c.x,t),s.setStyle("x",0),h=!0):(s.x=u.x,s.setStyle("x",u.style.x)),c.y!=null?(s.y=rt(c.y,r),s.setStyle("y",0),h=!0):(s.y=u.y,s.setStyle("y",u.style.y)),c.labelLinePoints){var d=l.getTextGuideLine();d&&(d.setShape({points:c.labelLinePoints}),h=!1)}var p=fR(s);p.needsUpdateLabelLine=h,s.rotation=c.rotate!=null?c.rotate*f:u.rotation,s.scaleX=u.scaleX,s.scaleY=u.scaleY;for(var g=0;g<WG.length;g++){var m=WG[g];s.setStyle(m,c[m]!=null?c[m]:u.style[m])}if(c.draggable){if(s.draggable=!0,s.cursor="move",l){var y=o.seriesModel;if(o.dataIndex!=null){var S=o.seriesModel.getData(o.dataType);y=S.getItemModel(o.dataIndex)}s.on("drag",i(l,y.getModel("labelLine")))}}else s.off("drag"),s.cursor=u.cursor}},n.prototype.layout=function(e){var t=e.getWidth(),r=e.getHeight(),i=HK(this._labelList),a=$n(i,function(l){return l.layoutOption.moveOverlap==="shiftX"}),o=$n(i,function(l){return l.layoutOption.moveOverlap==="shiftY"});FMe(a,0,t),XK(o,0,r);var s=$n(i,function(l){return l.layoutOption.hideOverlap});YK(s)},n.prototype.processLabelsOverall=function(){var e=this;G(this._chartViewList,function(t){var r=t.__model,i=t.ignoreLabelLineUpdate,a=r.isAnimationEnabled();t.group.traverse(function(o){if(o.ignore&&!o.forceLabelAnimation)return!0;var s=!i,l=o.getTextContent();!s&&l&&(s=fR(l).needsUpdateLabelLine),s&&e._updateLabelLine(o,r),a&&e._animateLabels(o,r)})})},n.prototype._updateLabelLine=function(e,t){var r=e.getTextContent(),i=$t(e),a=i.dataIndex;if(r&&a!=null){var o=t.getData(i.dataType),s=o.getItemModel(a),l={},u=o.getItemVisual(a,"style");if(u){var c=o.getVisual("drawType");l.stroke=u[c]}var f=s.getModel("labelLine");M3(e,T3(s),l),HG(e,f)}},n.prototype._animateLabels=function(e,t){var r=e.getTextContent(),i=e.getTextGuideLine();if(r&&(e.forceLabelAnimation||!r.ignore&&!r.invisible&&!e.disableLabelAnimation&&!uy(e))){var a=fR(r),o=a.oldLayout,s=$t(e),l=s.dataIndex,u={x:r.x,y:r.y,rotation:r.rotation},c=t.getData(s.dataType);if(o){r.attr(o);var h=e.prevStates;h&&(dn(h,"select")>=0&&r.attr(a.oldLayoutSelect),dn(h,"emphasis")>=0&&r.attr(a.oldLayoutEmphasis)),Xn(r,u,t,l)}else if(r.attr(u),!Jy(r).valueAnimation){var f=tn(r.style.opacity,1);r.style.opacity=0,Dr(r,{style:{opacity:f}},t,l)}if(a.oldLayout=u,r.states.select){var d=a.oldLayoutSelect={};hT(d,u,dT),hT(d,r.states.select,dT)}if(r.states.emphasis){var p=a.oldLayoutEmphasis={};hT(p,u,dT),hT(p,r.states.emphasis,dT)}F$(r,l,c,t,t)}if(i&&!i.ignore&&!i.invisible){var a=UMe(i),o=a.oldLayout,g={points:i.shape.points};o?(i.attr({shape:o}),Xn(i,{shape:g},t)):(i.setShape(g),i.style.strokePercent=0,Dr(i,{style:{strokePercent:1}},t)),a.oldLayout=g}},n})(),hR=Un();function GMe(n){n.registerUpdateLifecycle("series:beforeupdate",function(e,t,r){var i=hR(t).labelManager;i||(i=hR(t).labelManager=new VMe),i.clearLabels()}),n.registerUpdateLifecycle("series:layoutlabels",function(e,t,r){var i=hR(t).labelManager;r.updatedSeries.forEach(function(a){i.addLabelsOfSeries(t.getViewOfSeriesModel(a))}),i.updateLayoutConfig(t),i.layout(t),i.processLabelsOverall()})}var dR=Math.sin,pR=Math.cos,jK=Math.PI,mp=Math.PI*2,HMe=180/jK,ZK=(function(){function n(){}return n.prototype.reset=function(e){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,e||4)},n.prototype.moveTo=function(e,t){this._add("M",e,t)},n.prototype.lineTo=function(e,t){this._add("L",e,t)},n.prototype.bezierCurveTo=function(e,t,r,i,a,o){this._add("C",e,t,r,i,a,o)},n.prototype.quadraticCurveTo=function(e,t,r,i){this._add("Q",e,t,r,i)},n.prototype.arc=function(e,t,r,i,a,o){this.ellipse(e,t,r,r,0,i,a,o)},n.prototype.ellipse=function(e,t,r,i,a,o,s,l){var u=s-o,c=!l,f=Math.abs(u),h=yh(f-mp)||(c?u>=mp:-u>=mp),d=u>0?u%mp:u%mp+mp,p=!1;h?p=!0:yh(f)?p=!1:p=d>=jK==!!c;var g=e+r*pR(o),m=t+i*dR(o);this._start&&this._add("M",g,m);var y=Math.round(a*HMe);if(h){var S=1/this._p,M=(c?1:-1)*(mp-S);this._add("A",r,i,y,1,+c,e+r*pR(o+M),t+i*dR(o+M)),S>.01&&this._add("A",r,i,y,0,+c,g,m)}else{var b=e+r*pR(s),C=t+i*dR(s);this._add("A",r,i,y,+p,+c,b,C)}},n.prototype.rect=function(e,t,r,i){this._add("M",e,t),this._add("l",r,0),this._add("l",0,i),this._add("l",-r,0),this._add("Z")},n.prototype.closePath=function(){this._d.length>0&&this._add("Z")},n.prototype._add=function(e,t,r,i,a,o,s,l,u){for(var c=[],f=this._p,h=1;h<arguments.length;h++){var d=arguments[h];if(isNaN(d)){this._invalid=!0;return}c.push(Math.round(d*f)/f)}this._d.push(e+c.join(" ")),this._start=e==="Z"},n.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},n.prototype.getStr=function(){return this._str},n})(),b3="none",WMe=Math.round;function XMe(n){var e=n.fill;return e!=null&&e!==b3}function YMe(n){var e=n.stroke;return e!=null&&e!==b3}var HI=["lineCap","miterLimit","lineJoin"],jMe=Ve(HI,function(n){return"stroke-"+n.toLowerCase()});function ZMe(n,e,t,r){var i=e.opacity==null?1:e.opacity;if(t instanceof $i){n("opacity",i);return}if(XMe(e)){var a=RS(e.fill);n("fill",a.color);var o=e.fillOpacity!=null?e.fillOpacity*a.opacity*i:a.opacity*i;o<1&&n("fill-opacity",o)}else n("fill",b3);if(YMe(e)){var s=RS(e.stroke);n("stroke",s.color);var l=e.strokeNoScale?t.getLineScale():1,u=l?(e.lineWidth||0)/l:0,c=e.strokeOpacity!=null?e.strokeOpacity*s.opacity*i:s.opacity*i,f=e.strokeFirst;if(u!==1&&n("stroke-width",u),f&&n("paint-order",f?"stroke":"fill"),c<1&&n("stroke-opacity",c),e.lineDash){var h=o3(t),d=h[0],p=h[1];d&&(p=WMe(p||0),n("stroke-dasharray",d.join(",")),(p||r)&&n("stroke-dashoffset",p))}for(var g=0;g<HI.length;g++){var m=HI[g];if(e[m]!==Vb[m]){var y=e[m]||Vb[m];y&&n(jMe[g],y)}}}}var $K="http://www.w3.org/2000/svg",qK="http://www.w3.org/1999/xlink",$Me="http://www.w3.org/2000/xmlns/",qMe="http://www.w3.org/XML/1998/namespace",XG="ecmeta_";function KK(n){return document.createElementNS($K,n)}function Hi(n,e,t,r,i){return{tag:n,attrs:t||{},children:r,text:i,key:e}}function KMe(n,e){var t=[];if(e)for(var r in e){var i=e[r],a=r;i!==!1&&(i!==!0&&i!=null&&(a+='="'+i+'"'),t.push(a))}return"<"+n+" "+t.join(" ")+">"}function JMe(n){return"</"+n+">"}function A3(n,e){e=e||{};var t=e.newline?`
`:"";function r(i){var a=i.children,o=i.tag,s=i.attrs,l=i.text;return KMe(o,s)+(o!=="style"?za(l):l||"")+(a?""+t+Ve(a,function(u){return r(u)}).join(t)+t:"")+JMe(o)}return r(n)}function QMe(n,e,t){t=t||{};var r=t.newline?`
`:"",i=" {"+r,a=r+"}",o=Ve(En(n),function(l){return l+i+Ve(En(n[l]),function(u){return u+":"+n[l][u]+";"}).join(r)+a}).join(r),s=Ve(En(e),function(l){return"@keyframes "+l+i+Ve(En(e[l]),function(u){return u+i+Ve(En(e[l][u]),function(c){var f=e[l][u][c];return c==="d"&&(f='path("'+f+'")'),c+":"+f+";"}).join(r)+a}).join(r)+a}).join(r);return!o&&!s?"":["<![CDATA[",o,s,"]]>"].join(r)}function WI(n){return{zrId:n,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssStyleCache:{},cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function YG(n,e,t,r){return Hi("svg","root",{width:n,height:e,xmlns:$K,"xmlns:xlink":qK,version:"1.1",baseProfile:"full",viewBox:r?"0 0 "+n+" "+e:!1},t)}var eTe=0;function JK(){return eTe++}var jG={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},Ap="transform-origin";function tTe(n,e,t){var r=Le({},n.shape);Le(r,e),n.buildPath(t,r);var i=new ZK;return i.reset(RZ(n)),t.rebuildPath(i,1),i.generateStr(),i.getStr()}function nTe(n,e){var t=e.originX,r=e.originY;(t||r)&&(n[Ap]=t+"px "+r+"px")}var rTe={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function QK(n,e){var t=e.zrId+"-ani-"+e.cssAnimIdx++;return e.cssAnims[t]=n,t}function iTe(n,e,t){var r=n.shape.paths,i={},a,o;if(G(r,function(l){var u=WI(t.zrId);u.animation=!0,YC(l,{},u,!0);var c=u.cssAnims,f=u.cssNodes,h=En(c),d=h.length;if(d){o=h[d-1];var p=c[o];for(var g in p){var m=p[g];i[g]=i[g]||{d:""},i[g].d+=m.d||""}for(var y in f){var S=f[y].animation;S.indexOf(o)>=0&&(a=S)}}}),!!a){e.d=!1;var s=QK(i,t);return a.replace(o,s)}}function ZG(n){return ut(n)?jG[n]?"cubic-bezier("+jG[n]+")":gk(n)?n:"":""}function YC(n,e,t,r){var i=n.animators,a=i.length,o=[];if(n instanceof CC){var s=iTe(n,e,t);if(s)o.push(s);else if(!a)return}else if(!a)return;for(var l={},u=0;u<a;u++){var c=i[u],f=[c.getMaxTime()/1e3+"s"],h=ZG(c.getClip().easing),d=c.getDelay();h?f.push(h):f.push("linear"),d&&f.push(d/1e3+"s"),c.getLoop()&&f.push("infinite");var p=f.join(" ");l[p]=l[p]||[p,[]],l[p][1].push(c)}function g(S){var M=S[1],b=M.length,C={},A={},E={},I="animation-timing-function";function L(Be,Oe,$e){for(var ee=Be.getTracks(),ve=Be.getMaxTime(),Ae=0;Ae<ee.length;Ae++){var Ue=ee[Ae];if(Ue.needsAnimate()){var Ge=Ue.keyframes,He=Ue.propName;if($e&&(He=$e(He)),He)for(var ot=0;ot<Ge.length;ot++){var ct=Ge[ot],Rt=Math.round(ct.time/ve*100)+"%",re=ZG(ct.easing),K=ct.rawValue;(ut(K)||Hn(K))&&(Oe[Rt]=Oe[Rt]||{},Oe[Rt][He]=ct.rawValue,re&&(Oe[Rt][I]=re))}}}}for(var R=0;R<b;R++){var O=M[R],U=O.targetName;U?U==="shape"&&L(O,A):!r&&L(O,C)}for(var V in C){var W={};kZ(W,n),Le(W,C[V]);var X=LZ(W),j=C[V][I];E[V]=X?{transform:X}:{},nTe(E[V],W),j&&(E[V][I]=j)}var Q,B=!0;for(var V in A){E[V]=E[V]||{};var Z=!Q,j=A[V][I];Z&&(Q=new Nu);var q=Q.len();Q.reset(),E[V].d=tTe(n,A[V],Q);var Y=Q.len();if(!Z&&q!==Y){B=!1;break}j&&(E[V][I]=j)}if(!B)for(var V in E)delete E[V].d;if(!r)for(var R=0;R<b;R++){var O=M[R],U=O.targetName;U==="style"&&L(O,E,function(ee){return rTe[ee]})}for(var te=En(E),me=!0,ae,R=1;R<te.length;R++){var fe=te[R-1],be=te[R];if(E[fe][Ap]!==E[be][Ap]){me=!1;break}ae=E[fe][Ap]}if(me&&ae){for(var V in E)E[V][Ap]&&delete E[V][Ap];e[Ap]=ae}if($n(te,function(Be){return En(E[Be]).length>0}).length){var Ee=QK(E,t);return Ee+" "+S[0]+" both"}}for(var m in l){var s=g(l[m]);s&&o.push(s)}if(o.length){var y=t.zrId+"-cls-"+JK();t.cssNodes["."+y]={animation:o.join(",")},e.class=y}}function aTe(n,e,t){if(!n.ignore)if(n.isSilent()){var r={"pointer-events":"none"};$G(r,e,t)}else{var i=n.states.emphasis&&n.states.emphasis.style?n.states.emphasis.style:{},a=i.fill;if(!a){var o=n.style&&n.style.fill,s=n.states.select&&n.states.select.style&&n.states.select.style.fill,l=n.currentStates.indexOf("select")>=0&&s||o;l&&(a=Fb(l))}var u=i.lineWidth;if(u){var c=!i.strokeNoScale&&n.transform?n.transform[0]:1;u=u/c}var r={cursor:"pointer"};a&&(r.fill=a),i.stroke&&(r.stroke=i.stroke),u&&(r["stroke-width"]=u),$G(r,e,t)}}function $G(n,e,t,r){var i=JSON.stringify(n),a=t.cssStyleCache[i];a||(a=t.zrId+"-cls-"+JK(),t.cssStyleCache[i]=a,t.cssNodes["."+a+":hover"]=n),e.class=e.class?e.class+" "+a:a}var HS=Math.round;function eJ(n){return n&&ut(n.src)}function tJ(n){return n&&Ct(n.toDataURL)}function C3(n,e,t,r){ZMe(function(i,a){var o=i==="fill"||i==="stroke";o&&DZ(a)?rJ(e,n,i,r):o&&yk(a)?iJ(t,n,i,r):n[i]=a,o&&r.ssr&&a==="none"&&(n["pointer-events"]="visible")},e,t,!1),hTe(t,n,r)}function E3(n,e){var t=BZ(e);t&&(t.each(function(r,i){r!=null&&(n[(XG+i).toLowerCase()]=r+"")}),e.isSilent()&&(n[XG+"silent"]="true"))}function qG(n){return yh(n[0]-1)&&yh(n[1])&&yh(n[2])&&yh(n[3]-1)}function oTe(n){return yh(n[4])&&yh(n[5])}function P3(n,e,t){if(e&&!(oTe(e)&&qG(e))){var r=1e4;n.transform=qG(e)?"translate("+HS(e[4]*r)/r+" "+HS(e[5]*r)/r+")":fye(e)}}function KG(n,e,t){for(var r=n.points,i=[],a=0;a<r.length;a++)i.push(HS(r[a][0]*t)/t),i.push(HS(r[a][1]*t)/t);e.points=i.join(" ")}function JG(n){return!n.smooth}function sTe(n){var e=Ve(n,function(t){return typeof t=="string"?[t,t]:t});return function(t,r,i){for(var a=0;a<e.length;a++){var o=e[a],s=t[o[0]];s!=null&&(r[o[1]]=HS(s*i)/i)}}}var lTe={circle:[sTe(["cx","cy","r"])],polyline:[KG,JG],polygon:[KG,JG]};function uTe(n){for(var e=n.animators,t=0;t<e.length;t++)if(e[t].targetName==="shape")return!0;return!1}function nJ(n,e){var t=n.style,r=n.shape,i=lTe[n.type],a={},o=e.animation,s="path",l=n.style.strokePercent,u=e.compress&&RZ(n)||4;if(i&&!e.willUpdate&&!(i[1]&&!i[1](r))&&!(o&&uTe(n))&&!(l<1)){s=n.type;var c=Math.pow(10,u);i[0](r,a,c)}else{var f=!n.path||n.shapeChanged();n.path||n.createPathProxy();var h=n.path;f&&(h.beginPath(),n.buildPath(h,n.shape),n.pathUpdated());var d=h.getVersion(),p=n,g=p.__svgPathBuilder;(p.__svgPathVersion!==d||!g||l!==p.__svgPathStrokePercent)&&(g||(g=p.__svgPathBuilder=new ZK),g.reset(u),h.rebuildPath(g,l),g.generateStr(),p.__svgPathVersion=d,p.__svgPathStrokePercent=l),a.d=g.getStr()}return P3(a,n.transform),C3(a,t,n,e),E3(a,n),e.animation&&YC(n,a,e),e.emphasis&&aTe(n,a,e),Hi(s,n.id+"",a)}function cTe(n,e){var t=n.style,r=t.image;if(r&&!ut(r)&&(eJ(r)?r=r.src:tJ(r)&&(r=r.toDataURL())),!!r){var i=t.x||0,a=t.y||0,o=t.width,s=t.height,l={href:r,width:o,height:s};return i&&(l.x=i),a&&(l.y=a),P3(l,n.transform),C3(l,t,n,e),E3(l,n),e.animation&&YC(n,l,e),Hi("image",n.id+"",l)}}function fTe(n,e){var t=n.style,r=t.text;if(r!=null&&(r+=""),!(!r||isNaN(t.x)||isNaN(t.y))){var i=t.font||Nh,a=t.x||0,o=dye(t.y||0,yC(i),t.textBaseline),s=hye[t.textAlign]||t.textAlign,l={"dominant-baseline":"central","text-anchor":s};if(c$(t)){var u="",c=t.fontStyle,f=u$(t.fontSize);if(!parseFloat(f))return;var h=t.fontFamily||tZ,d=t.fontWeight;u+="font-size:"+f+";font-family:"+h+";",c&&c!=="normal"&&(u+="font-style:"+c+";"),d&&d!=="normal"&&(u+="font-weight:"+d+";"),l.style=u}else l.style="font: "+i;return r.match(/\s/)&&(l["xml:space"]="preserve"),a&&(l.x=a),o&&(l.y=o),P3(l,n.transform),C3(l,t,n,e),E3(l,n),e.animation&&YC(n,l,e),Hi("text",n.id+"",l,void 0,r)}}function QG(n,e){if(n instanceof Tn)return nJ(n,e);if(n instanceof $i)return cTe(n,e);if(n instanceof by)return fTe(n,e)}function hTe(n,e,t){var r=n.style;if(pye(r)){var i=vye(n),a=t.shadowCache,o=a[i];if(!o){var s=n.getGlobalScale(),l=s[0],u=s[1];if(!l||!u)return;var c=r.shadowOffsetX||0,f=r.shadowOffsetY||0,h=r.shadowBlur,d=RS(r.shadowColor),p=d.opacity,g=d.color,m=h/2/l,y=h/2/u,S=m+" "+y;o=t.zrId+"-s"+t.shadowIdx++,t.defs[o]=Hi("filter",o,{id:o,x:"-100%",y:"-100%",width:"300%",height:"300%"},[Hi("feDropShadow","",{dx:c/l,dy:f/u,stdDeviation:S,"flood-color":g,"flood-opacity":p})]),a[i]=o}e.filter=mC(o)}}function rJ(n,e,t,r){var i=n[t],a,o={gradientUnits:i.global?"userSpaceOnUse":"objectBoundingBox"};if(EZ(i))a="linearGradient",o.x1=i.x,o.y1=i.y,o.x2=i.x2,o.y2=i.y2;else if(PZ(i))a="radialGradient",o.cx=tn(i.x,.5),o.cy=tn(i.y,.5),o.r=tn(i.r,.5);else return;for(var s=i.colorStops,l=[],u=0,c=s.length;u<c;++u){var f=QL(s[u].offset)*100+"%",h=s[u].color,d=RS(h),p=d.color,g=d.opacity,m={offset:f};m["stop-color"]=p,g<1&&(m["stop-opacity"]=g),l.push(Hi("stop",u+"",m))}var y=Hi(a,"",o,l),S=A3(y),M=r.gradientCache,b=M[S];b||(b=r.zrId+"-g"+r.gradientIdx++,M[S]=b,o.id=b,r.defs[b]=Hi(a,b,o,l)),e[t]=mC(b)}function iJ(n,e,t,r){var i=n.style[t],a=n.getBoundingRect(),o={},s=i.repeat,l=s==="no-repeat",u=s==="repeat-x",c=s==="repeat-y",f;if(CZ(i)){var h=i.imageWidth,d=i.imageHeight,p=void 0,g=i.image;if(ut(g)?p=g:eJ(g)?p=g.src:tJ(g)&&(p=g.toDataURL()),typeof Image>"u"){var m="Image width/height must been given explictly in svg-ssr renderer.";Ha(h,m),Ha(d,m)}else if(h==null||d==null){var y=function(R,O){if(R){var U=R.elm,V=h||O.width,W=d||O.height;R.tag==="pattern"&&(u?(W=1,V/=a.width):c&&(V=1,W/=a.height)),R.attrs.width=V,R.attrs.height=W,U&&(U.setAttribute("width",V),U.setAttribute("height",W))}},S=Ck(p,null,n,function(R){l||y(A,R),y(f,R)});S&&S.width&&S.height&&(h=h||S.width,d=d||S.height)}f=Hi("image","img",{href:p,width:h,height:d}),o.width=h,o.height=d}else i.svgElement&&(f=Vt(i.svgElement),o.width=i.svgWidth,o.height=i.svgHeight);if(f){var M,b;l?M=b=1:u?(b=1,M=o.width/a.width):c?(M=1,b=o.height/a.height):o.patternUnits="userSpaceOnUse",M!=null&&!isNaN(M)&&(o.width=M),b!=null&&!isNaN(b)&&(o.height=b);var C=LZ(i);C&&(o.patternTransform=C);var A=Hi("pattern","",o,[f]),E=A3(A),I=r.patternCache,L=I[E];L||(L=r.zrId+"-p"+r.patternIdx++,I[E]=L,o.id=L,A=r.defs[L]=Hi("pattern",L,o,[f])),e[t]=mC(L)}}function dTe(n,e,t){var r=t.clipPathCache,i=t.defs,a=r[n.id];if(!a){a=t.zrId+"-c"+t.clipPathIdx++;var o={id:a};r[n.id]=a,i[a]=Hi("clipPath",a,o,[nJ(n,t)])}e["clip-path"]=mC(a)}function eH(n){return document.createTextNode(n)}function kp(n,e,t){n.insertBefore(e,t)}function tH(n,e){n.removeChild(e)}function nH(n,e){n.appendChild(e)}function aJ(n){return n.parentNode}function oJ(n){return n.nextSibling}function vR(n,e){n.textContent=e}var rH=58,pTe=120,vTe=Hi("","");function XI(n){return n===void 0}function vu(n){return n!==void 0}function gTe(n,e,t){for(var r={},i=e;i<=t;++i){var a=n[i].key;a!==void 0&&(r[a]=i)}return r}function gx(n,e){var t=n.key===e.key,r=n.tag===e.tag;return r&&t}function WS(n){var e,t=n.children,r=n.tag;if(vu(r)){var i=n.elm=KK(r);if(D3(vTe,n),ze(t))for(e=0;e<t.length;++e){var a=t[e];a!=null&&nH(i,WS(a))}else vu(n.text)&&!Bt(n.text)&&nH(i,eH(n.text))}else n.elm=eH(n.text);return n.elm}function sJ(n,e,t,r,i){for(;r<=i;++r){var a=t[r];a!=null&&kp(n,WS(a),e)}}function lA(n,e,t,r){for(;t<=r;++t){var i=e[t];if(i!=null)if(vu(i.tag)){var a=aJ(i.elm);tH(a,i.elm)}else tH(n,i.elm)}}function D3(n,e){var t,r=e.elm,i=n&&n.attrs||{},a=e.attrs||{};if(i!==a){for(t in a){var o=a[t],s=i[t];s!==o&&(o===!0?r.setAttribute(t,""):o===!1?r.removeAttribute(t):t==="style"?r.style.cssText=o:t.charCodeAt(0)!==pTe?r.setAttribute(t,o):t==="xmlns:xlink"||t==="xmlns"?r.setAttributeNS($Me,t,o):t.charCodeAt(3)===rH?r.setAttributeNS(qMe,t,o):t.charCodeAt(5)===rH?r.setAttributeNS(qK,t,o):r.setAttribute(t,o))}for(t in i)t in a||r.removeAttribute(t)}}function mTe(n,e,t){for(var r=0,i=0,a=e.length-1,o=e[0],s=e[a],l=t.length-1,u=t[0],c=t[l],f,h,d,p;r<=a&&i<=l;)o==null?o=e[++r]:s==null?s=e[--a]:u==null?u=t[++i]:c==null?c=t[--l]:gx(o,u)?(Vm(o,u),o=e[++r],u=t[++i]):gx(s,c)?(Vm(s,c),s=e[--a],c=t[--l]):gx(o,c)?(Vm(o,c),kp(n,o.elm,oJ(s.elm)),o=e[++r],c=t[--l]):gx(s,u)?(Vm(s,u),kp(n,s.elm,o.elm),s=e[--a],u=t[++i]):(XI(f)&&(f=gTe(e,r,a)),h=f[u.key],XI(h)?kp(n,WS(u),o.elm):(d=e[h],d.tag!==u.tag?kp(n,WS(u),o.elm):(Vm(d,u),e[h]=void 0,kp(n,d.elm,o.elm))),u=t[++i]);(r<=a||i<=l)&&(r>a?(p=t[l+1]==null?null:t[l+1].elm,sJ(n,p,t,i,l)):lA(n,e,r,a))}function Vm(n,e){var t=e.elm=n.elm,r=n.children,i=e.children;n!==e&&(D3(n,e),XI(e.text)?vu(r)&&vu(i)?r!==i&&mTe(t,r,i):vu(i)?(vu(n.text)&&vR(t,""),sJ(t,null,i,0,i.length-1)):vu(r)?lA(t,r,0,r.length-1):vu(n.text)&&vR(t,""):n.text!==e.text&&(vu(r)&&lA(t,r,0,r.length-1),vR(t,e.text)))}function yTe(n,e){if(gx(n,e))Vm(n,e);else{var t=n.elm,r=aJ(t);WS(e),r!==null&&(kp(r,e.elm,oJ(t)),lA(r,[n],0,0))}return e}var _Te=0,xTe=(function(){function n(e,t,r){if(this.type="svg",this.refreshHover=iH(),this.configLayer=iH(),this.storage=t,this._opts=r=Le({},r),this.root=e,this._id="zr"+_Te++,this._oldVNode=YG(r.width,r.height),e&&!r.ssr){var i=this._viewport=document.createElement("div");i.style.cssText="position:relative;overflow:hidden";var a=this._svgDom=this._oldVNode.elm=KK("svg");D3(null,this._oldVNode),i.appendChild(a),e.appendChild(i)}this.resize(r.width,r.height)}return n.prototype.getType=function(){return this.type},n.prototype.getViewportRoot=function(){return this._viewport},n.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},n.prototype.getSvgDom=function(){return this._svgDom},n.prototype.refresh=function(){if(this.root){var e=this.renderToVNode({willUpdate:!0});e.attrs.style="position:absolute;left:0;top:0;user-select:none",yTe(this._oldVNode,e),this._oldVNode=e}},n.prototype.renderOneToVNode=function(e){return QG(e,WI(this._id))},n.prototype.renderToVNode=function(e){e=e||{};var t=this.storage.getDisplayList(!0),r=this._width,i=this._height,a=WI(this._id);a.animation=e.animation,a.willUpdate=e.willUpdate,a.compress=e.compress,a.emphasis=e.emphasis,a.ssr=this._opts.ssr;var o=[],s=this._bgVNode=STe(r,i,this._backgroundColor,a);s&&o.push(s);var l=e.compress?null:this._mainVNode=Hi("g","main",{},[]);this._paintList(t,a,l?l.children:o),l&&o.push(l);var u=Ve(En(a.defs),function(h){return a.defs[h]});if(u.length&&o.push(Hi("defs","defs",{},u)),e.animation){var c=QMe(a.cssNodes,a.cssAnims,{newline:!0});if(c){var f=Hi("style","stl",{},[],c);o.push(f)}}return YG(r,i,o,e.useViewBox)},n.prototype.renderToString=function(e){return e=e||{},A3(this.renderToVNode({animation:tn(e.cssAnimation,!0),emphasis:tn(e.cssEmphasis,!0),willUpdate:!1,compress:!0,useViewBox:tn(e.useViewBox,!0)}),{newline:!0})},n.prototype.setBackgroundColor=function(e){this._backgroundColor=e},n.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},n.prototype._paintList=function(e,t,r){for(var i=e.length,a=[],o=0,s,l,u=0,c=0;c<i;c++){var f=e[c];if(!f.invisible){var h=f.__clipPaths,d=h&&h.length||0,p=l&&l.length||0,g=void 0;for(g=Math.max(d-1,p-1);g>=0&&!(h&&l&&h[g]===l[g]);g--);for(var m=p-1;m>g;m--)o--,s=a[o-1];for(var y=g+1;y<d;y++){var S={};dTe(h[y],S,t);var M=Hi("g","clip-g-"+u++,S,[]);(s?s.children:r).push(M),a[o++]=M,s=M}l=h;var b=QG(f,t);b&&(s?s.children:r).push(b)}}},n.prototype.resize=function(e,t){var r=this._opts,i=this.root,a=this._viewport;if(e!=null&&(r.width=e),t!=null&&(r.height=t),i&&a&&(a.style.display="none",e=ry(i,0,r),t=ry(i,1,r),a.style.display=""),this._width!==e||this._height!==t){if(this._width=e,this._height=t,a){var o=a.style;o.width=e+"px",o.height=t+"px"}if(yk(this._backgroundColor))this.refresh();else{var s=this._svgDom;s&&(s.setAttribute("width",e),s.setAttribute("height",t));var l=this._bgVNode&&this._bgVNode.elm;l&&(l.setAttribute("width",e),l.setAttribute("height",t))}}},n.prototype.getWidth=function(){return this._width},n.prototype.getHeight=function(){return this._height},n.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},n.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},n.prototype.toDataURL=function(e){var t=this.renderToString(),r="data:image/svg+xml;";return e?(t=mye(t),t&&r+"base64,"+t):r+"charset=UTF-8,"+encodeURIComponent(t)},n})();function iH(n){return function(){}}function STe(n,e,t,r){var i;if(t&&t!=="none")if(i=Hi("rect","bg",{width:n,height:e,x:"0",y:"0"}),DZ(t))rJ({fill:t},i.attrs,"fill",r);else if(yk(t))iJ({style:{fill:t},dirty:ei,getBoundingRect:function(){return{width:n,height:e}}},i.attrs,"fill",r);else{var a=RS(t),o=a.color,s=a.opacity;i.attrs.fill=o,s<1&&(i.attrs["fill-opacity"]=s)}return i}function wTe(n){n.registerPainter("svg",xTe)}function aH(n,e,t){var r=Vl.createCanvas(),i=e.getWidth(),a=e.getHeight(),o=r.style;return o&&(o.position="absolute",o.left="0",o.top="0",o.width=i+"px",o.height=a+"px",r.setAttribute("data-zr-dom-id",n)),r.width=i*t,r.height=a*t,r}var gR=(function(n){Rr(e,n);function e(t,r,i){var a=n.call(this)||this;a.motionBlur=!1,a.lastFrameAlpha=.7,a.dpr=1,a.virtual=!1,a.config={},a.incremental=!1,a.zlevel=0,a.maxRepaintRectCount=5,a.__dirty=!0,a.__firstTimePaint=!0,a.__used=!1,a.__drawIndex=0,a.__startIndex=0,a.__endIndex=0,a.__prevStartIndex=null,a.__prevEndIndex=null;var o;i=i||Bb,typeof t=="string"?o=aH(t,r,i):Bt(t)&&(o=t,t=o.id),a.id=t,a.dom=o;var s=o.style;return s&&(dk(o),o.onselectstart=function(){return!1},s.padding="0",s.margin="0",s.borderWidth="0"),a.painter=r,a.dpr=i,a}return e.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},e.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},e.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},e.prototype.setUnpainted=function(){this.__firstTimePaint=!0},e.prototype.createBackBuffer=function(){var t=this.dpr;this.domBack=aH("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),t!==1&&this.ctxBack.scale(t,t)},e.prototype.createRepaintRects=function(t,r,i,a){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var o=[],s=this.maxRepaintRectCount,l=!1,u=new fn(0,0,0,0);function c(S){if(!(!S.isFinite()||S.isZero()))if(o.length===0){var M=new fn(0,0,0,0);M.copy(S),o.push(M)}else{for(var b=!1,C=1/0,A=0,E=0;E<o.length;++E){var I=o[E];if(I.intersect(S)){var L=new fn(0,0,0,0);L.copy(I),L.union(S),o[E]=L,b=!0;break}else if(l){u.copy(S),u.union(I);var R=S.width*S.height,O=I.width*I.height,U=u.width*u.height,V=U-R-O;V<C&&(C=V,A=E)}}if(l&&(o[A].union(S),b=!0),!b){var M=new fn(0,0,0,0);M.copy(S),o.push(M)}l||(l=o.length>=s)}}for(var f=this.__startIndex;f<this.__endIndex;++f){var h=t[f];if(h){var d=h.shouldBePainted(i,a,!0,!0),p=h.__isRendered&&(h.__dirty&rs||!d)?h.getPrevPaintRect():null;p&&c(p);var g=d&&(h.__dirty&rs||!h.__isRendered)?h.getPaintRect():null;g&&c(g)}}for(var f=this.__prevStartIndex;f<this.__prevEndIndex;++f){var h=r[f],d=h&&h.shouldBePainted(i,a,!0,!0);if(h&&(!d||!h.__zr)&&h.__isRendered){var p=h.getPrevPaintRect();p&&c(p)}}var m;do{m=!1;for(var f=0;f<o.length;){if(o[f].isZero()){o.splice(f,1);continue}for(var y=f+1;y<o.length;)o[f].intersect(o[y])?(m=!0,o[f].union(o[y]),o.splice(y,1)):y++;f++}}while(m);return this._paintRects=o,o},e.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},e.prototype.resize=function(t,r){var i=this.dpr,a=this.dom,o=a.style,s=this.domBack;o&&(o.width=t+"px",o.height=r+"px"),a.width=t*i,a.height=r*i,s&&(s.width=t*i,s.height=r*i,i!==1&&this.ctxBack.scale(i,i))},e.prototype.clear=function(t,r,i){var a=this.dom,o=this.ctx,s=a.width,l=a.height;r=r||this.clearColor;var u=this.motionBlur&&!t,c=this.lastFrameAlpha,f=this.dpr,h=this;u&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(a,0,0,s/f,l/f));var d=this.domBack;function p(g,m,y,S){if(o.clearRect(g,m,y,S),r&&r!=="transparent"){var M=void 0;if(_1(r)){var b=r.global||r.__width===y&&r.__height===S;M=b&&r.__canvasGradient||NI(o,r,{x:0,y:0,width:y,height:S}),r.__canvasGradient=M,r.__width=y,r.__height=S}else oZ(r)&&(r.scaleX=r.scaleX||f,r.scaleY=r.scaleY||f,M=OI(o,r,{dirty:function(){h.setUnpainted(),h.painter.refresh()}}));o.save(),o.fillStyle=M||r,o.fillRect(g,m,y,S),o.restore()}u&&(o.save(),o.globalAlpha=c,o.drawImage(d,g,m,y,S),o.restore())}!i||u?p(0,0,s,l):i.length&&G(i,function(g){p(g.x*f,g.y*f,g.width*f,g.height*f)})},e})(Ws),oH=1e5,yp=314159,pT=.01,MTe=.001;function TTe(n){return n?n.__builtin__?!0:!(typeof n.resize!="function"||typeof n.refresh!="function"):!1}function bTe(n,e){var t=document.createElement("div");return t.style.cssText=["position:relative","width:"+n+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",t}var ATe=(function(){function n(e,t,r,i){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var a=!e.nodeName||e.nodeName.toUpperCase()==="CANVAS";this._opts=r=Le({},r||{}),this.dpr=r.devicePixelRatio||Bb,this._singleCanvas=a,this.root=e;var o=e.style;o&&(dk(e),e.innerHTML=""),this.storage=t;var s=this._zlevelList;this._prevDisplayList=[];var l=this._layers;if(a){var c=e,f=c.width,h=c.height;r.width!=null&&(f=r.width),r.height!=null&&(h=r.height),this.dpr=r.devicePixelRatio||1,c.width=f*this.dpr,c.height=h*this.dpr,this._width=f,this._height=h;var d=new gR(c,this,this.dpr);d.__builtin__=!0,d.initContext(),l[yp]=d,d.zlevel=yp,s.push(yp),this._domRoot=e}else{this._width=ry(e,0,r),this._height=ry(e,1,r);var u=this._domRoot=bTe(this._width,this._height);e.appendChild(u)}}return n.prototype.getType=function(){return"canvas"},n.prototype.isSingleCanvas=function(){return this._singleCanvas},n.prototype.getViewportRoot=function(){return this._domRoot},n.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},n.prototype.refresh=function(e){var t=this.storage.getDisplayList(!0),r=this._prevDisplayList,i=this._zlevelList;this._redrawId=Math.random(),this._paintList(t,r,e,this._redrawId);for(var a=0;a<i.length;a++){var o=i[a],s=this._layers[o];if(!s.__builtin__&&s.refresh){var l=a===0?this._backgroundColor:null;s.refresh(l)}}return this._opts.useDirtyRect&&(this._prevDisplayList=t.slice()),this},n.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},n.prototype._paintHoverList=function(e){var t=e.length,r=this._hoverlayer;if(r&&r.clear(),!!t){for(var i={inHover:!0,viewWidth:this._width,viewHeight:this._height},a,o=0;o<t;o++){var s=e[o];s.__inHover&&(r||(r=this._hoverlayer=this.getLayer(oH)),a||(a=r.ctx,a.save()),Qp(a,s,i,o===t-1))}a&&a.restore()}},n.prototype.getHoverLayer=function(){return this.getLayer(oH)},n.prototype.paintOne=function(e,t){s3(e,t)},n.prototype._paintList=function(e,t,r,i){if(this._redrawId===i){r=r||!1,this._updateLayerStatus(e);var a=this._doPaintList(e,t,r),o=a.finished,s=a.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),s&&this._paintHoverList(e),o)this.eachLayer(function(u){u.afterBrush&&u.afterBrush()});else{var l=this;Ib(function(){l._paintList(e,t,r,i)})}}},n.prototype._compositeManually=function(){var e=this.getLayer(yp).ctx,t=this._domRoot.width,r=this._domRoot.height;e.clearRect(0,0,t,r),this.eachBuiltinLayer(function(i){i.virtual&&e.drawImage(i.dom,0,0,t,r)})},n.prototype._doPaintList=function(e,t,r){for(var i=this,a=[],o=this._opts.useDirtyRect,s=0;s<this._zlevelList.length;s++){var l=this._zlevelList[s],u=this._layers[l];u.__builtin__&&u!==this._hoverlayer&&(u.__dirty||r)&&a.push(u)}for(var c=!0,f=!1,h=function(g){var m=a[g],y=m.ctx,S=o&&m.createRepaintRects(e,t,d._width,d._height),M=r?m.__startIndex:m.__drawIndex,b=!r&&m.incremental&&Date.now,C=b&&Date.now(),A=m.zlevel===d._zlevelList[0]?d._backgroundColor:null;if(m.__startIndex===m.__endIndex)m.clear(!1,A,S);else if(M===m.__startIndex){var E=e[M];(!E.incremental||!E.notClear||r)&&m.clear(!1,A,S)}M===-1&&(console.error("For some unknown reason. drawIndex is -1"),M=m.__startIndex);var I,L=function(V){var W={inHover:!1,allClipped:!1,prevEl:null,viewWidth:i._width,viewHeight:i._height};for(I=M;I<m.__endIndex;I++){var X=e[I];if(X.__inHover&&(f=!0),i._doPaintEl(X,m,o,V,W,I===m.__endIndex-1),b){var j=Date.now()-C;if(j>15)break}}W.prevElClipPaths&&y.restore()};if(S)if(S.length===0)I=m.__endIndex;else for(var R=d.dpr,O=0;O<S.length;++O){var U=S[O];y.save(),y.beginPath(),y.rect(U.x*R,U.y*R,U.width*R,U.height*R),y.clip(),L(U),y.restore()}else y.save(),L(),y.restore();m.__drawIndex=I,m.__drawIndex<m.__endIndex&&(c=!1)},d=this,p=0;p<a.length;p++)h(p);return Mn.wxa&&G(this._layers,function(g){g&&g.ctx&&g.ctx.draw&&g.ctx.draw()}),{finished:c,needsRefreshHover:f}},n.prototype._doPaintEl=function(e,t,r,i,a,o){var s=t.ctx;if(r){var l=e.getPaintRect();(!i||l&&l.intersect(i))&&(Qp(s,e,a,o),e.setPrevPaintRect(l))}else Qp(s,e,a,o)},n.prototype.getLayer=function(e,t){this._singleCanvas&&!this._needsManuallyCompositing&&(e=yp);var r=this._layers[e];return r||(r=new gR("zr_"+e,this,this.dpr),r.zlevel=e,r.__builtin__=!0,this._layerConfig[e]?on(r,this._layerConfig[e],!0):this._layerConfig[e-pT]&&on(r,this._layerConfig[e-pT],!0),t&&(r.virtual=t),this.insertLayer(e,r),r.initContext()),r},n.prototype.insertLayer=function(e,t){var r=this._layers,i=this._zlevelList,a=i.length,o=this._domRoot,s=null,l=-1;if(!r[e]&&TTe(t)){if(a>0&&e>i[0]){for(l=0;l<a-1&&!(i[l]<e&&i[l+1]>e);l++);s=r[i[l]]}if(i.splice(l+1,0,e),r[e]=t,!t.virtual)if(s){var u=s.dom;u.nextSibling?o.insertBefore(t.dom,u.nextSibling):o.appendChild(t.dom)}else o.firstChild?o.insertBefore(t.dom,o.firstChild):o.appendChild(t.dom);t.painter||(t.painter=this)}},n.prototype.eachLayer=function(e,t){for(var r=this._zlevelList,i=0;i<r.length;i++){var a=r[i];e.call(t,this._layers[a],a)}},n.prototype.eachBuiltinLayer=function(e,t){for(var r=this._zlevelList,i=0;i<r.length;i++){var a=r[i],o=this._layers[a];o.__builtin__&&e.call(t,o,a)}},n.prototype.eachOtherLayer=function(e,t){for(var r=this._zlevelList,i=0;i<r.length;i++){var a=r[i],o=this._layers[a];o.__builtin__||e.call(t,o,a)}},n.prototype.getLayers=function(){return this._layers},n.prototype._updateLayerStatus=function(e){this.eachBuiltinLayer(function(f,h){f.__dirty=f.__used=!1});function t(f){a&&(a.__endIndex!==f&&(a.__dirty=!0),a.__endIndex=f)}if(this._singleCanvas)for(var r=1;r<e.length;r++){var i=e[r];if(i.zlevel!==e[r-1].zlevel||i.incremental){this._needsManuallyCompositing=!0;break}}var a=null,o=0,s,l;for(l=0;l<e.length;l++){var i=e[l],u=i.zlevel,c=void 0;s!==u&&(s=u,o=0),i.incremental?(c=this.getLayer(u+MTe,this._needsManuallyCompositing),c.incremental=!0,o=1):c=this.getLayer(u+(o>0?pT:0),this._needsManuallyCompositing),c.__builtin__||fC("ZLevel "+u+" has been used by unkown layer "+c.id),c!==a&&(c.__used=!0,c.__startIndex!==l&&(c.__dirty=!0),c.__startIndex=l,c.incremental?c.__drawIndex=-1:c.__drawIndex=l,t(l),a=c),i.__dirty&rs&&!i.__inHover&&(c.__dirty=!0,c.incremental&&c.__drawIndex<0&&(c.__drawIndex=l))}t(l),this.eachBuiltinLayer(function(f,h){!f.__used&&f.getElementCount()>0&&(f.__dirty=!0,f.__startIndex=f.__endIndex=f.__drawIndex=0),f.__dirty&&f.__drawIndex<0&&(f.__drawIndex=f.__startIndex)})},n.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},n.prototype._clearLayer=function(e){e.clear()},n.prototype.setBackgroundColor=function(e){this._backgroundColor=e,G(this._layers,function(t){t.setUnpainted()})},n.prototype.configLayer=function(e,t){if(t){var r=this._layerConfig;r[e]?on(r[e],t,!0):r[e]=t;for(var i=0;i<this._zlevelList.length;i++){var a=this._zlevelList[i];if(a===e||a===e+pT){var o=this._layers[a];on(o,r[e],!0)}}}},n.prototype.delLayer=function(e){var t=this._layers,r=this._zlevelList,i=t[e];i&&(i.dom.parentNode.removeChild(i.dom),delete t[e],r.splice(dn(r,e),1))},n.prototype.resize=function(e,t){if(this._domRoot.style){var r=this._domRoot;r.style.display="none";var i=this._opts,a=this.root;if(e!=null&&(i.width=e),t!=null&&(i.height=t),e=ry(a,0,i),t=ry(a,1,i),r.style.display="",this._width!==e||t!==this._height){r.style.width=e+"px",r.style.height=t+"px";for(var o in this._layers)this._layers.hasOwnProperty(o)&&this._layers[o].resize(e,t);this.refresh(!0)}this._width=e,this._height=t}else{if(e==null||t==null)return;this._width=e,this._height=t,this.getLayer(yp).resize(e,t)}return this},n.prototype.clearLayer=function(e){var t=this._layers[e];t&&t.clear()},n.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},n.prototype.getRenderedCanvas=function(e){if(e=e||{},this._singleCanvas&&!this._compositeManually)return this._layers[yp].dom;var t=new gR("image",this,e.pixelRatio||this.dpr);t.initContext(),t.clear(!1,e.backgroundColor||this._backgroundColor);var r=t.ctx;if(e.pixelRatio<=this.dpr){this.refresh();var i=t.dom.width,a=t.dom.height;this.eachLayer(function(f){f.__builtin__?r.drawImage(f.dom,0,0,i,a):f.renderToCanvas&&(r.save(),f.renderToCanvas(r),r.restore())})}else for(var o={inHover:!1,viewWidth:this._width,viewHeight:this._height},s=this.storage.getDisplayList(!0),l=0,u=s.length;l<u;l++){var c=s[l];Qp(r,c,o,l===u-1)}return t.dom},n.prototype.getWidth=function(){return this._width},n.prototype.getHeight=function(){return this._height},n})();function CTe(n){n.registerPainter("canvas",ATe)}var ETe=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return e.prototype.getInitialData=function(t){return zu(null,this,{useEncodeDefaulter:!0})},e.prototype.getLegendIcon=function(t){var r=new Xt,i=ci("line",0,t.itemHeight/2,t.itemWidth,0,t.lineStyle.stroke,!1);r.add(i),i.setStyle(t.lineStyle);var a=this.getData().getVisual("symbol"),o=this.getData().getVisual("symbolRotate"),s=a==="none"?"circle":a,l=t.itemHeight*.8,u=ci(s,(t.itemWidth-l)/2,(t.itemHeight-l)/2,l,l,t.itemStyle.fill);r.add(u),u.setStyle(t.itemStyle);var c=t.iconRotate==="inherit"?o:t.iconRotate||0;return u.rotation=c*Math.PI/180,u.setOrigin([t.itemWidth/2,t.itemHeight/2]),s.indexOf("empty")>-1&&(u.style.stroke=u.style.fill,u.style.fill="#fff",u.style.lineWidth=2),r},e.type="series.line",e.dependencies=["grid","polar"],e.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},e})(pr);function Py(n,e){var t=n.mapDimensionsAll("defaultedLabel"),r=t.length;if(r===1){var i=Cy(n,e,t[0]);return i!=null?i+"":null}else if(r){for(var a=[],o=0;o<t.length;o++)a.push(Cy(n,e,t[o]));return a.join(" ")}}function lJ(n,e){var t=n.mapDimensionsAll("defaultedLabel");if(!ze(e))return e+"";for(var r=[],i=0;i<t.length;i++){var a=n.getDimensionIndex(t[i]);a>=0&&r.push(e[a])}return r.join(" ")}var I1=(function(n){Se(e,n);function e(t,r,i,a){var o=n.call(this)||this;return o.updateData(t,r,i,a),o}return e.prototype._createSymbol=function(t,r,i,a,o){this.removeAll();var s=ci(t,-1,-1,2,2,null,o);s.attr({z2:100,culling:!0,scaleX:a[0]/2,scaleY:a[1]/2}),s.drift=PTe,this._symbolType=t,this.add(s)},e.prototype.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(null,t)},e.prototype.getSymbolType=function(){return this._symbolType},e.prototype.getSymbolPath=function(){return this.childAt(0)},e.prototype.highlight=function(){ef(this.childAt(0))},e.prototype.downplay=function(){tf(this.childAt(0))},e.prototype.setZ=function(t,r){var i=this.childAt(0);i.zlevel=t,i.z=r},e.prototype.setDraggable=function(t,r){var i=this.childAt(0);i.draggable=t,i.cursor=!r&&t?"move":i.cursor},e.prototype.updateData=function(t,r,i,a){this.silent=!1;var o=t.getItemVisual(r,"symbol")||"circle",s=t.hostModel,l=e.getSymbolSize(t,r),u=o!==this._symbolType,c=a&&a.disableAnimation;if(u){var f=t.getItemVisual(r,"symbolKeepAspect");this._createSymbol(o,t,r,l,f)}else{var h=this.childAt(0);h.silent=!1;var d={scaleX:l[0]/2,scaleY:l[1]/2};c?h.attr(d):Xn(h,d,s,r),Wl(h)}if(this._updateCommon(t,r,l,i,a),u){var h=this.childAt(0);if(!c){var d={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:h.style.opacity}};h.scaleX=h.scaleY=0,h.style.opacity=0,Dr(h,d,s,r)}}c&&this.childAt(0).stopAnimation("leave")},e.prototype._updateCommon=function(t,r,i,a,o){var s=this.childAt(0),l=t.hostModel,u,c,f,h,d,p,g,m,y;if(a&&(u=a.emphasisItemStyle,c=a.blurItemStyle,f=a.selectItemStyle,h=a.focus,d=a.blurScope,g=a.labelStatesModels,m=a.hoverScale,y=a.cursorStyle,p=a.emphasisDisabled),!a||t.hasItemOption){var S=a&&a.itemModel?a.itemModel:t.getItemModel(r),M=S.getModel("emphasis");u=M.getModel("itemStyle").getItemStyle(),f=S.getModel(["select","itemStyle"]).getItemStyle(),c=S.getModel(["blur","itemStyle"]).getItemStyle(),h=M.get("focus"),d=M.get("blurScope"),p=M.get("disabled"),g=ji(S),m=M.getShallow("scale"),y=S.getShallow("cursor")}var b=t.getItemVisual(r,"symbolRotate");s.attr("rotation",(b||0)*Math.PI/180||0);var C=Vv(t.getItemVisual(r,"symbolOffset"),i);C&&(s.x=C[0],s.y=C[1]),y&&s.attr("cursor",y);var A=t.getItemVisual(r,"style"),E=A.fill;if(s instanceof $i){var I=s.style;s.useStyle(Le({image:I.image,x:I.x,y:I.y,width:I.width,height:I.height},A))}else s.__isEmptyBrush?s.useStyle(Le({},A)):s.useStyle(A),s.style.decal=null,s.setColor(E,o&&o.symbolInnerColor),s.style.strokeNoScale=!0;var L=t.getItemVisual(r,"liftZ"),R=this._z2;L!=null?R==null&&(this._z2=s.z2,s.z2+=L):R!=null&&(s.z2=R,this._z2=null);var O=o&&o.useNameLabel;Sa(s,g,{labelFetcher:l,labelDataIndex:r,defaultText:U,inheritColor:E,defaultOpacity:A.opacity});function U(X){return O?t.getName(X):Py(t,X)}this._sizeX=i[0]/2,this._sizeY=i[1]/2;var V=s.ensureState("emphasis");V.style=u,s.ensureState("select").style=f,s.ensureState("blur").style=c;var W=m==null||m===!0?Math.max(1.1,3/this._sizeY):isFinite(m)&&m>0?+m:1;V.scaleX=this._sizeX*W,V.scaleY=this._sizeY*W,this.setSymbolScale(1),Vr(this,h,d,p)},e.prototype.setSymbolScale=function(t){this.scaleX=this.scaleY=t},e.prototype.fadeOut=function(t,r,i){var a=this.childAt(0),o=$t(this).dataIndex,s=i&&i.animation;if(this.silent=a.silent=!0,i&&i.fadeLabel){var l=a.getTextContent();l&&kh(l,{style:{opacity:0}},r,{dataIndex:o,removeOpt:s,cb:function(){a.removeTextContent()}})}else a.removeTextContent();kh(a,{style:{opacity:0},scaleX:0,scaleY:0},r,{dataIndex:o,cb:t,removeOpt:s})},e.getSymbolSize=function(t,r){return a0(t.getItemVisual(r,"symbolSize"))},e})(Xt);function PTe(n,e){this.parent.drift(n,e)}function mR(n,e,t,r){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(r.isIgnore&&r.isIgnore(t))&&!(r.clipShape&&!r.clipShape.contain(e[0],e[1]))&&n.getItemVisual(t,"symbol")!=="none"}function sH(n){return n!=null&&!Bt(n)&&(n={isIgnore:n}),n||{}}function lH(n){var e=n.hostModel,t=e.getModel("emphasis");return{emphasisItemStyle:t.getModel("itemStyle").getItemStyle(),blurItemStyle:e.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:e.getModel(["select","itemStyle"]).getItemStyle(),focus:t.get("focus"),blurScope:t.get("blurScope"),emphasisDisabled:t.get("disabled"),hoverScale:t.get("scale"),labelStatesModels:ji(e),cursorStyle:e.get("cursor")}}var N1=(function(){function n(e){this.group=new Xt,this._SymbolCtor=e||I1}return n.prototype.updateData=function(e,t){this._progressiveEls=null,t=sH(t);var r=this.group,i=e.hostModel,a=this._data,o=this._SymbolCtor,s=t.disableAnimation,l=lH(e),u={disableAnimation:s},c=t.getSymbolPoint||function(f){return e.getItemLayout(f)};a||r.removeAll(),e.diff(a).add(function(f){var h=c(f);if(mR(e,h,f,t)){var d=new o(e,f,l,u);d.setPosition(h),e.setItemGraphicEl(f,d),r.add(d)}}).update(function(f,h){var d=a.getItemGraphicEl(h),p=c(f);if(!mR(e,p,f,t)){r.remove(d);return}var g=e.getItemVisual(f,"symbol")||"circle",m=d&&d.getSymbolType&&d.getSymbolType();if(!d||m&&m!==g)r.remove(d),d=new o(e,f,l,u),d.setPosition(p);else{d.updateData(e,f,l,u);var y={x:p[0],y:p[1]};s?d.attr(y):Xn(d,y,i)}r.add(d),e.setItemGraphicEl(f,d)}).remove(function(f){var h=a.getItemGraphicEl(f);h&&h.fadeOut(function(){r.remove(h)},i)}).execute(),this._getSymbolPoint=c,this._data=e},n.prototype.updateLayout=function(){var e=this,t=this._data;t&&t.eachItemGraphicEl(function(r,i){var a=e._getSymbolPoint(i);r.setPosition(a),r.markRedraw()})},n.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=lH(e),this._data=null,this.group.removeAll()},n.prototype.incrementalUpdate=function(e,t,r){this._progressiveEls=[],r=sH(r);function i(l){l.isGroup||(l.incremental=!0,l.ensureState("emphasis").hoverLayer=!0)}for(var a=e.start;a<e.end;a++){var o=t.getItemLayout(a);if(mR(t,o,a,r)){var s=new this._SymbolCtor(t,a,this._seriesScope);s.traverse(i),s.setPosition(o),this.group.add(s),t.setItemGraphicEl(a,s),this._progressiveEls.push(s)}}},n.prototype.eachRendered=function(e){Zh(this._progressiveEls||this.group,e)},n.prototype.remove=function(e){var t=this.group,r=this._data;r&&e?r.eachItemGraphicEl(function(i){i.fadeOut(function(){t.remove(i)},r.hostModel)}):t.removeAll()},n})();function uJ(n,e,t){var r=n.getBaseAxis(),i=n.getOtherAxis(r),a=DTe(i,t),o=r.dim,s=i.dim,l=e.mapDimension(s),u=e.mapDimension(o),c=s==="x"||s==="radius"?1:0,f=Ve(n.dimensions,function(p){return e.mapDimension(p)}),h=!1,d=e.getCalculationInfo("stackResultDimension");return rf(e,f[0])&&(h=!0,f[0]=d),rf(e,f[1])&&(h=!0,f[1]=d),{dataDimsForPoint:f,valueStart:a,valueAxisDim:s,baseAxisDim:o,stacked:!!h,valueDim:l,baseDim:u,baseDataOffset:c,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}}function DTe(n,e){var t=0,r=n.scale.getExtent();return e==="start"?t=r[0]:e==="end"?t=r[1]:Hn(e)&&!isNaN(e)?t=e:r[0]>0?t=r[0]:r[1]<0&&(t=r[1]),t}function cJ(n,e,t,r){var i=NaN;n.stacked&&(i=t.get(t.getCalculationInfo("stackedOverDimension"),r)),isNaN(i)&&(i=n.valueStart);var a=n.baseDataOffset,o=[];return o[a]=t.get(n.baseDim,r),o[1-a]=i,e.dataToPoint(o)}function RTe(n,e){var t=[];return e.diff(n).add(function(r){t.push({cmd:"+",idx:r})}).update(function(r,i){t.push({cmd:"=",idx:i,idx1:r})}).remove(function(r){t.push({cmd:"-",idx:r})}).execute(),t}function LTe(n,e,t,r,i,a,o,s){for(var l=RTe(n,e),u=[],c=[],f=[],h=[],d=[],p=[],g=[],m=uJ(i,e,o),y=n.getLayout("points")||[],S=e.getLayout("points")||[],M=0;M<l.length;M++){var b=l[M],C=!0,A=void 0,E=void 0;switch(b.cmd){case"=":A=b.idx*2,E=b.idx1*2;var I=y[A],L=y[A+1],R=S[E],O=S[E+1];(isNaN(I)||isNaN(L))&&(I=R,L=O),u.push(I,L),c.push(R,O),f.push(t[A],t[A+1]),h.push(r[E],r[E+1]),g.push(e.getRawIndex(b.idx1));break;case"+":var U=b.idx,V=m.dataDimsForPoint,W=i.dataToPoint([e.get(V[0],U),e.get(V[1],U)]);E=U*2,u.push(W[0],W[1]),c.push(S[E],S[E+1]);var X=cJ(m,i,e,U);f.push(X[0],X[1]),h.push(r[E],r[E+1]),g.push(e.getRawIndex(U));break;case"-":C=!1}C&&(d.push(b),p.push(p.length))}p.sort(function(fe,be){return g[fe]-g[be]});for(var j=u.length,Q=wu(j),B=wu(j),Z=wu(j),q=wu(j),Y=[],M=0;M<p.length;M++){var te=p[M],me=M*2,ae=te*2;Q[me]=u[ae],Q[me+1]=u[ae+1],B[me]=c[ae],B[me+1]=c[ae+1],Z[me]=f[ae],Z[me+1]=f[ae+1],q[me]=h[ae],q[me+1]=h[ae+1],Y[M]=d[te]}return{current:Q,next:B,stackedOnCurrent:Z,stackedOnNext:q,status:Y}}var ih=Math.min,ah=Math.max;function hv(n,e){return isNaN(n)||isNaN(e)}function YI(n,e,t,r,i,a,o,s,l){for(var u,c,f,h,d,p,g=t,m=0;m<r;m++){var y=e[g*2],S=e[g*2+1];if(g>=i||g<0)break;if(hv(y,S)){if(l){g+=a;continue}break}if(g===t)n[a>0?"moveTo":"lineTo"](y,S),f=y,h=S;else{var M=y-u,b=S-c;if(M*M+b*b<.5){g+=a;continue}if(o>0){for(var C=g+a,A=e[C*2],E=e[C*2+1];A===y&&E===S&&m<r;)m++,C+=a,g+=a,A=e[C*2],E=e[C*2+1],y=e[g*2],S=e[g*2+1],M=y-u,b=S-c;var I=m+1;if(l)for(;hv(A,E)&&I<r;)I++,C+=a,A=e[C*2],E=e[C*2+1];var L=.5,R=0,O=0,U=void 0,V=void 0;if(I>=r||hv(A,E))d=y,p=S;else{R=A-u,O=E-c;var W=y-u,X=A-y,j=S-c,Q=E-S,B=void 0,Z=void 0;if(s==="x"){B=Math.abs(W),Z=Math.abs(X);var q=R>0?1:-1;d=y-q*B*o,p=S,U=y+q*Z*o,V=S}else if(s==="y"){B=Math.abs(j),Z=Math.abs(Q);var Y=O>0?1:-1;d=y,p=S-Y*B*o,U=y,V=S+Y*Z*o}else B=Math.sqrt(W*W+j*j),Z=Math.sqrt(X*X+Q*Q),L=Z/(Z+B),d=y-R*o*(1-L),p=S-O*o*(1-L),U=y+R*o*L,V=S+O*o*L,U=ih(U,ah(A,y)),V=ih(V,ah(E,S)),U=ah(U,ih(A,y)),V=ah(V,ih(E,S)),R=U-y,O=V-S,d=y-R*B/Z,p=S-O*B/Z,d=ih(d,ah(u,y)),p=ih(p,ah(c,S)),d=ah(d,ih(u,y)),p=ah(p,ih(c,S)),R=y-d,O=S-p,U=y+R*Z/B,V=S+O*Z/B}n.bezierCurveTo(f,h,d,p,y,S),f=U,h=V}else n.lineTo(y,S)}u=y,c=S,g+=a}return m}var fJ=(function(){function n(){this.smooth=0,this.smoothConstraint=!0}return n})(),ITe=(function(n){Se(e,n);function e(t){var r=n.call(this,t)||this;return r.type="ec-polyline",r}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new fJ},e.prototype.buildPath=function(t,r){var i=r.points,a=0,o=i.length/2;if(r.connectNulls){for(;o>0&&hv(i[o*2-2],i[o*2-1]);o--);for(;a<o&&hv(i[a*2],i[a*2+1]);a++);}for(;a<o;)a+=YI(t,i,a,o,o,1,r.smooth,r.smoothMonotone,r.connectNulls)+1},e.prototype.getPointOn=function(t,r){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var i=this.path,a=i.data,o=Nu.CMD,s,l,u=r==="x",c=[],f=0;f<a.length;){var h=a[f++],d=void 0,p=void 0,g=void 0,m=void 0,y=void 0,S=void 0,M=void 0;switch(h){case o.M:s=a[f++],l=a[f++];break;case o.L:if(d=a[f++],p=a[f++],M=u?(t-s)/(d-s):(t-l)/(p-l),M<=1&&M>=0){var b=u?(p-l)*M+l:(d-s)*M+s;return u?[t,b]:[b,t]}s=d,l=p;break;case o.C:d=a[f++],p=a[f++],g=a[f++],m=a[f++],y=a[f++],S=a[f++];var C=u?Ob(s,d,g,y,t,c):Ob(l,p,m,S,t,c);if(C>0)for(var A=0;A<C;A++){var E=c[A];if(E<=1&&E>=0){var b=u?Vi(l,p,m,S,E):Vi(s,d,g,y,E);return u?[t,b]:[b,t]}}s=y,l=S;break}}},e})(Tn),NTe=(function(n){Se(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e})(fJ),hJ=(function(n){Se(e,n);function e(t){var r=n.call(this,t)||this;return r.type="ec-polygon",r}return e.prototype.getDefaultShape=function(){return new NTe},e.prototype.buildPath=function(t,r){var i=r.points,a=r.stackedOnPoints,o=0,s=i.length/2,l=r.smoothMonotone;if(r.connectNulls){for(;s>0&&hv(i[s*2-2],i[s*2-1]);s--);for(;o<s&&hv(i[o*2],i[o*2+1]);o++);}for(;o<s;){var u=YI(t,i,o,s,s,1,r.smooth,l,r.connectNulls);YI(t,a,o+u-1,u,s,-1,r.stackedOnSmooth,l,r.connectNulls),o+=u+1,t.closePath()}},e})(Tn);function dJ(n,e,t,r,i){var a=n.getArea(),o=a.x,s=a.y,l=a.width,u=a.height,c=t.get(["lineStyle","width"])||0;o-=c/2,s-=c/2,l+=c,u+=c,l=Math.ceil(l),o!==Math.floor(o)&&(o=Math.floor(o),l++);var f=new kn({shape:{x:o,y:s,width:l,height:u}});if(e){var h=n.getBaseAxis(),d=h.isHorizontal(),p=h.inverse;d?(p&&(f.shape.x+=l),f.shape.width=0):(p||(f.shape.y+=u),f.shape.height=0);var g=Ct(i)?function(m){i(m,f)}:null;Dr(f,{shape:{width:l,height:u,x:o,y:s}},t,null,r,g)}return f}function pJ(n,e,t){var r=n.getArea(),i=Zr(r.r0,1),a=Zr(r.r,1),o=new Wa({shape:{cx:Zr(n.cx,1),cy:Zr(n.cy,1),r0:i,r:a,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}});if(e){var s=n.getBaseAxis().dim==="angle";s?o.shape.endAngle=r.startAngle:o.shape.r=i,Dr(o,{shape:{endAngle:r.endAngle,r:a}},t)}return o}function O1(n,e,t,r,i){if(n){if(n.type==="polar")return pJ(n,e,t);if(n.type==="cartesian2d")return dJ(n,e,t,r,i)}else return null;return null}function Gv(n,e){return n.type===e}function uH(n,e){if(n.length===e.length){for(var t=0;t<n.length;t++)if(n[t]!==e[t])return;return!0}}function cH(n){for(var e=1/0,t=1/0,r=-1/0,i=-1/0,a=0;a<n.length;){var o=n[a++],s=n[a++];isNaN(o)||(e=Math.min(o,e),r=Math.max(o,r)),isNaN(s)||(t=Math.min(s,t),i=Math.max(s,i))}return[[e,t],[r,i]]}function fH(n,e){var t=cH(n),r=t[0],i=t[1],a=cH(e),o=a[0],s=a[1];return Math.max(Math.abs(r[0]-o[0]),Math.abs(r[1]-o[1]),Math.abs(i[0]-s[0]),Math.abs(i[1]-s[1]))}function hH(n){return Hn(n)?n:n?.5:0}function OTe(n,e,t){if(!t.valueDim)return[];for(var r=e.count(),i=wu(r*2),a=0;a<r;a++){var o=cJ(t,n,e,a);i[a*2]=o[0],i[a*2+1]=o[1]}return i}function oh(n,e,t,r,i){var a=t.getBaseAxis(),o=a.dim==="x"||a.dim==="radius"?0:1,s=[],l=0,u=[],c=[],f=[],h=[];if(i){for(l=0;l<n.length;l+=2){var d=e||n;!isNaN(d[l])&&!isNaN(d[l+1])&&h.push(n[l],n[l+1])}n=h}for(l=0;l<n.length-2;l+=2)switch(f[0]=n[l+2],f[1]=n[l+3],c[0]=n[l],c[1]=n[l+1],s.push(c[0],c[1]),r){case"end":u[o]=f[o],u[1-o]=c[1-o],s.push(u[0],u[1]);break;case"middle":var p=(c[o]+f[o])/2,g=[];u[o]=g[o]=p,u[1-o]=c[1-o],g[1-o]=f[1-o],s.push(u[0],u[1]),s.push(g[0],g[1]);break;default:u[o]=c[o],u[1-o]=f[1-o],s.push(u[0],u[1])}return s.push(n[l++],n[l++]),s}function kTe(n,e){var t=[],r=n.length,i,a;function o(c,f,h){var d=c.coord,p=(h-d)/(f.coord-d),g=mk(p,[c.color,f.color]);return{coord:h,color:g}}for(var s=0;s<r;s++){var l=n[s],u=l.coord;if(u<0)i=l;else if(u>e){a?t.push(o(a,l,e)):i&&t.push(o(i,l,0),o(i,l,e));break}else i&&(t.push(o(i,l,0)),i=null),t.push(l),a=l}return t}function FTe(n,e,t){var r=n.getVisual("visualMeta");if(!(!r||!r.length||!n.count())&&e.type==="cartesian2d"){for(var i,a,o=r.length-1;o>=0;o--){var s=n.getDimensionInfo(r[o].dimension);if(i=s&&s.coordDim,i==="x"||i==="y"){a=r[o];break}}if(a){var l=e.getAxis(i),u=Ve(a.stops,function(M){return{coord:l.toGlobalCoord(l.dataToCoord(M.value)),color:M.color}}),c=u.length,f=a.outerColors.slice();c&&u[0].coord>u[c-1].coord&&(u.reverse(),f.reverse());var h=kTe(u,i==="x"?t.getWidth():t.getHeight()),d=h.length;if(!d&&c)return u[0].coord<0?f[1]?f[1]:u[c-1].color:f[0]?f[0]:u[0].color;var p=10,g=h[0].coord-p,m=h[d-1].coord+p,y=m-g;if(y<.001)return"transparent";G(h,function(M){M.offset=(M.coord-g)/y}),h.push({offset:d?h[d-1].offset:.5,color:f[1]||"transparent"}),h.unshift({offset:d?h[0].offset:.5,color:f[0]||"transparent"});var S=new $y(0,0,0,0,h,!0);return S[i]=g,S[i+"2"]=m,S}}}function zTe(n,e,t){var r=n.get("showAllSymbol"),i=r==="auto";if(!(r&&!i)){var a=t.getAxesByScale("ordinal")[0];if(a&&!(i&&BTe(a,e))){var o=e.mapDimension(a.dim),s={};return G(a.getViewLabels(),function(l){var u=a.scale.getRawOrdinalNumber(l.tickValue);s[u]=1}),function(l){return!s.hasOwnProperty(e.get(o,l))}}}}function BTe(n,e){var t=n.getExtent(),r=Math.abs(t[1]-t[0])/n.scale.count();isNaN(r)&&(r=0);for(var i=e.count(),a=Math.max(1,Math.round(i/5)),o=0;o<i;o+=a)if(I1.getSymbolSize(e,o)[n.isHorizontal()?1:0]*1.5>r)return!1;return!0}function UTe(n,e){return isNaN(n)||isNaN(e)}function VTe(n){for(var e=n.length/2;e>0&&UTe(n[e*2-2],n[e*2-1]);e--);return e-1}function dH(n,e){return[n[e*2],n[e*2+1]]}function GTe(n,e,t){for(var r=n.length/2,i=t==="x"?0:1,a,o,s=0,l=-1,u=0;u<r;u++)if(o=n[u*2+i],!(isNaN(o)||isNaN(n[u*2+1-i]))){if(u===0){a=o;continue}if(a<=e&&o>=e||a>=e&&o<=e){l=u;break}s=u,a=o}return{range:[s,l],t:(e-a)/(o-a)}}function vJ(n){if(n.get(["endLabel","show"]))return!0;for(var e=0;e<_o.length;e++)if(n.get([_o[e],"endLabel","show"]))return!0;return!1}function yR(n,e,t,r){if(Gv(e,"cartesian2d")){var i=r.getModel("endLabel"),a=i.get("valueAnimation"),o=r.getData(),s={lastFrameIndex:0},l=vJ(r)?function(d,p){n._endLabelOnDuring(d,p,o,s,a,i,e)}:null,u=e.getBaseAxis().isHorizontal(),c=dJ(e,t,r,function(){var d=n._endLabel;d&&t&&s.originalX!=null&&d.attr({x:s.originalX,y:s.originalY})},l);if(!r.get("clip",!0)){var f=c.shape,h=Math.max(f.width,f.height);u?(f.y-=h,f.height+=h*2):(f.x-=h,f.width+=h*2)}return l&&l(1,c),c}else return pJ(e,t,r)}function HTe(n,e){var t=e.getBaseAxis(),r=t.isHorizontal(),i=t.inverse,a=r?i?"right":"left":"center",o=r?"middle":i?"top":"bottom";return{normal:{align:n.get("align")||a,verticalAlign:n.get("verticalAlign")||o}}}var WTe=(function(n){Se(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.init=function(){var t=new Xt,r=new N1;this.group.add(r.group),this._symbolDraw=r,this._lineGroup=t,this._changePolyState=ht(this._changePolyState,this)},e.prototype.render=function(t,r,i){var a=t.coordinateSystem,o=this.group,s=t.getData(),l=t.getModel("lineStyle"),u=t.getModel("areaStyle"),c=s.getLayout("points")||[],f=a.type==="polar",h=this._coordSys,d=this._symbolDraw,p=this._polyline,g=this._polygon,m=this._lineGroup,y=!r.ssr&&t.get("animation"),S=!u.isEmpty(),M=u.get("origin"),b=uJ(a,s,M),C=S&&OTe(a,s,b),A=t.get("showSymbol"),E=t.get("connectNulls"),I=A&&!f&&zTe(t,s,a),L=this._data;L&&L.eachItemGraphicEl(function(fe,be){fe.__temp&&(o.remove(fe),L.setItemGraphicEl(be,null))}),A||d.remove(),o.add(m);var R=f?!1:t.get("step"),O;a&&a.getArea&&t.get("clip",!0)&&(O=a.getArea(),O.width!=null?(O.x-=.1,O.y-=.1,O.width+=.2,O.height+=.2):O.r0&&(O.r0-=.5,O.r+=.5)),this._clipShapeForSymbol=O;var U=FTe(s,a,i)||s.getVisual("style")[s.getVisual("drawType")];if(!(p&&h.type===a.type&&R===this._step))A&&d.updateData(s,{isIgnore:I,clipShape:O,disableAnimation:!0,getSymbolPoint:function(fe){return[c[fe*2],c[fe*2+1]]}}),y&&this._initSymbolLabelAnimation(s,a,O),R&&(C&&(C=oh(C,c,a,R,E)),c=oh(c,null,a,R,E)),p=this._newPolyline(c),S?g=this._newPolygon(c,C):g&&(m.remove(g),g=this._polygon=null),f||this._initOrUpdateEndLabel(t,a,bv(U)),m.setClipPath(yR(this,a,!0,t));else{S&&!g?g=this._newPolygon(c,C):g&&!S&&(m.remove(g),g=this._polygon=null),f||this._initOrUpdateEndLabel(t,a,bv(U));var V=m.getClipPath();if(V){var W=yR(this,a,!1,t);Dr(V,{shape:W.shape},t)}else m.setClipPath(yR(this,a,!0,t));A&&d.updateData(s,{isIgnore:I,clipShape:O,disableAnimation:!0,getSymbolPoint:function(fe){return[c[fe*2],c[fe*2+1]]}}),(!uH(this._stackedOnPoints,C)||!uH(this._points,c))&&(y?this._doUpdateAnimation(s,C,a,i,R,M,E):(R&&(C&&(C=oh(C,c,a,R,E)),c=oh(c,null,a,R,E)),p.setShape({points:c}),g&&g.setShape({points:c,stackedOnPoints:C})))}var X=t.getModel("emphasis"),j=X.get("focus"),Q=X.get("blurScope"),B=X.get("disabled");if(p.useStyle(Dt(l.getLineStyle(),{fill:"none",stroke:U,lineJoin:"bevel"})),xa(p,t,"lineStyle"),p.style.lineWidth>0&&t.get(["emphasis","lineStyle","width"])==="bolder"){var Z=p.getState("emphasis").style;Z.lineWidth=+p.style.lineWidth+1}$t(p).seriesIndex=t.seriesIndex,Vr(p,j,Q,B);var q=hH(t.get("smooth")),Y=t.get("smoothMonotone");if(p.setShape({smooth:q,smoothMonotone:Y,connectNulls:E}),g){var te=s.getCalculationInfo("stackedOnSeries"),me=0;g.useStyle(Dt(u.getAreaStyle(),{fill:U,opacity:.7,lineJoin:"bevel",decal:s.getVisual("style").decal})),te&&(me=hH(te.get("smooth"))),g.setShape({smooth:q,stackedOnSmooth:me,smoothMonotone:Y,connectNulls:E}),xa(g,t,"areaStyle"),$t(g).seriesIndex=t.seriesIndex,Vr(g,j,Q,B)}var ae=this._changePolyState;s.eachItemGraphicEl(function(fe){fe&&(fe.onHoverStateChange=ae)}),this._polyline.onHoverStateChange=ae,this._data=s,this._coordSys=a,this._stackedOnPoints=C,this._points=c,this._step=R,this._valueOrigin=M,t.get("triggerLineEvent")&&(this.packEventData(t,p),g&&this.packEventData(t,g))},e.prototype.packEventData=function(t,r){$t(r).eventData={componentType:"series",componentSubType:"line",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"line"}},e.prototype.highlight=function(t,r,i,a){var o=t.getData(),s=wv(o,a);if(this._changePolyState("emphasis"),!(s instanceof Array)&&s!=null&&s>=0){var l=o.getLayout("points"),u=o.getItemGraphicEl(s);if(!u){var c=l[s*2],f=l[s*2+1];if(isNaN(c)||isNaN(f)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(c,f))return;var h=t.get("zlevel")||0,d=t.get("z")||0;u=new I1(o,s),u.x=c,u.y=f,u.setZ(h,d);var p=u.getSymbolPath().getTextContent();p&&(p.zlevel=h,p.z=d,p.z2=this._polyline.z2+1),u.__temp=!0,o.setItemGraphicEl(s,u),u.stopSymbolAnimation(!0),this.group.add(u)}u.highlight()}else sr.prototype.highlight.call(this,t,r,i,a)},e.prototype.downplay=function(t,r,i,a){var o=t.getData(),s=wv(o,a);if(this._changePolyState("normal"),s!=null&&s>=0){var l=o.getItemGraphicEl(s);l&&(l.__temp?(o.setItemGraphicEl(s,null),this.group.remove(l)):l.downplay())}else sr.prototype.downplay.call(this,t,r,i,a)},e.prototype._changePolyState=function(t){var r=this._polygon;Gb(this._polyline,t),r&&Gb(r,t)},e.prototype._newPolyline=function(t){var r=this._polyline;return r&&this._lineGroup.remove(r),r=new ITe({shape:{points:t},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(r),this._polyline=r,r},e.prototype._newPolygon=function(t,r){var i=this._polygon;return i&&this._lineGroup.remove(i),i=new hJ({shape:{points:t,stackedOnPoints:r},segmentIgnoreThreshold:2}),this._lineGroup.add(i),this._polygon=i,i},e.prototype._initSymbolLabelAnimation=function(t,r,i){var a,o,s=r.getBaseAxis(),l=s.inverse;r.type==="cartesian2d"?(a=s.isHorizontal(),o=!1):r.type==="polar"&&(a=s.dim==="angle",o=!0);var u=t.hostModel,c=u.get("animationDuration");Ct(c)&&(c=c(null));var f=u.get("animationDelay")||0,h=Ct(f)?f(null):f;t.eachItemGraphicEl(function(d,p){var g=d;if(g){var m=[d.x,d.y],y=void 0,S=void 0,M=void 0;if(i)if(o){var b=i,C=r.pointToCoord(m);a?(y=b.startAngle,S=b.endAngle,M=-C[1]/180*Math.PI):(y=b.r0,S=b.r,M=C[0])}else{var A=i;a?(y=A.x,S=A.x+A.width,M=d.x):(y=A.y+A.height,S=A.y,M=d.y)}var E=S===y?0:(M-y)/(S-y);l&&(E=1-E);var I=Ct(f)?f(p):c*E+h,L=g.getSymbolPath(),R=L.getTextContent();g.attr({scaleX:0,scaleY:0}),g.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:I}),R&&R.animateFrom({style:{opacity:0}},{duration:300,delay:I}),L.disableLabelAnimation=!0}})},e.prototype._initOrUpdateEndLabel=function(t,r,i){var a=t.getModel("endLabel");if(vJ(t)){var o=t.getData(),s=this._polyline,l=o.getLayout("points");if(!l){s.removeTextContent(),this._endLabel=null;return}var u=this._endLabel;u||(u=this._endLabel=new On({z2:200}),u.ignoreClip=!0,s.setTextContent(this._endLabel),s.disableLabelAnimation=!0);var c=VTe(l);c>=0&&(Sa(s,ji(t,"endLabel"),{inheritColor:i,labelFetcher:t,labelDataIndex:c,defaultText:function(f,h,d){return d!=null?lJ(o,d):Py(o,f)},enableTextSetter:!0},HTe(a,r)),s.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},e.prototype._endLabelOnDuring=function(t,r,i,a,o,s,l){var u=this._endLabel,c=this._polyline;if(u){t<1&&a.originalX==null&&(a.originalX=u.x,a.originalY=u.y);var f=i.getLayout("points"),h=i.hostModel,d=h.get("connectNulls"),p=s.get("precision"),g=s.get("distance")||0,m=l.getBaseAxis(),y=m.isHorizontal(),S=m.inverse,M=r.shape,b=S?y?M.x:M.y+M.height:y?M.x+M.width:M.y,C=(y?g:0)*(S?-1:1),A=(y?0:-g)*(S?-1:1),E=y?"x":"y",I=GTe(f,b,E),L=I.range,R=L[1]-L[0],O=void 0;if(R>=1){if(R>1&&!d){var U=dH(f,L[0]);u.attr({x:U[0]+C,y:U[1]+A}),o&&(O=h.getRawValue(L[0]))}else{var U=c.getPointOn(b,E);U&&u.attr({x:U[0]+C,y:U[1]+A});var V=h.getRawValue(L[0]),W=h.getRawValue(L[1]);o&&(O=JZ(i,p,V,W,I.t))}a.lastFrameIndex=L[0]}else{var X=t===1||a.lastFrameIndex>0?L[0]:0,U=dH(f,X);o&&(O=h.getRawValue(X)),u.attr({x:U[0]+C,y:U[1]+A})}if(o){var j=Jy(u);typeof j.setLabelText=="function"&&j.setLabelText(O)}}},e.prototype._doUpdateAnimation=function(t,r,i,a,o,s,l){var u=this._polyline,c=this._polygon,f=t.hostModel,h=LTe(this._data,t,this._stackedOnPoints,r,this._coordSys,i,this._valueOrigin),d=h.current,p=h.stackedOnCurrent,g=h.next,m=h.stackedOnNext;if(o&&(p=oh(h.stackedOnCurrent,h.current,i,o,l),d=oh(h.current,null,i,o,l),m=oh(h.stackedOnNext,h.next,i,o,l),g=oh(h.next,null,i,o,l)),fH(d,g)>3e3||c&&fH(p,m)>3e3){u.stopAnimation(),u.setShape({points:g}),c&&(c.stopAnimation(),c.setShape({points:g,stackedOnPoints:m}));return}u.shape.__points=h.current,u.shape.points=d;var y={shape:{points:g}};h.current!==d&&(y.shape.__points=h.next),u.stopAnimation(),Xn(u,y,f),c&&(c.setShape({points:d,stackedOnPoints:p}),c.stopAnimation(),Xn(c,{shape:{stackedOnPoints:m}},f),u.shape.points!==c.shape.points&&(c.shape.points=u.shape.points));for(var S=[],M=h.status,b=0;b<M.length;b++){var C=M[b].cmd;if(C==="="){var A=t.getItemGraphicEl(M[b].idx1);A&&S.push({el:A,ptIdx:b})}}u.animators&&u.animators.length&&u.animators[0].during(function(){c&&c.dirtyShape();for(var E=u.shape.__points,I=0;I<S.length;I++){var L=S[I].el,R=S[I].ptIdx*2;L.x=E[R],L.y=E[R+1],L.markRedraw()}})},e.prototype.remove=function(t){var r=this.group,i=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),i&&i.eachItemGraphicEl(function(a,o){a.__temp&&(r.remove(a),i.setItemGraphicEl(o,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},e.type="line",e})(sr);function k1(n,e){return{seriesType:n,plan:r0(),reset:function(t){var r=t.getData(),i=t.coordinateSystem,a=t.pipelineContext,o=e||a.large;if(i){var s=Ve(i.dimensions,function(d){return r.mapDimension(d)}).slice(0,2),l=s.length,u=r.getCalculationInfo("stackResultDimension");rf(r,s[0])&&(s[0]=u),rf(r,s[1])&&(s[1]=u);var c=r.getStore(),f=r.getDimensionIndex(s[0]),h=r.getDimensionIndex(s[1]);return l&&{progress:function(d,p){for(var g=d.end-d.start,m=o&&wu(g*l),y=[],S=[],M=d.start,b=0;M<d.end;M++){var C=void 0;if(l===1){var A=c.get(f,M);C=i.dataToPoint(A,null,S)}else y[0]=c.get(f,M),y[1]=c.get(h,M),C=i.dataToPoint(y,null,S);o?(m[b++]=C[0],m[b++]=C[1]):p.setItemLayout(M,C.slice())}o&&p.setLayout("points",m)}}}}}}var XTe={average:function(n){for(var e=0,t=0,r=0;r<n.length;r++)isNaN(n[r])||(e+=n[r],t++);return t===0?NaN:e/t},sum:function(n){for(var e=0,t=0;t<n.length;t++)e+=n[t]||0;return e},max:function(n){for(var e=-1/0,t=0;t<n.length;t++)n[t]>e&&(e=n[t]);return isFinite(e)?e:NaN},min:function(n){for(var e=1/0,t=0;t<n.length;t++)n[t]<e&&(e=n[t]);return isFinite(e)?e:NaN},nearest:function(n){return n[0]}},YTe=function(n){return Math.round(n.length/2)};function gJ(n){return{seriesType:n,reset:function(e,t,r){var i=e.getData(),a=e.get("sampling"),o=e.coordinateSystem,s=i.count();if(s>10&&o.type==="cartesian2d"&&a){var l=o.getBaseAxis(),u=o.getOtherAxis(l),c=l.getExtent(),f=r.getDevicePixelRatio(),h=Math.abs(c[1]-c[0])*(f||1),d=Math.round(s/h);if(isFinite(d)&&d>1){a==="lttb"?e.setData(i.lttbDownSample(i.mapDimension(u.dim),1/d)):a==="minmax"&&e.setData(i.minmaxDownSample(i.mapDimension(u.dim),1/d));var p=void 0;ut(a)?p=XTe[a]:Ct(a)&&(p=a),p&&e.setData(i.downSample(i.mapDimension(u.dim),1/d,p,YTe))}}}}}function jTe(n){n.registerChartView(WTe),n.registerSeriesModel(ETe),n.registerLayout(k1("line",!0)),n.registerVisual({seriesType:"line",reset:function(e){var t=e.getData(),r=e.getModel("lineStyle").getLineStyle();r&&!r.stroke&&(r.stroke=t.getVisual("style").fill),t.setVisual("legendLineStyle",r)}}),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,gJ("line"))}var XS=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getInitialData=function(t,r){return zu(null,this,{useEncodeDefaulter:!0})},e.prototype.getMarkerPosition=function(t,r,i){var a=this.coordinateSystem;if(a&&a.clampData){var o=a.clampData(t),s=a.dataToPoint(o);if(i)G(a.getAxes(),function(h,d){if(h.type==="category"&&r!=null){var p=h.getTicksCoords(),g=h.getTickModel().get("alignWithLabel"),m=o[d],y=r[d]==="x1"||r[d]==="y1";if(y&&!g&&(m+=1),p.length<2)return;if(p.length===2){s[d]=h.toGlobalCoord(h.getExtent()[y?1:0]);return}for(var S=void 0,M=void 0,b=1,C=0;C<p.length;C++){var A=p[C].coord,E=C===p.length-1?p[C-1].tickValue+b:p[C].tickValue;if(E===m){M=A;break}else if(E<m)S=A;else if(S!=null&&E>m){M=(A+S)/2;break}C===1&&(b=E-p[0].tickValue)}M==null&&(S?S&&(M=p[p.length-1].coord):M=p[0].coord),s[d]=h.toGlobalCoord(M)}});else{var l=this.getData(),u=l.getLayout("offset"),c=l.getLayout("size"),f=a.getBaseAxis().isHorizontal()?0:1;s[f]+=u+c/2}return s}return[NaN,NaN]},e.type="series.__base_bar__",e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},e})(pr);pr.registerClass(XS);var ZTe=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getInitialData=function(){return zu(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},e.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},e.prototype.getProgressiveThreshold=function(){var t=this.get("progressiveThreshold"),r=this.get("largeThreshold");return r>t&&(t=r),t},e.prototype.brushSelector=function(t,r,i){return i.rect(r.getItemLayout(t))},e.type="series.bar",e.dependencies=["grid","polar"],e.defaultOption=$h(XS.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),e})(XS),$Te=(function(){function n(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return n})(),uA=(function(n){Se(e,n);function e(t){var r=n.call(this,t)||this;return r.type="sausage",r}return e.prototype.getDefaultShape=function(){return new $Te},e.prototype.buildPath=function(t,r){var i=r.cx,a=r.cy,o=Math.max(r.r0||0,0),s=Math.max(r.r,0),l=(s-o)*.5,u=o+l,c=r.startAngle,f=r.endAngle,h=r.clockwise,d=Math.PI*2,p=h?f-c<d:c-f<d;p||(c=f-(h?d:-d));var g=Math.cos(c),m=Math.sin(c),y=Math.cos(f),S=Math.sin(f);p?(t.moveTo(g*o+i,m*o+a),t.arc(g*u+i,m*u+a,l,-Math.PI+c,c,!h)):t.moveTo(g*s+i,m*s+a),t.arc(i,a,s,c,f,!h),t.arc(y*u+i,S*u+a,l,f-Math.PI*2,f-Math.PI,!h),o!==0&&t.arc(i,a,o,f,c,h)},e})(Tn);function qTe(n,e){e=e||{};var t=e.isRoundCap;return function(r,i,a){var o=i.position;if(!o||o instanceof Array)return Ub(r,i,a);var s=n(o),l=i.distance!=null?i.distance:5,u=this.shape,c=u.cx,f=u.cy,h=u.r,d=u.r0,p=(h+d)/2,g=u.startAngle,m=u.endAngle,y=(g+m)/2,S=t?Math.abs(h-d)/2:0,M=Math.cos,b=Math.sin,C=c+h*M(g),A=f+h*b(g),E="left",I="top";switch(s){case"startArc":C=c+(d-l)*M(y),A=f+(d-l)*b(y),E="center",I="top";break;case"insideStartArc":C=c+(d+l)*M(y),A=f+(d+l)*b(y),E="center",I="bottom";break;case"startAngle":C=c+p*M(g)+vT(g,l+S,!1),A=f+p*b(g)+gT(g,l+S,!1),E="right",I="middle";break;case"insideStartAngle":C=c+p*M(g)+vT(g,-l+S,!1),A=f+p*b(g)+gT(g,-l+S,!1),E="left",I="middle";break;case"middle":C=c+p*M(y),A=f+p*b(y),E="center",I="middle";break;case"endArc":C=c+(h+l)*M(y),A=f+(h+l)*b(y),E="center",I="bottom";break;case"insideEndArc":C=c+(h-l)*M(y),A=f+(h-l)*b(y),E="center",I="top";break;case"endAngle":C=c+p*M(m)+vT(m,l+S,!0),A=f+p*b(m)+gT(m,l+S,!0),E="left",I="middle";break;case"insideEndAngle":C=c+p*M(m)+vT(m,-l+S,!0),A=f+p*b(m)+gT(m,-l+S,!0),E="right",I="middle";break;default:return Ub(r,i,a)}return r=r||{},r.x=C,r.y=A,r.align=E,r.verticalAlign=I,r}}function KTe(n,e,t,r){if(Hn(r)){n.setTextConfig({rotation:r});return}else if(ze(e)){n.setTextConfig({rotation:0});return}var i=n.shape,a=i.clockwise?i.startAngle:i.endAngle,o=i.clockwise?i.endAngle:i.startAngle,s=(a+o)/2,l,u=t(e);switch(u){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":l=s;break;case"startAngle":case"insideStartAngle":l=a;break;case"endAngle":case"insideEndAngle":l=o;break;default:n.setTextConfig({rotation:0});return}var c=Math.PI*1.5-l;u==="middle"&&c>Math.PI/2&&c<Math.PI*1.5&&(c-=Math.PI),n.setTextConfig({rotation:c})}function vT(n,e,t){return e*Math.sin(n)*(t?-1:1)}function gT(n,e,t){return e*Math.cos(n)*(t?1:-1)}function ev(n,e,t){var r=n.get("borderRadius");if(r==null)return t?{cornerRadius:0}:null;ze(r)||(r=[r,r,r,r]);var i=Math.abs(e.r||0-e.r0||0);return{cornerRadius:Ve(r,function(a){return Hl(a,i)})}}var _R=Math.max,xR=Math.min;function JTe(n,e){var t=n.getArea&&n.getArea();if(Gv(n,"cartesian2d")){var r=n.getBaseAxis();if(r.type!=="category"||!r.onBand){var i=e.getLayout("bandWidth");r.isHorizontal()?(t.x-=i,t.width+=i*2):(t.y-=i,t.height+=i*2)}}return t}var QTe=(function(n){Se(e,n);function e(){var t=n.call(this)||this;return t.type=e.type,t._isFirstFrame=!0,t}return e.prototype.render=function(t,r,i,a){this._model=t,this._removeOnRenderedListener(i),this._updateDrawMode(t);var o=t.get("coordinateSystem");(o==="cartesian2d"||o==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(t,r,i):this._renderNormal(t,r,i,a))},e.prototype.incrementalPrepareRender=function(t){this._clear(),this._updateDrawMode(t),this._updateLargeClip(t)},e.prototype.incrementalRender=function(t,r){this._progressiveEls=[],this._incrementalRenderLarge(t,r)},e.prototype.eachRendered=function(t){Zh(this._progressiveEls||this.group,t)},e.prototype._updateDrawMode=function(t){var r=t.pipelineContext.large;(this._isLargeDraw==null||r!==this._isLargeDraw)&&(this._isLargeDraw=r,this._clear())},e.prototype._renderNormal=function(t,r,i,a){var o=this.group,s=t.getData(),l=this._data,u=t.coordinateSystem,c=u.getBaseAxis(),f;u.type==="cartesian2d"?f=c.isHorizontal():u.type==="polar"&&(f=c.dim==="angle");var h=t.isAnimationEnabled()?t:null,d=ebe(t,u);d&&this._enableRealtimeSort(d,s,i);var p=t.get("clip",!0)||d,g=JTe(u,s);o.removeClipPath();var m=t.get("roundCap",!0),y=t.get("showBackground",!0),S=t.getModel("backgroundStyle"),M=S.get("borderRadius")||0,b=[],C=this._backgroundEls,A=a&&a.isInitSort,E=a&&a.type==="changeAxisOrder";function I(O){var U=mT[u.type](s,O),V=sbe(u,f,U);return V.useStyle(S.getItemStyle()),u.type==="cartesian2d"?V.setShape("r",M):V.setShape("cornerRadius",M),b[O]=V,V}s.diff(l).add(function(O){var U=s.getItemModel(O),V=mT[u.type](s,O,U);if(y&&I(O),!(!s.hasValue(O)||!yH[u.type](V))){var W=!1;p&&(W=pH[u.type](g,V));var X=vH[u.type](t,s,O,V,f,h,c.model,!1,m);d&&(X.forceLabelAnimation=!0),_H(X,s,O,U,V,t,f,u.type==="polar"),A?X.attr({shape:V}):d?gH(d,h,X,V,O,f,!1,!1):Dr(X,{shape:V},t,O),s.setItemGraphicEl(O,X),o.add(X),X.ignore=W}}).update(function(O,U){var V=s.getItemModel(O),W=mT[u.type](s,O,V);if(y){var X=void 0;C.length===0?X=I(U):(X=C[U],X.useStyle(S.getItemStyle()),u.type==="cartesian2d"?X.setShape("r",M):X.setShape("cornerRadius",M),b[O]=X);var j=mT[u.type](s,O),Q=yJ(f,j,u);Xn(X,{shape:Q},h,O)}var B=l.getItemGraphicEl(U);if(!s.hasValue(O)||!yH[u.type](W)){o.remove(B);return}var Z=!1;if(p&&(Z=pH[u.type](g,W),Z&&o.remove(B)),B?Wl(B):B=vH[u.type](t,s,O,W,f,h,c.model,!!B,m),d&&(B.forceLabelAnimation=!0),E){var q=B.getTextContent();if(q){var Y=Jy(q);Y.prevValue!=null&&(Y.prevValue=Y.value)}}else _H(B,s,O,V,W,t,f,u.type==="polar");A?B.attr({shape:W}):d?gH(d,h,B,W,O,f,!0,E):Xn(B,{shape:W},t,O,null),s.setItemGraphicEl(O,B),B.ignore=Z,o.add(B)}).remove(function(O){var U=l.getItemGraphicEl(O);U&&OS(U,t,O)}).execute();var L=this._backgroundGroup||(this._backgroundGroup=new Xt);L.removeAll();for(var R=0;R<b.length;++R)L.add(b[R]);o.add(L),this._backgroundEls=b,this._data=s},e.prototype._renderLarge=function(t,r,i){this._clear(),SH(t,this.group),this._updateLargeClip(t)},e.prototype._incrementalRenderLarge=function(t,r){this._removeBackground(),SH(r,this.group,this._progressiveEls,!0)},e.prototype._updateLargeClip=function(t){var r=t.get("clip",!0)&&O1(t.coordinateSystem,!1,t),i=this.group;r?i.setClipPath(r):i.removeClipPath()},e.prototype._enableRealtimeSort=function(t,r,i){var a=this;if(r.count()){var o=t.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(r,t,i),this._isFirstFrame=!1;else{var s=function(l){var u=r.getItemGraphicEl(l),c=u&&u.shape;return c&&Math.abs(o.isHorizontal()?c.height:c.width)||0};this._onRendered=function(){a._updateSortWithinSameData(r,s,o,i)},i.getZr().on("rendered",this._onRendered)}}},e.prototype._dataSort=function(t,r,i){var a=[];return t.each(t.mapDimension(r.dim),function(o,s){var l=i(s);l=l??NaN,a.push({dataIndex:s,mappedValue:l,ordinalNumber:o})}),a.sort(function(o,s){return s.mappedValue-o.mappedValue}),{ordinalNumbers:Ve(a,function(o){return o.ordinalNumber})}},e.prototype._isOrderChangedWithinSameData=function(t,r,i){for(var a=i.scale,o=t.mapDimension(i.dim),s=Number.MAX_VALUE,l=0,u=a.getOrdinalMeta().categories.length;l<u;++l){var c=t.rawIndexOf(o,a.getRawOrdinalNumber(l)),f=c<0?Number.MIN_VALUE:r(t.indexOfRawIndex(c));if(f>s)return!0;s=f}return!1},e.prototype._isOrderDifferentInView=function(t,r){for(var i=r.scale,a=i.getExtent(),o=Math.max(0,a[0]),s=Math.min(a[1],i.getOrdinalMeta().categories.length-1);o<=s;++o)if(t.ordinalNumbers[o]!==i.getRawOrdinalNumber(o))return!0},e.prototype._updateSortWithinSameData=function(t,r,i,a){if(this._isOrderChangedWithinSameData(t,r,i)){var o=this._dataSort(t,i,r);this._isOrderDifferentInView(o,i)&&(this._removeOnRenderedListener(a),a.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",axisId:i.index,sortInfo:o}))}},e.prototype._dispatchInitSort=function(t,r,i){var a=r.baseAxis,o=this._dataSort(t,a,function(s){return t.get(t.mapDimension(r.otherAxis.dim),s)});i.dispatchAction({type:"changeAxisOrder",componentType:a.dim+"Axis",isInitSort:!0,axisId:a.index,sortInfo:o})},e.prototype.remove=function(t,r){this._clear(this._model),this._removeOnRenderedListener(r)},e.prototype.dispose=function(t,r){this._removeOnRenderedListener(r)},e.prototype._removeOnRenderedListener=function(t){this._onRendered&&(t.getZr().off("rendered",this._onRendered),this._onRendered=null)},e.prototype._clear=function(t){var r=this.group,i=this._data;t&&t.isAnimationEnabled()&&i&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],i.eachItemGraphicEl(function(a){OS(a,t,$t(a).dataIndex)})):r.removeAll(),this._data=null,this._isFirstFrame=!0},e.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},e.type="bar",e})(sr),pH={cartesian2d:function(n,e){var t=e.width<0?-1:1,r=e.height<0?-1:1;t<0&&(e.x+=e.width,e.width=-e.width),r<0&&(e.y+=e.height,e.height=-e.height);var i=n.x+n.width,a=n.y+n.height,o=_R(e.x,n.x),s=xR(e.x+e.width,i),l=_R(e.y,n.y),u=xR(e.y+e.height,a),c=s<o,f=u<l;return e.x=c&&o>i?s:o,e.y=f&&l>a?u:l,e.width=c?0:s-o,e.height=f?0:u-l,t<0&&(e.x+=e.width,e.width=-e.width),r<0&&(e.y+=e.height,e.height=-e.height),c||f},polar:function(n,e){var t=e.r0<=e.r?1:-1;if(t<0){var r=e.r;e.r=e.r0,e.r0=r}var i=xR(e.r,n.r),a=_R(e.r0,n.r0);e.r=i,e.r0=a;var o=i-a<0;if(t<0){var r=e.r;e.r=e.r0,e.r0=r}return o}},vH={cartesian2d:function(n,e,t,r,i,a,o,s,l){var u=new kn({shape:Le({},r),z2:1});if(u.__dataIndex=t,u.name="item",a){var c=u.shape,f=i?"height":"width";c[f]=0}return u},polar:function(n,e,t,r,i,a,o,s,l){var u=!i&&l?uA:Wa,c=new u({shape:r,z2:1});c.name="item";var f=mJ(i);if(c.calculateTextPosition=qTe(f,{isRoundCap:u===uA}),a){var h=c.shape,d=i?"r":"endAngle",p={};h[d]=i?r.r0:r.startAngle,p[d]=r[d],(s?Xn:Dr)(c,{shape:p},a)}return c}};function ebe(n,e){var t=n.get("realtimeSort",!0),r=e.getBaseAxis();if(t&&r.type==="category"&&e.type==="cartesian2d")return{baseAxis:r,otherAxis:e.getOtherAxis(r)}}function gH(n,e,t,r,i,a,o,s){var l,u;a?(u={x:r.x,width:r.width},l={y:r.y,height:r.height}):(u={y:r.y,height:r.height},l={x:r.x,width:r.width}),s||(o?Xn:Dr)(t,{shape:l},e,i,null);var c=e?n.baseAxis.model:null;(o?Xn:Dr)(t,{shape:u},c,i)}function mH(n,e){for(var t=0;t<e.length;t++)if(!isFinite(n[e[t]]))return!0;return!1}var tbe=["x","y","width","height"],nbe=["cx","cy","r","startAngle","endAngle"],yH={cartesian2d:function(n){return!mH(n,tbe)},polar:function(n){return!mH(n,nbe)}},mT={cartesian2d:function(n,e,t){var r=n.getItemLayout(e),i=t?ibe(t,r):0,a=r.width>0?1:-1,o=r.height>0?1:-1;return{x:r.x+a*i/2,y:r.y+o*i/2,width:r.width-a*i,height:r.height-o*i}},polar:function(n,e,t){var r=n.getItemLayout(e);return{cx:r.cx,cy:r.cy,r0:r.r0,r:r.r,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}}};function rbe(n){return n.startAngle!=null&&n.endAngle!=null&&n.startAngle===n.endAngle}function mJ(n){return(function(e){var t=e?"Arc":"Angle";return function(r){switch(r){case"start":case"insideStart":case"end":case"insideEnd":return r+t;default:return r}}})(n)}function _H(n,e,t,r,i,a,o,s){var l=e.getItemVisual(t,"style");if(s){if(!a.get("roundCap")){var c=n.shape,f=ev(r.getModel("itemStyle"),c,!0);Le(c,f),n.setShape(c)}}else{var u=r.get(["itemStyle","borderRadius"])||0;n.setShape("r",u)}n.useStyle(l);var h=r.getShallow("cursor");h&&n.attr("cursor",h);var d=s?o?i.r>=i.r0?"endArc":"startArc":i.endAngle>=i.startAngle?"endAngle":"startAngle":o?i.height>=0?"bottom":"top":i.width>=0?"right":"left",p=ji(r);Sa(n,p,{labelFetcher:a,labelDataIndex:t,defaultText:Py(a.getData(),t),inheritColor:l.fill,defaultOpacity:l.opacity,defaultOutsidePosition:d});var g=n.getTextContent();if(s&&g){var m=r.get(["label","position"]);n.textConfig.inside=m==="middle"?!0:null,KTe(n,m==="outside"?d:m,mJ(o),r.get(["label","rotate"]))}k$(g,p,a.getRawValue(t),function(S){return lJ(e,S)});var y=r.getModel(["emphasis"]);Vr(n,y.get("focus"),y.get("blurScope"),y.get("disabled")),xa(n,r),rbe(i)&&(n.style.fill="none",n.style.stroke="none",G(n.states,function(S){S.style&&(S.style.fill=S.style.stroke="none")}))}function ibe(n,e){var t=n.get(["itemStyle","borderColor"]);if(!t||t==="none")return 0;var r=n.get(["itemStyle","borderWidth"])||0,i=isNaN(e.width)?Number.MAX_VALUE:Math.abs(e.width),a=isNaN(e.height)?Number.MAX_VALUE:Math.abs(e.height);return Math.min(r,i,a)}var abe=(function(){function n(){}return n})(),xH=(function(n){Se(e,n);function e(t){var r=n.call(this,t)||this;return r.type="largeBar",r}return e.prototype.getDefaultShape=function(){return new abe},e.prototype.buildPath=function(t,r){for(var i=r.points,a=this.baseDimIdx,o=1-this.baseDimIdx,s=[],l=[],u=this.barWidth,c=0;c<i.length;c+=3)l[a]=u,l[o]=i[c+2],s[a]=i[c+a],s[o]=i[c+o],t.rect(s[0],s[1],l[0],l[1])},e})(Tn);function SH(n,e,t,r){var i=n.getData(),a=i.getLayout("valueAxisHorizontal")?1:0,o=i.getLayout("largeDataIndices"),s=i.getLayout("size"),l=n.getModel("backgroundStyle"),u=i.getLayout("largeBackgroundPoints");if(u){var c=new xH({shape:{points:u},incremental:!!r,silent:!0,z2:0});c.baseDimIdx=a,c.largeDataIndices=o,c.barWidth=s,c.useStyle(l.getItemStyle()),e.add(c),t&&t.push(c)}var f=new xH({shape:{points:i.getLayout("largePoints")},incremental:!!r,ignoreCoarsePointer:!0,z2:1});f.baseDimIdx=a,f.largeDataIndices=o,f.barWidth=s,e.add(f),f.useStyle(i.getVisual("style")),f.style.stroke=null,$t(f).seriesIndex=n.seriesIndex,n.get("silent")||(f.on("mousedown",wH),f.on("mousemove",wH)),t&&t.push(f)}var wH=BC(function(n){var e=this,t=obe(e,n.offsetX,n.offsetY);$t(e).dataIndex=t>=0?t:null},30,!1);function obe(n,e,t){for(var r=n.baseDimIdx,i=1-r,a=n.shape.points,o=n.largeDataIndices,s=[],l=[],u=n.barWidth,c=0,f=a.length/3;c<f;c++){var h=c*3;if(l[r]=u,l[i]=a[h+2],s[r]=a[h+r],s[i]=a[h+i],l[i]<0&&(s[i]+=l[i],l[i]=-l[i]),e>=s[0]&&e<=s[0]+l[0]&&t>=s[1]&&t<=s[1]+l[1])return o[c]}return-1}function yJ(n,e,t){if(Gv(t,"cartesian2d")){var r=e,i=t.getArea();return{x:n?r.x:i.x,y:n?i.y:r.y,width:n?r.width:i.width,height:n?i.height:r.height}}else{var i=t.getArea(),a=e;return{cx:i.cx,cy:i.cy,r0:n?i.r0:a.r0,r:n?i.r:a.r,startAngle:n?a.startAngle:0,endAngle:n?a.endAngle:Math.PI*2}}}function sbe(n,e,t){var r=n.type==="polar"?Wa:kn;return new r({shape:yJ(e,t,n),silent:!0,z2:0})}function lbe(n){n.registerChartView(QTe),n.registerSeriesModel(ZTe),n.registerLayout(n.PRIORITY.VISUAL.LAYOUT,nn(MK,"bar")),n.registerLayout(n.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,TK("bar")),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,gJ("bar")),n.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(e,t){var r=e.componentType||"series";t.eachComponent({mainType:r,query:e},function(i){e.sortInfo&&i.axis.setCategorySortInfo(e.sortInfo)})})}var MH=Math.PI*2,yT=Math.PI/180;function _J(n,e){return _i(n.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function xJ(n,e){var t=_J(n,e),r=n.get("center"),i=n.get("radius");ze(i)||(i=[0,i]);var a=rt(t.width,e.getWidth()),o=rt(t.height,e.getHeight()),s=Math.min(a,o),l=rt(i[0],s/2),u=rt(i[1],s/2),c,f,h=n.coordinateSystem;if(h){var d=h.dataToPoint(r);c=d[0]||0,f=d[1]||0}else ze(r)||(r=[r,r]),c=rt(r[0],a)+t.x,f=rt(r[1],o)+t.y;return{cx:c,cy:f,r0:l,r:u}}function ube(n,e,t){e.eachSeriesByType(n,function(r){var i=r.getData(),a=i.mapDimension("value"),o=_J(r,t),s=xJ(r,t),l=s.cx,u=s.cy,c=s.r,f=s.r0,h=-r.get("startAngle")*yT,d=r.get("endAngle"),p=r.get("padAngle")*yT;d=d==="auto"?h-MH:-d*yT;var g=r.get("minAngle")*yT,m=g+p,y=0;i.each(a,function(Q){!isNaN(Q)&&y++});var S=i.getSum(a),M=Math.PI/(S||y)*2,b=r.get("clockwise"),C=r.get("roseType"),A=r.get("stillShowZeroSum"),E=i.getDataExtent(a);E[0]=0;var I=b?1:-1,L=[h,d],R=I*p/2;Ek(L,!b),h=L[0],d=L[1];var O=SJ(r);O.startAngle=h,O.endAngle=d,O.clockwise=b;var U=Math.abs(d-h),V=U,W=0,X=h;if(i.setLayout({viewRect:o,r:c}),i.each(a,function(Q,B){var Z;if(isNaN(Q)){i.setItemLayout(B,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:b,cx:l,cy:u,r0:f,r:C?NaN:c});return}C!=="area"?Z=S===0&&A?M:Q*M:Z=U/y,Z<m?(Z=m,V-=m):W+=Q;var q=X+I*Z,Y=0,te=0;p>Z?(Y=X+I*Z/2,te=Y):(Y=X+R,te=q-R),i.setItemLayout(B,{angle:Z,startAngle:Y,endAngle:te,clockwise:b,cx:l,cy:u,r0:f,r:C?Qn(Q,E,[f,c]):c}),X=q}),V<MH&&y)if(V<=.001){var j=U/y;i.each(a,function(Q,B){if(!isNaN(Q)){var Z=i.getItemLayout(B);Z.angle=j;var q=0,Y=0;j<p?(q=h+I*(B+1/2)*j,Y=q):(q=h+I*B*j+R,Y=h+I*(B+1)*j-R),Z.startAngle=q,Z.endAngle=Y}})}else M=V/W,X=h,i.each(a,function(Q,B){if(!isNaN(Q)){var Z=i.getItemLayout(B),q=Z.angle===m?m:Q*M,Y=0,te=0;q<p?(Y=X+I*q/2,te=Y):(Y=X+R,te=X+I*q-R),Z.startAngle=Y,Z.endAngle=te,X+=I*q}})})}var SJ=Un();function F1(n){return{seriesType:n,reset:function(e,t){var r=t.findComponents({mainType:"legend"});if(!(!r||!r.length)){var i=e.getData();i.filterSelf(function(a){for(var o=i.getName(a),s=0;s<r.length;s++)if(!r[s].isSelected(o))return!1;return!0})}}}}var cbe=Math.PI/180;function TH(n,e,t,r,i,a,o,s,l,u){if(n.length<2)return;function c(g){for(var m=g.rB,y=m*m,S=0;S<g.list.length;S++){var M=g.list[S],b=Math.abs(M.label.y-t),C=r+M.len,A=C*C,E=Math.sqrt(Math.abs((1-b*b/y)*A)),I=e+(E+M.len2)*i,L=I-M.label.x,R=M.targetTextWidth-L*i;wJ(M,R,!0),M.label.x=I}}function f(g){for(var m={list:[],maxY:0},y={list:[],maxY:0},S=0;S<g.length;S++)if(g[S].labelAlignTo==="none"){var M=g[S],b=M.label.y>t?y:m,C=Math.abs(M.label.y-t);if(C>=b.maxY){var A=M.label.x-e-M.len2*i,E=r+M.len,I=Math.abs(A)<E?Math.sqrt(C*C/(1-A*A/E/E)):E;b.rB=I,b.maxY=C}b.list.push(M)}c(m),c(y)}for(var h=n.length,d=0;d<h;d++)if(n[d].position==="outer"&&n[d].labelAlignTo==="labelLine"){var p=n[d].label.x-u;n[d].linePoints[1][0]+=p,n[d].label.x=u}XK(n,l,l+o)&&f(n)}function fbe(n,e,t,r,i,a,o,s){for(var l=[],u=[],c=Number.MAX_VALUE,f=-Number.MAX_VALUE,h=0;h<n.length;h++){var d=n[h].label;SR(n[h])||(d.x<e?(c=Math.min(c,d.x),l.push(n[h])):(f=Math.max(f,d.x),u.push(n[h])))}for(var h=0;h<n.length;h++){var p=n[h];if(!SR(p)&&p.linePoints){if(p.labelStyleWidth!=null)continue;var d=p.label,g=p.linePoints,m=void 0;p.labelAlignTo==="edge"?d.x<e?m=g[2][0]-p.labelDistance-o-p.edgeDistance:m=o+i-p.edgeDistance-g[2][0]-p.labelDistance:p.labelAlignTo==="labelLine"?d.x<e?m=c-o-p.bleedMargin:m=o+i-f-p.bleedMargin:d.x<e?m=d.x-o-p.bleedMargin:m=o+i-d.x-p.bleedMargin,p.targetTextWidth=m,wJ(p,m)}}TH(u,e,t,r,1,i,a,o,s,f),TH(l,e,t,r,-1,i,a,o,s,c);for(var h=0;h<n.length;h++){var p=n[h];if(!SR(p)&&p.linePoints){var d=p.label,g=p.linePoints,y=p.labelAlignTo==="edge",S=d.style.padding,M=S?S[1]+S[3]:0,b=d.style.backgroundColor?0:M,C=p.rect.width+b,A=g[1][0]-g[2][0];y?d.x<e?g[2][0]=o+p.edgeDistance+C+p.labelDistance:g[2][0]=o+i-p.edgeDistance-C-p.labelDistance:(d.x<e?g[2][0]=d.x+p.labelDistance:g[2][0]=d.x-p.labelDistance,g[1][0]=g[2][0]+A),g[1][1]=g[2][1]=d.y}}}function wJ(n,e,t){if(t===void 0&&(t=!1),n.labelStyleWidth==null){var r=n.label,i=r.style,a=n.rect,o=i.backgroundColor,s=i.padding,l=s?s[1]+s[3]:0,u=i.overflow,c=a.width+(o?0:l);if(e<c||t){var f=a.height;if(u&&u.match("break")){r.setStyle("backgroundColor",null),r.setStyle("width",e-l);var h=r.getBoundingRect();r.setStyle("width",Math.ceil(h.width)),r.setStyle("backgroundColor",o)}else{var d=e-l,p=e<c?d:t?d>n.unconstrainedWidth?null:d:null;r.setStyle("width",p)}var g=r.getBoundingRect();a.width=g.width;var m=(r.style.margin||0)+2.1;a.height=g.height+m,a.y-=(a.height-f)/2}}}function SR(n){return n.position==="center"}function hbe(n){var e=n.getData(),t=[],r,i,a=!1,o=(n.get("minShowLabelAngle")||0)*cbe,s=e.getLayout("viewRect"),l=e.getLayout("r"),u=s.width,c=s.x,f=s.y,h=s.height;function d(A){A.ignore=!0}function p(A){if(!A.ignore)return!0;for(var E in A.states)if(A.states[E].ignore===!1)return!0;return!1}e.each(function(A){var E=e.getItemGraphicEl(A),I=E.shape,L=E.getTextContent(),R=E.getTextGuideLine(),O=e.getItemModel(A),U=O.getModel("label"),V=U.get("position")||O.get(["emphasis","label","position"]),W=U.get("distanceToLabelLine"),X=U.get("alignTo"),j=rt(U.get("edgeDistance"),u),Q=U.get("bleedMargin"),B=O.getModel("labelLine"),Z=B.get("length");Z=rt(Z,u);var q=B.get("length2");if(q=rt(q,u),Math.abs(I.endAngle-I.startAngle)<o){G(L.states,d),L.ignore=!0,R&&(G(R.states,d),R.ignore=!0);return}if(p(L)){var Y=(I.startAngle+I.endAngle)/2,te=Math.cos(Y),me=Math.sin(Y),ae,fe,be,Ee;r=I.cx,i=I.cy;var Be=V==="inside"||V==="inner";if(V==="center")ae=I.cx,fe=I.cy,Ee="center";else{var Oe=(Be?(I.r+I.r0)/2*te:I.r*te)+r,$e=(Be?(I.r+I.r0)/2*me:I.r*me)+i;if(ae=Oe+te*3,fe=$e+me*3,!Be){var ee=Oe+te*(Z+l-I.r),ve=$e+me*(Z+l-I.r),Ae=ee+(te<0?-1:1)*q,Ue=ve;X==="edge"?ae=te<0?c+j:c+u-j:ae=Ae+(te<0?-W:W),fe=Ue,be=[[Oe,$e],[ee,ve],[Ae,Ue]]}Ee=Be?"center":X==="edge"?te>0?"right":"left":te>0?"left":"right"}var Ge=Math.PI,He=0,ot=U.get("rotate");if(Hn(ot))He=ot*(Ge/180);else if(V==="center")He=0;else if(ot==="radial"||ot===!0){var ct=te<0?-Y+Ge:-Y;He=ct}else if(ot==="tangential"&&V!=="outside"&&V!=="outer"){var Rt=Math.atan2(te,me);Rt<0&&(Rt=Ge*2+Rt);var re=me>0;re&&(Rt=Ge+Rt),He=Rt-Ge}if(a=!!He,L.x=ae,L.y=fe,L.rotation=He,L.setStyle({verticalAlign:"middle"}),Be){L.setStyle({align:Ee});var Ze=L.states.select;Ze&&(Ze.x+=L.x,Ze.y+=L.y)}else{var K=L.getBoundingRect().clone();K.applyTransform(L.getComputedTransform());var Pe=(L.style.margin||0)+2.1;K.y-=Pe/2,K.height+=Pe,t.push({label:L,labelLine:R,position:V,len:Z,len2:q,minTurnAngle:B.get("minTurnAngle"),maxSurfaceAngle:B.get("maxSurfaceAngle"),surfaceNormal:new cn(te,me),linePoints:be,textAlign:Ee,labelDistance:W,labelAlignTo:X,edgeDistance:j,bleedMargin:Q,rect:K,unconstrainedWidth:K.width,labelStyleWidth:L.style.width})}E.setTextConfig({inside:Be})}}),!a&&n.get("avoidLabelOverlap")&&fbe(t,r,i,l,u,h,c,f);for(var g=0;g<t.length;g++){var m=t[g],y=m.label,S=m.labelLine,M=isNaN(y.x)||isNaN(y.y);if(y){y.setStyle({align:m.textAlign}),M&&(G(y.states,d),y.ignore=!0);var b=y.states.select;b&&(b.x+=y.x,b.y+=y.y)}if(S){var C=m.linePoints;M||!C?(G(S.states,d),S.ignore=!0):(GK(C,m.minTurnAngle),OMe(C,m.surfaceNormal,m.maxSurfaceAngle),S.setShape({points:C}),y.__hostTarget.textGuideLineConfig={anchor:new cn(C[0][0],C[0][1])})}}}var dbe=(function(n){Se(e,n);function e(t,r,i){var a=n.call(this)||this;a.z2=2;var o=new On;return a.setTextContent(o),a.updateData(t,r,i,!0),a}return e.prototype.updateData=function(t,r,i,a){var o=this,s=t.hostModel,l=t.getItemModel(r),u=l.getModel("emphasis"),c=t.getItemLayout(r),f=Le(ev(l.getModel("itemStyle"),c,!0),c);if(isNaN(f.startAngle)){o.setShape(f);return}if(a){o.setShape(f);var h=s.getShallow("animationType");s.ecModel.ssr?(Dr(o,{scaleX:0,scaleY:0},s,{dataIndex:r,isFrom:!0}),o.originX=f.cx,o.originY=f.cy):h==="scale"?(o.shape.r=c.r0,Dr(o,{shape:{r:c.r}},s,r)):i!=null?(o.setShape({startAngle:i,endAngle:i}),Dr(o,{shape:{startAngle:c.startAngle,endAngle:c.endAngle}},s,r)):(o.shape.endAngle=c.startAngle,Xn(o,{shape:{endAngle:c.endAngle}},s,r))}else Wl(o),Xn(o,{shape:f},s,r);o.useStyle(t.getItemVisual(r,"style")),xa(o,l);var d=(c.startAngle+c.endAngle)/2,p=s.get("selectedOffset"),g=Math.cos(d)*p,m=Math.sin(d)*p,y=l.getShallow("cursor");y&&o.attr("cursor",y),this._updateLabel(s,t,r),o.ensureState("emphasis").shape=Le({r:c.r+(u.get("scale")&&u.get("scaleSize")||0)},ev(u.getModel("itemStyle"),c)),Le(o.ensureState("select"),{x:g,y:m,shape:ev(l.getModel(["select","itemStyle"]),c)}),Le(o.ensureState("blur"),{shape:ev(l.getModel(["blur","itemStyle"]),c)});var S=o.getTextGuideLine(),M=o.getTextContent();S&&Le(S.ensureState("select"),{x:g,y:m}),Le(M.ensureState("select"),{x:g,y:m}),Vr(this,u.get("focus"),u.get("blurScope"),u.get("disabled"))},e.prototype._updateLabel=function(t,r,i){var a=this,o=r.getItemModel(i),s=o.getModel("labelLine"),l=r.getItemVisual(i,"style"),u=l&&l.fill,c=l&&l.opacity;Sa(a,ji(o),{labelFetcher:r.hostModel,labelDataIndex:i,inheritColor:u,defaultOpacity:c,defaultText:t.getFormattedLabel(i,"normal")||r.getName(i)});var f=a.getTextContent();a.setTextConfig({position:null,rotation:null}),f.attr({z2:10});var h=t.get(["label","position"]);if(h!=="outside"&&h!=="outer")a.removeTextGuideLine();else{var d=this.getTextGuideLine();d||(d=new Za,this.setTextGuideLine(d)),M3(this,T3(o),{stroke:u,opacity:Ol(s.get(["lineStyle","opacity"]),c,1)})}},e})(Wa),pbe=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.ignoreLabelLineUpdate=!0,t}return e.prototype.render=function(t,r,i,a){var o=t.getData(),s=this._data,l=this.group,u;if(!s&&o.count()>0){for(var c=o.getItemLayout(0),f=1;isNaN(c&&c.startAngle)&&f<o.count();++f)c=o.getItemLayout(f);c&&(u=c.startAngle)}if(this._emptyCircleSector&&l.remove(this._emptyCircleSector),o.count()===0&&t.get("showEmptyCircle")){var h=SJ(t),d=new Wa({shape:Le(xJ(t,i),h)});d.useStyle(t.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=d,l.add(d)}o.diff(s).add(function(p){var g=new dbe(o,p,u);o.setItemGraphicEl(p,g),l.add(g)}).update(function(p,g){var m=s.getItemGraphicEl(g);m.updateData(o,p,u),m.off("click"),l.add(m),o.setItemGraphicEl(p,m)}).remove(function(p){var g=s.getItemGraphicEl(p);OS(g,t,p)}).execute(),hbe(t),t.get("animationTypeUpdate")!=="expansion"&&(this._data=o)},e.prototype.dispose=function(){},e.prototype.containPoint=function(t,r){var i=r.getData(),a=i.getItemLayout(0);if(a){var o=t[0]-a.cx,s=t[1]-a.cy,l=Math.sqrt(o*o+s*s);return l<=a.r&&l>=a.r0}},e.type="pie",e})(sr);function u0(n,e,t){e=ze(e)&&{coordDimensions:e}||Le({encodeDefine:n.getEncode()},e);var r=n.getSource(),i=o0(r,e).dimensions,a=new Ga(i,n);return a.initData(r,t),a}var z1=(function(){function n(e,t){this._getDataWithEncodedVisual=e,this._getRawData=t}return n.prototype.getAllNames=function(){var e=this._getRawData();return e.mapArray(e.getName)},n.prototype.containName=function(e){var t=this._getRawData();return t.indexOfName(e)>=0},n.prototype.indexOfName=function(e){var t=this._getDataWithEncodedVisual();return t.indexOfName(e)},n.prototype.getItemVisual=function(e,t){var r=this._getDataWithEncodedVisual();return r.getItemVisual(e,t)},n})(),vbe=Un(),gbe=(function(n){Se(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.init=function(t){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new z1(ht(this.getData,this),ht(this.getRawData,this)),this._defaultLabelLine(t)},e.prototype.mergeOption=function(){n.prototype.mergeOption.apply(this,arguments)},e.prototype.getInitialData=function(){return u0(this,{coordDimensions:["value"],encodeDefaulter:nn(Kk,this)})},e.prototype.getDataParams=function(t){var r=this.getData(),i=vbe(r),a=i.seats;if(!a){var o=[];r.each(r.mapDimension("value"),function(l){o.push(l)}),a=i.seats=HZ(o,r.hostModel.get("percentPrecision"))}var s=n.prototype.getDataParams.call(this,t);return s.percent=a[t]||0,s.$vars.push("percent"),s},e.prototype._defaultLabelLine=function(t){Sv(t,"labelLine",["show"]);var r=t.labelLine,i=t.emphasis.labelLine;r.show=r.show&&t.label.show,i.show=i.show&&t.emphasis.label.show},e.type="series.pie",e.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},e})(pr);function mbe(n){return{seriesType:n,reset:function(e,t){var r=e.getData();r.filterSelf(function(i){var a=r.mapDimension("value"),o=r.get(a,i);return!(Hn(o)&&!isNaN(o)&&o<0)})}}}function ybe(n){n.registerChartView(pbe),n.registerSeriesModel(gbe),Bq("pie",n.registerAction),n.registerLayout(nn(ube,"pie")),n.registerProcessor(F1("pie")),n.registerProcessor(mbe("pie"))}var _be=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return e.prototype.getInitialData=function(t,r){return zu(null,this,{useEncodeDefaulter:!0})},e.prototype.getProgressive=function(){var t=this.option.progressive;return t??(this.option.large?5e3:this.get("progressive"))},e.prototype.getProgressiveThreshold=function(){var t=this.option.progressiveThreshold;return t??(this.option.large?1e4:this.get("progressiveThreshold"))},e.prototype.brushSelector=function(t,r,i){return i.point(r.getItemLayout(t))},e.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},e.type="series.scatter",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},e})(pr),MJ=4,xbe=(function(){function n(){}return n})(),Sbe=(function(n){Se(e,n);function e(t){var r=n.call(this,t)||this;return r._off=0,r.hoverDataIdx=-1,r}return e.prototype.getDefaultShape=function(){return new xbe},e.prototype.reset=function(){this.notClear=!1,this._off=0},e.prototype.buildPath=function(t,r){var i=r.points,a=r.size,o=this.symbolProxy,s=o.shape,l=t.getContext?t.getContext():t,u=l&&a[0]<MJ,c=this.softClipShape,f;if(u){this._ctx=l;return}for(this._ctx=null,f=this._off;f<i.length;){var h=i[f++],d=i[f++];isNaN(h)||isNaN(d)||c&&!c.contain(h,d)||(s.x=h-a[0]/2,s.y=d-a[1]/2,s.width=a[0],s.height=a[1],o.buildPath(t,s,!0))}this.incremental&&(this._off=f,this.notClear=!0)},e.prototype.afterBrush=function(){var t=this.shape,r=t.points,i=t.size,a=this._ctx,o=this.softClipShape,s;if(a){for(s=this._off;s<r.length;){var l=r[s++],u=r[s++];isNaN(l)||isNaN(u)||o&&!o.contain(l,u)||a.fillRect(l-i[0]/2,u-i[1]/2,i[0],i[1])}this.incremental&&(this._off=s,this.notClear=!0)}},e.prototype.findDataIndex=function(t,r){for(var i=this.shape,a=i.points,o=i.size,s=Math.max(o[0],4),l=Math.max(o[1],4),u=a.length/2-1;u>=0;u--){var c=u*2,f=a[c]-s/2,h=a[c+1]-l/2;if(t>=f&&r>=h&&t<=f+s&&r<=h+l)return u}return-1},e.prototype.contain=function(t,r){var i=this.transformCoordToLocal(t,r),a=this.getBoundingRect();if(t=i[0],r=i[1],a.contain(t,r)){var o=this.hoverDataIdx=this.findDataIndex(t,r);return o>=0}return this.hoverDataIdx=-1,!1},e.prototype.getBoundingRect=function(){var t=this._rect;if(!t){for(var r=this.shape,i=r.points,a=r.size,o=a[0],s=a[1],l=1/0,u=1/0,c=-1/0,f=-1/0,h=0;h<i.length;){var d=i[h++],p=i[h++];l=Math.min(d,l),c=Math.max(d,c),u=Math.min(p,u),f=Math.max(p,f)}t=this._rect=new fn(l-o/2,u-s/2,c-l+o,f-u+s)}return t},e})(Tn),wbe=(function(){function n(){this.group=new Xt}return n.prototype.updateData=function(e,t){this._clear();var r=this._create();r.setShape({points:e.getLayout("points")}),this._setCommon(r,e,t)},n.prototype.updateLayout=function(e){var t=e.getLayout("points");this.group.eachChild(function(r){if(r.startIndex!=null){var i=(r.endIndex-r.startIndex)*2,a=r.startIndex*4*2;t=new Float32Array(t.buffer,a,i)}r.setShape("points",t),r.reset()})},n.prototype.incrementalPrepareUpdate=function(e){this._clear()},n.prototype.incrementalUpdate=function(e,t,r){var i=this._newAdded[0],a=t.getLayout("points"),o=i&&i.shape.points;if(o&&o.length<2e4){var s=o.length,l=new Float32Array(s+a.length);l.set(o),l.set(a,s),i.endIndex=e.end,i.setShape({points:l})}else{this._newAdded=[];var u=this._create();u.startIndex=e.start,u.endIndex=e.end,u.incremental=!0,u.setShape({points:a}),this._setCommon(u,t,r)}},n.prototype.eachRendered=function(e){this._newAdded[0]&&e(this._newAdded[0])},n.prototype._create=function(){var e=new Sbe({cursor:"default"});return e.ignoreCoarsePointer=!0,this.group.add(e),this._newAdded.push(e),e},n.prototype._setCommon=function(e,t,r){var i=t.hostModel;r=r||{};var a=t.getVisual("symbolSize");e.setShape("size",a instanceof Array?a:[a,a]),e.softClipShape=r.clipShape||null,e.symbolProxy=ci(t.getVisual("symbol"),0,0,0,0),e.setColor=e.symbolProxy.setColor;var o=e.shape.size[0]<MJ;e.useStyle(i.getModel("itemStyle").getItemStyle(o?["color","shadowBlur","shadowColor"]:["color"]));var s=t.getVisual("style"),l=s&&s.fill;l&&e.setColor(l);var u=$t(e);u.seriesIndex=i.seriesIndex,e.on("mousemove",function(c){u.dataIndex=null;var f=e.hoverDataIdx;f>=0&&(u.dataIndex=f+(e.startIndex||0))})},n.prototype.remove=function(){this._clear()},n.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},n})(),Mbe=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i){var a=t.getData(),o=this._updateSymbolDraw(a,t);o.updateData(a,{clipShape:this._getClipShape(t)}),this._finished=!0},e.prototype.incrementalPrepareRender=function(t,r,i){var a=t.getData(),o=this._updateSymbolDraw(a,t);o.incrementalPrepareUpdate(a),this._finished=!1},e.prototype.incrementalRender=function(t,r,i){this._symbolDraw.incrementalUpdate(t,r.getData(),{clipShape:this._getClipShape(r)}),this._finished=t.end===r.getData().count()},e.prototype.updateTransform=function(t,r,i){var a=t.getData();if(this.group.dirty(),!this._finished||a.count()>1e4)return{update:!0};var o=k1("").reset(t,r,i);o.progress&&o.progress({start:0,end:a.count(),count:a.count()},a),this._symbolDraw.updateLayout(a)},e.prototype.eachRendered=function(t){this._symbolDraw&&this._symbolDraw.eachRendered(t)},e.prototype._getClipShape=function(t){if(t.get("clip",!0)){var r=t.coordinateSystem;return r&&r.getArea&&r.getArea(.1)}},e.prototype._updateSymbolDraw=function(t,r){var i=this._symbolDraw,a=r.pipelineContext,o=a.large;return(!i||o!==this._isLargeDraw)&&(i&&i.remove(),i=this._symbolDraw=o?new wbe:new N1,this._isLargeDraw=o,this.group.removeAll()),this.group.add(i.group),i},e.prototype.remove=function(t,r){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},e.prototype.dispose=function(){},e.type="scatter",e})(sr),Tbe=(function(n){Se(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.type="grid",e.dependencies=["xAxis","yAxis"],e.layoutMode="box",e.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},e})(wn),jI=(function(n){Se(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",yi).models[0]},e.type="cartesian2dAxis",e})(wn);ti(jI,l0);var TJ={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,showMinLine:!0,showMaxLine:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},bbe=on({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},TJ),R3=on({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},TJ),Abe=on({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},R3),Cbe=Dt({logBase:10},R3);const bJ={category:bbe,value:R3,time:Abe,log:Cbe};var Ebe={value:1,category:1,time:1,log:1};function Dy(n,e,t,r){G(Ebe,function(i,a){var o=on(on({},bJ[a],!0),r,!0),s=(function(l){Se(u,l);function u(){var c=l!==null&&l.apply(this,arguments)||this;return c.type=e+"Axis."+a,c}return u.prototype.mergeDefaultAndTheme=function(c,f){var h=FS(this),d=h?e0(c):{},p=f.getTheme();on(c,p.get(a+"Axis")),on(c,this.getDefaultOption()),c.type=bH(c),h&&Fh(c,d,h)},u.prototype.optionUpdated=function(){var c=this.option;c.type==="category"&&(this.__ordinalMeta=BI.createByAxisModel(this))},u.prototype.getCategories=function(c){var f=this.option;if(f.type==="category")return c?f.data:this.__ordinalMeta.categories},u.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},u.type=e+"Axis."+a,u.defaultOption=o,u})(t);n.registerComponentModel(s)}),n.registerSubTypeDefaulter(e+"Axis",bH)}function bH(n){return n.type||(n.data?"category":"value")}var Pbe=(function(){function n(e){this.type="cartesian",this._dimList=[],this._axes={},this.name=e||""}return n.prototype.getAxis=function(e){return this._axes[e]},n.prototype.getAxes=function(){return Ve(this._dimList,function(e){return this._axes[e]},this)},n.prototype.getAxesByScale=function(e){return e=e.toLowerCase(),$n(this.getAxes(),function(t){return t.scale.type===e})},n.prototype.addAxis=function(e){var t=e.dim;this._axes[t]=e,this._dimList.push(t)},n})(),ZI=["x","y"];function AH(n){return n.type==="interval"||n.type==="time"}var Dbe=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="cartesian2d",t.dimensions=ZI,t}return e.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var t=this.getAxis("x").scale,r=this.getAxis("y").scale;if(!(!AH(t)||!AH(r))){var i=t.getExtent(),a=r.getExtent(),o=this.dataToPoint([i[0],a[0]]),s=this.dataToPoint([i[1],a[1]]),l=i[1]-i[0],u=a[1]-a[0];if(!(!l||!u)){var c=(s[0]-o[0])/l,f=(s[1]-o[1])/u,h=o[0]-i[0]*c,d=o[1]-a[0]*f,p=this._transform=[c,0,0,f,h,d];this._invTransform=Fv([],p)}}},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},e.prototype.containPoint=function(t){var r=this.getAxis("x"),i=this.getAxis("y");return r.contain(r.toLocalCoord(t[0]))&&i.contain(i.toLocalCoord(t[1]))},e.prototype.containData=function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},e.prototype.containZone=function(t,r){var i=this.dataToPoint(t),a=this.dataToPoint(r),o=this.getArea(),s=new fn(i[0],i[1],a[0]-i[0],a[1]-i[1]);return o.intersect(s)},e.prototype.dataToPoint=function(t,r,i){i=i||[];var a=t[0],o=t[1];if(this._transform&&a!=null&&isFinite(a)&&o!=null&&isFinite(o))return ia(i,t,this._transform);var s=this.getAxis("x"),l=this.getAxis("y");return i[0]=s.toGlobalCoord(s.dataToCoord(a,r)),i[1]=l.toGlobalCoord(l.dataToCoord(o,r)),i},e.prototype.clampData=function(t,r){var i=this.getAxis("x").scale,a=this.getAxis("y").scale,o=i.getExtent(),s=a.getExtent(),l=i.parse(t[0]),u=a.parse(t[1]);return r=r||[],r[0]=Math.min(Math.max(Math.min(o[0],o[1]),l),Math.max(o[0],o[1])),r[1]=Math.min(Math.max(Math.min(s[0],s[1]),u),Math.max(s[0],s[1])),r},e.prototype.pointToData=function(t,r){var i=[];if(this._invTransform)return ia(i,t,this._invTransform);var a=this.getAxis("x"),o=this.getAxis("y");return i[0]=a.coordToData(a.toLocalCoord(t[0]),r),i[1]=o.coordToData(o.toLocalCoord(t[1]),r),i},e.prototype.getOtherAxis=function(t){return this.getAxis(t.dim==="x"?"y":"x")},e.prototype.getArea=function(t){t=t||0;var r=this.getAxis("x").getGlobalExtent(),i=this.getAxis("y").getGlobalExtent(),a=Math.min(r[0],r[1])-t,o=Math.min(i[0],i[1])-t,s=Math.max(r[0],r[1])-a+t,l=Math.max(i[0],i[1])-o+t;return new fn(a,o,s,l)},e})(Pbe),Rbe=(function(n){Se(e,n);function e(t,r,i,a,o){var s=n.call(this,t,r,i)||this;return s.index=0,s.type=a||"value",s.position=o||"bottom",s}return e.prototype.isHorizontal=function(){var t=this.position;return t==="top"||t==="bottom"},e.prototype.getGlobalExtent=function(t){var r=this.getExtent();return r[0]=this.toGlobalCoord(r[0]),r[1]=this.toGlobalCoord(r[1]),t&&r[0]>r[1]&&r.reverse(),r},e.prototype.pointToData=function(t,r){return this.coordToData(this.toLocalCoord(t[this.dim==="x"?0:1]),r)},e.prototype.setCategorySortInfo=function(t){if(this.type!=="category")return!1;this.model.option.categorySortInfo=t,this.scale.setSortInfo(t)},e})(Zs);function $I(n,e,t){t=t||{};var r=n.coordinateSystem,i=e.axis,a={},o=i.getAxesOnZeroOf()[0],s=i.position,l=o?"onZero":s,u=i.dim,c=r.getRect(),f=[c.x,c.x+c.width,c.y,c.y+c.height],h={left:0,right:1,top:0,bottom:1,onZero:2},d=e.get("offset")||0,p=u==="x"?[f[2]-d,f[3]+d]:[f[0]-d,f[1]+d];if(o){var g=o.toGlobalCoord(o.dataToCoord(0));p[h.onZero]=Math.max(Math.min(g,p[1]),p[0])}a.position=[u==="y"?p[h[l]]:f[0],u==="x"?p[h[l]]:f[3]],a.rotation=Math.PI/2*(u==="x"?0:1);var m={top:-1,bottom:1,left:-1,right:1};a.labelDirection=a.tickDirection=a.nameDirection=m[s],a.labelOffset=o?p[h[s]]-p[h.onZero]:0,e.get(["axisTick","inside"])&&(a.tickDirection=-a.tickDirection),Gi(t.labelInside,e.get(["axisLabel","inside"]))&&(a.labelDirection=-a.labelDirection);var y=e.get(["axisLabel","rotate"]);return a.labelRotate=l==="top"?-y:y,a.z2=1,a}function CH(n){return n.get("coordinateSystem")==="cartesian2d"}function EH(n){var e={xAxisModel:null,yAxisModel:null};return G(e,function(t,r){var i=r.replace(/Model$/,""),a=n.getReferringComponents(i,yi).models[0];e[r]=a}),e}var wR=Math.log;function AJ(n,e,t){var r=af.prototype,i=r.getTicks.call(t),a=r.getTicks.call(t,!0),o=i.length-1,s=r.getInterval.call(t),l=PK(n,e),u=l.extent,c=l.fixMin,f=l.fixMax;if(n.type==="log"){var h=wR(n.base);u=[wR(u[0])/h,wR(u[1])/h]}n.setExtent(u[0],u[1]),n.calcNiceExtent({splitNumber:o,fixMin:c,fixMax:f});var d=r.getExtent.call(n);c&&(u[0]=d[0]),f&&(u[1]=d[1]);var p=r.getInterval.call(n),g=u[0],m=u[1];if(c&&f)p=(m-g)/o;else if(c)for(m=u[0]+p*o;m<u[1]&&isFinite(m)&&isFinite(u[1]);)p=sR(p),m=u[0]+p*o;else if(f)for(g=u[1]-p*o;g>u[0]&&isFinite(g)&&isFinite(u[0]);)p=sR(p),g=u[1]-p*o;else{var y=n.getTicks().length-1;y>o&&(p=sR(p));var S=p*o;m=Math.ceil(u[1]/p)*p,g=Zr(m-S),g<0&&u[0]>=0?(g=0,m=Zr(S)):m>0&&u[1]<=0&&(m=0,g=-Zr(S))}var M=(i[0].value-a[0].value)/s,b=(i[o].value-a[o].value)/s;r.setExtent.call(n,g+p*M,m+p*b),r.setInterval.call(n,p),(M||b)&&r.setNiceExtent.call(n,g+p,m-p)}var Lbe=(function(){function n(e,t,r){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=ZI,this._initCartesian(e,t,r),this.model=e}return n.prototype.getRect=function(){return this._rect},n.prototype.update=function(e,t){var r=this._axesMap;this._updateScale(e,this.model);function i(o){var s,l=En(o),u=l.length;if(u){for(var c=[],f=u-1;f>=0;f--){var h=+l[f],d=o[h],p=d.model,g=d.scale;UI(g)&&p.get("alignTicks")&&p.get("interval")==null?c.push(d):(Av(g,p),UI(g)&&(s=d))}c.length&&(s||(s=c.pop(),Av(s.scale,s.model)),G(c,function(m){AJ(m.scale,m.model,s.scale)}))}}i(r.x),i(r.y);var a={};G(r.x,function(o){PH(r,"y",o,a)}),G(r.y,function(o){PH(r,"x",o,a)}),this.resize(this.model,t)},n.prototype.resize=function(e,t,r){var i=e.getBoxLayoutParams(),a=!r&&e.get("containLabel"),o=_i(i,{width:t.getWidth(),height:t.getHeight()});this._rect=o;var s=this._axesList;l(),a&&(G(s,function(u){if(!u.model.get(["axisLabel","inside"])){var c=Jwe(u);if(c){var f=u.isHorizontal()?"height":"width",h=u.model.get(["axisLabel","margin"]);o[f]-=c[f]+h,u.position==="top"?o.y+=c.height+h:u.position==="left"&&(o.x+=c.width+h)}}}),l()),G(this._coordsList,function(u){u.calcAffineTransform()});function l(){G(s,function(u){var c=u.isHorizontal(),f=c?[0,o.width]:[0,o.height],h=u.inverse?1:0;u.setExtent(f[h],f[1-h]),Ibe(u,c?o.x:o.y)})}},n.prototype.getAxis=function(e,t){var r=this._axesMap[e];if(r!=null)return r[t||0]},n.prototype.getAxes=function(){return this._axesList.slice()},n.prototype.getCartesian=function(e,t){if(e!=null&&t!=null){var r="x"+e+"y"+t;return this._coordsMap[r]}Bt(e)&&(t=e.yAxisIndex,e=e.xAxisIndex);for(var i=0,a=this._coordsList;i<a.length;i++)if(a[i].getAxis("x").index===e||a[i].getAxis("y").index===t)return a[i]},n.prototype.getCartesians=function(){return this._coordsList.slice()},n.prototype.convertToPixel=function(e,t,r){var i=this._findConvertTarget(t);return i.cartesian?i.cartesian.dataToPoint(r):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(r)):null},n.prototype.convertFromPixel=function(e,t,r){var i=this._findConvertTarget(t);return i.cartesian?i.cartesian.pointToData(r):i.axis?i.axis.coordToData(i.axis.toLocalCoord(r)):null},n.prototype._findConvertTarget=function(e){var t=e.seriesModel,r=e.xAxisModel||t&&t.getReferringComponents("xAxis",yi).models[0],i=e.yAxisModel||t&&t.getReferringComponents("yAxis",yi).models[0],a=e.gridModel,o=this._coordsList,s,l;if(t)s=t.coordinateSystem,dn(o,s)<0&&(s=null);else if(r&&i)s=this.getCartesian(r.componentIndex,i.componentIndex);else if(r)l=this.getAxis("x",r.componentIndex);else if(i)l=this.getAxis("y",i.componentIndex);else if(a){var u=a.coordinateSystem;u===this&&(s=this._coordsList[0])}return{cartesian:s,axis:l}},n.prototype.containPoint=function(e){var t=this._coordsList[0];if(t)return t.containPoint(e)},n.prototype._initCartesian=function(e,t,r){var i=this,a=this,o={left:!1,right:!1,top:!1,bottom:!1},s={x:{},y:{}},l={x:0,y:0};if(t.eachComponent("xAxis",u("x"),this),t.eachComponent("yAxis",u("y"),this),!l.x||!l.y){this._axesMap={},this._axesList=[];return}this._axesMap=s,G(s.x,function(c,f){G(s.y,function(h,d){var p="x"+f+"y"+d,g=new Dbe(p);g.master=i,g.model=e,i._coordsMap[p]=g,i._coordsList.push(g),g.addAxis(c),g.addAxis(h)})});function u(c){return function(f,h){if(MR(f,e)){var d=f.get("position");c==="x"?d!=="top"&&d!=="bottom"&&(d=o.bottom?"top":"bottom"):d!=="left"&&d!=="right"&&(d=o.left?"right":"left"),o[d]=!0;var p=new Rbe(c,L1(f),[0,0],f.get("type"),d),g=p.type==="category";p.onBand=g&&f.get("boundaryGap"),p.inverse=f.get("inverse"),f.axis=p,p.model=f,p.grid=a,p.index=h,a._axesList.push(p),s[c][h]=p,l[c]++}}}},n.prototype._updateScale=function(e,t){G(this._axesList,function(i){if(i.scale.setExtent(1/0,-1/0),i.type==="category"){var a=i.model.get("categorySortInfo");i.scale.setSortInfo(a)}}),e.eachSeries(function(i){if(CH(i)){var a=EH(i),o=a.xAxisModel,s=a.yAxisModel;if(!MR(o,t)||!MR(s,t))return;var l=this.getCartesian(o.componentIndex,s.componentIndex),u=i.getData(),c=l.getAxis("x"),f=l.getAxis("y");r(u,c),r(u,f)}},this);function r(i,a){G(aA(i,a.dim),function(o){a.scale.unionExtentFromData(i,o)})}},n.prototype.getTooltipAxes=function(e){var t=[],r=[];return G(this.getCartesians(),function(i){var a=e!=null&&e!=="auto"?i.getAxis(e):i.getBaseAxis(),o=i.getOtherAxis(a);dn(t,a)<0&&t.push(a),dn(r,o)<0&&r.push(o)}),{baseAxes:t,otherAxes:r}},n.create=function(e,t){var r=[];return e.eachComponent("grid",function(i,a){var o=new n(i,e,t);o.name="grid_"+a,o.resize(i,t,!0),i.coordinateSystem=o,r.push(o)}),e.eachSeries(function(i){if(CH(i)){var a=EH(i),o=a.xAxisModel,s=a.yAxisModel,l=o.getCoordSysModel(),u=l.coordinateSystem;i.coordinateSystem=u.getCartesian(o.componentIndex,s.componentIndex)}}),r},n.dimensions=ZI,n})();function MR(n,e){return n.getCoordSysModel()===e}function PH(n,e,t,r){t.getAxesOnZeroOf=function(){return a?[a]:[]};var i=n[e],a,o=t.model,s=o.get(["axisLine","onZero"]),l=o.get(["axisLine","onZeroAxisIndex"]);if(!s)return;if(l!=null)DH(i[l])&&(a=i[l]);else for(var u in i)if(i.hasOwnProperty(u)&&DH(i[u])&&!r[c(i[u])]){a=i[u];break}a&&(r[c(a)]=!0);function c(f){return f.dim+"_"+f.index}}function DH(n){return n&&n.type!=="category"&&n.type!=="time"&&Kwe(n)}function Ibe(n,e){var t=n.getExtent(),r=t[0]+t[1];n.toGlobalCoord=n.dim==="x"?function(i){return i+e}:function(i){return r-i+e},n.toLocalCoord=n.dim==="x"?function(i){return i-e}:function(i){return r-i+e}}var _h=Math.PI,mo=(function(){function n(e,t){this.group=new Xt,this.opt=t,this.axisModel=e,Dt(t,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var r=new Xt({x:t.position[0],y:t.position[1],rotation:t.rotation});r.updateTransform(),this._transformGroup=r}return n.prototype.hasBuilder=function(e){return!!RH[e]},n.prototype.add=function(e){RH[e](this.opt,this.axisModel,this.group,this._transformGroup)},n.prototype.getGroup=function(){return this.group},n.innerTextLayout=function(e,t,r){var i=Sk(t-e),a,o;return Ty(i)?(o=r>0?"top":"bottom",a="center"):Ty(i-_h)?(o=r>0?"bottom":"top",a="center"):(o="middle",i>0&&i<_h?a=r>0?"right":"left":a=r>0?"left":"right"),{rotation:i,textAlign:a,textVerticalAlign:o}},n.makeAxisEventDataBase=function(e){var t={componentType:e.mainType,componentIndex:e.componentIndex};return t[e.mainType+"Index"]=e.componentIndex,t},n.isLabelSilent=function(e){var t=e.get("tooltip");return e.get("silent")||!(e.get("triggerEvent")||t&&t.show)},n})(),RH={axisLine:function(n,e,t,r){var i=e.get(["axisLine","show"]);if(i==="auto"&&n.handleAutoShown&&(i=n.handleAutoShown("axisLine")),!!i){var a=e.axis.getExtent(),o=r.transform,s=[a[0],0],l=[a[1],0],u=s[0]>l[0];o&&(ia(s,s,o),ia(l,l,o));var c=Le({lineCap:"round"},e.getModel(["axisLine","lineStyle"]).getLineStyle()),f=new Ri({shape:{x1:s[0],y1:s[1],x2:l[0],y2:l[1]},style:c,strokeContainThreshold:n.strokeContainThreshold||5,silent:!0,z2:1});Ay(f.shape,f.style.lineWidth),f.anid="line",t.add(f);var h=e.get(["axisLine","symbol"]);if(h!=null){var d=e.get(["axisLine","symbolSize"]);ut(h)&&(h=[h,h]),(ut(d)||Hn(d))&&(d=[d,d]);var p=Vv(e.get(["axisLine","symbolOffset"])||0,d),g=d[0],m=d[1];G([{rotate:n.rotation+Math.PI/2,offset:p[0],r:0},{rotate:n.rotation-Math.PI/2,offset:p[1],r:Math.sqrt((s[0]-l[0])*(s[0]-l[0])+(s[1]-l[1])*(s[1]-l[1]))}],function(y,S){if(h[S]!=="none"&&h[S]!=null){var M=ci(h[S],-g/2,-m/2,g,m,c.stroke,!0),b=y.r+y.offset,C=u?l:s;M.attr({rotation:y.rotate,x:C[0]+b*Math.cos(n.rotation),y:C[1]-b*Math.sin(n.rotation),silent:!0,z2:11}),t.add(M)}})}}},axisTickLabel:function(n,e,t,r){var i=kbe(t,r,e,n),a=zbe(t,r,e,n);if(Obe(e,a,i),Fbe(t,r,e,n.tickDirection),e.get(["axisLabel","hideOverlap"])){var o=HK(Ve(a,function(s){return{label:s,priority:s.z2,defaultAttr:{ignore:s.ignore}}}));YK(o)}},axisName:function(n,e,t,r){var i=Gi(n.axisName,e.get("name"));if(i){var a=e.get("nameLocation"),o=n.nameDirection,s=e.getModel("nameTextStyle"),l=e.get("nameGap")||0,u=e.axis.getExtent(),c=u[0]>u[1]?-1:1,f=[a==="start"?u[0]-c*l:a==="end"?u[1]+c*l:(u[0]+u[1])/2,IH(a)?n.labelOffset+o*l:0],h,d=e.get("nameRotate");d!=null&&(d=d*_h/180);var p;IH(a)?h=mo.innerTextLayout(n.rotation,d??n.rotation,o):(h=Nbe(n.rotation,a,d||0,u),p=n.axisNameAvailableWidth,p!=null&&(p=Math.abs(p/Math.sin(h.rotation)),!isFinite(p)&&(p=null)));var g=s.getFont(),m=e.get("nameTruncate",!0)||{},y=m.ellipsis,S=Gi(n.nameTruncateMaxWidth,m.maxWidth,p),M=new On({x:f[0],y:f[1],rotation:h.rotation,silent:mo.isLabelSilent(e),style:_r(s,{text:i,font:g,overflow:"truncate",width:S,ellipsis:y,fill:s.getTextColor()||e.get(["axisLine","lineStyle","color"]),align:s.get("align")||h.textAlign,verticalAlign:s.get("verticalAlign")||h.textVerticalAlign}),z2:1});if(zv({el:M,componentModel:e,itemName:i}),M.__fullText=i,M.anid="name",e.get("triggerEvent")){var b=mo.makeAxisEventDataBase(e);b.targetType="axisName",b.name=i,$t(M).eventData=b}r.add(M),M.updateTransform(),t.add(M),M.decomposeTransform()}}};function Nbe(n,e,t,r){var i=Sk(t-n),a,o,s=r[0]>r[1],l=e==="start"&&!s||e!=="start"&&s;return Ty(i-_h/2)?(o=l?"bottom":"top",a="center"):Ty(i-_h*1.5)?(o=l?"top":"bottom",a="center"):(o="middle",i<_h*1.5&&i>_h/2?a=l?"left":"right":a=l?"right":"left"),{rotation:i,textAlign:a,textVerticalAlign:o}}function Obe(n,e,t){if(!DK(n.axis)){var r=n.get(["axisLabel","showMinLabel"]),i=n.get(["axisLabel","showMaxLabel"]);e=e||[],t=t||[];var a=e[0],o=e[1],s=e[e.length-1],l=e[e.length-2],u=t[0],c=t[1],f=t[t.length-1],h=t[t.length-2];r===!1?(Cs(a),Cs(u)):LH(a,o)&&(r?(Cs(o),Cs(c)):(Cs(a),Cs(u))),i===!1?(Cs(s),Cs(f)):LH(l,s)&&(i?(Cs(l),Cs(h)):(Cs(s),Cs(f)))}}function Cs(n){n&&(n.ignore=!0)}function LH(n,e){var t=n&&n.getBoundingRect().clone(),r=e&&e.getBoundingRect().clone();if(!(!t||!r)){var i=S1([]);return jh(i,i,-n.rotation),t.applyTransform(Pu([],i,n.getLocalTransform())),r.applyTransform(Pu([],i,e.getLocalTransform())),t.intersect(r)}}function IH(n){return n==="middle"||n==="center"}function CJ(n,e,t,r,i){for(var a=[],o=[],s=[],l=0;l<n.length;l++){var u=n[l].coord;o[0]=u,o[1]=0,s[0]=u,s[1]=t,e&&(ia(o,o,e),ia(s,s,e));var c=new Ri({shape:{x1:o[0],y1:o[1],x2:s[0],y2:s[1]},style:r,z2:2,autoBatch:!0,silent:!0});Ay(c.shape,c.style.lineWidth),c.anid=i+"_"+n[l].tickValue,a.push(c)}return a}function kbe(n,e,t,r){var i=t.axis,a=t.getModel("axisTick"),o=a.get("show");if(o==="auto"&&r.handleAutoShown&&(o=r.handleAutoShown("axisTick")),!(!o||i.scale.isBlank())){for(var s=a.getModel("lineStyle"),l=r.tickDirection*a.get("length"),u=i.getTicksCoords(),c=CJ(u,e.transform,l,Dt(s.getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])}),"ticks"),f=0;f<c.length;f++)n.add(c[f]);return c}}function Fbe(n,e,t,r){var i=t.axis,a=t.getModel("minorTick");if(!(!a.get("show")||i.scale.isBlank())){var o=i.getMinorTicksCoords();if(o.length)for(var s=a.getModel("lineStyle"),l=r*a.get("length"),u=Dt(s.getLineStyle(),Dt(t.getModel("axisTick").getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])})),c=0;c<o.length;c++)for(var f=CJ(o[c],e.transform,l,u,"minorticks_"+c),h=0;h<f.length;h++)n.add(f[h])}}function zbe(n,e,t,r){var i=t.axis,a=Gi(r.axisLabelShow,t.get(["axisLabel","show"]));if(!(!a||i.scale.isBlank())){var o=t.getModel("axisLabel"),s=o.get("margin"),l=i.getViewLabels(),u=(Gi(r.labelRotate,o.get("rotate"))||0)*_h/180,c=mo.innerTextLayout(r.rotation,u,r.labelDirection),f=t.getCategories&&t.getCategories(!0),h=[],d=mo.isLabelSilent(t),p=t.get("triggerEvent");return G(l,function(g,m){var y=i.scale.type==="ordinal"?i.scale.getRawOrdinalNumber(g.tickValue):g.tickValue,S=g.formattedLabel,M=g.rawLabel,b=o;if(f&&f[y]){var C=f[y];Bt(C)&&C.textStyle&&(b=new qn(C.textStyle,o,t.ecModel))}var A=b.getTextColor()||t.get(["axisLine","lineStyle","color"]),E=i.dataToCoord(y),I=b.getShallow("align",!0)||c.textAlign,L=tn(b.getShallow("alignMinLabel",!0),I),R=tn(b.getShallow("alignMaxLabel",!0),I),O=b.getShallow("verticalAlign",!0)||b.getShallow("baseline",!0)||c.textVerticalAlign,U=tn(b.getShallow("verticalAlignMinLabel",!0),O),V=tn(b.getShallow("verticalAlignMaxLabel",!0),O),W=new On({x:E,y:r.labelOffset+r.labelDirection*s,rotation:c.rotation,silent:d,z2:10+(g.level||0),style:_r(b,{text:S,align:m===0?L:m===l.length-1?R:I,verticalAlign:m===0?U:m===l.length-1?V:O,fill:Ct(A)?A(i.type==="category"?M:i.type==="value"?y+"":y,m):A})});if(W.anid="label_"+y,zv({el:W,componentModel:t,itemName:S,formatterParamsExtra:{isTruncated:function(){return W.isTruncated},value:M,tickIndex:m}}),p){var X=mo.makeAxisEventDataBase(t);X.targetType="axisLabel",X.value=M,X.tickIndex=m,i.type==="category"&&(X.dataIndex=y),$t(W).eventData=X}e.add(W),W.updateTransform(),h.push(W),n.add(W),W.decomposeTransform()}),h}}function Bbe(n,e){var t={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return Ube(t,n,e),t.seriesInvolved&&Gbe(t,n),t}function Ube(n,e,t){var r=e.getComponent("tooltip"),i=e.getComponent("axisPointer"),a=i.get("link",!0)||[],o=[];G(t.getCoordinateSystems(),function(s){if(!s.axisPointerEnabled)return;var l=YS(s.model),u=n.coordSysAxesInfo[l]={};n.coordSysMap[l]=s;var c=s.model,f=c.getModel("tooltip",r);if(G(s.getAxes(),nn(g,!1,null)),s.getTooltipAxes&&r&&f.get("show")){var h=f.get("trigger")==="axis",d=f.get(["axisPointer","type"])==="cross",p=s.getTooltipAxes(f.get(["axisPointer","axis"]));(h||d)&&G(p.baseAxes,nn(g,d?"cross":!0,h)),d&&G(p.otherAxes,nn(g,"cross",!1))}function g(m,y,S){var M=S.model.getModel("axisPointer",i),b=M.get("show");if(!(!b||b==="auto"&&!m&&!qI(M))){y==null&&(y=M.get("triggerTooltip")),M=m?Vbe(S,f,i,e,m,y):M;var C=M.get("snap"),A=M.get("triggerEmphasis"),E=YS(S.model),I=y||C||S.type==="category",L=n.axesInfo[E]={key:E,axis:S,coordSys:s,axisPointerModel:M,triggerTooltip:y,triggerEmphasis:A,involveSeries:I,snap:C,useHandle:qI(M),seriesModels:[],linkGroup:null};u[E]=L,n.seriesInvolved=n.seriesInvolved||I;var R=Hbe(a,S);if(R!=null){var O=o[R]||(o[R]={axesInfo:{}});O.axesInfo[E]=L,O.mapper=a[R].mapper,L.linkGroup=O}}}})}function Vbe(n,e,t,r,i,a){var o=e.getModel("axisPointer"),s=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],l={};G(s,function(h){l[h]=Vt(o.get(h))}),l.snap=n.type!=="category"&&!!a,o.get("type")==="cross"&&(l.type="line");var u=l.label||(l.label={});if(u.show==null&&(u.show=!1),i==="cross"){var c=o.get(["label","show"]);if(u.show=c??!0,!a){var f=l.lineStyle=o.get("crossStyle");f&&Dt(u,f.textStyle)}}return n.model.getModel("axisPointer",new qn(l,t,r))}function Gbe(n,e){e.eachSeries(function(t){var r=t.coordinateSystem,i=t.get(["tooltip","trigger"],!0),a=t.get(["tooltip","show"],!0);!r||i==="none"||i===!1||i==="item"||a===!1||t.get(["axisPointer","show"],!0)===!1||G(n.coordSysAxesInfo[YS(r.model)],function(o){var s=o.axis;r.getAxis(s.dim)===s&&(o.seriesModels.push(t),o.seriesDataCount==null&&(o.seriesDataCount=0),o.seriesDataCount+=t.getData().count())})})}function Hbe(n,e){for(var t=e.model,r=e.dim,i=0;i<n.length;i++){var a=n[i]||{};if(TR(a[r+"AxisId"],t.id)||TR(a[r+"AxisIndex"],t.componentIndex)||TR(a[r+"AxisName"],t.name))return i}}function TR(n,e){return n==="all"||ze(n)&&dn(n,e)>=0||n===e}function Wbe(n){var e=L3(n);if(e){var t=e.axisPointerModel,r=e.axis.scale,i=t.option,a=t.get("status"),o=t.get("value");o!=null&&(o=r.parse(o));var s=qI(t);a==null&&(i.status=s?"show":"hide");var l=r.getExtent().slice();l[0]>l[1]&&l.reverse(),(o==null||o>l[1])&&(o=l[1]),o<l[0]&&(o=l[0]),i.value=o,s&&(i.status=e.axis.scale.isBlank()?"hide":"show")}}function L3(n){var e=(n.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[YS(n)]}function Xbe(n){var e=L3(n);return e&&e.axisPointerModel}function qI(n){return!!n.get(["handle","show"])}function YS(n){return n.type+"||"+n.id}var NH={},Hv=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i,a){this.axisPointerClass&&Wbe(t),n.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(t,i,!0)},e.prototype.updateAxisPointer=function(t,r,i,a){this._doUpdateAxisPointerClass(t,i,!1)},e.prototype.remove=function(t,r){var i=this._axisPointer;i&&i.remove(r)},e.prototype.dispose=function(t,r){this._disposeAxisPointer(r),n.prototype.dispose.apply(this,arguments)},e.prototype._doUpdateAxisPointerClass=function(t,r,i){var a=e.getAxisPointerClass(this.axisPointerClass);if(a){var o=Xbe(t);o?(this._axisPointer||(this._axisPointer=new a)).render(t,o,r,i):this._disposeAxisPointer(r)}},e.prototype._disposeAxisPointer=function(t){this._axisPointer&&this._axisPointer.dispose(t),this._axisPointer=null},e.registerAxisPointerClass=function(t,r){NH[t]=r},e.getAxisPointerClass=function(t){return t&&NH[t]},e.type="axis",e})(br),KI=Un();function EJ(n,e,t,r){var i=t.axis;if(!i.scale.isBlank()){var a=t.getModel("splitArea"),o=a.getModel("areaStyle"),s=o.get("color"),l=r.coordinateSystem.getRect(),u=i.getTicksCoords({tickModel:a,clamp:!0});if(u.length){var c=s.length,f=KI(n).splitAreaColors,h=xt(),d=0;if(f)for(var p=0;p<u.length;p++){var g=f.get(u[p].tickValue);if(g!=null){d=(g+(c-1)*p)%c;break}}var m=i.toGlobalCoord(u[0].coord),y=o.getAreaStyle();s=ze(s)?s:[s];for(var p=1;p<u.length;p++){var S=i.toGlobalCoord(u[p].coord),M=void 0,b=void 0,C=void 0,A=void 0;i.isHorizontal()?(M=m,b=l.y,C=S-M,A=l.height,m=M+C):(M=l.x,b=m,C=l.width,A=S-b,m=b+A);var E=u[p-1].tickValue;E!=null&&h.set(E,d),e.add(new kn({anid:E!=null?"area_"+E:null,shape:{x:M,y:b,width:C,height:A},style:Dt({fill:s[d]},y),autoBatch:!0,silent:!0})),d=(d+1)%c}KI(n).splitAreaColors=h}}}function PJ(n){KI(n).splitAreaColors=null}var Ybe=["axisLine","axisTickLabel","axisName"],jbe=["splitArea","splitLine","minorSplitLine"],DJ=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="CartesianAxisPointer",t}return e.prototype.render=function(t,r,i,a){this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new Xt,this.group.add(this._axisGroup),!!t.get("show")){var s=t.getCoordSysModel(),l=$I(s,t),u=new mo(t,Le({handleAutoShown:function(f){for(var h=s.coordinateSystem.getCartesians(),d=0;d<h.length;d++)if(UI(h[d].getOtherAxis(t.axis).scale))return!0;return!1}},l));G(Ybe,u.add,u),this._axisGroup.add(u.getGroup()),G(jbe,function(f){t.get([f,"show"])&&Zbe[f](this,this._axisGroup,t,s)},this);var c=a&&a.type==="changeAxisOrder"&&a.isInitSort;c||P1(o,this._axisGroup,t),n.prototype.render.call(this,t,r,i,a)}},e.prototype.remove=function(){PJ(this)},e.type="cartesianAxis",e})(Hv),Zbe={splitLine:function(n,e,t,r){var i=t.axis;if(!i.scale.isBlank()){var a=t.getModel("splitLine"),o=a.getModel("lineStyle"),s=o.get("color"),l=a.get("showMinLine")!==!1,u=a.get("showMaxLine")!==!1;s=ze(s)?s:[s];for(var c=r.coordinateSystem.getRect(),f=i.isHorizontal(),h=0,d=i.getTicksCoords({tickModel:a}),p=[],g=[],m=o.getLineStyle(),y=0;y<d.length;y++){var S=i.toGlobalCoord(d[y].coord);if(!(y===0&&!l||y===d.length-1&&!u)){var M=d[y].tickValue;f?(p[0]=S,p[1]=c.y,g[0]=S,g[1]=c.y+c.height):(p[0]=c.x,p[1]=S,g[0]=c.x+c.width,g[1]=S);var b=h++%s.length,C=new Ri({anid:M!=null?"line_"+M:null,autoBatch:!0,shape:{x1:p[0],y1:p[1],x2:g[0],y2:g[1]},style:Dt({stroke:s[b]},m),silent:!0});Ay(C.shape,m.lineWidth),e.add(C)}}}},minorSplitLine:function(n,e,t,r){var i=t.axis,a=t.getModel("minorSplitLine"),o=a.getModel("lineStyle"),s=r.coordinateSystem.getRect(),l=i.isHorizontal(),u=i.getMinorTicksCoords();if(u.length)for(var c=[],f=[],h=o.getLineStyle(),d=0;d<u.length;d++)for(var p=0;p<u[d].length;p++){var g=i.toGlobalCoord(u[d][p].coord);l?(c[0]=g,c[1]=s.y,f[0]=g,f[1]=s.y+s.height):(c[0]=s.x,c[1]=g,f[0]=s.x+s.width,f[1]=g);var m=new Ri({anid:"minor_line_"+u[d][p].tickValue,autoBatch:!0,shape:{x1:c[0],y1:c[1],x2:f[0],y2:f[1]},style:h,silent:!0});Ay(m.shape,h.lineWidth),e.add(m)}},splitArea:function(n,e,t,r){EJ(n,e,t,r)}},RJ=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="xAxis",e})(DJ),$be=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=RJ.type,t}return e.type="yAxis",e})(DJ),qbe=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="grid",t}return e.prototype.render=function(t,r){this.group.removeAll(),t.get("show")&&this.group.add(new kn({shape:t.coordinateSystem.getRect(),style:Dt({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))},e.type="grid",e})(br),OH={offset:0};function LJ(n){n.registerComponentView(qbe),n.registerComponentModel(Tbe),n.registerCoordinateSystem("cartesian2d",Lbe),Dy(n,"x",jI,OH),Dy(n,"y",jI,OH),n.registerComponentView(RJ),n.registerComponentView($be),n.registerPreprocessor(function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})})}function Kbe(n){Sn(LJ),n.registerSeriesModel(_be),n.registerChartView(Mbe),n.registerLayout(k1("scatter"))}function Jbe(n){n.eachSeriesByType("radar",function(e){var t=e.getData(),r=[],i=e.coordinateSystem;if(i){var a=i.getIndicatorAxes();G(a,function(o,s){t.each(t.mapDimension(a[s].dim),function(l,u){r[u]=r[u]||[];var c=i.dataToPoint(l,s);r[u][s]=kH(c)?c:FH(i)})}),t.each(function(o){var s=aZ(r[o],function(l){return kH(l)})||FH(i);r[o].push(s.slice()),t.setItemLayout(o,r[o])})}})}function kH(n){return!isNaN(n[0])&&!isNaN(n[1])}function FH(n){return[n.cx,n.cy]}function Qbe(n){var e=n.polar;if(e){ze(e)||(e=[e]);var t=[];G(e,function(r,i){r.indicator?(r.type&&!r.shape&&(r.shape=r.type),n.radar=n.radar||[],ze(n.radar)||(n.radar=[n.radar]),n.radar.push(r)):t.push(r)}),n.polar=t}G(n.series,function(r){r&&r.type==="radar"&&r.polarIndex&&(r.radarIndex=r.polarIndex)})}var eAe=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i){var a=t.coordinateSystem,o=this.group,s=t.getData(),l=this._data;function u(h,d){var p=h.getItemVisual(d,"symbol")||"circle";if(p!=="none"){var g=a0(h.getItemVisual(d,"symbolSize")),m=ci(p,-1,-1,2,2),y=h.getItemVisual(d,"symbolRotate")||0;return m.attr({style:{strokeNoScale:!0},z2:100,scaleX:g[0]/2,scaleY:g[1]/2,rotation:y*Math.PI/180||0}),m}}function c(h,d,p,g,m,y){p.removeAll();for(var S=0;S<d.length-1;S++){var M=u(g,m);M&&(M.__dimIdx=S,h[S]?(M.setPosition(h[S]),Bv[y?"initProps":"updateProps"](M,{x:d[S][0],y:d[S][1]},t,m)):M.setPosition(d[S]),p.add(M))}}function f(h){return Ve(h,function(d){return[a.cx,a.cy]})}s.diff(l).add(function(h){var d=s.getItemLayout(h);if(d){var p=new Xa,g=new Za,m={shape:{points:d}};p.shape.points=f(d),g.shape.points=f(d),Dr(p,m,t,h),Dr(g,m,t,h);var y=new Xt,S=new Xt;y.add(g),y.add(p),y.add(S),c(g.shape.points,d,S,s,h,!0),s.setItemGraphicEl(h,y)}}).update(function(h,d){var p=l.getItemGraphicEl(d),g=p.childAt(0),m=p.childAt(1),y=p.childAt(2),S={shape:{points:s.getItemLayout(h)}};S.shape.points&&(c(g.shape.points,S.shape.points,y,s,h,!1),Wl(m),Wl(g),Xn(g,S,t),Xn(m,S,t),s.setItemGraphicEl(h,p))}).remove(function(h){o.remove(l.getItemGraphicEl(h))}).execute(),s.eachItemGraphicEl(function(h,d){var p=s.getItemModel(d),g=h.childAt(0),m=h.childAt(1),y=h.childAt(2),S=s.getItemVisual(d,"style"),M=S.fill;o.add(h),g.useStyle(Dt(p.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:M})),xa(g,p,"lineStyle"),xa(m,p,"areaStyle");var b=p.getModel("areaStyle"),C=b.isEmpty()&&b.parentModel.isEmpty();m.ignore=C,G(["emphasis","select","blur"],function(I){var L=p.getModel([I,"areaStyle"]),R=L.isEmpty()&&L.parentModel.isEmpty();m.ensureState(I).ignore=R&&C}),m.useStyle(Dt(b.getAreaStyle(),{fill:M,opacity:.7,decal:S.decal}));var A=p.getModel("emphasis"),E=A.getModel("itemStyle").getItemStyle();y.eachChild(function(I){if(I instanceof $i){var L=I.style;I.useStyle(Le({image:L.image,x:L.x,y:L.y,width:L.width,height:L.height},S))}else I.useStyle(S),I.setColor(M),I.style.strokeNoScale=!0;var R=I.ensureState("emphasis");R.style=Vt(E);var O=s.getStore().get(s.getDimensionIndex(I.__dimIdx),d);(O==null||isNaN(O))&&(O=""),Sa(I,ji(p),{labelFetcher:s.hostModel,labelDataIndex:d,labelDimIndex:I.__dimIdx,defaultText:O,inheritColor:M,defaultOpacity:S.opacity})}),Vr(h,A.get("focus"),A.get("blurScope"),A.get("disabled"))}),this._data=s},e.prototype.remove=function(){this.group.removeAll(),this._data=null},e.type="radar",e})(sr),tAe=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return e.prototype.init=function(t){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new z1(ht(this.getData,this),ht(this.getRawData,this))},e.prototype.getInitialData=function(t,r){return u0(this,{generateCoord:"indicator_",generateCoordCount:1/0})},e.prototype.formatTooltip=function(t,r,i){var a=this.getData(),o=this.coordinateSystem,s=o.getIndicatorAxes(),l=this.getData().getName(t),u=l===""?this.name:l,c=Cq(this,t);return Zi("section",{header:u,sortBlocks:!0,blocks:Ve(s,function(f){var h=a.get(a.mapDimension(f.dim),t);return Zi("nameValue",{markerType:"subItem",markerColor:c,name:f.name,value:h,sortParam:h})})})},e.prototype.getTooltipPosition=function(t){if(t!=null){for(var r=this.getData(),i=this.coordinateSystem,a=r.getValues(Ve(i.dimensions,function(u){return r.mapDimension(u)}),t),o=0,s=a.length;o<s;o++)if(!isNaN(a[o])){var l=i.getIndicatorAxes();return i.coordToPoint(l[o].dataToCoord(a[o]),o)}}},e.type="series.radar",e.dependencies=["radar"],e.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},e})(pr),H_=bJ.value;function _T(n,e){return Dt({show:e},n)}var nAe=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.optionUpdated=function(){var t=this.get("boundaryGap"),r=this.get("splitNumber"),i=this.get("scale"),a=this.get("axisLine"),o=this.get("axisTick"),s=this.get("axisLabel"),l=this.get("axisName"),u=this.get(["axisName","show"]),c=this.get(["axisName","formatter"]),f=this.get("axisNameGap"),h=this.get("triggerEvent"),d=Ve(this.get("indicator")||[],function(p){p.max!=null&&p.max>0&&!p.min?p.min=0:p.min!=null&&p.min<0&&!p.max&&(p.max=0);var g=l;p.color!=null&&(g=Dt({color:p.color},l));var m=on(Vt(p),{boundaryGap:t,splitNumber:r,scale:i,axisLine:a,axisTick:o,axisLabel:s,name:p.text,showName:u,nameLocation:"end",nameGap:f,nameTextStyle:g,triggerEvent:h},!1);if(ut(c)){var y=m.name;m.name=c.replace("{value}",y??"")}else Ct(c)&&(m.name=c(m.name,m));var S=new qn(m,null,this.ecModel);return ti(S,l0.prototype),S.mainType="radar",S.componentIndex=this.componentIndex,S},this);this._indicatorModels=d},e.prototype.getIndicatorModels=function(){return this._indicatorModels},e.type="radar",e.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:on({lineStyle:{color:"#bbb"}},H_.axisLine),axisLabel:_T(H_.axisLabel,!1),axisTick:_T(H_.axisTick,!1),splitLine:_T(H_.splitLine,!0),splitArea:_T(H_.splitArea,!0),indicator:[]},e})(wn),rAe=["axisLine","axisTickLabel","axisName"],iAe=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i){var a=this.group;a.removeAll(),this._buildAxes(t),this._buildSplitLineAndArea(t)},e.prototype._buildAxes=function(t){var r=t.coordinateSystem,i=r.getIndicatorAxes(),a=Ve(i,function(o){var s=o.model.get("showName")?o.name:"",l=new mo(o.model,{axisName:s,position:[r.cx,r.cy],rotation:o.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return l});G(a,function(o){G(rAe,o.add,o),this.group.add(o.getGroup())},this)},e.prototype._buildSplitLineAndArea=function(t){var r=t.coordinateSystem,i=r.getIndicatorAxes();if(!i.length)return;var a=t.get("shape"),o=t.getModel("splitLine"),s=t.getModel("splitArea"),l=o.getModel("lineStyle"),u=s.getModel("areaStyle"),c=o.get("show"),f=s.get("show"),h=l.get("color"),d=u.get("color"),p=ze(h)?h:[h],g=ze(d)?d:[d],m=[],y=[];function S(X,j,Q){var B=Q%j.length;return X[B]=X[B]||[],B}if(a==="circle")for(var M=i[0].getTicksCoords(),b=r.cx,C=r.cy,A=0;A<M.length;A++){if(c){var E=S(m,p,A);m[E].push(new ku({shape:{cx:b,cy:C,r:M[A].coord}}))}if(f&&A<M.length-1){var E=S(y,g,A);y[E].push(new jy({shape:{cx:b,cy:C,r0:M[A].coord,r:M[A+1].coord}}))}}else for(var I,L=Ve(i,function(X,j){var Q=X.getTicksCoords();return I=I==null?Q.length-1:Math.min(Q.length-1,I),Ve(Q,function(B){return r.coordToPoint(B.coord,j)})}),R=[],A=0;A<=I;A++){for(var O=[],U=0;U<i.length;U++)O.push(L[U][A]);if(O[0]&&O.push(O[0].slice()),c){var E=S(m,p,A);m[E].push(new Za({shape:{points:O}}))}if(f&&R){var E=S(y,g,A-1);y[E].push(new Xa({shape:{points:O.concat(R)}}))}R=O.slice().reverse()}var V=l.getLineStyle(),W=u.getAreaStyle();G(y,function(X,j){this.group.add(is(X,{style:Dt({stroke:"none",fill:g[j%g.length]},W),silent:!0}))},this),G(m,function(X,j){this.group.add(is(X,{style:Dt({fill:"none",stroke:p[j%p.length]},V),silent:!0}))},this)},e.type="radar",e})(br),aAe=(function(n){Se(e,n);function e(t,r,i){var a=n.call(this,t,r,i)||this;return a.type="value",a.angle=0,a.name="",a}return e})(Zs),oAe=(function(){function n(e,t,r){this.dimensions=[],this._model=e,this._indicatorAxes=Ve(e.getIndicatorModels(),function(i,a){var o="indicator_"+a,s=new aAe(o,new af);return s.name=i.get("name"),s.model=i,i.axis=s,this.dimensions.push(o),s},this),this.resize(e,r)}return n.prototype.getIndicatorAxes=function(){return this._indicatorAxes},n.prototype.dataToPoint=function(e,t){var r=this._indicatorAxes[t];return this.coordToPoint(r.dataToCoord(e),t)},n.prototype.coordToPoint=function(e,t){var r=this._indicatorAxes[t],i=r.angle,a=this.cx+e*Math.cos(i),o=this.cy-e*Math.sin(i);return[a,o]},n.prototype.pointToData=function(e){var t=e[0]-this.cx,r=e[1]-this.cy,i=Math.sqrt(t*t+r*r);t/=i,r/=i;for(var a=Math.atan2(-r,t),o=1/0,s,l=-1,u=0;u<this._indicatorAxes.length;u++){var c=this._indicatorAxes[u],f=Math.abs(a-c.angle);f<o&&(s=c,l=u,o=f)}return[l,+(s&&s.coordToData(i))]},n.prototype.resize=function(e,t){var r=e.get("center"),i=t.getWidth(),a=t.getHeight(),o=Math.min(i,a)/2;this.cx=rt(r[0],i),this.cy=rt(r[1],a),this.startAngle=e.get("startAngle")*Math.PI/180;var s=e.get("radius");(ut(s)||Hn(s))&&(s=[0,s]),this.r0=rt(s[0],o),this.r=rt(s[1],o),G(this._indicatorAxes,function(l,u){l.setExtent(this.r0,this.r);var c=this.startAngle+u*Math.PI*2/this._indicatorAxes.length;c=Math.atan2(Math.sin(c),Math.cos(c)),l.angle=c},this)},n.prototype.update=function(e,t){var r=this._indicatorAxes,i=this._model;G(r,function(s){s.scale.setExtent(1/0,-1/0)}),e.eachSeriesByType("radar",function(s,l){if(!(s.get("coordinateSystem")!=="radar"||e.getComponent("radar",s.get("radarIndex"))!==i)){var u=s.getData();G(r,function(c){c.scale.unionExtentFromData(u,u.mapDimension(c.dim))})}},this);var a=i.get("splitNumber"),o=new af;o.setExtent(0,a),o.setInterval(1),G(r,function(s,l){AJ(s.scale,s.model,o)})},n.prototype.convertToPixel=function(e,t,r){return console.warn("Not implemented."),null},n.prototype.convertFromPixel=function(e,t,r){return console.warn("Not implemented."),null},n.prototype.containPoint=function(e){return console.warn("Not implemented."),!1},n.create=function(e,t){var r=[];return e.eachComponent("radar",function(i){var a=new n(i,e,t);r.push(a),i.coordinateSystem=a}),e.eachSeriesByType("radar",function(i){i.get("coordinateSystem")==="radar"&&(i.coordinateSystem=r[i.get("radarIndex")||0])}),r},n.dimensions=[],n})();function sAe(n){n.registerCoordinateSystem("radar",oAe),n.registerComponentModel(nAe),n.registerComponentView(iAe),n.registerVisual({seriesType:"radar",reset:function(e){var t=e.getData();t.each(function(r){t.setItemVisual(r,"legendIcon","roundRect")}),t.setVisual("legendIcon","roundRect")}})}function lAe(n){Sn(sAe),n.registerChartView(eAe),n.registerSeriesModel(tAe),n.registerLayout(Jbe),n.registerProcessor(F1("radar")),n.registerPreprocessor(Qbe)}var zH="\0_ec_interaction_mutex";function uAe(n,e,t){var r=I3(n);r[e]=t}function cAe(n,e,t){var r=I3(n),i=r[e];i===t&&(r[e]=null)}function BH(n,e){return!!I3(n)[e]}function I3(n){return n[zH]||(n[zH]={})}jl({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},ei);var B1=(function(n){Se(e,n);function e(t){var r=n.call(this)||this;r._zr=t;var i=ht(r._mousedownHandler,r),a=ht(r._mousemoveHandler,r),o=ht(r._mouseupHandler,r),s=ht(r._mousewheelHandler,r),l=ht(r._pinchHandler,r);return r.enable=function(u,c){this.disable(),this._opt=Dt(Vt(c)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),u==null&&(u=!0),(u===!0||u==="move"||u==="pan")&&(t.on("mousedown",i),t.on("mousemove",a),t.on("mouseup",o)),(u===!0||u==="scale"||u==="zoom")&&(t.on("mousewheel",s),t.on("pinch",l))},r.disable=function(){t.off("mousedown",i),t.off("mousemove",a),t.off("mouseup",o),t.off("mousewheel",s),t.off("pinch",l)},r}return e.prototype.isDragging=function(){return this._dragging},e.prototype.isPinching=function(){return this._pinching},e.prototype.setPointerChecker=function(t){this.pointerChecker=t},e.prototype.dispose=function(){this.disable()},e.prototype._mousedownHandler=function(t){if(!v5(t)){for(var r=t.target;r;){if(r.draggable)return;r=r.__hostTarget||r.parent}var i=t.offsetX,a=t.offsetY;this.pointerChecker&&this.pointerChecker(t,i,a)&&(this._x=i,this._y=a,this._dragging=!0)}},e.prototype._mousemoveHandler=function(t){if(!(!this._dragging||!sb("moveOnMouseMove",t,this._opt)||t.gestureEvent==="pinch"||BH(this._zr,"globalPan"))){var r=t.offsetX,i=t.offsetY,a=this._x,o=this._y,s=r-a,l=i-o;this._x=r,this._y=i,this._opt.preventDefaultMouseMove&&Qc(t.event),IJ(this,"pan","moveOnMouseMove",t,{dx:s,dy:l,oldX:a,oldY:o,newX:r,newY:i,isAvailableBehavior:null})}},e.prototype._mouseupHandler=function(t){v5(t)||(this._dragging=!1)},e.prototype._mousewheelHandler=function(t){var r=sb("zoomOnMouseWheel",t,this._opt),i=sb("moveOnMouseWheel",t,this._opt),a=t.wheelDelta,o=Math.abs(a),s=t.offsetX,l=t.offsetY;if(!(a===0||!r&&!i)){if(r){var u=o>3?1.4:o>1?1.2:1.1,c=a>0?u:1/u;bR(this,"zoom","zoomOnMouseWheel",t,{scale:c,originX:s,originY:l,isAvailableBehavior:null})}if(i){var f=Math.abs(a),h=(a>0?1:-1)*(f>3?.4:f>1?.15:.05);bR(this,"scrollMove","moveOnMouseWheel",t,{scrollDelta:h,originX:s,originY:l,isAvailableBehavior:null})}}},e.prototype._pinchHandler=function(t){if(!BH(this._zr,"globalPan")){var r=t.pinchScale>1?1.1:1/1.1;bR(this,"zoom",null,t,{scale:r,originX:t.pinchX,originY:t.pinchY,isAvailableBehavior:null})}},e})(Ws);function bR(n,e,t,r,i){n.pointerChecker&&n.pointerChecker(r,i.originX,i.originY)&&(Qc(r.event),IJ(n,e,t,r,i))}function IJ(n,e,t,r,i){i.isAvailableBehavior=ht(sb,null,t,r),n.trigger(e,i)}function sb(n,e,t){var r=t[n];return!n||r&&(!ut(r)||e.event[r+"Key"])}function N3(n,e,t){var r=n.target;r.x+=e,r.y+=t,r.dirty()}function O3(n,e,t,r){var i=n.target,a=n.zoomLimit,o=n.zoom=n.zoom||1;if(o*=e,a){var s=a.min||0,l=a.max||1/0;o=Math.max(Math.min(l,o),s)}var u=o/n.zoom;n.zoom=o,i.x-=(t-i.x)*(u-1),i.y-=(r-i.y)*(u-1),i.scaleX*=u,i.scaleY*=u,i.dirty()}var fAe={axisPointer:1,tooltip:1,brush:1};function jC(n,e,t){var r=e.getComponentByElement(n.topTarget),i=r&&r.coordinateSystem;return r&&r!==t&&!fAe.hasOwnProperty(r.mainType)&&i&&i.model!==t}function NJ(n){if(ut(n)){var e=new DOMParser;n=e.parseFromString(n,"text/xml")}var t=n;for(t.nodeType===9&&(t=t.firstChild);t.nodeName.toLowerCase()!=="svg"||t.nodeType!==1;)t=t.nextSibling;return t}var AR,cA={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},UH=En(cA),fA={"alignment-baseline":"textBaseline","stop-color":"stopColor"},VH=En(fA),hAe=(function(){function n(){this._defs={},this._root=null}return n.prototype.parse=function(e,t){t=t||{};var r=NJ(e);this._defsUsePending=[];var i=new Xt;this._root=i;var a=[],o=r.getAttribute("viewBox")||"",s=parseFloat(r.getAttribute("width")||t.width),l=parseFloat(r.getAttribute("height")||t.height);isNaN(s)&&(s=null),isNaN(l)&&(l=null),ts(r,i,null,!0,!1);for(var u=r.firstChild;u;)this._parseNode(u,i,a,null,!1,!1),u=u.nextSibling;vAe(this._defs,this._defsUsePending),this._defsUsePending=[];var c,f;if(o){var h=ZC(o);h.length>=4&&(c={x:parseFloat(h[0]||0),y:parseFloat(h[1]||0),width:parseFloat(h[2]),height:parseFloat(h[3])})}if(c&&s!=null&&l!=null&&(f=kJ(c,{x:0,y:0,width:s,height:l}),!t.ignoreViewBox)){var d=i;i=new Xt,i.add(d),d.scaleX=d.scaleY=f.scale,d.x=f.x,d.y=f.y}return!t.ignoreRootClip&&s!=null&&l!=null&&i.setClipPath(new kn({shape:{x:0,y:0,width:s,height:l}})),{root:i,width:s,height:l,viewBoxRect:c,viewBoxTransform:f,named:a}},n.prototype._parseNode=function(e,t,r,i,a,o){var s=e.nodeName.toLowerCase(),l,u=i;if(s==="defs"&&(a=!0),s==="text"&&(o=!0),s==="defs"||s==="switch")l=t;else{if(!a){var c=AR[s];if(c&&gt(AR,s)){l=c.call(this,e,t);var f=e.getAttribute("name");if(f){var h={name:f,namedFrom:null,svgNodeTagLower:s,el:l};r.push(h),s==="g"&&(u=h)}else i&&r.push({name:i.name,namedFrom:i,svgNodeTagLower:s,el:l});t.add(l)}}var d=GH[s];if(d&&gt(GH,s)){var p=d.call(this,e),g=e.getAttribute("id");g&&(this._defs[g]=p)}}if(l&&l.isGroup)for(var m=e.firstChild;m;)m.nodeType===1?this._parseNode(m,l,r,u,a,o):m.nodeType===3&&o&&this._parseText(m,l),m=m.nextSibling},n.prototype._parseText=function(e,t){var r=new by({style:{text:e.textContent},silent:!0,x:this._textX||0,y:this._textY||0});Es(t,r),ts(e,r,this._defsUsePending,!1,!1),dAe(r,t);var i=r.style,a=i.fontSize;a&&a<9&&(i.fontSize=9,r.scaleX*=a/9,r.scaleY*=a/9);var o=(i.fontSize||i.fontFamily)&&[i.fontStyle,i.fontWeight,(i.fontSize||12)+"px",i.fontFamily||"sans-serif"].join(" ");i.font=o;var s=r.getBoundingRect();return this._textX+=s.width,t.add(r),r},n.internalField=(function(){AR={g:function(e,t){var r=new Xt;return Es(t,r),ts(e,r,this._defsUsePending,!1,!1),r},rect:function(e,t){var r=new kn;return Es(t,r),ts(e,r,this._defsUsePending,!1,!1),r.setShape({x:parseFloat(e.getAttribute("x")||"0"),y:parseFloat(e.getAttribute("y")||"0"),width:parseFloat(e.getAttribute("width")||"0"),height:parseFloat(e.getAttribute("height")||"0")}),r.silent=!0,r},circle:function(e,t){var r=new ku;return Es(t,r),ts(e,r,this._defsUsePending,!1,!1),r.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),r:parseFloat(e.getAttribute("r")||"0")}),r.silent=!0,r},line:function(e,t){var r=new Ri;return Es(t,r),ts(e,r,this._defsUsePending,!1,!1),r.setShape({x1:parseFloat(e.getAttribute("x1")||"0"),y1:parseFloat(e.getAttribute("y1")||"0"),x2:parseFloat(e.getAttribute("x2")||"0"),y2:parseFloat(e.getAttribute("y2")||"0")}),r.silent=!0,r},ellipse:function(e,t){var r=new A1;return Es(t,r),ts(e,r,this._defsUsePending,!1,!1),r.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),rx:parseFloat(e.getAttribute("rx")||"0"),ry:parseFloat(e.getAttribute("ry")||"0")}),r.silent=!0,r},polygon:function(e,t){var r=e.getAttribute("points"),i;r&&(i=XH(r));var a=new Xa({shape:{points:i||[]},silent:!0});return Es(t,a),ts(e,a,this._defsUsePending,!1,!1),a},polyline:function(e,t){var r=e.getAttribute("points"),i;r&&(i=XH(r));var a=new Za({shape:{points:i||[]},silent:!0});return Es(t,a),ts(e,a,this._defsUsePending,!1,!1),a},image:function(e,t){var r=new $i;return Es(t,r),ts(e,r,this._defsUsePending,!1,!1),r.setStyle({image:e.getAttribute("xlink:href")||e.getAttribute("href"),x:+e.getAttribute("x"),y:+e.getAttribute("y"),width:+e.getAttribute("width"),height:+e.getAttribute("height")}),r.silent=!0,r},text:function(e,t){var r=e.getAttribute("x")||"0",i=e.getAttribute("y")||"0",a=e.getAttribute("dx")||"0",o=e.getAttribute("dy")||"0";this._textX=parseFloat(r)+parseFloat(a),this._textY=parseFloat(i)+parseFloat(o);var s=new Xt;return Es(t,s),ts(e,s,this._defsUsePending,!1,!0),s},tspan:function(e,t){var r=e.getAttribute("x"),i=e.getAttribute("y");r!=null&&(this._textX=parseFloat(r)),i!=null&&(this._textY=parseFloat(i));var a=e.getAttribute("dx")||"0",o=e.getAttribute("dy")||"0",s=new Xt;return Es(t,s),ts(e,s,this._defsUsePending,!1,!0),this._textX+=parseFloat(a),this._textY+=parseFloat(o),s},path:function(e,t){var r=e.getAttribute("d")||"",i=T$(r);return Es(t,i),ts(e,i,this._defsUsePending,!1,!1),i.silent=!0,i}}})(),n})(),GH={lineargradient:function(n){var e=parseInt(n.getAttribute("x1")||"0",10),t=parseInt(n.getAttribute("y1")||"0",10),r=parseInt(n.getAttribute("x2")||"10",10),i=parseInt(n.getAttribute("y2")||"0",10),a=new $y(e,t,r,i);return HH(n,a),WH(n,a),a},radialgradient:function(n){var e=parseInt(n.getAttribute("cx")||"0",10),t=parseInt(n.getAttribute("cy")||"0",10),r=parseInt(n.getAttribute("r")||"0",10),i=new Ok(e,t,r);return HH(n,i),WH(n,i),i}};function HH(n,e){var t=n.getAttribute("gradientUnits");t==="userSpaceOnUse"&&(e.global=!0)}function WH(n,e){for(var t=n.firstChild;t;){if(t.nodeType===1&&t.nodeName.toLocaleLowerCase()==="stop"){var r=t.getAttribute("offset"),i=void 0;r&&r.indexOf("%")>0?i=parseInt(r,10)/100:r?i=parseFloat(r):i=0;var a={};OJ(t,a,a);var o=a.stopColor||t.getAttribute("stop-color")||"#000000";e.colorStops.push({offset:i,color:o})}t=t.nextSibling}}function Es(n,e){n&&n.__inheritedStyle&&(e.__inheritedStyle||(e.__inheritedStyle={}),Dt(e.__inheritedStyle,n.__inheritedStyle))}function XH(n){for(var e=ZC(n),t=[],r=0;r<e.length;r+=2){var i=parseFloat(e[r]),a=parseFloat(e[r+1]);t.push([i,a])}return t}function ts(n,e,t,r,i){var a=e,o=a.__inheritedStyle=a.__inheritedStyle||{},s={};n.nodeType===1&&(yAe(n,e),OJ(n,o,s),r||_Ae(n,o,s)),a.style=a.style||{},o.fill!=null&&(a.style.fill=YH(a,"fill",o.fill,t)),o.stroke!=null&&(a.style.stroke=YH(a,"stroke",o.stroke,t)),G(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(l){o[l]!=null&&(a.style[l]=parseFloat(o[l]))}),G(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(l){o[l]!=null&&(a.style[l]=o[l])}),i&&(a.__selfStyle=s),o.lineDash&&(a.style.lineDash=Ve(ZC(o.lineDash),function(l){return parseFloat(l)})),(o.visibility==="hidden"||o.visibility==="collapse")&&(a.invisible=!0),o.display==="none"&&(a.ignore=!0)}function dAe(n,e){var t=e.__selfStyle;if(t){var r=t.textBaseline,i=r;!r||r==="auto"||r==="baseline"?i="alphabetic":r==="before-edge"||r==="text-before-edge"?i="top":r==="after-edge"||r==="text-after-edge"?i="bottom":(r==="central"||r==="mathematical")&&(i="middle"),n.style.textBaseline=i}var a=e.__inheritedStyle;if(a){var o=a.textAlign,s=o;o&&(o==="middle"&&(s="center"),n.style.textAlign=s)}}var pAe=/^url\(\s*#(.*?)\)/;function YH(n,e,t,r){var i=t&&t.match(pAe);if(i){var a=Us(i[1]);r.push([n,e,a]);return}return t==="none"&&(t=null),t}function vAe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r[0].style[r[1]]=n[r[2]]}}var gAe=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function ZC(n){return n.match(gAe)||[]}var mAe=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,CR=Math.PI/180;function yAe(n,e){var t=n.getAttribute("transform");if(t){t=t.replace(/,/g," ");var r=[],i=null;t.replace(mAe,function(f,h,d){return r.push(h,d),""});for(var a=r.length-1;a>0;a-=2){var o=r[a],s=r[a-1],l=ZC(o);switch(i=i||Vo(),s){case"translate":Gl(i,i,[parseFloat(l[0]),parseFloat(l[1]||"0")]);break;case"scale":gC(i,i,[parseFloat(l[0]),parseFloat(l[1]||l[0])]);break;case"rotate":jh(i,i,-parseFloat(l[0])*CR,[parseFloat(l[1]||"0"),parseFloat(l[2]||"0")]);break;case"skewX":var u=Math.tan(parseFloat(l[0])*CR);Pu(i,[1,0,u,1,0,0],i);break;case"skewY":var c=Math.tan(parseFloat(l[0])*CR);Pu(i,[1,c,0,1,0,0],i);break;case"matrix":i[0]=parseFloat(l[0]),i[1]=parseFloat(l[1]),i[2]=parseFloat(l[2]),i[3]=parseFloat(l[3]),i[4]=parseFloat(l[4]),i[5]=parseFloat(l[5]);break}}e.setLocalTransform(i)}}var jH=/([^\s:;]+)\s*:\s*([^:;]+)/g;function OJ(n,e,t){var r=n.getAttribute("style");if(r){jH.lastIndex=0;for(var i;(i=jH.exec(r))!=null;){var a=i[1],o=gt(cA,a)?cA[a]:null;o&&(e[o]=i[2]);var s=gt(fA,a)?fA[a]:null;s&&(t[s]=i[2])}}}function _Ae(n,e,t){for(var r=0;r<UH.length;r++){var i=UH[r],a=n.getAttribute(i);a!=null&&(e[cA[i]]=a)}for(var r=0;r<VH.length;r++){var i=VH[r],a=n.getAttribute(i);a!=null&&(t[fA[i]]=a)}}function kJ(n,e){var t=e.width/n.width,r=e.height/n.height,i=Math.min(t,r);return{scale:i,x:-(n.x+n.width/2)*i+(e.x+e.width/2),y:-(n.y+n.height/2)*i+(e.y+e.height/2)}}function xAe(n,e){var t=new hAe;return t.parse(n,e)}var SAe=xt(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),wAe=(function(){function n(e,t){this.type="geoSVG",this._usedGraphicMap=xt(),this._freedGraphics=[],this._mapName=e,this._parsedXML=NJ(t)}return n.prototype.load=function(){var e=this._firstGraphic;if(!e){e=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(e),this._boundingRect=this._firstGraphic.boundingRect.clone();var t=TAe(e.named),r=t.regions,i=t.regionsMap;this._regions=r,this._regionsMap=i}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},n.prototype._buildGraphic=function(e){var t,r;try{t=e&&xAe(e,{ignoreViewBox:!0,ignoreRootClip:!0})||{},r=t.root,Ha(r!=null)}catch(m){throw new Error(`Invalid svg format
`+m.message)}var i=new Xt;i.add(r),i.isGeoSVGGraphicRoot=!0;var a=t.width,o=t.height,s=t.viewBoxRect,l=this._boundingRect;if(!l){var u=void 0,c=void 0,f=void 0,h=void 0;if(a!=null?(u=0,f=a):s&&(u=s.x,f=s.width),o!=null?(c=0,h=o):s&&(c=s.y,h=s.height),u==null||c==null){var d=r.getBoundingRect();u==null&&(u=d.x,f=d.width),c==null&&(c=d.y,h=d.height)}l=this._boundingRect=new fn(u,c,f,h)}if(s){var p=kJ(s,l);r.scaleX=r.scaleY=p.scale,r.x=p.x,r.y=p.y}i.setClipPath(new kn({shape:l.plain()}));var g=[];return G(t.named,function(m){SAe.get(m.svgNodeTagLower)!=null&&(g.push(m),MAe(m.el))}),{root:i,boundingRect:l,named:g}},n.prototype.useGraphic=function(e){var t=this._usedGraphicMap,r=t.get(e);return r||(r=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),t.set(e,r),r)},n.prototype.freeGraphic=function(e){var t=this._usedGraphicMap,r=t.get(e);r&&(t.removeKey(e),this._freedGraphics.push(r))},n})();function MAe(n){n.silent=!1,n.isGroup&&n.traverse(function(e){e.silent=!1})}function TAe(n){var e=[],t=xt();return G(n,function(r){if(r.namedFrom==null){var i=new cMe(r.name,r.el);e.push(i),t.set(r.name,i)}}),{regions:e,regionsMap:t}}var JI=[126,25],ZH="",Cp=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]];for(var _p=0;_p<Cp.length;_p++)for(var Am=0;Am<Cp[_p].length;Am++)Cp[_p][Am][0]/=10.5,Cp[_p][Am][1]/=-10.5/.75,Cp[_p][Am][0]+=JI[0],Cp[_p][Am][1]+=JI[1];function bAe(n,e){if(n==="china"){for(var t=0;t<e.length;t++)if(e[t].name===ZH)return;e.push(new LK(ZH,Ve(Cp,function(r){return{type:"polygon",exterior:r}}),JI))}}var AAe={:[32,80],:[0,-10],:[10,5],:[-10,10],:[5,5]};function CAe(n,e){if(n==="china"){var t=AAe[e.name];if(t){var r=e.getCenter();r[0]+=t[0]/10.5,r[1]+=-t[1]/(10.5/.75),e.setCenter(r)}}}var EAe=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function PAe(n,e){n==="china"&&e.name===""&&e.geometries.push({type:"polygon",exterior:EAe[0]})}var DAe="name",RAe=(function(){function n(e,t,r){this.type="geoJSON",this._parsedMap=xt(),this._mapName=e,this._specialAreas=r,this._geoJSON=IAe(t)}return n.prototype.load=function(e,t){t=t||DAe;var r=this._parsedMap.get(t);if(!r){var i=this._parseToRegions(t);r=this._parsedMap.set(t,{regions:i,boundingRect:LAe(i)})}var a=xt(),o=[];return G(r.regions,function(s){var l=s.name;e&&gt(e,l)&&(s=s.cloneShallow(l=e[l])),o.push(s),a.set(l,s)}),{regions:o,boundingRect:r.boundingRect||new fn(0,0,0,0),regionsMap:a}},n.prototype._parseToRegions=function(e){var t=this._mapName,r=this._geoJSON,i;try{i=r?GI(r,e):[]}catch(a){throw new Error(`Invalid geoJson format
`+a.message)}return bAe(t,i),G(i,function(a){var o=a.name;CAe(t,a),PAe(t,a);var s=this._specialAreas&&this._specialAreas[o];s&&a.transformTo(s.left,s.top,s.width,s.height)},this),i},n.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},n})();function LAe(n){for(var e,t=0;t<n.length;t++){var r=n[t].getBoundingRect();e=e||r.clone(),e.union(r)}return e}function IAe(n){return ut(n)?typeof JSON<"u"&&JSON.parse?JSON.parse(n):new Function("return ("+n+");")():n}var W_=xt();const of={registerMap:function(n,e,t){if(e.svg){var r=new wAe(n,e.svg);W_.set(n,r)}else{var i=e.geoJson||e.geoJSON;i&&!e.features?t=e.specialAreas:i=e;var r=new RAe(n,i,t);W_.set(n,r)}},getGeoResource:function(n){return W_.get(n)},getMapForUser:function(n){var e=W_.get(n);return e&&e.type==="geoJSON"&&e.getMapForUser()},load:function(n,e,t){var r=W_.get(n);if(r)return r.load(e,t)}};var k3=["rect","circle","line","ellipse","polygon","polyline","path"],NAe=xt(k3),OAe=xt(k3.concat(["g"])),kAe=xt(k3.concat(["g"])),FJ=Un();function xT(n){var e=n.getItemStyle(),t=n.get("areaColor");return t!=null&&(e.fill=t),e}function $H(n){var e=n.style;e&&(e.stroke=e.stroke||e.fill,e.fill=null)}var zJ=(function(){function n(e){var t=new Xt;this.uid=Qy("ec_map_draw"),this._controller=new B1(e.getZr()),this._controllerHost={target:t},this.group=t,t.add(this._regionsGroup=new Xt),t.add(this._svgGroup=new Xt)}return n.prototype.draw=function(e,t,r,i,a){var o=e.mainType==="geo",s=e.getData&&e.getData();o&&t.eachComponent({mainType:"series",subType:"map"},function(y){!s&&y.getHostGeoModel()===e&&(s=y.getData())});var l=e.coordinateSystem,u=this._regionsGroup,c=this.group,f=l.getTransformInfo(),h=f.raw,d=f.roam,p=!u.childAt(0)||a;p?(c.x=d.x,c.y=d.y,c.scaleX=d.scaleX,c.scaleY=d.scaleY,c.dirty()):Xn(c,d,e);var g=s&&s.getVisual("visualMeta")&&s.getVisual("visualMeta").length>0,m={api:r,geo:l,mapOrGeoModel:e,data:s,isVisualEncodedByVisualMap:g,isGeo:o,transformInfoRaw:h};l.resourceType==="geoJSON"?this._buildGeoJSON(m):l.resourceType==="geoSVG"&&this._buildSVG(m),this._updateController(e,t,r),this._updateMapSelectHandler(e,u,r,i)},n.prototype._buildGeoJSON=function(e){var t=this._regionsGroupByName=xt(),r=xt(),i=this._regionsGroup,a=e.transformInfoRaw,o=e.mapOrGeoModel,s=e.data,l=e.geo.projection,u=l&&l.stream;function c(d,p){return p&&(d=p(d)),d&&[d[0]*a.scaleX+a.x,d[1]*a.scaleY+a.y]}function f(d){for(var p=[],g=!u&&l&&l.project,m=0;m<d.length;++m){var y=c(d[m],g);y&&p.push(y)}return p}function h(d){return{shape:{points:f(d)}}}i.removeAll(),G(e.geo.regions,function(d){var p=d.name,g=t.get(p),m=r.get(p)||{},y=m.dataIdx,S=m.regionModel;if(!g){g=t.set(p,new Xt),i.add(g),y=s?s.indexOfName(p):null,S=e.isGeo?o.getRegionModel(p):s?s.getItemModel(y):null;var M=S.get("silent",!0);M!=null&&(g.silent=M),r.set(p,{dataIdx:y,regionModel:S})}var b=[],C=[];G(d.geometries,function(I){if(I.type==="polygon"){var L=[I.exterior].concat(I.interiors||[]);u&&(L=tW(L,u)),G(L,function(O){b.push(new Xa(h(O)))})}else{var R=I.points;u&&(R=tW(R,u,!0)),G(R,function(O){C.push(new Za(h(O)))})}});var A=c(d.getCenter(),l&&l.project);function E(I,L){if(I.length){var R=new CC({culling:!0,segmentIgnoreThreshold:1,shape:{paths:I}});g.add(R),qH(e,R,y,S),KH(e,R,p,S,o,y,A),L&&($H(R),G(R.states,$H))}}E(b),E(C,!0)}),t.each(function(d,p){var g=r.get(p),m=g.dataIdx,y=g.regionModel;JH(e,d,p,y,o,m),QH(e,d,p,y,o),eW(e,d,p,y,o)},this)},n.prototype._buildSVG=function(e){var t=e.geo.map,r=e.transformInfoRaw;this._svgGroup.x=r.x,this._svgGroup.y=r.y,this._svgGroup.scaleX=r.scaleX,this._svgGroup.scaleY=r.scaleY,this._svgResourceChanged(t)&&(this._freeSVG(),this._useSVG(t));var i=this._svgDispatcherMap=xt(),a=!1;G(this._svgGraphicRecord.named,function(o){var s=o.name,l=e.mapOrGeoModel,u=e.data,c=o.svgNodeTagLower,f=o.el,h=u?u.indexOfName(s):null,d=l.getRegionModel(s);NAe.get(c)!=null&&f instanceof Hs&&qH(e,f,h,d),f instanceof Hs&&(f.culling=!0);var p=d.get("silent",!0);if(p!=null&&(f.silent=p),f.z2EmphasisLift=0,!o.namedFrom&&(kAe.get(c)!=null&&KH(e,f,s,d,l,h,null),JH(e,f,s,d,l,h),QH(e,f,s,d,l),OAe.get(c)!=null)){var g=eW(e,f,s,d,l);g==="self"&&(a=!0);var m=i.get(s)||i.set(s,[]);m.push(f)}},this),this._enableBlurEntireSVG(a,e)},n.prototype._enableBlurEntireSVG=function(e,t){if(e&&t.isGeo){var r=t.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle(),i=r.opacity;this._svgGraphicRecord.root.traverse(function(a){if(!a.isGroup){Tv(a);var o=a.ensureState("blur").style||{};o.opacity==null&&i!=null&&(o.opacity=i),a.ensureState("emphasis")}})}},n.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},n.prototype.findHighDownDispatchers=function(e,t){if(e==null)return[];var r=t.coordinateSystem;if(r.resourceType==="geoJSON"){var i=this._regionsGroupByName;if(i){var a=i.get(e);return a?[a]:[]}}else if(r.resourceType==="geoSVG")return this._svgDispatcherMap&&this._svgDispatcherMap.get(e)||[]},n.prototype._svgResourceChanged=function(e){return this._svgMapName!==e},n.prototype._useSVG=function(e){var t=of.getGeoResource(e);if(t&&t.type==="geoSVG"){var r=t.useGraphic(this.uid);this._svgGroup.add(r.root),this._svgGraphicRecord=r,this._svgMapName=e}},n.prototype._freeSVG=function(){var e=this._svgMapName;if(e!=null){var t=of.getGeoResource(e);t&&t.type==="geoSVG"&&t.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},n.prototype._updateController=function(e,t,r){var i=e.coordinateSystem,a=this._controller,o=this._controllerHost;o.zoomLimit=e.get("scaleLimit"),o.zoom=i.getZoom(),a.enable(e.get("roam")||!1);var s=e.mainType;function l(){var u={type:"geoRoam",componentType:s};return u[s+"Id"]=e.id,u}a.off("pan").on("pan",function(u){this._mouseDownFlag=!1,N3(o,u.dx,u.dy),r.dispatchAction(Le(l(),{dx:u.dx,dy:u.dy,animation:{duration:0}}))},this),a.off("zoom").on("zoom",function(u){this._mouseDownFlag=!1,O3(o,u.scale,u.originX,u.originY),r.dispatchAction(Le(l(),{totalZoom:o.zoom,zoom:u.scale,originX:u.originX,originY:u.originY,animation:{duration:0}}))},this),a.setPointerChecker(function(u,c,f){return i.containPoint([c,f])&&!jC(u,r,e)})},n.prototype.resetForLabelLayout=function(){this.group.traverse(function(e){var t=e.getTextContent();t&&(t.ignore=FJ(t).ignore)})},n.prototype._updateMapSelectHandler=function(e,t,r,i){var a=this;t.off("mousedown"),t.off("click"),e.get("selectedMode")&&(t.on("mousedown",function(){a._mouseDownFlag=!0}),t.on("click",function(o){a._mouseDownFlag&&(a._mouseDownFlag=!1)}))},n})();function qH(n,e,t,r){var i=r.getModel("itemStyle"),a=r.getModel(["emphasis","itemStyle"]),o=r.getModel(["blur","itemStyle"]),s=r.getModel(["select","itemStyle"]),l=xT(i),u=xT(a),c=xT(s),f=xT(o),h=n.data;if(h){var d=h.getItemVisual(t,"style"),p=h.getItemVisual(t,"decal");n.isVisualEncodedByVisualMap&&d.fill&&(l.fill=d.fill),p&&(l.decal=Ey(p,n.api))}e.setStyle(l),e.style.strokeNoScale=!0,e.ensureState("emphasis").style=u,e.ensureState("select").style=c,e.ensureState("blur").style=f,Tv(e)}function KH(n,e,t,r,i,a,o){var s=n.data,l=n.isGeo,u=s&&isNaN(s.get(s.mapDimension("value"),a)),c=s&&s.getItemLayout(a);if(l||u||c&&c.showLabel){var f=l?t:a,h=void 0;(!s||a>=0)&&(h=i);var d=o?{normal:{align:"center",verticalAlign:"middle"}}:null;Sa(e,ji(r),{labelFetcher:h,labelDataIndex:f,defaultText:t},d);var p=e.getTextContent();if(p&&(FJ(p).ignore=p.ignore,e.textConfig&&o)){var g=e.getBoundingRect().clone();e.textConfig.layoutRect=g,e.textConfig.position=[(o[0]-g.x)/g.width*100+"%",(o[1]-g.y)/g.height*100+"%"]}e.disableLabelAnimation=!0}else e.removeTextContent(),e.removeTextConfig(),e.disableLabelAnimation=null}function JH(n,e,t,r,i,a){n.data?n.data.setItemGraphicEl(a,e):$t(e).eventData={componentType:"geo",componentIndex:i.componentIndex,geoIndex:i.componentIndex,name:t,region:r&&r.option||{}}}function QH(n,e,t,r,i){n.data||zv({el:e,componentModel:i,itemName:t,itemTooltipOption:r.get("tooltip")})}function eW(n,e,t,r,i){e.highDownSilentOnTouch=!!i.get("selectedMode");var a=r.getModel("emphasis"),o=a.get("focus");return Vr(e,o,a.get("blurScope"),a.get("disabled")),n.isGeo&&__e(e,i,t),o}function tW(n,e,t){var r=[],i;function a(){i=[]}function o(){i.length&&(r.push(i),i=[])}var s=e({polygonStart:a,polygonEnd:o,lineStart:a,lineEnd:o,point:function(l,u){isFinite(l)&&isFinite(u)&&i.push([l,u])},sphere:function(){}});return!t&&s.polygonStart(),G(n,function(l){s.lineStart();for(var u=0;u<l.length;u++)s.point(l[u][0],l[u][1]);s.lineEnd()}),!t&&s.polygonEnd(),r}var FAe=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i,a){if(!(a&&a.type==="mapToggleSelect"&&a.from===this.uid)){var o=this.group;if(o.removeAll(),!t.getHostGeoModel()){if(this._mapDraw&&a&&a.type==="geoRoam"&&this._mapDraw.resetForLabelLayout(),a&&a.type==="geoRoam"&&a.componentType==="series"&&a.seriesId===t.id){var s=this._mapDraw;s&&o.add(s.group)}else if(t.needsDrawMap){var s=this._mapDraw||new zJ(i);o.add(s.group),s.draw(t,r,i,this,a),this._mapDraw=s}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;t.get("showLegendSymbol")&&r.getComponent("legend")&&this._renderSymbols(t,r,i)}}},e.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},e.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},e.prototype._renderSymbols=function(t,r,i){var a=t.originalData,o=this.group;a.each(a.mapDimension("value"),function(s,l){if(!isNaN(s)){var u=a.getItemLayout(l);if(!(!u||!u.point)){var c=u.point,f=u.offset,h=new ku({style:{fill:t.getData().getVisual("style").fill},shape:{cx:c[0]+f*9,cy:c[1],r:3},silent:!0,z2:8+(f?0:Yy+1)});if(!f){var d=t.mainSeries.getData(),p=a.getName(l),g=d.indexOfName(p),m=a.getItemModel(l),y=m.getModel("label"),S=d.getItemGraphicEl(g);Sa(h,ji(m),{labelFetcher:{getFormattedLabel:function(M,b){return t.getFormattedLabel(g,b)}},defaultText:p}),h.disableLabelAnimation=!0,y.get("position")||h.setTextConfig({position:"bottom"}),S.onHoverStateChange=function(M){Gb(h,M)}}o.add(h)}}})},e.type="map",e})(sr),zAe=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.needsDrawMap=!1,t.seriesGroup=[],t.getTooltipPosition=function(r){if(r!=null){var i=this.getData().getName(r),a=this.coordinateSystem,o=a.getRegion(i);return o&&a.dataToPoint(o.getCenter())}},t}return e.prototype.getInitialData=function(t){for(var r=u0(this,{coordDimensions:["value"],encodeDefaulter:nn(Kk,this)}),i=xt(),a=[],o=0,s=r.count();o<s;o++){var l=r.getName(o);i.set(l,o)}var u=of.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return G(u.regions,function(c){var f=c.name,h=i.get(f),d=c.properties&&c.properties.echartsStyle,p;h==null?(p={name:f},a.push(p)):p=r.getRawDataItem(h),d&&on(p,d)}),r.appendData(a),r},e.prototype.getHostGeoModel=function(){var t=this.option.geoIndex;return t!=null?this.ecModel.getComponent("geo",t):null},e.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},e.prototype.getRawValue=function(t){var r=this.getData();return r.get(r.mapDimension("value"),t)},e.prototype.getRegionModel=function(t){var r=this.getData();return r.getItemModel(r.indexOfName(t))},e.prototype.formatTooltip=function(t,r,i){for(var a=this.getData(),o=this.getRawValue(t),s=a.getName(t),l=this.seriesGroup,u=[],c=0;c<l.length;c++){var f=l[c].originalData.indexOfName(s),h=a.mapDimension("value");isNaN(l[c].originalData.get(h,f))||u.push(l[c].name)}return Zi("section",{header:u.join(", "),noHeader:!u.length,blocks:[Zi("nameValue",{name:s,value:o})]})},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.getLegendIcon=function(t){var r=t.icon||"roundRect",i=ci(r,0,0,t.itemWidth,t.itemHeight,t.itemStyle.fill);return i.setStyle(t.itemStyle),i.style.stroke="none",r.indexOf("empty")>-1&&(i.style.stroke=i.style.fill,i.style.fill="#fff",i.style.lineWidth=2),i},e.type="series.map",e.dependencies=["geo"],e.layoutMode="box",e.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},e})(pr);function BAe(n,e){var t={};return G(n,function(r){r.each(r.mapDimension("value"),function(i,a){var o="ec-"+r.getName(a);t[o]=t[o]||[],isNaN(i)||t[o].push(i)})}),n[0].map(n[0].mapDimension("value"),function(r,i){for(var a="ec-"+n[0].getName(i),o=0,s=1/0,l=-1/0,u=t[a].length,c=0;c<u;c++)s=Math.min(s,t[a][c]),l=Math.max(l,t[a][c]),o+=t[a][c];var f;return e==="min"?f=s:e==="max"?f=l:e==="average"?f=o/u:f=o,u===0?NaN:f})}function UAe(n){var e={};n.eachSeriesByType("map",function(t){var r=t.getHostGeoModel(),i=r?"o"+r.id:"i"+t.getMapType();(e[i]=e[i]||[]).push(t)}),G(e,function(t,r){for(var i=BAe(Ve(t,function(o){return o.getData()}),t[0].get("mapValueCalculation")),a=0;a<t.length;a++)t[a].originalData=t[a].getData();for(var a=0;a<t.length;a++)t[a].seriesGroup=t,t[a].needsDrawMap=a===0&&!t[a].getHostGeoModel(),t[a].setData(i.cloneShallow()),t[a].mainSeries=t[0]})}function VAe(n){var e={};n.eachSeriesByType("map",function(t){var r=t.getMapType();if(!(t.getHostGeoModel()||e[r])){var i={};G(t.seriesGroup,function(o){var s=o.coordinateSystem,l=o.originalData;o.get("showLegendSymbol")&&n.getComponent("legend")&&l.each(l.mapDimension("value"),function(u,c){var f=l.getName(c),h=s.getRegion(f);if(!(!h||isNaN(u))){var d=i[f]||0,p=s.dataToPoint(h.getCenter());i[f]=d+1,l.setItemLayout(c,{point:p,offset:d})}})});var a=t.getData();a.each(function(o){var s=a.getName(o),l=a.getItemLayout(o)||{};l.showLabel=!i[s],a.setItemLayout(o,l)}),e[r]=!0}})}var nW=ia,U1=(function(n){Se(e,n);function e(t){var r=n.call(this)||this;return r.type="view",r.dimensions=["x","y"],r._roamTransformable=new Uc,r._rawTransformable=new Uc,r.name=t,r}return e.prototype.setBoundingRect=function(t,r,i,a){return this._rect=new fn(t,r,i,a),this._rect},e.prototype.getBoundingRect=function(){return this._rect},e.prototype.setViewRect=function(t,r,i,a){this._transformTo(t,r,i,a),this._viewRect=new fn(t,r,i,a)},e.prototype._transformTo=function(t,r,i,a){var o=this.getBoundingRect(),s=this._rawTransformable;s.transform=o.calculateTransform(new fn(t,r,i,a));var l=s.parent;s.parent=null,s.decomposeTransform(),s.parent=l,this._updateTransform()},e.prototype.setCenter=function(t,r){t&&(this._center=[rt(t[0],r.getWidth()),rt(t[1],r.getHeight())],this._updateCenterAndZoom())},e.prototype.setZoom=function(t){t=t||1;var r=this.zoomLimit;r&&(r.max!=null&&(t=Math.min(r.max,t)),r.min!=null&&(t=Math.max(r.min,t))),this._zoom=t,this._updateCenterAndZoom()},e.prototype.getDefaultCenter=function(){var t=this.getBoundingRect(),r=t.x+t.width/2,i=t.y+t.height/2;return[r,i]},e.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},e.prototype.getZoom=function(){return this._zoom||1},e.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},e.prototype._updateCenterAndZoom=function(){var t=this._rawTransformable.getLocalTransform(),r=this._roamTransformable,i=this.getDefaultCenter(),a=this.getCenter(),o=this.getZoom();a=ia([],a,t),i=ia([],i,t),r.originX=a[0],r.originY=a[1],r.x=i[0]-a[0],r.y=i[1]-a[1],r.scaleX=r.scaleY=o,this._updateTransform()},e.prototype._updateTransform=function(){var t=this._roamTransformable,r=this._rawTransformable;r.parent=t,t.updateTransform(),r.updateTransform(),vC(this.transform||(this.transform=[]),r.transform||Vo()),this._rawTransform=r.getLocalTransform(),this.invTransform=this.invTransform||[],Fv(this.invTransform,this.transform),this.decomposeTransform()},e.prototype.getTransformInfo=function(){var t=this._rawTransformable,r=this._roamTransformable,i=new Uc;return i.transform=r.transform,i.decomposeTransform(),{roam:{x:i.x,y:i.y,scaleX:i.scaleX,scaleY:i.scaleY},raw:{x:t.x,y:t.y,scaleX:t.scaleX,scaleY:t.scaleY}}},e.prototype.getViewRect=function(){return this._viewRect},e.prototype.getViewRectAfterRoam=function(){var t=this.getBoundingRect().clone();return t.applyTransform(this.transform),t},e.prototype.dataToPoint=function(t,r,i){var a=r?this._rawTransform:this.transform;return i=i||[],a?nW(i,t,a):ka(i,t)},e.prototype.pointToData=function(t){var r=this.invTransform;return r?nW([],t,r):[t[0],t[1]]},e.prototype.convertToPixel=function(t,r,i){var a=rW(r);return a===this?a.dataToPoint(i):null},e.prototype.convertFromPixel=function(t,r,i){var a=rW(r);return a===this?a.pointToData(i):null},e.prototype.containPoint=function(t){return this.getViewRectAfterRoam().contain(t[0],t[1])},e.dimensions=["x","y"],e})(Uc);function rW(n){var e=n.seriesModel;return e?e.coordinateSystem:null}var GAe={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},BJ=["lng","lat"],QI=(function(n){Se(e,n);function e(t,r,i){var a=n.call(this,t)||this;a.dimensions=BJ,a.type="geo",a._nameCoordMap=xt(),a.map=r;var o=i.projection,s=of.load(r,i.nameMap,i.nameProperty),l=of.getGeoResource(r);a.resourceType=l?l.type:null;var u=a.regions=s.regions,c=GAe[l.type];a._regionsMap=s.regionsMap,a.regions=s.regions,a.projection=o;var f;if(o)for(var h=0;h<u.length;h++){var d=u[h].getBoundingRect(o);f=f||d.clone(),f.union(d)}else f=s.boundingRect;return a.setBoundingRect(f.x,f.y,f.width,f.height),a.aspectScale=o?1:tn(i.aspectScale,c.aspectScale),a._invertLongitute=o?!1:c.invertLongitute,a}return e.prototype._transformTo=function(t,r,i,a){var o=this.getBoundingRect(),s=this._invertLongitute;o=o.clone(),s&&(o.y=-o.y-o.height);var l=this._rawTransformable;l.transform=o.calculateTransform(new fn(t,r,i,a));var u=l.parent;l.parent=null,l.decomposeTransform(),l.parent=u,s&&(l.scaleY=-l.scaleY),this._updateTransform()},e.prototype.getRegion=function(t){return this._regionsMap.get(t)},e.prototype.getRegionByCoord=function(t){for(var r=this.regions,i=0;i<r.length;i++){var a=r[i];if(a.type==="geoJSON"&&a.contain(t))return r[i]}},e.prototype.addGeoCoord=function(t,r){this._nameCoordMap.set(t,r)},e.prototype.getGeoCoord=function(t){var r=this._regionsMap.get(t);return this._nameCoordMap.get(t)||r&&r.getCenter()},e.prototype.dataToPoint=function(t,r,i){if(ut(t)&&(t=this.getGeoCoord(t)),t){var a=this.projection;return a&&(t=a.project(t)),t&&this.projectedToPoint(t,r,i)}},e.prototype.pointToData=function(t){var r=this.projection;return r&&(t=r.unproject(t)),t&&this.pointToProjected(t)},e.prototype.pointToProjected=function(t){return n.prototype.pointToData.call(this,t)},e.prototype.projectedToPoint=function(t,r,i){return n.prototype.dataToPoint.call(this,t,r,i)},e.prototype.convertToPixel=function(t,r,i){var a=iW(r);return a===this?a.dataToPoint(i):null},e.prototype.convertFromPixel=function(t,r,i){var a=iW(r);return a===this?a.pointToData(i):null},e})(U1);ti(QI,U1);function iW(n){var e=n.geoModel,t=n.seriesModel;return e?e.coordinateSystem:t?t.coordinateSystem||(t.getReferringComponents("geo",yi).models[0]||{}).coordinateSystem:null}function aW(n,e){var t=n.get("boundingCoords");if(t!=null){var r=t[0],i=t[1];if(isFinite(r[0])&&isFinite(r[1])&&isFinite(i[0])&&isFinite(i[1])){var a=this.projection;if(a){var o=r[0],s=r[1],l=i[0],u=i[1];r=[1/0,1/0],i=[-1/0,-1/0];var c=function(A,E,I,L){for(var R=I-A,O=L-E,U=0;U<=100;U++){var V=U/100,W=a.project([A+R*V,E+O*V]);zc(r,r,W),Bc(i,i,W)}};c(o,s,l,s),c(l,s,l,u),c(l,u,o,u),c(o,u,l,s)}this.setBoundingRect(r[0],r[1],i[0]-r[0],i[1]-r[1])}}var f=this.getBoundingRect(),h=n.get("layoutCenter"),d=n.get("layoutSize"),p=e.getWidth(),g=e.getHeight(),m=f.width/f.height*this.aspectScale,y=!1,S,M;h&&d&&(S=[rt(h[0],p),rt(h[1],g)],M=rt(d,Math.min(p,g)),!isNaN(S[0])&&!isNaN(S[1])&&!isNaN(M)&&(y=!0));var b;if(y)b={},m>1?(b.width=M,b.height=M/m):(b.height=M,b.width=M*m),b.y=S[1]-b.height/2,b.x=S[0]-b.width/2;else{var C=n.getBoxLayoutParams();C.aspect=m,b=_i(C,{width:p,height:g})}this.setViewRect(b.x,b.y,b.width,b.height),this.setCenter(n.get("center"),e),this.setZoom(n.get("zoom"))}function HAe(n,e){G(e.get("geoCoord"),function(t,r){n.addGeoCoord(r,t)})}var WAe=(function(){function n(){this.dimensions=BJ}return n.prototype.create=function(e,t){var r=[];function i(o){return{nameProperty:o.get("nameProperty"),aspectScale:o.get("aspectScale"),projection:o.get("projection")}}e.eachComponent("geo",function(o,s){var l=o.get("map"),u=new QI(l+s,l,Le({nameMap:o.get("nameMap")},i(o)));u.zoomLimit=o.get("scaleLimit"),r.push(u),o.coordinateSystem=u,u.model=o,u.resize=aW,u.resize(o,t)}),e.eachSeries(function(o){var s=o.get("coordinateSystem");if(s==="geo"){var l=o.get("geoIndex")||0;o.coordinateSystem=r[l]}});var a={};return e.eachSeriesByType("map",function(o){if(!o.getHostGeoModel()){var s=o.getMapType();a[s]=a[s]||[],a[s].push(o)}}),G(a,function(o,s){var l=Ve(o,function(c){return c.get("nameMap")}),u=new QI(s,s,Le({nameMap:hC(l)},i(o[0])));u.zoomLimit=Gi.apply(null,Ve(o,function(c){return c.get("scaleLimit")})),r.push(u),u.resize=aW,u.resize(o[0],t),G(o,function(c){c.coordinateSystem=u,HAe(u,c)})}),r},n.prototype.getFilledRegions=function(e,t,r,i){for(var a=(e||[]).slice(),o=xt(),s=0;s<a.length;s++)o.set(a[s].name,a[s]);var l=of.load(t,r,i);return G(l.regions,function(u){var c=u.name,f=o.get(c),h=u.properties&&u.properties.echartsStyle;f||(f={name:c},a.push(f)),h&&on(f,h)}),a},n})(),UJ=new WAe,XAe=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,r,i){var a=of.getGeoResource(t.map);if(a&&a.type==="geoJSON"){var o=t.itemStyle=t.itemStyle||{};"color"in o||(o.color="#eee")}this.mergeDefaultAndTheme(t,i),Sv(t,"label",["show"])},e.prototype.optionUpdated=function(){var t=this,r=this.option;r.regions=UJ.getFilledRegions(r.regions,r.map,r.nameMap,r.nameProperty);var i={};this._optionModelMap=Gs(r.regions||[],function(a,o){var s=o.name;return s&&(a.set(s,new qn(o,t,t.ecModel)),o.selected&&(i[s]=!0)),a},xt()),r.selectedMap||(r.selectedMap=i)},e.prototype.getRegionModel=function(t){return this._optionModelMap.get(t)||new qn(null,this,this.ecModel)},e.prototype.getFormattedLabel=function(t,r){var i=this.getRegionModel(t),a=r==="normal"?i.get(["label","formatter"]):i.get(["emphasis","label","formatter"]),o={name:t};if(Ct(a))return o.status=r,a(o);if(ut(a))return a.replace("{a}",t??"")},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.select=function(t){var r=this.option,i=r.selectedMode;if(i){i!=="multiple"&&(r.selectedMap=null);var a=r.selectedMap||(r.selectedMap={});a[t]=!0}},e.prototype.unSelect=function(t){var r=this.option.selectedMap;r&&(r[t]=!1)},e.prototype.toggleSelected=function(t){this[this.isSelected(t)?"unSelect":"select"](t)},e.prototype.isSelected=function(t){var r=this.option.selectedMap;return!!(r&&r[t])},e.type="geo",e.layoutMode="box",e.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},e})(wn);function oW(n,e){return n.pointToProjected?n.pointToProjected(e):n.pointToData(e)}function F3(n,e,t,r){var i=n.getZoom(),a=n.getCenter(),o=e.zoom,s=n.projectedToPoint?n.projectedToPoint(a):n.dataToPoint(a);if(e.dx!=null&&e.dy!=null&&(s[0]-=e.dx,s[1]-=e.dy,n.setCenter(oW(n,s),r)),o!=null){if(t){var l=t.min||0,u=t.max||1/0;o=Math.max(Math.min(i*o,u),l)/i}n.scaleX*=o,n.scaleY*=o;var c=(e.originX-n.x)*(o-1),f=(e.originY-n.y)*(o-1);n.x-=c,n.y-=f,n.updateTransform(),n.setCenter(oW(n,s),r),n.setZoom(o*i)}return{center:n.getCenter(),zoom:n.getZoom()}}var YAe=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.focusBlurEnabled=!0,t}return e.prototype.init=function(t,r){this._api=r},e.prototype.render=function(t,r,i,a){if(this._model=t,!t.get("show")){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;return}this._mapDraw||(this._mapDraw=new zJ(i));var o=this._mapDraw;o.draw(t,r,i,this,a),o.group.on("click",this._handleRegionClick,this),o.group.silent=t.get("silent"),this.group.add(o.group),this.updateSelectStatus(t,r,i)},e.prototype._handleRegionClick=function(t){var r;Kp(t.target,function(i){return(r=$t(i).eventData)!=null},!0),r&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:r.name})},e.prototype.updateSelectStatus=function(t,r,i){var a=this;this._mapDraw.group.traverse(function(o){var s=$t(o).eventData;if(s)return a._model.isSelected(s.name)?i.enterSelect(o):i.leaveSelect(o),!0})},e.prototype.findHighDownDispatchers=function(t){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(t,this._model)},e.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},e.type="geo",e})(br);function jAe(n,e,t){of.registerMap(n,e,t)}function VJ(n){n.registerCoordinateSystem("geo",UJ),n.registerComponentModel(XAe),n.registerComponentView(YAe),n.registerImpl("registerMap",jAe),n.registerImpl("getMap",function(t){return of.getMapForUser(t)});function e(t,r){r.update="geo:updateSelectStatus",n.registerAction(r,function(i,a){var o={},s=[];return a.eachComponent({mainType:"geo",query:i},function(l){l[t](i.name);var u=l.coordinateSystem;G(u.regions,function(f){o[f.name]=l.isSelected(f.name)||!1});var c=[];G(o,function(f,h){o[h]&&c.push(h)}),s.push({geoIndex:l.componentIndex,name:c})}),{selected:o,allSelected:s,name:i.name}})}e("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),e("select",{type:"geoSelect",event:"geoselected"}),e("unSelect",{type:"geoUnSelect",event:"geounselected"}),n.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(t,r,i){var a=t.componentType||"series";r.eachComponent({mainType:a,query:t},function(o){var s=o.coordinateSystem;if(s.type==="geo"){var l=F3(s,t,o.get("scaleLimit"),i);o.setCenter&&o.setCenter(l.center),o.setZoom&&o.setZoom(l.zoom),a==="series"&&G(o.seriesGroup,function(u){u.setCenter(l.center),u.setZoom(l.zoom)})}})})}function ZAe(n){Sn(VJ),n.registerChartView(FAe),n.registerSeriesModel(zAe),n.registerLayout(VAe),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,UAe),Bq("map",n.registerAction)}function $Ae(n){var e=n;e.hierNode={defaultAncestor:null,ancestor:e,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var t=[e],r,i;r=t.pop();)if(i=r.children,r.isExpand&&i.length)for(var a=i.length,o=a-1;o>=0;o--){var s=i[o];s.hierNode={defaultAncestor:null,ancestor:s,prelim:0,modifier:0,change:0,shift:0,i:o,thread:null},t.push(s)}}function qAe(n,e){var t=n.isExpand?n.children:[],r=n.parentNode.children,i=n.hierNode.i?r[n.hierNode.i-1]:null;if(t.length){QAe(n);var a=(t[0].hierNode.prelim+t[t.length-1].hierNode.prelim)/2;i?(n.hierNode.prelim=i.hierNode.prelim+e(n,i),n.hierNode.modifier=n.hierNode.prelim-a):n.hierNode.prelim=a}else i&&(n.hierNode.prelim=i.hierNode.prelim+e(n,i));n.parentNode.hierNode.defaultAncestor=eCe(n,i,n.parentNode.hierNode.defaultAncestor||r[0],e)}function KAe(n){var e=n.hierNode.prelim+n.parentNode.hierNode.modifier;n.setLayout({x:e},!0),n.hierNode.modifier+=n.parentNode.hierNode.modifier}function sW(n){return arguments.length?n:rCe}function mx(n,e){return n-=Math.PI/2,{x:e*Math.cos(n),y:e*Math.sin(n)}}function JAe(n,e){return _i(n.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function QAe(n){for(var e=n.children,t=e.length,r=0,i=0;--t>=0;){var a=e[t];a.hierNode.prelim+=r,a.hierNode.modifier+=r,i+=a.hierNode.change,r+=a.hierNode.shift+i}}function eCe(n,e,t,r){if(e){for(var i=n,a=n,o=a.parentNode.children[0],s=e,l=i.hierNode.modifier,u=a.hierNode.modifier,c=o.hierNode.modifier,f=s.hierNode.modifier;s=ER(s),a=PR(a),s&&a;){i=ER(i),o=PR(o),i.hierNode.ancestor=n;var h=s.hierNode.prelim+f-a.hierNode.prelim-u+r(s,a);h>0&&(nCe(tCe(s,n,t),n,h),u+=h,l+=h),f+=s.hierNode.modifier,u+=a.hierNode.modifier,l+=i.hierNode.modifier,c+=o.hierNode.modifier}s&&!ER(i)&&(i.hierNode.thread=s,i.hierNode.modifier+=f-l),a&&!PR(o)&&(o.hierNode.thread=a,o.hierNode.modifier+=u-c,t=n)}return t}function ER(n){var e=n.children;return e.length&&n.isExpand?e[e.length-1]:n.hierNode.thread}function PR(n){var e=n.children;return e.length&&n.isExpand?e[0]:n.hierNode.thread}function tCe(n,e,t){return n.hierNode.ancestor.parentNode===e.parentNode?n.hierNode.ancestor:t}function nCe(n,e,t){var r=t/(e.hierNode.i-n.hierNode.i);e.hierNode.change-=r,e.hierNode.shift+=t,e.hierNode.modifier+=t,e.hierNode.prelim+=t,n.hierNode.change+=r}function rCe(n,e){return n.parentNode===e.parentNode?1:2}var iCe=(function(){function n(){this.parentPoint=[],this.childPoints=[]}return n})(),aCe=(function(n){Se(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new iCe},e.prototype.buildPath=function(t,r){var i=r.childPoints,a=i.length,o=r.parentPoint,s=i[0],l=i[a-1];if(a===1){t.moveTo(o[0],o[1]),t.lineTo(s[0],s[1]);return}var u=r.orient,c=u==="TB"||u==="BT"?0:1,f=1-c,h=rt(r.forkPosition,1),d=[];d[c]=o[c],d[f]=o[f]+(l[f]-o[f])*h,t.moveTo(o[0],o[1]),t.lineTo(d[0],d[1]),t.moveTo(s[0],s[1]),d[c]=s[c],t.lineTo(d[0],d[1]),d[c]=l[c],t.lineTo(d[0],d[1]),t.lineTo(l[0],l[1]);for(var p=1;p<a-1;p++){var g=i[p];t.moveTo(g[0],g[1]),d[c]=g[c],t.lineTo(d[0],d[1])}},e})(Tn),oCe=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._mainGroup=new Xt,t}return e.prototype.init=function(t,r){this._controller=new B1(r.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},e.prototype.render=function(t,r,i){var a=t.getData(),o=t.layoutInfo,s=this._mainGroup,l=t.get("layout");l==="radial"?(s.x=o.x+o.width/2,s.y=o.y+o.height/2):(s.x=o.x,s.y=o.y),this._updateViewCoordSys(t,i),this._updateController(t,r,i);var u=this._data;a.diff(u).add(function(c){lW(a,c)&&uW(a,c,null,s,t)}).update(function(c,f){var h=u.getItemGraphicEl(f);if(!lW(a,c)){h&&fW(u,f,h,s,t);return}uW(a,c,h,s,t)}).remove(function(c){var f=u.getItemGraphicEl(c);f&&fW(u,c,f,s,t)}).execute(),this._nodeScaleRatio=t.get("nodeScaleRatio"),this._updateNodeAndLinkScale(t),t.get("expandAndCollapse")===!0&&a.eachItemGraphicEl(function(c,f){c.off("click").on("click",function(){i.dispatchAction({type:"treeExpandAndCollapse",seriesId:t.id,dataIndex:f})})}),this._data=a},e.prototype._updateViewCoordSys=function(t,r){var i=t.getData(),a=[];i.each(function(f){var h=i.getItemLayout(f);h&&!isNaN(h.x)&&!isNaN(h.y)&&a.push([+h.x,+h.y])});var o=[],s=[];TC(a,o,s);var l=this._min,u=this._max;s[0]-o[0]===0&&(o[0]=l?l[0]:o[0]-1,s[0]=u?u[0]:s[0]+1),s[1]-o[1]===0&&(o[1]=l?l[1]:o[1]-1,s[1]=u?u[1]:s[1]+1);var c=t.coordinateSystem=new U1;c.zoomLimit=t.get("scaleLimit"),c.setBoundingRect(o[0],o[1],s[0]-o[0],s[1]-o[1]),c.setCenter(t.get("center"),r),c.setZoom(t.get("zoom")),this.group.attr({x:c.x,y:c.y,scaleX:c.scaleX,scaleY:c.scaleY}),this._min=o,this._max=s},e.prototype._updateController=function(t,r,i){var a=this,o=this._controller,s=this._controllerHost,l=this.group;o.setPointerChecker(function(u,c,f){var h=l.getBoundingRect();return h.applyTransform(l.transform),h.contain(c,f)&&!jC(u,i,t)}),o.enable(t.get("roam")),s.zoomLimit=t.get("scaleLimit"),s.zoom=t.coordinateSystem.getZoom(),o.off("pan").off("zoom").on("pan",function(u){N3(s,u.dx,u.dy),i.dispatchAction({seriesId:t.id,type:"treeRoam",dx:u.dx,dy:u.dy})}).on("zoom",function(u){O3(s,u.scale,u.originX,u.originY),i.dispatchAction({seriesId:t.id,type:"treeRoam",zoom:u.scale,originX:u.originX,originY:u.originY}),a._updateNodeAndLinkScale(t),i.updateLabelLayout()})},e.prototype._updateNodeAndLinkScale=function(t){var r=t.getData(),i=this._getNodeGlobalScale(t);r.eachItemGraphicEl(function(a,o){a.setSymbolScale(i)})},e.prototype._getNodeGlobalScale=function(t){var r=t.coordinateSystem;if(r.type!=="view")return 1;var i=this._nodeScaleRatio,a=r.scaleX||1,o=r.getZoom(),s=(o-1)*i+1;return s/a},e.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},e.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},e.type="tree",e})(sr);function lW(n,e){var t=n.getItemLayout(e);return t&&!isNaN(t.x)&&!isNaN(t.y)}function uW(n,e,t,r,i){var a=!t,o=n.tree.getNodeByDataIndex(e),s=o.getModel(),l=o.getVisual("style").fill,u=o.isExpand===!1&&o.children.length!==0?l:"#fff",c=n.tree.root,f=o.parentNode===c?o:o.parentNode||o,h=n.getItemGraphicEl(f.dataIndex),d=f.getLayout(),p=h?{x:h.__oldX,y:h.__oldY,rawX:h.__radialOldRawX,rawY:h.__radialOldRawY}:d,g=o.getLayout();a?(t=new I1(n,e,null,{symbolInnerColor:u,useNameLabel:!0}),t.x=p.x,t.y=p.y):t.updateData(n,e,null,{symbolInnerColor:u,useNameLabel:!0}),t.__radialOldRawX=t.__radialRawX,t.__radialOldRawY=t.__radialRawY,t.__radialRawX=g.rawX,t.__radialRawY=g.rawY,r.add(t),n.setItemGraphicEl(e,t),t.__oldX=t.x,t.__oldY=t.y,Xn(t,{x:g.x,y:g.y},i);var m=t.getSymbolPath();if(i.get("layout")==="radial"){var y=c.children[0],S=y.getLayout(),M=y.children.length,b=void 0,C=void 0;if(g.x===S.x&&o.isExpand===!0&&y.children.length){var A={x:(y.children[0].getLayout().x+y.children[M-1].getLayout().x)/2,y:(y.children[0].getLayout().y+y.children[M-1].getLayout().y)/2};b=Math.atan2(A.y-S.y,A.x-S.x),b<0&&(b=Math.PI*2+b),C=A.x<S.x,C&&(b=b-Math.PI)}else b=Math.atan2(g.y-S.y,g.x-S.x),b<0&&(b=Math.PI*2+b),o.children.length===0||o.children.length!==0&&o.isExpand===!1?(C=g.x<S.x,C&&(b=b-Math.PI)):(C=g.x>S.x,C||(b=b-Math.PI));var E=C?"left":"right",I=s.getModel("label"),L=I.get("rotate"),R=L*(Math.PI/180),O=m.getTextContent();O&&(m.setTextConfig({position:I.get("position")||E,rotation:L==null?-b:R,origin:"center"}),O.setStyle("verticalAlign","middle"))}var U=s.get(["emphasis","focus"]),V=U==="relative"?My(o.getAncestorsIndices(),o.getDescendantIndices()):U==="ancestor"?o.getAncestorsIndices():U==="descendant"?o.getDescendantIndices():null;V&&($t(t).focus=V),sCe(i,o,c,t,p,d,g,r),t.__edge&&(t.onHoverStateChange=function(W){if(W!=="blur"){var X=o.parentNode&&n.getItemGraphicEl(o.parentNode.dataIndex);X&&X.hoverState===b1||Gb(t.__edge,W)}})}function sCe(n,e,t,r,i,a,o,s){var l=e.getModel(),u=n.get("edgeShape"),c=n.get("layout"),f=n.getOrient(),h=n.get(["lineStyle","curveness"]),d=n.get("edgeForkPosition"),p=l.getModel("lineStyle").getLineStyle(),g=r.__edge;if(u==="curve")e.parentNode&&e.parentNode!==t&&(g||(g=r.__edge=new Zy({shape:eN(c,f,h,i,i)})),Xn(g,{shape:eN(c,f,h,a,o)},n));else if(u==="polyline"&&c==="orthogonal"&&e!==t&&e.children&&e.children.length!==0&&e.isExpand===!0){for(var m=e.children,y=[],S=0;S<m.length;S++){var M=m[S].getLayout();y.push([M.x,M.y])}g||(g=r.__edge=new aCe({shape:{parentPoint:[o.x,o.y],childPoints:[[o.x,o.y]],orient:f,forkPosition:d}})),Xn(g,{shape:{parentPoint:[o.x,o.y],childPoints:y}},n)}g&&!(u==="polyline"&&!e.isExpand)&&(g.useStyle(Dt({strokeNoScale:!0,fill:null},p)),xa(g,l,"lineStyle"),Tv(g),s.add(g))}function cW(n,e,t,r,i){var a=e.tree.root,o=GJ(a,n),s=o.source,l=o.sourceLayout,u=e.getItemGraphicEl(n.dataIndex);if(u){var c=e.getItemGraphicEl(s.dataIndex),f=c.__edge,h=u.__edge||(s.isExpand===!1||s.children.length===1?f:void 0),d=r.get("edgeShape"),p=r.get("layout"),g=r.get("orient"),m=r.get(["lineStyle","curveness"]);h&&(d==="curve"?kh(h,{shape:eN(p,g,m,l,l),style:{opacity:0}},r,{cb:function(){t.remove(h)},removeOpt:i}):d==="polyline"&&r.get("layout")==="orthogonal"&&kh(h,{shape:{parentPoint:[l.x,l.y],childPoints:[[l.x,l.y]]},style:{opacity:0}},r,{cb:function(){t.remove(h)},removeOpt:i}))}}function GJ(n,e){for(var t=e.parentNode===n?e:e.parentNode||e,r;r=t.getLayout(),r==null;)t=t.parentNode===n?t:t.parentNode||t;return{source:t,sourceLayout:r}}function fW(n,e,t,r,i){var a=n.tree.getNodeByDataIndex(e),o=n.tree.root,s=GJ(o,a).sourceLayout,l={duration:i.get("animationDurationUpdate"),easing:i.get("animationEasingUpdate")};kh(t,{x:s.x+1,y:s.y+1},i,{cb:function(){r.remove(t),n.setItemGraphicEl(e,null)},removeOpt:l}),t.fadeOut(null,n.hostModel,{fadeLabel:!0,animation:l}),a.children.forEach(function(u){cW(u,n,r,i,l)}),cW(a,n,r,i,l)}function eN(n,e,t,r,i){var a,o,s,l,u,c,f,h;if(n==="radial"){u=r.rawX,f=r.rawY,c=i.rawX,h=i.rawY;var d=mx(u,f),p=mx(u,f+(h-f)*t),g=mx(c,h+(f-h)*t),m=mx(c,h);return{x1:d.x||0,y1:d.y||0,x2:m.x||0,y2:m.y||0,cpx1:p.x||0,cpy1:p.y||0,cpx2:g.x||0,cpy2:g.y||0}}else u=r.x,f=r.y,c=i.x,h=i.y,(e==="LR"||e==="RL")&&(a=u+(c-u)*t,o=f,s=c+(u-c)*t,l=h),(e==="TB"||e==="BT")&&(a=u,o=f+(h-f)*t,s=c,l=h+(f-h)*t);return{x1:u,y1:f,x2:c,y2:h,cpx1:a,cpy1:o,cpx2:s,cpy2:l}}var Vs=Un();function HJ(n){var e=n.mainData,t=n.datas;t||(t={main:e},n.datasAttr={main:"data"}),n.datas=n.mainData=null,WJ(e,t,n),G(t,function(r){G(e.TRANSFERABLE_METHODS,function(i){r.wrapMethod(i,nn(lCe,n))})}),e.wrapMethod("cloneShallow",nn(cCe,n)),G(e.CHANGABLE_METHODS,function(r){e.wrapMethod(r,nn(uCe,n))}),Ha(t[e.dataType]===e)}function lCe(n,e){if(dCe(this)){var t=Le({},Vs(this).datas);t[this.dataType]=e,WJ(e,t,n)}else z3(e,this.dataType,Vs(this).mainData,n);return e}function uCe(n,e){return n.struct&&n.struct.update(),e}function cCe(n,e){return G(Vs(e).datas,function(t,r){t!==e&&z3(t.cloneShallow(),r,e,n)}),e}function fCe(n){var e=Vs(this).mainData;return n==null||e==null?e:Vs(e).datas[n]}function hCe(){var n=Vs(this).mainData;return n==null?[{data:n}]:Ve(En(Vs(n).datas),function(e){return{type:e,data:Vs(n).datas[e]}})}function dCe(n){return Vs(n).mainData===n}function WJ(n,e,t){Vs(n).datas={},G(e,function(r,i){z3(r,i,n,t)})}function z3(n,e,t,r){Vs(t).datas[e]=n,Vs(n).mainData=t,n.dataType=e,r.struct&&(n[r.structAttr]=r.struct,r.struct[r.datasAttr[e]]=n),n.getLinkedData=fCe,n.getLinkedDataAll=hCe}var pCe=(function(){function n(e,t){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=e||"",this.hostTree=t}return n.prototype.isRemoved=function(){return this.dataIndex<0},n.prototype.eachNode=function(e,t,r){Ct(e)&&(r=t,t=e,e=null),e=e||{},ut(e)&&(e={order:e});var i=e.order||"preorder",a=this[e.attr||"children"],o;i==="preorder"&&(o=t.call(r,this));for(var s=0;!o&&s<a.length;s++)a[s].eachNode(e,t,r);i==="postorder"&&t.call(r,this)},n.prototype.updateDepthAndHeight=function(e){var t=0;this.depth=e;for(var r=0;r<this.children.length;r++){var i=this.children[r];i.updateDepthAndHeight(e+1),i.height>t&&(t=i.height)}this.height=t+1},n.prototype.getNodeById=function(e){if(this.getId()===e)return this;for(var t=0,r=this.children,i=r.length;t<i;t++){var a=r[t].getNodeById(e);if(a)return a}},n.prototype.contains=function(e){if(e===this)return!0;for(var t=0,r=this.children,i=r.length;t<i;t++){var a=r[t].contains(e);if(a)return a}},n.prototype.getAncestors=function(e){for(var t=[],r=e?this:this.parentNode;r;)t.push(r),r=r.parentNode;return t.reverse(),t},n.prototype.getAncestorsIndices=function(){for(var e=[],t=this;t;)e.push(t.dataIndex),t=t.parentNode;return e.reverse(),e},n.prototype.getDescendantIndices=function(){var e=[];return this.eachNode(function(t){e.push(t.dataIndex)}),e},n.prototype.getValue=function(e){var t=this.hostTree.data;return t.getStore().get(t.getDimensionIndex(e||"value"),this.dataIndex)},n.prototype.setLayout=function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,e,t)},n.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},n.prototype.getModel=function(e){if(!(this.dataIndex<0)){var t=this.hostTree,r=t.data.getItemModel(this.dataIndex);return r.getModel(e)}},n.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},n.prototype.setVisual=function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,e,t)},n.prototype.getVisual=function(e){return this.hostTree.data.getItemVisual(this.dataIndex,e)},n.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},n.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},n.prototype.getChildIndex=function(){if(this.parentNode){for(var e=this.parentNode.children,t=0;t<e.length;++t)if(e[t]===this)return t;return-1}return-1},n.prototype.isAncestorOf=function(e){for(var t=e.parentNode;t;){if(t===this)return!0;t=t.parentNode}return!1},n.prototype.isDescendantOf=function(e){return e!==this&&e.isAncestorOf(this)},n})(),B3=(function(){function n(e){this.type="tree",this._nodes=[],this.hostModel=e}return n.prototype.eachNode=function(e,t,r){this.root.eachNode(e,t,r)},n.prototype.getNodeByDataIndex=function(e){var t=this.data.getRawIndex(e);return this._nodes[t]},n.prototype.getNodeById=function(e){return this.root.getNodeById(e)},n.prototype.update=function(){for(var e=this.data,t=this._nodes,r=0,i=t.length;r<i;r++)t[r].dataIndex=-1;for(var r=0,i=e.count();r<i;r++)t[e.getRawIndex(r)].dataIndex=r},n.prototype.clearLayouts=function(){this.data.clearItemLayouts()},n.createTree=function(e,t,r){var i=new n(t),a=[],o=1;s(e);function s(c,f){var h=c.value;o=Math.max(o,ze(h)?h.length:1),a.push(c);var d=new pCe(Di(c.name,""),i);f?vCe(d,f):i.root=d,i._nodes.push(d);var p=c.children;if(p)for(var g=0;g<p.length;g++)s(p[g],d)}i.root.updateDepthAndHeight(0);var l=o0(a,{coordDimensions:["value"],dimensionsCount:o}).dimensions,u=new Ga(l,t);return u.initData(a),r&&r(u),HJ({mainData:u,struct:i,structAttr:"tree"}),i.update(),i},n})();function vCe(n,e){var t=e.children;n.parentNode!==e&&(t.push(n),n.parentNode=e)}function jS(n,e,t){if(n&&dn(e,n.type)>=0){var r=t.getData().tree.root,i=n.targetNode;if(ut(i)&&(i=r.getNodeById(i)),i&&r.contains(i))return{node:i};var a=n.targetNodeId;if(a!=null&&(i=r.getNodeById(a)))return{node:i}}}function XJ(n){for(var e=[];n;)n=n.parentNode,n&&e.push(n);return e.reverse()}function U3(n,e){var t=XJ(n);return dn(t,e)>=0}function $C(n,e){for(var t=[];n;){var r=n.dataIndex;t.push({name:n.name,dataIndex:r,value:e.getRawValue(r)}),n=n.parentNode}return t.reverse(),t}var gCe=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.hasSymbolVisual=!0,t.ignoreStyleOnData=!0,t}return e.prototype.getInitialData=function(t){var r={name:t.name,children:t.data},i=t.leaves||{},a=new qn(i,this,this.ecModel),o=B3.createTree(r,this,s);function s(f){f.wrapMethod("getItemModel",function(h,d){var p=o.getNodeByDataIndex(d);return p&&p.children.length&&p.isExpand||(h.parentModel=a),h})}var l=0;o.eachNode("preorder",function(f){f.depth>l&&(l=f.depth)});var u=t.expandAndCollapse,c=u&&t.initialTreeDepth>=0?t.initialTreeDepth:l;return o.root.eachNode("preorder",function(f){var h=f.hostTree.data.getRawDataItem(f.dataIndex);f.isExpand=h&&h.collapsed!=null?!h.collapsed:f.depth<=c}),o.data},e.prototype.getOrient=function(){var t=this.get("orient");return t==="horizontal"?t="LR":t==="vertical"&&(t="TB"),t},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.formatTooltip=function(t,r,i){for(var a=this.getData().tree,o=a.root.children[0],s=a.getNodeByDataIndex(t),l=s.getValue(),u=s.name;s&&s!==o;)u=s.parentNode.name+"."+u,s=s.parentNode;return Zi("nameValue",{name:u,value:l,noValue:isNaN(l)||l==null})},e.prototype.getDataParams=function(t){var r=n.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(t);return r.treeAncestors=$C(i,this),r.collapsed=!i.isExpand,r},e.type="series.tree",e.layoutMode="box",e.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},e})(pr);function mCe(n,e,t){for(var r=[n],i=[],a;a=r.pop();)if(i.push(a),a.isExpand){var o=a.children;if(o.length)for(var s=0;s<o.length;s++)r.push(o[s])}for(;a=i.pop();)e(a,t)}function X_(n,e){for(var t=[n],r;r=t.pop();)if(e(r),r.isExpand){var i=r.children;if(i.length)for(var a=i.length-1;a>=0;a--)t.push(i[a])}}function yCe(n,e){n.eachSeriesByType("tree",function(t){_Ce(t,e)})}function _Ce(n,e){var t=JAe(n,e);n.layoutInfo=t;var r=n.get("layout"),i=0,a=0,o=null;r==="radial"?(i=2*Math.PI,a=Math.min(t.height,t.width)/2,o=sW(function(M,b){return(M.parentNode===b.parentNode?1:2)/M.depth})):(i=t.width,a=t.height,o=sW());var s=n.getData().tree.root,l=s.children[0];if(l){$Ae(s),mCe(l,qAe,o),s.hierNode.modifier=-l.hierNode.prelim,X_(l,KAe);var u=l,c=l,f=l;X_(l,function(M){var b=M.getLayout().x;b<u.getLayout().x&&(u=M),b>c.getLayout().x&&(c=M),M.depth>f.depth&&(f=M)});var h=u===c?1:o(u,c)/2,d=h-u.getLayout().x,p=0,g=0,m=0,y=0;if(r==="radial")p=i/(c.getLayout().x+h+d),g=a/(f.depth-1||1),X_(l,function(M){m=(M.getLayout().x+d)*p,y=(M.depth-1)*g;var b=mx(m,y);M.setLayout({x:b.x,y:b.y,rawX:m,rawY:y},!0)});else{var S=n.getOrient();S==="RL"||S==="LR"?(g=a/(c.getLayout().x+h+d),p=i/(f.depth-1||1),X_(l,function(M){y=(M.getLayout().x+d)*g,m=S==="LR"?(M.depth-1)*p:i-(M.depth-1)*p,M.setLayout({x:m,y},!0)})):(S==="TB"||S==="BT")&&(p=i/(c.getLayout().x+h+d),g=a/(f.depth-1||1),X_(l,function(M){m=(M.getLayout().x+d)*p,y=S==="TB"?(M.depth-1)*g:a-(M.depth-1)*g,M.setLayout({x:m,y},!0)}))}}}function xCe(n){n.eachSeriesByType("tree",function(e){var t=e.getData(),r=t.tree;r.eachNode(function(i){var a=i.getModel(),o=a.getModel("itemStyle").getItemStyle(),s=t.ensureUniqueItemVisual(i.dataIndex,"style");Le(s,o)})})}function SCe(n){n.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(e,t){t.eachComponent({mainType:"series",subType:"tree",query:e},function(r){var i=e.dataIndex,a=r.getData().tree,o=a.getNodeByDataIndex(i);o.isExpand=!o.isExpand})}),n.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(e,t,r){t.eachComponent({mainType:"series",subType:"tree",query:e},function(i){var a=i.coordinateSystem,o=F3(a,e,void 0,r);i.setCenter&&i.setCenter(o.center),i.setZoom&&i.setZoom(o.zoom)})})}function wCe(n){n.registerChartView(oCe),n.registerSeriesModel(gCe),n.registerLayout(yCe),n.registerVisual(xCe),SCe(n)}var hW=["treemapZoomToNode","treemapRender","treemapMove"];function MCe(n){for(var e=0;e<hW.length;e++)n.registerAction({type:hW[e],update:"updateView"},ei);n.registerAction({type:"treemapRootToNode",update:"updateView"},function(t,r){r.eachComponent({mainType:"series",subType:"treemap",query:t},i);function i(a,o){var s=["treemapZoomToNode","treemapRootToNode"],l=jS(t,s,a);if(l){var u=a.getViewRoot();u&&(t.direction=U3(u,l.node)?"rollUp":"drillDown"),a.resetViewRoot(l.node)}}})}function YJ(n){var e=n.getData(),t=e.tree,r={};t.eachNode(function(i){for(var a=i;a&&a.depth>1;)a=a.parentNode;var o=CI(n.ecModel,a.name||a.dataIndex+"",r);i.setVisual("decal",o)})}var TCe=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.preventUsingHoverLayer=!0,t}return e.prototype.getInitialData=function(t,r){var i={name:t.name,children:t.data};jJ(i);var a=t.levels||[],o=this.designatedVisualItemStyle={},s=new qn({itemStyle:o},this,r);a=t.levels=bCe(a,r);var l=Ve(a||[],function(f){return new qn(f,s,r)},this),u=B3.createTree(i,this,c);function c(f){f.wrapMethod("getItemModel",function(h,d){var p=u.getNodeByDataIndex(d),g=p?l[p.depth]:null;return h.parentModel=g||s,h})}return u.data},e.prototype.optionUpdated=function(){this.resetViewRoot()},e.prototype.formatTooltip=function(t,r,i){var a=this.getData(),o=this.getRawValue(t),s=a.getName(t);return Zi("nameValue",{name:s,value:o})},e.prototype.getDataParams=function(t){var r=n.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(t);return r.treeAncestors=$C(i,this),r.treePathInfo=r.treeAncestors,r},e.prototype.setLayoutInfo=function(t){this.layoutInfo=this.layoutInfo||{},Le(this.layoutInfo,t)},e.prototype.mapIdToIndex=function(t){var r=this._idIndexMap;r||(r=this._idIndexMap=xt(),this._idIndexMapCount=0);var i=r.get(t);return i==null&&r.set(t,i=this._idIndexMapCount++),i},e.prototype.getViewRoot=function(){return this._viewRoot},e.prototype.resetViewRoot=function(t){t?this._viewRoot=t:t=this._viewRoot;var r=this.getRawData().tree.root;(!t||t!==r&&!r.contains(t))&&(this._viewRoot=r)},e.prototype.enableAriaDecal=function(){YJ(this)},e.type="series.treemap",e.layoutMode="box",e.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"",zoomToNodeRatio:.32*.32,scaleLimit:null,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},e})(pr);function jJ(n){var e=0;G(n.children,function(r){jJ(r);var i=r.value;ze(i)&&(i=i[0]),e+=i});var t=n.value;ze(t)&&(t=t[0]),(t==null||isNaN(t))&&(t=e),t<0&&(t=0),ze(n.value)?n.value[0]=t:n.value=t}function bCe(n,e){var t=dr(e.get("color")),r=dr(e.get(["aria","decal","decals"]));if(t){n=n||[];var i,a;G(n,function(s){var l=new qn(s),u=l.get("color"),c=l.get("decal");(l.get(["itemStyle","color"])||u&&u!=="none")&&(i=!0),(l.get(["itemStyle","decal"])||c&&c!=="none")&&(a=!0)});var o=n[0]||(n[0]={});return i||(o.color=t.slice()),!a&&r&&(o.decal=r.slice()),n}}var ACe=8,dW=8,DR=5,CCe=(function(){function n(e){this.group=new Xt,e.add(this.group)}return n.prototype.render=function(e,t,r,i){var a=e.getModel("breadcrumb"),o=this.group;if(o.removeAll(),!(!a.get("show")||!r)){var s=a.getModel("itemStyle"),l=a.getModel("emphasis"),u=s.getModel("textStyle"),c=l.getModel(["itemStyle","textStyle"]),f={pos:{left:a.get("left"),right:a.get("right"),top:a.get("top"),bottom:a.get("bottom")},box:{width:t.getWidth(),height:t.getHeight()},emptyItemWidth:a.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(r,f,u),this._renderContent(e,f,s,l,u,c,i),OC(o,f.pos,f.box)}},n.prototype._prepare=function(e,t,r){for(var i=e;i;i=i.parentNode){var a=Di(i.getModel().get("name"),""),o=r.getTextRect(a),s=Math.max(o.width+ACe*2,t.emptyItemWidth);t.totalWidth+=s+dW,t.renderList.push({node:i,text:a,width:s})}},n.prototype._renderContent=function(e,t,r,i,a,o,s){for(var l=0,u=t.emptyItemWidth,c=e.get(["breadcrumb","height"]),f=_xe(t.pos,t.box),h=t.totalWidth,d=t.renderList,p=i.getModel("itemStyle").getItemStyle(),g=d.length-1;g>=0;g--){var m=d[g],y=m.node,S=m.width,M=m.text;h>f.width&&(h-=S-u,S=u,M=null);var b=new Xa({shape:{points:ECe(l,0,S,c,g===d.length-1,g===0)},style:Dt(r.getItemStyle(),{lineJoin:"bevel"}),textContent:new On({style:_r(a,{text:M})}),textConfig:{position:"inside"},z2:Yy*1e4,onclick:nn(s,y)});b.disableLabelAnimation=!0,b.getTextContent().ensureState("emphasis").style=_r(o,{text:M}),b.ensureState("emphasis").style=p,Vr(b,i.get("focus"),i.get("blurScope"),i.get("disabled")),this.group.add(b),PCe(b,e,y),l+=S+dW}},n.prototype.remove=function(){this.group.removeAll()},n})();function ECe(n,e,t,r,i,a){var o=[[i?n:n-DR,e],[n+t,e],[n+t,e+r],[i?n:n-DR,e+r]];return!a&&o.splice(2,0,[n+t+DR,e+r/2]),!i&&o.push([n,e+r/2]),o}function PCe(n,e,t){$t(n).eventData={componentType:"series",componentSubType:"treemap",componentIndex:e.componentIndex,seriesIndex:e.seriesIndex,seriesName:e.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:t&&t.dataIndex,name:t&&t.name},treePathInfo:t&&$C(t,e)}}var DCe=(function(){function n(){this._storage=[],this._elExistsMap={}}return n.prototype.add=function(e,t,r,i,a){return this._elExistsMap[e.id]?!1:(this._elExistsMap[e.id]=!0,this._storage.push({el:e,target:t,duration:r,delay:i,easing:a}),!0)},n.prototype.finished=function(e){return this._finishedCallback=e,this},n.prototype.start=function(){for(var e=this,t=this._storage.length,r=function(){t--,t<=0&&(e._storage.length=0,e._elExistsMap={},e._finishedCallback&&e._finishedCallback())},i=0,a=this._storage.length;i<a;i++){var o=this._storage[i];o.el.animateTo(o.target,{duration:o.duration,delay:o.delay,easing:o.easing,setToFinal:!0,done:r,aborted:r})}return this},n})();function RCe(){return new DCe}var tN=Xt,pW=kn,vW=3,gW="label",mW="upperLabel",LCe=Yy*10,ICe=Yy*2,NCe=Yy*3,Ep=Mv([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),yW=function(n){var e=Ep(n);return e.stroke=e.fill=e.lineWidth=null,e},hA=Un(),OCe=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._state="ready",t._storage=Y_(),t}return e.prototype.render=function(t,r,i,a){var o=r.findComponents({mainType:"series",subType:"treemap",query:a});if(!(dn(o,t)<0)){this.seriesModel=t,this.api=i,this.ecModel=r;var s=["treemapZoomToNode","treemapRootToNode"],l=jS(a,s,t),u=a&&a.type,c=t.layoutInfo,f=!this._oldTree,h=this._storage,d=u==="treemapRootToNode"&&l&&h?{rootNodeGroup:h.nodeGroup[l.node.getRawIndex()],direction:a.direction}:null,p=this._giveContainerGroup(c),g=t.get("animation"),m=this._doRender(p,t,d);g&&!f&&(!u||u==="treemapZoomToNode"||u==="treemapRootToNode")?this._doAnimation(p,m,t,d):m.renderFinally(),this._resetController(i),this._renderBreadcrumb(t,i,l)}},e.prototype._giveContainerGroup=function(t){var r=this._containerGroup;return r||(r=this._containerGroup=new tN,this._initEvents(r),this.group.add(r)),r.x=t.x,r.y=t.y,r},e.prototype._doRender=function(t,r,i){var a=r.getData().tree,o=this._oldTree,s=Y_(),l=Y_(),u=this._storage,c=[];function f(S,M,b,C){return kCe(r,l,u,i,s,c,S,M,b,C)}g(a.root?[a.root]:[],o&&o.root?[o.root]:[],t,a===o||!o,0);var h=m(u);if(this._oldTree=a,this._storage=l,this._controllerHost){var d=this.seriesModel.layoutInfo,p=a.root.getLayout();p.width===d.width&&p.height===d.height&&(this._controllerHost.zoom=1)}return{lastsForAnimation:s,willDeleteEls:h,renderFinally:y};function g(S,M,b,C,A){C?(M=S,G(S,function(L,R){!L.isRemoved()&&I(R,R)})):new nf(M,S,E,E).add(I).update(I).remove(nn(I,null)).execute();function E(L){return L.getId()}function I(L,R){var O=L!=null?S[L]:null,U=R!=null?M[R]:null,V=f(O,U,b,A);V&&g(O&&O.viewChildren||[],U&&U.viewChildren||[],V,C,A+1)}}function m(S){var M=Y_();return S&&G(S,function(b,C){var A=M[C];G(b,function(E){E&&(A.push(E),hA(E).willDelete=!0)})}),M}function y(){G(h,function(S){G(S,function(M){M.parent&&M.parent.remove(M)})}),G(c,function(S){S.invisible=!0,S.dirty()})}},e.prototype._doAnimation=function(t,r,i,a){var o=i.get("animationDurationUpdate"),s=i.get("animationEasing"),l=(Ct(o)?0:o)||0,u=(Ct(s)?null:s)||"cubicOut",c=RCe();G(r.willDeleteEls,function(f,h){G(f,function(d,p){if(!d.invisible){var g=d.parent,m,y=hA(g);if(a&&a.direction==="drillDown")m=g===a.rootNodeGroup?{shape:{x:0,y:0,width:y.nodeWidth,height:y.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var S=0,M=0;y.willDelete||(S=y.nodeWidth/2,M=y.nodeHeight/2),m=h==="nodeGroup"?{x:S,y:M,style:{opacity:0}}:{shape:{x:S,y:M,width:0,height:0},style:{opacity:0}}}m&&c.add(d,m,l,0,u)}})}),G(this._storage,function(f,h){G(f,function(d,p){var g=r.lastsForAnimation[h][p],m={};g&&(d instanceof Xt?g.oldX!=null&&(m.x=d.x,m.y=d.y,d.x=g.oldX,d.y=g.oldY):(g.oldShape&&(m.shape=Le({},d.shape),d.setShape(g.oldShape)),g.fadein?(d.setStyle("opacity",0),m.style={opacity:1}):d.style.opacity!==1&&(m.style={opacity:1})),c.add(d,m,l,0,u))})},this),this._state="animating",c.finished(ht(function(){this._state="ready",r.renderFinally()},this)).start()},e.prototype._resetController=function(t){var r=this._controller,i=this._controllerHost;i||(this._controllerHost={target:this.group},i=this._controllerHost),r||(r=this._controller=new B1(t.getZr()),r.enable(this.seriesModel.get("roam")),i.zoomLimit=this.seriesModel.get("scaleLimit"),i.zoom=this.seriesModel.get("zoom"),r.on("pan",ht(this._onPan,this)),r.on("zoom",ht(this._onZoom,this)));var a=new fn(0,0,t.getWidth(),t.getHeight());r.setPointerChecker(function(o,s,l){return a.contain(s,l)})},e.prototype._clearController=function(){var t=this._controller;this._controllerHost=null,t&&(t.dispose(),t=null)},e.prototype._onPan=function(t){if(this._state!=="animating"&&(Math.abs(t.dx)>vW||Math.abs(t.dy)>vW)){var r=this.seriesModel.getData().tree.root;if(!r)return;var i=r.getLayout();if(!i)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:i.x+t.dx,y:i.y+t.dy,width:i.width,height:i.height}})}},e.prototype._onZoom=function(t){var r=t.originX,i=t.originY,a=t.scale;if(this._state!=="animating"){var o=this.seriesModel.getData().tree.root;if(!o)return;var s=o.getLayout();if(!s)return;var l=new fn(s.x,s.y,s.width,s.height),u=null,c=this._controllerHost;u=c.zoomLimit;var f=c.zoom=c.zoom||1;if(f*=a,u){var h=u.min||0,d=u.max||1/0;f=Math.max(Math.min(d,f),h)}var p=f/c.zoom;c.zoom=f;var g=this.seriesModel.layoutInfo;r-=g.x,i-=g.y;var m=Vo();Gl(m,m,[-r,-i]),gC(m,m,[p,p]),Gl(m,m,[r,i]),l.applyTransform(m),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:l.x,y:l.y,width:l.width,height:l.height}})}},e.prototype._initEvents=function(t){var r=this;t.on("click",function(i){if(r._state==="ready"){var a=r.seriesModel.get("nodeClick",!0);if(a){var o=r.findTarget(i.offsetX,i.offsetY);if(o){var s=o.node;if(s.getLayout().isLeafRoot)r._rootToNode(o);else if(a==="zoomToNode")r._zoomToNode(o);else if(a==="link"){var l=s.hostTree.data.getItemModel(s.dataIndex),u=l.get("link",!0),c=l.get("target",!0)||"blank";u&&Zb(u,c)}}}}},this)},e.prototype._renderBreadcrumb=function(t,r,i){var a=this;i||(i=t.get("leafDepth",!0)!=null?{node:t.getViewRoot()}:this.findTarget(r.getWidth()/2,r.getHeight()/2),i||(i={node:t.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new CCe(this.group))).render(t,r,i.node,function(o){a._state!=="animating"&&(U3(t.getViewRoot(),o)?a._rootToNode({node:o}):a._zoomToNode({node:o}))})},e.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=Y_(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},e.prototype.dispose=function(){this._clearController()},e.prototype._zoomToNode=function(t){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},e.prototype._rootToNode=function(t){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},e.prototype.findTarget=function(t,r){var i,a=this.seriesModel.getViewRoot();return a.eachNode({attr:"viewChildren",order:"preorder"},function(o){var s=this._storage.background[o.getRawIndex()];if(s){var l=s.transformCoordToLocal(t,r),u=s.shape;if(u.x<=l[0]&&l[0]<=u.x+u.width&&u.y<=l[1]&&l[1]<=u.y+u.height)i={node:o,offsetX:l[0],offsetY:l[1]};else return!1}},this),i},e.type="treemap",e})(sr);function Y_(){return{nodeGroup:[],background:[],content:[]}}function kCe(n,e,t,r,i,a,o,s,l,u){if(!o)return;var c=o.getLayout(),f=n.getData(),h=o.getModel();if(f.setItemGraphicEl(o.dataIndex,null),!c||!c.isInView)return;var d=c.width,p=c.height,g=c.borderWidth,m=c.invisible,y=o.getRawIndex(),S=s&&s.getRawIndex(),M=o.viewChildren,b=c.upperHeight,C=M&&M.length,A=h.getModel("itemStyle"),E=h.getModel(["emphasis","itemStyle"]),I=h.getModel(["blur","itemStyle"]),L=h.getModel(["select","itemStyle"]),R=A.get("borderRadius")||0,O=fe("nodeGroup",tN);if(!O)return;if(l.add(O),O.x=c.x||0,O.y=c.y||0,O.markRedraw(),hA(O).nodeWidth=d,hA(O).nodeHeight=p,c.isAboveViewRoot)return O;var U=fe("background",pW,u,ICe);U&&q(O,U,C&&c.upperLabelHeight);var V=h.getModel("emphasis"),W=V.get("focus"),X=V.get("blurScope"),j=V.get("disabled"),Q=W==="ancestor"?o.getAncestorsIndices():W==="descendant"?o.getDescendantIndices():W;if(C)NS(O)&&$p(O,!1),U&&($p(U,!j),f.setItemGraphicEl(o.dataIndex,U),_I(U,Q,X));else{var B=fe("content",pW,u,NCe);B&&Y(O,B),U.disableMorphing=!0,U&&NS(U)&&$p(U,!1),$p(O,!j),f.setItemGraphicEl(o.dataIndex,O);var Z=h.getShallow("cursor");Z&&B.attr("cursor",Z),_I(O,Q,X)}return O;function q(Be,Oe,$e){var ee=$t(Oe);if(ee.dataIndex=o.dataIndex,ee.seriesIndex=n.seriesIndex,Oe.setShape({x:0,y:0,width:d,height:p,r:R}),m)te(Oe);else{Oe.invisible=!1;var ve=o.getVisual("style"),Ae=ve.stroke,Ue=yW(A);Ue.fill=Ae;var Ge=Ep(E);Ge.fill=E.get("borderColor");var He=Ep(I);He.fill=I.get("borderColor");var ot=Ep(L);if(ot.fill=L.get("borderColor"),$e){var ct=d-2*g;me(Oe,Ae,ve.opacity,{x:g,y:0,width:ct,height:b})}else Oe.removeTextContent();Oe.setStyle(Ue),Oe.ensureState("emphasis").style=Ge,Oe.ensureState("blur").style=He,Oe.ensureState("select").style=ot,Tv(Oe)}Be.add(Oe)}function Y(Be,Oe){var $e=$t(Oe);$e.dataIndex=o.dataIndex,$e.seriesIndex=n.seriesIndex;var ee=Math.max(d-2*g,0),ve=Math.max(p-2*g,0);if(Oe.culling=!0,Oe.setShape({x:g,y:g,width:ee,height:ve,r:R}),m)te(Oe);else{Oe.invisible=!1;var Ae=o.getVisual("style"),Ue=Ae.fill,Ge=yW(A);Ge.fill=Ue,Ge.decal=Ae.decal;var He=Ep(E),ot=Ep(I),ct=Ep(L);me(Oe,Ue,Ae.opacity,null),Oe.setStyle(Ge),Oe.ensureState("emphasis").style=He,Oe.ensureState("blur").style=ot,Oe.ensureState("select").style=ct,Tv(Oe)}Be.add(Oe)}function te(Be){!Be.invisible&&a.push(Be)}function me(Be,Oe,$e,ee){var ve=h.getModel(ee?mW:gW),Ae=Di(h.get("name"),null),Ue=ve.getShallow("show");Sa(Be,ji(h,ee?mW:gW),{defaultText:Ue?Ae:null,inheritColor:Oe,defaultOpacity:$e,labelFetcher:n,labelDataIndex:o.dataIndex});var Ge=Be.getTextContent();if(Ge){var He=Ge.style,ot=pC(He.padding||0);ee&&(Be.setTextConfig({layoutRect:ee}),Ge.disableLabelLayout=!0),Ge.beforeUpdate=function(){var Rt=Math.max((ee?ee.width:Be.shape.width)-ot[1]-ot[3],0),re=Math.max((ee?ee.height:Be.shape.height)-ot[0]-ot[2],0);(He.width!==Rt||He.height!==re)&&Ge.setStyle({width:Rt,height:re})},He.truncateMinChar=2,He.lineOverflow="truncate",ae(He,ee,c);var ct=Ge.getState("emphasis");ae(ct?ct.style:null,ee,c)}}function ae(Be,Oe,$e){var ee=Be?Be.text:null;if(!Oe&&$e.isLeafRoot&&ee!=null){var ve=n.get("drillDownIcon",!0);Be.text=ve?ve+" "+ee:ee}}function fe(Be,Oe,$e,ee){var ve=S!=null&&t[Be][S],Ae=i[Be];return ve?(t[Be][S]=null,be(Ae,ve)):m||(ve=new Oe,ve instanceof Hs&&(ve.z2=FCe($e,ee)),Ee(Ae,ve)),e[Be][y]=ve}function be(Be,Oe){var $e=Be[y]={};Oe instanceof tN?($e.oldX=Oe.x,$e.oldY=Oe.y):$e.oldShape=Le({},Oe.shape)}function Ee(Be,Oe){var $e=Be[y]={},ee=o.parentNode,ve=Oe instanceof Xt;if(ee&&(!r||r.direction==="drillDown")){var Ae=0,Ue=0,Ge=i.background[ee.getRawIndex()];!r&&Ge&&Ge.oldShape&&(Ae=Ge.oldShape.width,Ue=Ge.oldShape.height),ve?($e.oldX=0,$e.oldY=Ue):$e.oldShape={x:Ae,y:Ue,width:0,height:0}}$e.fadein=!ve}}function FCe(n,e){return n*LCe+e}var ZS=G,zCe=Bt,dA=-1,Wi=(function(){function n(e){var t=e.mappingMethod,r=e.type,i=this.option=Vt(e);this.type=r,this.mappingMethod=t,this._normalizeData=VCe[t];var a=n.visualHandlers[r];this.applyVisual=a.applyVisual,this.getColorMapper=a.getColorMapper,this._normalizedToVisual=a._normalizedToVisual[t],t==="piecewise"?(RR(i),BCe(i)):t==="category"?i.categories?UCe(i):RR(i,!0):(Ha(t!=="linear"||i.dataExtent),RR(i))}return n.prototype.mapValueToVisual=function(e){var t=this._normalizeData(e);return this._normalizedToVisual(t,e)},n.prototype.getNormalizer=function(){return ht(this._normalizeData,this)},n.listVisualTypes=function(){return En(n.visualHandlers)},n.isValidType=function(e){return n.visualHandlers.hasOwnProperty(e)},n.eachVisual=function(e,t,r){Bt(e)?G(e,t,r):t.call(r,e)},n.mapVisual=function(e,t,r){var i,a=ze(e)?[]:Bt(e)?{}:(i=!0,null);return n.eachVisual(e,function(o,s){var l=t.call(r,o,s);i?a=l:a[s]=l}),a},n.retrieveVisuals=function(e){var t={},r;return e&&ZS(n.visualHandlers,function(i,a){e.hasOwnProperty(a)&&(t[a]=e[a],r=!0)}),r?t:null},n.prepareVisualTypes=function(e){if(ze(e))e=e.slice();else if(zCe(e)){var t=[];ZS(e,function(r,i){t.push(i)}),e=t}else return[];return e.sort(function(r,i){return i==="color"&&r!=="color"&&r.indexOf("color")===0?1:-1}),e},n.dependsOn=function(e,t){return t==="color"?!!(e&&e.indexOf(t)===0):e===t},n.findPieceIndex=function(e,t,r){for(var i,a=1/0,o=0,s=t.length;o<s;o++){var l=t[o].value;if(l!=null){if(l===e||ut(l)&&l===e+"")return o;r&&h(l,o)}}for(var o=0,s=t.length;o<s;o++){var u=t[o],c=u.interval,f=u.close;if(c){if(c[0]===-1/0){if(wT(f[1],e,c[1]))return o}else if(c[1]===1/0){if(wT(f[0],c[0],e))return o}else if(wT(f[0],c[0],e)&&wT(f[1],e,c[1]))return o;r&&h(c[0],o),r&&h(c[1],o)}}if(r)return e===1/0?t.length-1:e===-1/0?0:i;function h(d,p){var g=Math.abs(d-e);g<a&&(a=g,i=p)}},n.visualHandlers={color:{applyVisual:j_("color"),getColorMapper:function(){var e=this.option;return ht(e.mappingMethod==="category"?function(t,r){return!r&&(t=this._normalizeData(t)),yx.call(this,t)}:function(t,r,i){var a=!!i;return!r&&(t=this._normalizeData(t)),i=kx(t,e.parsedVisual,i),a?i:Fl(i,"rgba")},this)},_normalizedToVisual:{linear:function(e){return Fl(kx(e,this.option.parsedVisual),"rgba")},category:yx,piecewise:function(e,t){var r=rN.call(this,t);return r==null&&(r=Fl(kx(e,this.option.parsedVisual),"rgba")),r},fixed:Pp}},colorHue:ST(function(e,t){return ly(e,t)}),colorSaturation:ST(function(e,t){return ly(e,null,t)}),colorLightness:ST(function(e,t){return ly(e,null,null,t)}),colorAlpha:ST(function(e,t){return PS(e,t)}),decal:{applyVisual:j_("decal"),_normalizedToVisual:{linear:null,category:yx,piecewise:null,fixed:null}},opacity:{applyVisual:j_("opacity"),_normalizedToVisual:nN([0,1])},liftZ:{applyVisual:j_("liftZ"),_normalizedToVisual:{linear:Pp,category:Pp,piecewise:Pp,fixed:Pp}},symbol:{applyVisual:function(e,t,r){var i=this.mapValueToVisual(e);r("symbol",i)},_normalizedToVisual:{linear:_W,category:yx,piecewise:function(e,t){var r=rN.call(this,t);return r==null&&(r=_W.call(this,e)),r},fixed:Pp}},symbolSize:{applyVisual:j_("symbolSize"),_normalizedToVisual:nN([0,1])}},n})();function BCe(n){var e=n.pieceList;n.hasSpecialVisual=!1,G(e,function(t,r){t.originIndex=r,t.visual!=null&&(n.hasSpecialVisual=!0)})}function UCe(n){var e=n.categories,t=n.categoryMap={},r=n.visual;if(ZS(e,function(o,s){t[o]=s}),!ze(r)){var i=[];Bt(r)?ZS(r,function(o,s){var l=t[s];i[l??dA]=o}):i[dA]=r,r=ZJ(n,i)}for(var a=e.length-1;a>=0;a--)r[a]==null&&(delete t[e[a]],e.pop())}function RR(n,e){var t=n.visual,r=[];Bt(t)?ZS(t,function(a){r.push(a)}):t!=null&&r.push(t);var i={color:1,symbol:1};!e&&r.length===1&&!i.hasOwnProperty(n.type)&&(r[1]=r[0]),ZJ(n,r)}function ST(n){return{applyVisual:function(e,t,r){var i=this.mapValueToVisual(e);r("color",n(t("color"),i))},_normalizedToVisual:nN([0,1])}}function _W(n){var e=this.option.visual;return e[Math.round(Qn(n,[0,1],[0,e.length-1],!0))]||{}}function j_(n){return function(e,t,r){r(n,this.mapValueToVisual(e))}}function yx(n){var e=this.option.visual;return e[this.option.loop&&n!==dA?n%e.length:n]}function Pp(){return this.option.visual[0]}function nN(n){return{linear:function(e){return Qn(e,n,this.option.visual,!0)},category:yx,piecewise:function(e,t){var r=rN.call(this,t);return r==null&&(r=Qn(e,n,this.option.visual,!0)),r},fixed:Pp}}function rN(n){var e=this.option,t=e.pieceList;if(e.hasSpecialVisual){var r=Wi.findPieceIndex(n,t),i=t[r];if(i&&i.visual)return i.visual[this.type]}}function ZJ(n,e){return n.visual=e,n.type==="color"&&(n.parsedVisual=Ve(e,function(t){var r=go(t);return r||[0,0,0,1]})),e}var VCe={linear:function(n){return Qn(n,this.option.dataExtent,[0,1],!0)},piecewise:function(n){var e=this.option.pieceList,t=Wi.findPieceIndex(n,e,!0);if(t!=null)return Qn(t,[0,e.length-1],[0,1],!0)},category:function(n){var e=this.option.categories?this.option.categoryMap[n]:n;return e??dA},fixed:ei};function wT(n,e,t){return n?e<=t:e<t}var GCe="itemStyle",$J=Un();const HCe={seriesType:"treemap",reset:function(n){var e=n.getData().tree,t=e.root;t.isRemoved()||qJ(t,{},n.getViewRoot().getAncestors(),n)}};function qJ(n,e,t,r){var i=n.getModel(),a=n.getLayout(),o=n.hostTree.data;if(!(!a||a.invisible||!a.isInView)){var s=i.getModel(GCe),l=WCe(s,e,r),u=o.ensureUniqueItemVisual(n.dataIndex,"style"),c=s.get("borderColor"),f=s.get("borderColorSaturation"),h;f!=null&&(h=xW(l),c=XCe(f,h)),u.stroke=c;var d=n.viewChildren;if(!d||!d.length)h=xW(l),u.fill=h;else{var p=YCe(n,i,a,s,l,d);G(d,function(g,m){if(g.depth>=t.length||g===t[g.depth]){var y=jCe(i,l,g,m,p,r);qJ(g,y,t,r)}})}}}function WCe(n,e,t){var r=Le({},e),i=t.designatedVisualItemStyle;return G(["color","colorAlpha","colorSaturation"],function(a){i[a]=e[a];var o=n.get(a);i[a]=null,o!=null&&(r[a]=o)}),r}function xW(n){var e=LR(n,"color");if(e){var t=LR(n,"colorAlpha"),r=LR(n,"colorSaturation");return r&&(e=ly(e,null,null,r)),t&&(e=PS(e,t)),e}}function XCe(n,e){return e!=null?ly(e,null,null,n):null}function LR(n,e){var t=n[e];if(t!=null&&t!=="none")return t}function YCe(n,e,t,r,i,a){if(!(!a||!a.length)){var o=IR(e,"color")||i.color!=null&&i.color!=="none"&&(IR(e,"colorAlpha")||IR(e,"colorSaturation"));if(o){var s=e.get("visualMin"),l=e.get("visualMax"),u=t.dataExtent.slice();s!=null&&s<u[0]&&(u[0]=s),l!=null&&l>u[1]&&(u[1]=l);var c=e.get("colorMappingBy"),f={type:o.name,dataExtent:u,visual:o.range};f.type==="color"&&(c==="index"||c==="id")?(f.mappingMethod="category",f.loop=!0):f.mappingMethod="linear";var h=new Wi(f);return $J(h).drColorMappingBy=c,h}}}function IR(n,e){var t=n.get(e);return ze(t)&&t.length?{name:e,range:t}:null}function jCe(n,e,t,r,i,a){var o=Le({},e);if(i){var s=i.type,l=s==="color"&&$J(i).drColorMappingBy,u=l==="index"?r:l==="id"?a.mapIdToIndex(t.getId()):t.getValue(n.get("visualDimension"));o[s]=i.mapValueToVisual(u)}return o}var $S=Math.max,pA=Math.min,SW=Gi,V3=G,KJ=["itemStyle","borderWidth"],ZCe=["itemStyle","gapWidth"],$Ce=["upperLabel","show"],qCe=["upperLabel","height"];const KCe={seriesType:"treemap",reset:function(n,e,t,r){var i=t.getWidth(),a=t.getHeight(),o=n.option,s=_i(n.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()}),l=o.size||[],u=rt(SW(s.width,l[0]),i),c=rt(SW(s.height,l[1]),a),f=r&&r.type,h=["treemapZoomToNode","treemapRootToNode"],d=jS(r,h,n),p=f==="treemapRender"||f==="treemapMove"?r.rootRect:null,g=n.getViewRoot(),m=XJ(g);if(f!=="treemapMove"){var y=f==="treemapZoomToNode"?rEe(n,d,g,u,c):p?[p.width,p.height]:[u,c],S=o.sort;S&&S!=="asc"&&S!=="desc"&&(S="desc");var M={squareRatio:o.squareRatio,sort:S,leafDepth:o.leafDepth};g.hostTree.clearLayouts();var b={x:0,y:0,width:y[0],height:y[1],area:y[0]*y[1]};g.setLayout(b),JJ(g,M,!1,0),b=g.getLayout(),V3(m,function(A,E){var I=(m[E+1]||g).getValue();A.setLayout(Le({dataExtent:[I,I],borderWidth:0,upperHeight:0},b))})}var C=n.getData().tree.root;C.setLayout(iEe(s,p,d),!0),n.setLayoutInfo(s),QJ(C,new fn(-s.x,-s.y,i,a),m,g,0)}};function JJ(n,e,t,r){var i,a;if(!n.isRemoved()){var o=n.getLayout();i=o.width,a=o.height;var s=n.getModel(),l=s.get(KJ),u=s.get(ZCe)/2,c=eQ(s),f=Math.max(l,c),h=l-u,d=f-u;n.setLayout({borderWidth:l,upperHeight:f,upperLabelHeight:c},!0),i=$S(i-2*h,0),a=$S(a-h-d,0);var p=i*a,g=JCe(n,s,p,e,t,r);if(g.length){var m={x:h,y:d,width:i,height:a},y=pA(i,a),S=1/0,M=[];M.area=0;for(var b=0,C=g.length;b<C;){var A=g[b];M.push(A),M.area+=A.getLayout().area;var E=nEe(M,y,e.squareRatio);E<=S?(b++,S=E):(M.area-=M.pop().getLayout().area,wW(M,y,m,u,!1),y=pA(m.width,m.height),M.length=M.area=0,S=1/0)}if(M.length&&wW(M,y,m,u,!0),!t){var I=s.get("childrenVisibleMin");I!=null&&p<I&&(t=!0)}for(var b=0,C=g.length;b<C;b++)JJ(g[b],e,t,r+1)}}}function JCe(n,e,t,r,i,a){var o=n.children||[],s=r.sort;s!=="asc"&&s!=="desc"&&(s=null);var l=r.leafDepth!=null&&r.leafDepth<=a;if(i&&!l)return n.viewChildren=[];o=$n(o,function(d){return!d.isRemoved()}),eEe(o,s);var u=tEe(e,o,s);if(u.sum===0)return n.viewChildren=[];if(u.sum=QCe(e,t,u.sum,s,o),u.sum===0)return n.viewChildren=[];for(var c=0,f=o.length;c<f;c++){var h=o[c].getValue()/u.sum*t;o[c].setLayout({area:h})}return l&&(o.length&&n.setLayout({isLeafRoot:!0},!0),o.length=0),n.viewChildren=o,n.setLayout({dataExtent:u.dataExtent},!0),o}function QCe(n,e,t,r,i){if(!r)return t;for(var a=n.get("visibleMin"),o=i.length,s=o,l=o-1;l>=0;l--){var u=i[r==="asc"?o-l-1:l].getValue();u/t*e<a&&(s=l,t-=u)}return r==="asc"?i.splice(0,o-s):i.splice(s,o-s),t}function eEe(n,e){return e&&n.sort(function(t,r){var i=e==="asc"?t.getValue()-r.getValue():r.getValue()-t.getValue();return i===0?e==="asc"?t.dataIndex-r.dataIndex:r.dataIndex-t.dataIndex:i}),n}function tEe(n,e,t){for(var r=0,i=0,a=e.length;i<a;i++)r+=e[i].getValue();var o=n.get("visualDimension"),s;return!e||!e.length?s=[NaN,NaN]:o==="value"&&t?(s=[e[e.length-1].getValue(),e[0].getValue()],t==="asc"&&s.reverse()):(s=[1/0,-1/0],V3(e,function(l){var u=l.getValue(o);u<s[0]&&(s[0]=u),u>s[1]&&(s[1]=u)})),{sum:r,dataExtent:s}}function nEe(n,e,t){for(var r=0,i=1/0,a=0,o=void 0,s=n.length;a<s;a++)o=n[a].getLayout().area,o&&(o<i&&(i=o),o>r&&(r=o));var l=n.area*n.area,u=e*e*t;return l?$S(u*r/l,l/(u*i)):1/0}function wW(n,e,t,r,i){var a=e===t.width?0:1,o=1-a,s=["x","y"],l=["width","height"],u=t[s[a]],c=e?n.area/e:0;(i||c>t[l[o]])&&(c=t[l[o]]);for(var f=0,h=n.length;f<h;f++){var d=n[f],p={},g=c?d.getLayout().area/c:0,m=p[l[o]]=$S(c-2*r,0),y=t[s[a]]+t[l[a]]-u,S=f===h-1||y<g?y:g,M=p[l[a]]=$S(S-2*r,0);p[s[o]]=t[s[o]]+pA(r,m/2),p[s[a]]=u+pA(r,M/2),u+=S,d.setLayout(p,!0)}t[s[o]]+=c,t[l[o]]-=c}function rEe(n,e,t,r,i){var a=(e||{}).node,o=[r,i];if(!a||a===t)return o;for(var s,l=r*i,u=l*n.option.zoomToNodeRatio;s=a.parentNode;){for(var c=0,f=s.children,h=0,d=f.length;h<d;h++)c+=f[h].getValue();var p=a.getValue();if(p===0)return o;u*=c/p;var g=s.getModel(),m=g.get(KJ),y=Math.max(m,eQ(g));u+=4*m*m+(3*m+y)*Math.pow(u,.5),u>cI&&(u=cI),a=s}u<l&&(u=l);var S=Math.pow(u/l,.5);return[r*S,i*S]}function iEe(n,e,t){if(e)return{x:e.x,y:e.y};var r={x:0,y:0};if(!t)return r;var i=t.node,a=i.getLayout();if(!a)return r;for(var o=[a.width/2,a.height/2],s=i;s;){var l=s.getLayout();o[0]+=l.x,o[1]+=l.y,s=s.parentNode}return{x:n.width/2-o[0],y:n.height/2-o[1]}}function QJ(n,e,t,r,i){var a=n.getLayout(),o=t[i],s=o&&o===n;if(!(o&&!s||i===t.length&&n!==r)){n.setLayout({isInView:!0,invisible:!s&&!e.intersect(a),isAboveViewRoot:s},!0);var l=new fn(e.x-a.x,e.y-a.y,e.width,e.height);V3(n.viewChildren||[],function(u){QJ(u,l,t,r,i+1)})}}function eQ(n){return n.get($Ce)?n.get(qCe):0}function aEe(n){n.registerSeriesModel(TCe),n.registerChartView(OCe),n.registerVisual(HCe),n.registerLayout(KCe),MCe(n)}function oEe(n){var e=n.findComponents({mainType:"legend"});!e||!e.length||n.eachSeriesByType("graph",function(t){var r=t.getCategoriesData(),i=t.getGraph(),a=i.data,o=r.mapArray(r.getName);a.filterSelf(function(s){var l=a.getItemModel(s),u=l.getShallow("category");if(u!=null){Hn(u)&&(u=o[u]);for(var c=0;c<e.length;c++)if(!e[c].isSelected(u))return!1}return!0})})}function sEe(n){var e={};n.eachSeriesByType("graph",function(t){var r=t.getCategoriesData(),i=t.getData(),a={};r.each(function(o){var s=r.getName(o);a["ec-"+s]=o;var l=r.getItemModel(o),u=l.getModel("itemStyle").getItemStyle();u.fill||(u.fill=t.getColorFromPalette(s,e)),r.setItemVisual(o,"style",u);for(var c=["symbol","symbolSize","symbolKeepAspect"],f=0;f<c.length;f++){var h=l.getShallow(c[f],!0);h!=null&&r.setItemVisual(o,c[f],h)}}),r.count()&&i.each(function(o){var s=i.getItemModel(o),l=s.getShallow("category");if(l!=null){ut(l)&&(l=a["ec-"+l]);var u=r.getItemVisual(l,"style"),c=i.ensureUniqueItemVisual(o,"style");Le(c,u);for(var f=["symbol","symbolSize","symbolKeepAspect"],h=0;h<f.length;h++)i.setItemVisual(o,f[h],r.getItemVisual(l,f[h]))}})})}function MT(n){return n instanceof Array||(n=[n,n]),n}function lEe(n){n.eachSeriesByType("graph",function(e){var t=e.getGraph(),r=e.getEdgeData(),i=MT(e.get("edgeSymbol")),a=MT(e.get("edgeSymbolSize"));r.setVisual("fromSymbol",i&&i[0]),r.setVisual("toSymbol",i&&i[1]),r.setVisual("fromSymbolSize",a&&a[0]),r.setVisual("toSymbolSize",a&&a[1]),r.setVisual("style",e.getModel("lineStyle").getLineStyle()),r.each(function(o){var s=r.getItemModel(o),l=t.getEdgeByIndex(o),u=MT(s.getShallow("symbol",!0)),c=MT(s.getShallow("symbolSize",!0)),f=s.getModel("lineStyle").getLineStyle(),h=r.ensureUniqueItemVisual(o,"style");switch(Le(h,f),h.stroke){case"source":{var d=l.node1.getVisual("style");h.stroke=d&&d.fill;break}case"target":{var d=l.node2.getVisual("style");h.stroke=d&&d.fill;break}}u[0]&&l.setVisual("fromSymbol",u[0]),u[1]&&l.setVisual("toSymbol",u[1]),c[0]&&l.setVisual("fromSymbolSize",c[0]),c[1]&&l.setVisual("toSymbolSize",c[1])})})}var iN="-->",qC=function(n){return n.get("autoCurveness")||null},tQ=function(n,e){var t=qC(n),r=20,i=[];if(Hn(t))r=t;else if(ze(t)){n.__curvenessList=t;return}e>r&&(r=e);var a=r%2?r+2:r+3;i=[];for(var o=0;o<a;o++)i.push((o%2?o+1:o)/10*(o%2?-1:1));n.__curvenessList=i},qS=function(n,e,t){var r=[n.id,n.dataIndex].join("."),i=[e.id,e.dataIndex].join(".");return[t.uid,r,i].join(iN)},nQ=function(n){var e=n.split(iN);return[e[0],e[2],e[1]].join(iN)},uEe=function(n,e){var t=qS(n.node1,n.node2,e);return e.__edgeMap[t]},cEe=function(n,e){var t=aN(qS(n.node1,n.node2,e),e),r=aN(qS(n.node2,n.node1,e),e);return t+r},aN=function(n,e){var t=e.__edgeMap;return t[n]?t[n].length:0};function fEe(n){qC(n)&&(n.__curvenessList=[],n.__edgeMap={},tQ(n))}function hEe(n,e,t,r){if(qC(t)){var i=qS(n,e,t),a=t.__edgeMap,o=a[nQ(i)];a[i]&&!o?a[i].isForward=!0:o&&a[i]&&(o.isForward=!0,a[i].isForward=!1),a[i]=a[i]||[],a[i].push(r)}}function G3(n,e,t,r){var i=qC(e),a=ze(i);if(!i)return null;var o=uEe(n,e);if(!o)return null;for(var s=-1,l=0;l<o.length;l++)if(o[l]===t){s=l;break}var u=cEe(n,e);tQ(e,u),n.lineStyle=n.lineStyle||{};var c=qS(n.node1,n.node2,e),f=e.__curvenessList,h=a||u%2?0:1;if(o.isForward)return f[h+s];var d=nQ(c),p=aN(d,e),g=f[s+p+h];return r?a?i&&i[0]===0?(p+h)%2?g:-g:((p%2?0:1)+h)%2?g:-g:(p+h)%2?g:-g:f[s+p+h]}function rQ(n){var e=n.coordinateSystem;if(!(e&&e.type!=="view")){var t=n.getGraph();t.eachNode(function(r){var i=r.getModel();r.setLayout([+i.get("x"),+i.get("y")])}),H3(t,n)}}function H3(n,e){n.eachEdge(function(t,r){var i=Ol(t.getModel().get(["lineStyle","curveness"]),-G3(t,e,r,!0),0),a=Eu(t.node1.getLayout()),o=Eu(t.node2.getLayout()),s=[a,o];+i&&s.push([(a[0]+o[0])/2-(a[1]-o[1])*i,(a[1]+o[1])/2-(o[0]-a[0])*i]),t.setLayout(s)})}function dEe(n,e){n.eachSeriesByType("graph",function(t){var r=t.get("layout"),i=t.coordinateSystem;if(i&&i.type!=="view"){var a=t.getData(),o=[];G(i.dimensions,function(h){o=o.concat(a.mapDimensionsAll(h))});for(var s=0;s<a.count();s++){for(var l=[],u=!1,c=0;c<o.length;c++){var f=a.get(o[c],s);isNaN(f)||(u=!0),l.push(f)}u?a.setItemLayout(s,i.dataToPoint(l)):a.setItemLayout(s,[NaN,NaN])}H3(a.graph,t)}else(!r||r==="none")&&rQ(t)})}function _x(n){var e=n.coordinateSystem;if(e.type!=="view")return 1;var t=n.option.nodeScaleRatio,r=e.scaleX,i=e.getZoom(),a=(i-1)*t+1;return a/r}function xx(n){var e=n.getVisual("symbolSize");return e instanceof Array&&(e=(e[0]+e[1])/2),+e}var MW=Math.PI,NR=[];function W3(n,e,t,r){var i=n.coordinateSystem;if(!(i&&i.type!=="view")){var a=i.getBoundingRect(),o=n.getData(),s=o.graph,l=a.width/2+a.x,u=a.height/2+a.y,c=Math.min(a.width,a.height)/2,f=o.count();if(o.setLayout({cx:l,cy:u}),!!f){if(t){var h=i.pointToData(r),d=h[0],p=h[1],g=[d-l,p-u];kv(g,g),Ix(g,g,c),t.setLayout([l+g[0],u+g[1]],!0);var m=n.get(["circular","rotateLabel"]);iQ(t,m,l,u)}pEe[e](n,s,o,c,l,u,f),s.eachEdge(function(y,S){var M=Ol(y.getModel().get(["lineStyle","curveness"]),G3(y,n,S),0),b=Eu(y.node1.getLayout()),C=Eu(y.node2.getLayout()),A,E=(b[0]+C[0])/2,I=(b[1]+C[1])/2;+M&&(M*=3,A=[l*M+E*(1-M),u*M+I*(1-M)]),y.setLayout([b,C,A])})}}}var pEe={value:function(n,e,t,r,i,a,o){var s=0,l=t.getSum("value"),u=Math.PI*2/(l||o);e.eachNode(function(c){var f=c.getValue("value"),h=u*(l?f:1)/2;s+=h,c.setLayout([r*Math.cos(s)+i,r*Math.sin(s)+a]),s+=h})},symbolSize:function(n,e,t,r,i,a,o){var s=0;NR.length=o;var l=_x(n);e.eachNode(function(f){var h=xx(f);isNaN(h)&&(h=2),h<0&&(h=0),h*=l;var d=Math.asin(h/2/r);isNaN(d)&&(d=MW/2),NR[f.dataIndex]=d,s+=d*2});var u=(2*MW-s)/o/2,c=0;e.eachNode(function(f){var h=u+NR[f.dataIndex];c+=h,(!f.getLayout()||!f.getLayout().fixed)&&f.setLayout([r*Math.cos(c)+i,r*Math.sin(c)+a]),c+=h})}};function iQ(n,e,t,r){var i=n.getGraphicEl();if(i){var a=n.getModel(),o=a.get(["label","rotate"])||0,s=i.getSymbolPath();if(e){var l=n.getLayout(),u=Math.atan2(l[1]-r,l[0]-t);u<0&&(u=Math.PI*2+u);var c=l[0]<t;c&&(u=u-Math.PI);var f=c?"left":"right";s.setTextConfig({rotation:-u,position:f,origin:"center"});var h=s.ensureState("emphasis");Le(h.textConfig||(h.textConfig={}),{position:f})}else s.setTextConfig({rotation:o*=Math.PI/180})}}function vEe(n){n.eachSeriesByType("graph",function(e){e.get("layout")==="circular"&&W3(e,"symbolSize")})}var Cm=Rb;function gEe(n,e,t){for(var r=n,i=e,a=t.rect,o=a.width,s=a.height,l=[a.x+o/2,a.y+s/2],u=t.gravity==null?.1:t.gravity,c=0;c<r.length;c++){var f=r[c];f.p||(f.p=Yh(o*(Math.random()-.5)+l[0],s*(Math.random()-.5)+l[1])),f.pp=Eu(f.p),f.edges=null}var h=t.friction==null?.6:t.friction,d=h,p,g;return{warmUp:function(){d=h*.8},setFixed:function(m){r[m].fixed=!0},setUnfixed:function(m){r[m].fixed=!1},beforeStep:function(m){p=m},afterStep:function(m){g=m},step:function(m){p&&p(r,i);for(var y=[],S=r.length,M=0;M<i.length;M++){var b=i[M];if(!b.ignoreForceLayout){var C=b.n1,A=b.n2;vh(y,A.p,C.p);var E=AS(y)-b.d,I=A.w/(C.w+A.w);isNaN(I)&&(I=0),kv(y,y),!C.fixed&&Cm(C.p,C.p,y,I*E*d),!A.fixed&&Cm(A.p,A.p,y,-(1-I)*E*d)}}for(var M=0;M<S;M++){var L=r[M];L.fixed||(vh(y,l,L.p),Cm(L.p,L.p,y,u*d))}for(var M=0;M<S;M++)for(var C=r[M],R=M+1;R<S;R++){var A=r[R];vh(y,A.p,C.p);var E=AS(y);E===0&&(fZ(y,Math.random()-.5,Math.random()-.5),E=1);var O=(C.rep+A.rep)/E/E;!C.fixed&&Cm(C.pp,C.pp,y,O),!A.fixed&&Cm(A.pp,A.pp,y,-O)}for(var U=[],M=0;M<S;M++){var L=r[M];L.fixed||(vh(U,L.p,L.pp),Cm(L.p,L.p,U,d),ka(L.pp,L.p))}d=d*.992;var V=d<.01;g&&g(r,i,V),m&&m(V)}}}function mEe(n){n.eachSeriesByType("graph",function(e){var t=e.coordinateSystem;if(!(t&&t.type!=="view"))if(e.get("layout")==="force"){var r=e.preservedPoints||{},i=e.getGraph(),a=i.data,o=i.edgeData,s=e.getModel("force"),l=s.get("initLayout");e.preservedPoints?a.each(function(M){var b=a.getId(M);a.setItemLayout(M,r[b]||[NaN,NaN])}):!l||l==="none"?rQ(e):l==="circular"&&W3(e,"value");var u=a.getDataExtent("value"),c=o.getDataExtent("value"),f=s.get("repulsion"),h=s.get("edgeLength"),d=ze(f)?f:[f,f],p=ze(h)?h:[h,h];p=[p[1],p[0]];var g=a.mapArray("value",function(M,b){var C=a.getItemLayout(b),A=Qn(M,u,d);return isNaN(A)&&(A=(d[0]+d[1])/2),{w:A,rep:A,fixed:a.getItemModel(b).get("fixed"),p:!C||isNaN(C[0])||isNaN(C[1])?null:C}}),m=o.mapArray("value",function(M,b){var C=i.getEdgeByIndex(b),A=Qn(M,c,p);isNaN(A)&&(A=(p[0]+p[1])/2);var E=C.getModel(),I=Ol(C.getModel().get(["lineStyle","curveness"]),-G3(C,e,b,!0),0);return{n1:g[C.node1.dataIndex],n2:g[C.node2.dataIndex],d:A,curveness:I,ignoreForceLayout:E.get("ignoreForceLayout")}}),y=t.getBoundingRect(),S=gEe(g,m,{rect:y,gravity:s.get("gravity"),friction:s.get("friction")});S.beforeStep(function(M,b){for(var C=0,A=M.length;C<A;C++)M[C].fixed&&ka(M[C].p,i.getNodeByIndex(C).getLayout())}),S.afterStep(function(M,b,C){for(var A=0,E=M.length;A<E;A++)M[A].fixed||i.getNodeByIndex(A).setLayout(M[A].p),r[a.getId(A)]=M[A].p;for(var A=0,E=b.length;A<E;A++){var I=b[A],L=i.getEdgeByIndex(A),R=I.n1.p,O=I.n2.p,U=L.getLayout();U=U?U.slice():[],U[0]=U[0]||[],U[1]=U[1]||[],ka(U[0],R),ka(U[1],O),+I.curveness&&(U[2]=[(R[0]+O[0])/2-(R[1]-O[1])*I.curveness,(R[1]+O[1])/2-(O[0]-R[0])*I.curveness]),L.setLayout(U)}}),e.forceLayout=S,e.preservedPoints=r,S.step()}else e.forceLayout=null})}function yEe(n,e,t){var r=Le(n.getBoxLayoutParams(),{aspect:t});return _i(r,{width:e.getWidth(),height:e.getHeight()})}function _Ee(n,e){var t=[];return n.eachSeriesByType("graph",function(r){var i=r.get("coordinateSystem");if(!i||i==="view"){var a=r.getData(),o=a.mapArray(function(m){var y=a.getItemModel(m);return[+y.get("x"),+y.get("y")]}),s=[],l=[];TC(o,s,l),l[0]-s[0]===0&&(l[0]+=1,s[0]-=1),l[1]-s[1]===0&&(l[1]+=1,s[1]-=1);var u=(l[0]-s[0])/(l[1]-s[1]),c=yEe(r,e,u);isNaN(u)&&(s=[c.x,c.y],l=[c.x+c.width,c.y+c.height]);var f=l[0]-s[0],h=l[1]-s[1],d=c.width,p=c.height,g=r.coordinateSystem=new U1;g.zoomLimit=r.get("scaleLimit"),g.setBoundingRect(s[0],s[1],f,h),g.setViewRect(c.x,c.y,d,p),g.setCenter(r.get("center"),e),g.setZoom(r.get("zoom")),t.push(g)}}),t}var TW=Ri.prototype,OR=Zy.prototype,aQ=(function(){function n(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return n})();(function(n){Se(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e})(aQ);function kR(n){return isNaN(+n.cpx1)||isNaN(+n.cpy1)}var xEe=(function(n){Se(e,n);function e(t){var r=n.call(this,t)||this;return r.type="ec-line",r}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new aQ},e.prototype.buildPath=function(t,r){kR(r)?TW.buildPath.call(this,t,r):OR.buildPath.call(this,t,r)},e.prototype.pointAt=function(t){return kR(this.shape)?TW.pointAt.call(this,t):OR.pointAt.call(this,t)},e.prototype.tangentAt=function(t){var r=this.shape,i=kR(r)?[r.x2-r.x1,r.y2-r.y1]:OR.tangentAt.call(this,t);return kv(i,i)},e})(Tn),FR=["fromSymbol","toSymbol"];function bW(n){return"_"+n+"Type"}function AW(n,e,t){var r=e.getItemVisual(t,n);if(!r||r==="none")return r;var i=e.getItemVisual(t,n+"Size"),a=e.getItemVisual(t,n+"Rotate"),o=e.getItemVisual(t,n+"Offset"),s=e.getItemVisual(t,n+"KeepAspect"),l=a0(i),u=Vv(o||0,l);return r+l+u+(a||"")+(s||"")}function CW(n,e,t){var r=e.getItemVisual(t,n);if(!(!r||r==="none")){var i=e.getItemVisual(t,n+"Size"),a=e.getItemVisual(t,n+"Rotate"),o=e.getItemVisual(t,n+"Offset"),s=e.getItemVisual(t,n+"KeepAspect"),l=a0(i),u=Vv(o||0,l),c=ci(r,-l[0]/2+u[0],-l[1]/2+u[1],l[0],l[1],null,s);return c.__specifiedRotation=a==null||isNaN(a)?void 0:+a*Math.PI/180||0,c.name=n,c}}function SEe(n){var e=new xEe({name:"line",subPixelOptimize:!0});return oN(e.shape,n),e}function oN(n,e){n.x1=e[0][0],n.y1=e[0][1],n.x2=e[1][0],n.y2=e[1][1],n.percent=1;var t=e[2];t?(n.cpx1=t[0],n.cpy1=t[1]):(n.cpx1=NaN,n.cpy1=NaN)}var X3=(function(n){Se(e,n);function e(t,r,i){var a=n.call(this)||this;return a._createLine(t,r,i),a}return e.prototype._createLine=function(t,r,i){var a=t.hostModel,o=t.getItemLayout(r),s=SEe(o);s.shape.percent=0,Dr(s,{shape:{percent:1}},a,r),this.add(s),G(FR,function(l){var u=CW(l,t,r);this.add(u),this[bW(l)]=AW(l,t,r)},this),this._updateCommonStl(t,r,i)},e.prototype.updateData=function(t,r,i){var a=t.hostModel,o=this.childOfName("line"),s=t.getItemLayout(r),l={shape:{}};oN(l.shape,s),Xn(o,l,a,r),G(FR,function(u){var c=AW(u,t,r),f=bW(u);if(this[f]!==c){this.remove(this.childOfName(u));var h=CW(u,t,r);this.add(h)}this[f]=c},this),this._updateCommonStl(t,r,i)},e.prototype.getLinePath=function(){return this.childAt(0)},e.prototype._updateCommonStl=function(t,r,i){var a=t.hostModel,o=this.childOfName("line"),s=i&&i.emphasisLineStyle,l=i&&i.blurLineStyle,u=i&&i.selectLineStyle,c=i&&i.labelStatesModels,f=i&&i.emphasisDisabled,h=i&&i.focus,d=i&&i.blurScope;if(!i||t.hasItemOption){var p=t.getItemModel(r),g=p.getModel("emphasis");s=g.getModel("lineStyle").getLineStyle(),l=p.getModel(["blur","lineStyle"]).getLineStyle(),u=p.getModel(["select","lineStyle"]).getLineStyle(),f=g.get("disabled"),h=g.get("focus"),d=g.get("blurScope"),c=ji(p)}var m=t.getItemVisual(r,"style"),y=m.stroke;o.useStyle(m),o.style.fill=null,o.style.strokeNoScale=!0,o.ensureState("emphasis").style=s,o.ensureState("blur").style=l,o.ensureState("select").style=u,G(FR,function(A){var E=this.childOfName(A);if(E){E.setColor(y),E.style.opacity=m.opacity;for(var I=0;I<_o.length;I++){var L=_o[I],R=o.getState(L);if(R){var O=R.style||{},U=E.ensureState(L),V=U.style||(U.style={});O.stroke!=null&&(V[E.__isEmptyBrush?"stroke":"fill"]=O.stroke),O.opacity!=null&&(V.opacity=O.opacity)}}E.markRedraw()}},this);var S=a.getRawValue(r);Sa(this,c,{labelDataIndex:r,labelFetcher:{getFormattedLabel:function(A,E){return a.getFormattedLabel(A,E,t.dataType)}},inheritColor:y||"#000",defaultOpacity:m.opacity,defaultText:(S==null?t.getName(r):isFinite(S)?Zr(S):S)+""});var M=this.getTextContent();if(M){var b=c.normal;M.__align=M.style.align,M.__verticalAlign=M.style.verticalAlign,M.__position=b.get("position")||"middle";var C=b.get("distance");ze(C)||(C=[C,C]),M.__labelDistance=C}this.setTextConfig({position:null,local:!0,inside:!1}),Vr(this,h,d,f)},e.prototype.highlight=function(){ef(this)},e.prototype.downplay=function(){tf(this)},e.prototype.updateLayout=function(t,r){this.setLinePoints(t.getItemLayout(r))},e.prototype.setLinePoints=function(t){var r=this.childOfName("line");oN(r.shape,t),r.dirty()},e.prototype.beforeUpdate=function(){var t=this,r=t.childOfName("fromSymbol"),i=t.childOfName("toSymbol"),a=t.getTextContent();if(!r&&!i&&(!a||a.ignore))return;for(var o=1,s=this.parent;s;)s.scaleX&&(o/=s.scaleX),s=s.parent;var l=t.childOfName("line");if(!this.__dirty&&!l.__dirty)return;var u=l.shape.percent,c=l.pointAt(0),f=l.pointAt(u),h=vh([],f,c);kv(h,h);function d(R,O){var U=R.__specifiedRotation;if(U==null){var V=l.tangentAt(O);R.attr("rotation",(O===1?-1:1)*Math.PI/2-Math.atan2(V[1],V[0]))}else R.attr("rotation",U)}if(r&&(r.setPosition(c),d(r,0),r.scaleX=r.scaleY=o*u,r.markRedraw()),i&&(i.setPosition(f),d(i,1),i.scaleX=i.scaleY=o*u,i.markRedraw()),a&&!a.ignore){a.x=a.y=0,a.originX=a.originY=0;var p=void 0,g=void 0,m=a.__labelDistance,y=m[0]*o,S=m[1]*o,M=u/2,b=l.tangentAt(M),C=[b[1],-b[0]],A=l.pointAt(M);C[1]>0&&(C[0]=-C[0],C[1]=-C[1]);var E=b[0]<0?-1:1;if(a.__position!=="start"&&a.__position!=="end"){var I=-Math.atan2(b[1],b[0]);f[0]<c[0]&&(I=Math.PI+I),a.rotation=I}var L=void 0;switch(a.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":L=-S,g="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":L=S,g="top";break;default:L=0,g="middle"}switch(a.__position){case"end":a.x=h[0]*y+f[0],a.y=h[1]*S+f[1],p=h[0]>.8?"left":h[0]<-.8?"right":"center",g=h[1]>.8?"top":h[1]<-.8?"bottom":"middle";break;case"start":a.x=-h[0]*y+c[0],a.y=-h[1]*S+c[1],p=h[0]>.8?"right":h[0]<-.8?"left":"center",g=h[1]>.8?"bottom":h[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":a.x=y*E+c[0],a.y=c[1]+L,p=b[0]<0?"right":"left",a.originX=-y*E,a.originY=-L;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":a.x=A[0],a.y=A[1]+L,p="center",a.originY=-L;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":a.x=-y*E+f[0],a.y=f[1]+L,p=b[0]>=0?"right":"left",a.originX=y*E,a.originY=-L;break}a.scaleX=a.scaleY=o,a.setStyle({verticalAlign:a.__verticalAlign||g,align:a.__align||p})}},e})(Xt),Y3=(function(){function n(e){this.group=new Xt,this._LineCtor=e||X3}return n.prototype.updateData=function(e){var t=this;this._progressiveEls=null;var r=this,i=r.group,a=r._lineData;r._lineData=e,a||i.removeAll();var o=EW(e);e.diff(a).add(function(s){t._doAdd(e,s,o)}).update(function(s,l){t._doUpdate(a,e,l,s,o)}).remove(function(s){i.remove(a.getItemGraphicEl(s))}).execute()},n.prototype.updateLayout=function(){var e=this._lineData;e&&e.eachItemGraphicEl(function(t,r){t.updateLayout(e,r)},this)},n.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=EW(e),this._lineData=null,this.group.removeAll()},n.prototype.incrementalUpdate=function(e,t){this._progressiveEls=[];function r(s){!s.isGroup&&!wEe(s)&&(s.incremental=!0,s.ensureState("emphasis").hoverLayer=!0)}for(var i=e.start;i<e.end;i++){var a=t.getItemLayout(i);if(zR(a)){var o=new this._LineCtor(t,i,this._seriesScope);o.traverse(r),this.group.add(o),t.setItemGraphicEl(i,o),this._progressiveEls.push(o)}}},n.prototype.remove=function(){this.group.removeAll()},n.prototype.eachRendered=function(e){Zh(this._progressiveEls||this.group,e)},n.prototype._doAdd=function(e,t,r){var i=e.getItemLayout(t);if(zR(i)){var a=new this._LineCtor(e,t,r);e.setItemGraphicEl(t,a),this.group.add(a)}},n.prototype._doUpdate=function(e,t,r,i,a){var o=e.getItemGraphicEl(r);if(!zR(t.getItemLayout(i))){this.group.remove(o);return}o?o.updateData(t,i,a):o=new this._LineCtor(t,i,a),t.setItemGraphicEl(i,o),this.group.add(o)},n})();function wEe(n){return n.animators&&n.animators.length>0}function EW(n){var e=n.hostModel,t=e.getModel("emphasis");return{lineStyle:e.getModel("lineStyle").getLineStyle(),emphasisLineStyle:t.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:e.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:e.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:t.get("disabled"),blurScope:t.get("blurScope"),focus:t.get("focus"),labelStatesModels:ji(e)}}function PW(n){return isNaN(n[0])||isNaN(n[1])}function zR(n){return n&&!PW(n[0])&&!PW(n[1])}var BR=[],UR=[],VR=[],Em=na,GR=Mh,DW=Math.abs;function RW(n,e,t){for(var r=n[0],i=n[1],a=n[2],o=1/0,s,l=t*t,u=.1,c=.1;c<=.9;c+=.1){BR[0]=Em(r[0],i[0],a[0],c),BR[1]=Em(r[1],i[1],a[1],c);var f=DW(GR(BR,e)-l);f<o&&(o=f,s=c)}for(var h=0;h<32;h++){var d=s+u;UR[0]=Em(r[0],i[0],a[0],s),UR[1]=Em(r[1],i[1],a[1],s),VR[0]=Em(r[0],i[0],a[0],d),VR[1]=Em(r[1],i[1],a[1],d);var f=GR(UR,e)-l;if(DW(f)<.01)break;var p=GR(VR,e)-l;u/=2,f<0?p>=0?s=s+u:s=s-u:p>=0?s=s-u:s=s+u}return s}function HR(n,e){var t=[],r=CS,i=[[],[],[]],a=[[],[]],o=[];e/=2,n.eachEdge(function(s,l){var u=s.getLayout(),c=s.getVisual("fromSymbol"),f=s.getVisual("toSymbol");u.__original||(u.__original=[Eu(u[0]),Eu(u[1])],u[2]&&u.__original.push(Eu(u[2])));var h=u.__original;if(u[2]!=null){if(ka(i[0],h[0]),ka(i[1],h[2]),ka(i[2],h[1]),c&&c!=="none"){var d=xx(s.node1),p=RW(i,h[0],d*e);r(i[0][0],i[1][0],i[2][0],p,t),i[0][0]=t[3],i[1][0]=t[4],r(i[0][1],i[1][1],i[2][1],p,t),i[0][1]=t[3],i[1][1]=t[4]}if(f&&f!=="none"){var d=xx(s.node2),p=RW(i,h[1],d*e);r(i[0][0],i[1][0],i[2][0],p,t),i[1][0]=t[1],i[2][0]=t[2],r(i[0][1],i[1][1],i[2][1],p,t),i[1][1]=t[1],i[2][1]=t[2]}ka(u[0],i[0]),ka(u[1],i[2]),ka(u[2],i[1])}else{if(ka(a[0],h[0]),ka(a[1],h[1]),vh(o,a[1],a[0]),kv(o,o),c&&c!=="none"){var d=xx(s.node1);Rb(a[0],a[0],o,d*e)}if(f&&f!=="none"){var d=xx(s.node2);Rb(a[1],a[1],o,-d*e)}ka(u[0],a[0]),ka(u[1],a[1])}})}function LW(n){return n.type==="view"}var MEe=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,r){var i=new N1,a=new Y3,o=this.group;this._controller=new B1(r.getZr()),this._controllerHost={target:o},o.add(i.group),o.add(a.group),this._symbolDraw=i,this._lineDraw=a,this._firstRender=!0},e.prototype.render=function(t,r,i){var a=this,o=t.coordinateSystem;this._model=t;var s=this._symbolDraw,l=this._lineDraw,u=this.group;if(LW(o)){var c={x:o.x,y:o.y,scaleX:o.scaleX,scaleY:o.scaleY};this._firstRender?u.attr(c):Xn(u,c,t)}HR(t.getGraph(),_x(t));var f=t.getData();s.updateData(f);var h=t.getEdgeData();l.updateData(h),this._updateNodeAndLinkScale(),this._updateController(t,r,i),clearTimeout(this._layoutTimeout);var d=t.forceLayout,p=t.get(["force","layoutAnimation"]);d&&this._startForceLayoutIteration(d,p);var g=t.get("layout");f.graph.eachNode(function(M){var b=M.dataIndex,C=M.getGraphicEl(),A=M.getModel();if(C){C.off("drag").off("dragend");var E=A.get("draggable");E&&C.on("drag",function(L){switch(g){case"force":d.warmUp(),!a._layouting&&a._startForceLayoutIteration(d,p),d.setFixed(b),f.setItemLayout(b,[C.x,C.y]);break;case"circular":f.setItemLayout(b,[C.x,C.y]),M.setLayout({fixed:!0},!0),W3(t,"symbolSize",M,[L.offsetX,L.offsetY]),a.updateLayout(t);break;case"none":default:f.setItemLayout(b,[C.x,C.y]),H3(t.getGraph(),t),a.updateLayout(t);break}}).on("dragend",function(){d&&d.setUnfixed(b)}),C.setDraggable(E,!!A.get("cursor"));var I=A.get(["emphasis","focus"]);I==="adjacency"&&($t(C).focus=M.getAdjacentDataIndices())}}),f.graph.eachEdge(function(M){var b=M.getGraphicEl(),C=M.getModel().get(["emphasis","focus"]);b&&C==="adjacency"&&($t(b).focus={edge:[M.dataIndex],node:[M.node1.dataIndex,M.node2.dataIndex]})});var m=t.get("layout")==="circular"&&t.get(["circular","rotateLabel"]),y=f.getLayout("cx"),S=f.getLayout("cy");f.graph.eachNode(function(M){iQ(M,m,y,S)}),this._firstRender=!1},e.prototype.dispose=function(){this.remove(),this._controller&&this._controller.dispose(),this._controllerHost=null},e.prototype._startForceLayoutIteration=function(t,r){var i=this;(function a(){t.step(function(o){i.updateLayout(i._model),(i._layouting=!o)&&(r?i._layoutTimeout=setTimeout(a,16):a())})})()},e.prototype._updateController=function(t,r,i){var a=this,o=this._controller,s=this._controllerHost,l=this.group;if(o.setPointerChecker(function(u,c,f){var h=l.getBoundingRect();return h.applyTransform(l.transform),h.contain(c,f)&&!jC(u,i,t)}),!LW(t.coordinateSystem)){o.disable();return}o.enable(t.get("roam")),s.zoomLimit=t.get("scaleLimit"),s.zoom=t.coordinateSystem.getZoom(),o.off("pan").off("zoom").on("pan",function(u){N3(s,u.dx,u.dy),i.dispatchAction({seriesId:t.id,type:"graphRoam",dx:u.dx,dy:u.dy})}).on("zoom",function(u){O3(s,u.scale,u.originX,u.originY),i.dispatchAction({seriesId:t.id,type:"graphRoam",zoom:u.scale,originX:u.originX,originY:u.originY}),a._updateNodeAndLinkScale(),HR(t.getGraph(),_x(t)),a._lineDraw.updateLayout(),i.updateLabelLayout()})},e.prototype._updateNodeAndLinkScale=function(){var t=this._model,r=t.getData(),i=_x(t);r.eachItemGraphicEl(function(a,o){a&&a.setSymbolScale(i)})},e.prototype.updateLayout=function(t){HR(t.getGraph(),_x(t)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},e.prototype.remove=function(){clearTimeout(this._layoutTimeout),this._layouting=!1,this._layoutTimeout=null,this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},e.type="graph",e})(sr);function Pm(n){return"_EC_"+n}var TEe=(function(){function n(e){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=e||!1}return n.prototype.isDirected=function(){return this._directed},n.prototype.addNode=function(e,t){e=e==null?""+t:""+e;var r=this._nodesMap;if(!r[Pm(e)]){var i=new Dp(e,t);return i.hostGraph=this,this.nodes.push(i),r[Pm(e)]=i,i}},n.prototype.getNodeByIndex=function(e){var t=this.data.getRawIndex(e);return this.nodes[t]},n.prototype.getNodeById=function(e){return this._nodesMap[Pm(e)]},n.prototype.addEdge=function(e,t,r){var i=this._nodesMap,a=this._edgesMap;if(Hn(e)&&(e=this.nodes[e]),Hn(t)&&(t=this.nodes[t]),e instanceof Dp||(e=i[Pm(e)]),t instanceof Dp||(t=i[Pm(t)]),!(!e||!t)){var o=e.id+"-"+t.id,s=new oQ(e,t,r);return s.hostGraph=this,this._directed&&(e.outEdges.push(s),t.inEdges.push(s)),e.edges.push(s),e!==t&&t.edges.push(s),this.edges.push(s),a[o]=s,s}},n.prototype.getEdgeByIndex=function(e){var t=this.edgeData.getRawIndex(e);return this.edges[t]},n.prototype.getEdge=function(e,t){e instanceof Dp&&(e=e.id),t instanceof Dp&&(t=t.id);var r=this._edgesMap;return this._directed?r[e+"-"+t]:r[e+"-"+t]||r[t+"-"+e]},n.prototype.eachNode=function(e,t){for(var r=this.nodes,i=r.length,a=0;a<i;a++)r[a].dataIndex>=0&&e.call(t,r[a],a)},n.prototype.eachEdge=function(e,t){for(var r=this.edges,i=r.length,a=0;a<i;a++)r[a].dataIndex>=0&&r[a].node1.dataIndex>=0&&r[a].node2.dataIndex>=0&&e.call(t,r[a],a)},n.prototype.breadthFirstTraverse=function(e,t,r,i){if(t instanceof Dp||(t=this._nodesMap[Pm(t)]),!!t){for(var a=r==="out"?"outEdges":r==="in"?"inEdges":"edges",o=0;o<this.nodes.length;o++)this.nodes[o].__visited=!1;if(!e.call(i,t,null))for(var s=[t];s.length;)for(var l=s.shift(),u=l[a],o=0;o<u.length;o++){var c=u[o],f=c.node1===l?c.node2:c.node1;if(!f.__visited){if(e.call(i,f,l))return;s.push(f),f.__visited=!0}}}},n.prototype.update=function(){for(var e=this.data,t=this.edgeData,r=this.nodes,i=this.edges,a=0,o=r.length;a<o;a++)r[a].dataIndex=-1;for(var a=0,o=e.count();a<o;a++)r[e.getRawIndex(a)].dataIndex=a;t.filterSelf(function(s){var l=i[t.getRawIndex(s)];return l.node1.dataIndex>=0&&l.node2.dataIndex>=0});for(var a=0,o=i.length;a<o;a++)i[a].dataIndex=-1;for(var a=0,o=t.count();a<o;a++)i[t.getRawIndex(a)].dataIndex=a},n.prototype.clone=function(){for(var e=new n(this._directed),t=this.nodes,r=this.edges,i=0;i<t.length;i++)e.addNode(t[i].id,t[i].dataIndex);for(var i=0;i<r.length;i++){var a=r[i];e.addEdge(a.node1.id,a.node2.id,a.dataIndex)}return e},n})(),Dp=(function(){function n(e,t){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=e??"",this.dataIndex=t??-1}return n.prototype.degree=function(){return this.edges.length},n.prototype.inDegree=function(){return this.inEdges.length},n.prototype.outDegree=function(){return this.outEdges.length},n.prototype.getModel=function(e){if(!(this.dataIndex<0)){var t=this.hostGraph,r=t.data.getItemModel(this.dataIndex);return r.getModel(e)}},n.prototype.getAdjacentDataIndices=function(){for(var e={edge:[],node:[]},t=0;t<this.edges.length;t++){var r=this.edges[t];r.dataIndex<0||(e.edge.push(r.dataIndex),e.node.push(r.node1.dataIndex,r.node2.dataIndex))}return e},n.prototype.getTrajectoryDataIndices=function(){for(var e=xt(),t=xt(),r=0;r<this.edges.length;r++){var i=this.edges[r];if(!(i.dataIndex<0)){e.set(i.dataIndex,!0);for(var a=[i.node1],o=[i.node2],s=0;s<a.length;){var l=a[s];s++,t.set(l.dataIndex,!0);for(var u=0;u<l.inEdges.length;u++)e.set(l.inEdges[u].dataIndex,!0),a.push(l.inEdges[u].node1)}for(s=0;s<o.length;){var c=o[s];s++,t.set(c.dataIndex,!0);for(var u=0;u<c.outEdges.length;u++)e.set(c.outEdges[u].dataIndex,!0),o.push(c.outEdges[u].node2)}}}return{edge:e.keys(),node:t.keys()}},n})(),oQ=(function(){function n(e,t,r){this.dataIndex=-1,this.node1=e,this.node2=t,this.dataIndex=r??-1}return n.prototype.getModel=function(e){if(!(this.dataIndex<0)){var t=this.hostGraph,r=t.edgeData.getItemModel(this.dataIndex);return r.getModel(e)}},n.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},n.prototype.getTrajectoryDataIndices=function(){var e=xt(),t=xt();e.set(this.dataIndex,!0);for(var r=[this.node1],i=[this.node2],a=0;a<r.length;){var o=r[a];a++,t.set(o.dataIndex,!0);for(var s=0;s<o.inEdges.length;s++)e.set(o.inEdges[s].dataIndex,!0),r.push(o.inEdges[s].node1)}for(a=0;a<i.length;){var l=i[a];a++,t.set(l.dataIndex,!0);for(var s=0;s<l.outEdges.length;s++)e.set(l.outEdges[s].dataIndex,!0),i.push(l.outEdges[s].node2)}return{edge:e.keys(),node:t.keys()}},n})();function sQ(n,e){return{getValue:function(t){var r=this[n][e];return r.getStore().get(r.getDimensionIndex(t||"value"),this.dataIndex)},setVisual:function(t,r){this.dataIndex>=0&&this[n][e].setItemVisual(this.dataIndex,t,r)},getVisual:function(t){return this[n][e].getItemVisual(this.dataIndex,t)},setLayout:function(t,r){this.dataIndex>=0&&this[n][e].setItemLayout(this.dataIndex,t,r)},getLayout:function(){return this[n][e].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[n][e].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[n][e].getRawIndex(this.dataIndex)}}}ti(Dp,sQ("hostGraph","data"));ti(oQ,sQ("hostGraph","edgeData"));function lQ(n,e,t,r,i){for(var a=new TEe(r),o=0;o<n.length;o++)a.addNode(Gi(n[o].id,n[o].name,o),o);for(var s=[],l=[],u=0,o=0;o<e.length;o++){var c=e[o],f=c.source,h=c.target;a.addEdge(f,h,u)&&(l.push(c),s.push(Gi(Di(c.id,null),f+" > "+h)),u++)}var d=t.get("coordinateSystem"),p;if(d==="cartesian2d"||d==="polar")p=zu(n,t);else{var g=n0.get(d),m=g?g.dimensions||[]:[];dn(m,"value")<0&&m.concat(["value"]);var y=o0(n,{coordDimensions:m,encodeDefine:t.getEncode()}).dimensions;p=new Ga(y,t),p.initData(n)}var S=new Ga(["value"],t);return S.initData(l,s),i&&i(p,S),HJ({mainData:p,struct:a,structAttr:"graph",datas:{node:p,edge:S},datasAttr:{node:"data",edge:"edgeData"}}),a.update(),a}var bEe=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return e.prototype.init=function(t){n.prototype.init.apply(this,arguments);var r=this;function i(){return r._categoriesData}this.legendVisualProvider=new z1(i,i),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},e.prototype.mergeOption=function(t){n.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},e.prototype.mergeDefaultAndTheme=function(t){n.prototype.mergeDefaultAndTheme.apply(this,arguments),Sv(t,"edgeLabel",["show"])},e.prototype.getInitialData=function(t,r){var i=t.edges||t.links||[],a=t.data||t.nodes||[],o=this;if(a&&i){fEe(this);var s=lQ(a,i,this,!0,l);return G(s.edges,function(u){hEe(u.node1,u.node2,this,u.dataIndex)},this),s.data}function l(u,c){u.wrapMethod("getItemModel",function(p){var g=o._categoriesModels,m=p.getShallow("category"),y=g[m];return y&&(y.parentModel=p.parentModel,p.parentModel=y),p});var f=qn.prototype.getModel;function h(p,g){var m=f.call(this,p,g);return m.resolveParentPath=d,m}c.wrapMethod("getItemModel",function(p){return p.resolveParentPath=d,p.getModel=h,p});function d(p){if(p&&(p[0]==="label"||p[1]==="label")){var g=p.slice();return p[0]==="label"?g[0]="edgeLabel":p[1]==="label"&&(g[1]="edgeLabel"),g}return p}}},e.prototype.getGraph=function(){return this.getData().graph},e.prototype.getEdgeData=function(){return this.getGraph().edgeData},e.prototype.getCategoriesData=function(){return this._categoriesData},e.prototype.formatTooltip=function(t,r,i){if(i==="edge"){var a=this.getData(),o=this.getDataParams(t,i),s=a.graph.getEdgeByIndex(t),l=a.getName(s.node1.dataIndex),u=a.getName(s.node2.dataIndex),c=[];return l!=null&&c.push(l),u!=null&&c.push(u),Zi("nameValue",{name:c.join(" > "),value:o.value,noValue:o.value==null})}var f=Pq({series:this,dataIndex:t,multipleSeries:r});return f},e.prototype._updateCategoriesData=function(){var t=Ve(this.option.categories||[],function(i){return i.value!=null?i:Le({value:0},i)}),r=new Ga(["value"],this);r.initData(t),this._categoriesData=r,this._categoriesModels=r.mapArray(function(i){return r.getItemModel(i)})},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.isAnimationEnabled=function(){return n.prototype.isAnimationEnabled.call(this)&&!(this.get("layout")==="force"&&this.get(["force","layoutAnimation"]))},e.type="series.graph",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},e})(pr),AEe={type:"graphRoam",event:"graphRoam",update:"none"};function CEe(n){n.registerChartView(MEe),n.registerSeriesModel(bEe),n.registerProcessor(oEe),n.registerVisual(sEe),n.registerVisual(lEe),n.registerLayout(dEe),n.registerLayout(n.PRIORITY.VISUAL.POST_CHART_LAYOUT,vEe),n.registerLayout(mEe),n.registerCoordinateSystem("graphView",{dimensions:U1.dimensions,create:_Ee}),n.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},ei),n.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},ei),n.registerAction(AEe,function(e,t,r){t.eachComponent({mainType:"series",query:e},function(i){var a=i.coordinateSystem,o=F3(a,e,void 0,r);i.setCenter&&i.setCenter(o.center),i.setZoom&&i.setZoom(o.zoom)})})}var EEe=(function(){function n(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0}return n})(),PEe=(function(n){Se(e,n);function e(t){var r=n.call(this,t)||this;return r.type="pointer",r}return e.prototype.getDefaultShape=function(){return new EEe},e.prototype.buildPath=function(t,r){var i=Math.cos,a=Math.sin,o=r.r,s=r.width,l=r.angle,u=r.x-i(l)*s*(s>=o/3?1:2),c=r.y-a(l)*s*(s>=o/3?1:2);l=r.angle-Math.PI/2,t.moveTo(u,c),t.lineTo(r.x+i(l)*s,r.y+a(l)*s),t.lineTo(r.x+i(r.angle)*o,r.y+a(r.angle)*o),t.lineTo(r.x-i(l)*s,r.y-a(l)*s),t.lineTo(u,c)},e})(Tn);function DEe(n,e){var t=n.get("center"),r=e.getWidth(),i=e.getHeight(),a=Math.min(r,i),o=rt(t[0],e.getWidth()),s=rt(t[1],e.getHeight()),l=rt(n.get("radius"),a/2);return{cx:o,cy:s,r:l}}function TT(n,e){var t=n==null?"":n+"";return e&&(ut(e)?t=e.replace("{value}",t):Ct(e)&&(t=e(n))),t}var REe=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i){this.group.removeAll();var a=t.get(["axisLine","lineStyle","color"]),o=DEe(t,i);this._renderMain(t,r,i,a,o),this._data=t.getData()},e.prototype.dispose=function(){},e.prototype._renderMain=function(t,r,i,a,o){var s=this.group,l=t.get("clockwise"),u=-t.get("startAngle")/180*Math.PI,c=-t.get("endAngle")/180*Math.PI,f=t.getModel("axisLine"),h=f.get("roundCap"),d=h?uA:Wa,p=f.get("show"),g=f.getModel("lineStyle"),m=g.get("width"),y=[u,c];Ek(y,!l),u=y[0],c=y[1];for(var S=c-u,M=u,b=[],C=0;p&&C<a.length;C++){var A=Math.min(Math.max(a[C][0],0),1);c=u+S*A;var E=new d({shape:{startAngle:M,endAngle:c,cx:o.cx,cy:o.cy,clockwise:l,r0:o.r-m,r:o.r},silent:!0});E.setStyle({fill:a[C][1]}),E.setStyle(g.getLineStyle(["color","width"])),b.push(E),M=c}b.reverse(),G(b,function(L){return s.add(L)});var I=function(L){if(L<=0)return a[0][1];var R;for(R=0;R<a.length;R++)if(a[R][0]>=L&&(R===0?0:a[R-1][0])<L)return a[R][1];return a[R-1][1]};this._renderTicks(t,r,i,I,o,u,c,l,m),this._renderTitleAndDetail(t,r,i,I,o),this._renderAnchor(t,o),this._renderPointer(t,r,i,I,o,u,c,l,m)},e.prototype._renderTicks=function(t,r,i,a,o,s,l,u,c){for(var f=this.group,h=o.cx,d=o.cy,p=o.r,g=+t.get("min"),m=+t.get("max"),y=t.getModel("splitLine"),S=t.getModel("axisTick"),M=t.getModel("axisLabel"),b=t.get("splitNumber"),C=S.get("splitNumber"),A=rt(y.get("length"),p),E=rt(S.get("length"),p),I=s,L=(l-s)/b,R=L/C,O=y.getModel("lineStyle").getLineStyle(),U=S.getModel("lineStyle").getLineStyle(),V=y.get("distance"),W,X,j=0;j<=b;j++){if(W=Math.cos(I),X=Math.sin(I),y.get("show")){var Q=V?V+c:c,B=new Ri({shape:{x1:W*(p-Q)+h,y1:X*(p-Q)+d,x2:W*(p-A-Q)+h,y2:X*(p-A-Q)+d},style:O,silent:!0});O.stroke==="auto"&&B.setStyle({stroke:a(j/b)}),f.add(B)}if(M.get("show")){var Q=M.get("distance")+V,Z=TT(Zr(j/b*(m-g)+g),M.get("formatter")),q=a(j/b),Y=W*(p-A-Q)+h,te=X*(p-A-Q)+d,me=M.get("rotate"),ae=0;me==="radial"?(ae=-I+2*Math.PI,ae>Math.PI/2&&(ae+=Math.PI)):me==="tangential"?ae=-I-Math.PI/2:Hn(me)&&(ae=me*Math.PI/180),ae===0?f.add(new On({style:_r(M,{text:Z,x:Y,y:te,verticalAlign:X<-.8?"top":X>.8?"bottom":"middle",align:W<-.4?"left":W>.4?"right":"center"},{inheritColor:q}),silent:!0})):f.add(new On({style:_r(M,{text:Z,x:Y,y:te,verticalAlign:"middle",align:"center"},{inheritColor:q}),silent:!0,originX:Y,originY:te,rotation:ae}))}if(S.get("show")&&j!==b){var Q=S.get("distance");Q=Q?Q+c:c;for(var fe=0;fe<=C;fe++){W=Math.cos(I),X=Math.sin(I);var be=new Ri({shape:{x1:W*(p-Q)+h,y1:X*(p-Q)+d,x2:W*(p-E-Q)+h,y2:X*(p-E-Q)+d},silent:!0,style:U});U.stroke==="auto"&&be.setStyle({stroke:a((j+fe/C)/b)}),f.add(be),I+=R}I-=R}else I+=L}},e.prototype._renderPointer=function(t,r,i,a,o,s,l,u,c){var f=this.group,h=this._data,d=this._progressEls,p=[],g=t.get(["pointer","show"]),m=t.getModel("progress"),y=m.get("show"),S=t.getData(),M=S.mapDimension("value"),b=+t.get("min"),C=+t.get("max"),A=[b,C],E=[s,l];function I(R,O){var U=S.getItemModel(R),V=U.getModel("pointer"),W=rt(V.get("width"),o.r),X=rt(V.get("length"),o.r),j=t.get(["pointer","icon"]),Q=V.get("offsetCenter"),B=rt(Q[0],o.r),Z=rt(Q[1],o.r),q=V.get("keepAspect"),Y;return j?Y=ci(j,B-W/2,Z-X,W,X,null,q):Y=new PEe({shape:{angle:-Math.PI/2,width:W,r:X,x:B,y:Z}}),Y.rotation=-(O+Math.PI/2),Y.x=o.cx,Y.y=o.cy,Y}function L(R,O){var U=m.get("roundCap"),V=U?uA:Wa,W=m.get("overlap"),X=W?m.get("width"):c/S.count(),j=W?o.r-X:o.r-(R+1)*X,Q=W?o.r:o.r-R*X,B=new V({shape:{startAngle:s,endAngle:O,cx:o.cx,cy:o.cy,clockwise:u,r0:j,r:Q}});return W&&(B.z2=Qn(S.get(M,R),[b,C],[100,0],!0)),B}(y||g)&&(S.diff(h).add(function(R){var O=S.get(M,R);if(g){var U=I(R,s);Dr(U,{rotation:-((isNaN(+O)?E[0]:Qn(O,A,E,!0))+Math.PI/2)},t),f.add(U),S.setItemGraphicEl(R,U)}if(y){var V=L(R,s),W=m.get("clip");Dr(V,{shape:{endAngle:Qn(O,A,E,W)}},t),f.add(V),gI(t.seriesIndex,S.dataType,R,V),p[R]=V}}).update(function(R,O){var U=S.get(M,R);if(g){var V=h.getItemGraphicEl(O),W=V?V.rotation:s,X=I(R,W);X.rotation=W,Xn(X,{rotation:-((isNaN(+U)?E[0]:Qn(U,A,E,!0))+Math.PI/2)},t),f.add(X),S.setItemGraphicEl(R,X)}if(y){var j=d[O],Q=j?j.shape.endAngle:s,B=L(R,Q),Z=m.get("clip");Xn(B,{shape:{endAngle:Qn(U,A,E,Z)}},t),f.add(B),gI(t.seriesIndex,S.dataType,R,B),p[R]=B}}).execute(),S.each(function(R){var O=S.getItemModel(R),U=O.getModel("emphasis"),V=U.get("focus"),W=U.get("blurScope"),X=U.get("disabled");if(g){var j=S.getItemGraphicEl(R),Q=S.getItemVisual(R,"style"),B=Q.fill;if(j instanceof $i){var Z=j.style;j.useStyle(Le({image:Z.image,x:Z.x,y:Z.y,width:Z.width,height:Z.height},Q))}else j.useStyle(Q),j.type!=="pointer"&&j.setColor(B);j.setStyle(O.getModel(["pointer","itemStyle"]).getItemStyle()),j.style.fill==="auto"&&j.setStyle("fill",a(Qn(S.get(M,R),A,[0,1],!0))),j.z2EmphasisLift=0,xa(j,O),Vr(j,V,W,X)}if(y){var q=p[R];q.useStyle(S.getItemVisual(R,"style")),q.setStyle(O.getModel(["progress","itemStyle"]).getItemStyle()),q.z2EmphasisLift=0,xa(q,O),Vr(q,V,W,X)}}),this._progressEls=p)},e.prototype._renderAnchor=function(t,r){var i=t.getModel("anchor"),a=i.get("show");if(a){var o=i.get("size"),s=i.get("icon"),l=i.get("offsetCenter"),u=i.get("keepAspect"),c=ci(s,r.cx-o/2+rt(l[0],r.r),r.cy-o/2+rt(l[1],r.r),o,o,null,u);c.z2=i.get("showAbove")?1:0,c.setStyle(i.getModel("itemStyle").getItemStyle()),this.group.add(c)}},e.prototype._renderTitleAndDetail=function(t,r,i,a,o){var s=this,l=t.getData(),u=l.mapDimension("value"),c=+t.get("min"),f=+t.get("max"),h=new Xt,d=[],p=[],g=t.isAnimationEnabled(),m=t.get(["pointer","showAbove"]);l.diff(this._data).add(function(y){d[y]=new On({silent:!0}),p[y]=new On({silent:!0})}).update(function(y,S){d[y]=s._titleEls[S],p[y]=s._detailEls[S]}).execute(),l.each(function(y){var S=l.getItemModel(y),M=l.get(u,y),b=new Xt,C=a(Qn(M,[c,f],[0,1],!0)),A=S.getModel("title");if(A.get("show")){var E=A.get("offsetCenter"),I=o.cx+rt(E[0],o.r),L=o.cy+rt(E[1],o.r),R=d[y];R.attr({z2:m?0:2,style:_r(A,{x:I,y:L,text:l.getName(y),align:"center",verticalAlign:"middle"},{inheritColor:C})}),b.add(R)}var O=S.getModel("detail");if(O.get("show")){var U=O.get("offsetCenter"),V=o.cx+rt(U[0],o.r),W=o.cy+rt(U[1],o.r),X=rt(O.get("width"),o.r),j=rt(O.get("height"),o.r),Q=t.get(["progress","show"])?l.getItemVisual(y,"style").fill:C,R=p[y],B=O.get("formatter");R.attr({z2:m?0:2,style:_r(O,{x:V,y:W,text:TT(M,B),width:isNaN(X)?null:X,height:isNaN(j)?null:j,align:"center",verticalAlign:"middle"},{inheritColor:Q})}),k$(R,{normal:O},M,function(q){return TT(q,B)}),g&&F$(R,y,l,t,{getFormattedLabel:function(q,Y,te,me,ae,fe){return TT(fe?fe.interpolatedValue:M,B)}}),b.add(R)}h.add(b)}),this.group.add(h),this._titleEls=d,this._detailEls=p},e.type="gauge",e})(sr),LEe=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.visualStyleAccessPath="itemStyle",t}return e.prototype.getInitialData=function(t,r){return u0(this,["value"])},e.type="series.gauge",e.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},e})(pr);function IEe(n){n.registerChartView(REe),n.registerSeriesModel(LEe)}var NEe=["itemStyle","opacity"],OEe=(function(n){Se(e,n);function e(t,r){var i=n.call(this)||this,a=i,o=new Za,s=new On;return a.setTextContent(s),i.setTextGuideLine(o),i.updateData(t,r,!0),i}return e.prototype.updateData=function(t,r,i){var a=this,o=t.hostModel,s=t.getItemModel(r),l=t.getItemLayout(r),u=s.getModel("emphasis"),c=s.get(NEe);c=c??1,i||Wl(a),a.useStyle(t.getItemVisual(r,"style")),a.style.lineJoin="round",i?(a.setShape({points:l.points}),a.style.opacity=0,Dr(a,{style:{opacity:c}},o,r)):Xn(a,{style:{opacity:c},shape:{points:l.points}},o,r),xa(a,s),this._updateLabel(t,r),Vr(this,u.get("focus"),u.get("blurScope"),u.get("disabled"))},e.prototype._updateLabel=function(t,r){var i=this,a=this.getTextGuideLine(),o=i.getTextContent(),s=t.hostModel,l=t.getItemModel(r),u=t.getItemLayout(r),c=u.label,f=t.getItemVisual(r,"style"),h=f.fill;Sa(o,ji(l),{labelFetcher:t.hostModel,labelDataIndex:r,defaultOpacity:f.opacity,defaultText:t.getName(r)},{normal:{align:c.textAlign,verticalAlign:c.verticalAlign}}),i.setTextConfig({local:!0,inside:!!c.inside,insideStroke:h,outsideFill:h});var d=c.linePoints;a.setShape({points:d}),i.textGuideLineConfig={anchor:d?new cn(d[0][0],d[0][1]):null},Xn(o,{style:{x:c.x,y:c.y}},s,r),o.attr({rotation:c.rotation,originX:c.x,originY:c.y,z2:10}),M3(i,T3(l),{stroke:h})},e})(Xa),kEe=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.ignoreLabelLineUpdate=!0,t}return e.prototype.render=function(t,r,i){var a=t.getData(),o=this._data,s=this.group;a.diff(o).add(function(l){var u=new OEe(a,l);a.setItemGraphicEl(l,u),s.add(u)}).update(function(l,u){var c=o.getItemGraphicEl(u);c.updateData(a,l),s.add(c),a.setItemGraphicEl(l,c)}).remove(function(l){var u=o.getItemGraphicEl(l);OS(u,t,l)}).execute(),this._data=a},e.prototype.remove=function(){this.group.removeAll(),this._data=null},e.prototype.dispose=function(){},e.type="funnel",e})(sr),FEe=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new z1(ht(this.getData,this),ht(this.getRawData,this)),this._defaultLabelLine(t)},e.prototype.getInitialData=function(t,r){return u0(this,{coordDimensions:["value"],encodeDefaulter:nn(Kk,this)})},e.prototype._defaultLabelLine=function(t){Sv(t,"labelLine",["show"]);var r=t.labelLine,i=t.emphasis.labelLine;r.show=r.show&&t.label.show,i.show=i.show&&t.emphasis.label.show},e.prototype.getDataParams=function(t){var r=this.getData(),i=n.prototype.getDataParams.call(this,t),a=r.mapDimension("value"),o=r.getSum(a);return i.percent=o?+(r.get(a,t)/o*100).toFixed(2):0,i.$vars.push("percent"),i},e.type="series.funnel",e.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},e})(pr);function zEe(n,e){return _i(n.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function BEe(n,e){for(var t=n.mapDimension("value"),r=n.mapArray(t,function(l){return l}),i=[],a=e==="ascending",o=0,s=n.count();o<s;o++)i[o]=o;return Ct(e)?i.sort(e):e!=="none"&&i.sort(function(l,u){return a?r[l]-r[u]:r[u]-r[l]}),i}function UEe(n){var e=n.hostModel,t=e.get("orient");n.each(function(r){var i=n.getItemModel(r),a=i.getModel("label"),o=a.get("position"),s=i.getModel("labelLine"),l=n.getItemLayout(r),u=l.points,c=o==="inner"||o==="inside"||o==="center"||o==="insideLeft"||o==="insideRight",f,h,d,p;if(c)o==="insideLeft"?(h=(u[0][0]+u[3][0])/2+5,d=(u[0][1]+u[3][1])/2,f="left"):o==="insideRight"?(h=(u[1][0]+u[2][0])/2-5,d=(u[1][1]+u[2][1])/2,f="right"):(h=(u[0][0]+u[1][0]+u[2][0]+u[3][0])/4,d=(u[0][1]+u[1][1]+u[2][1]+u[3][1])/4,f="center"),p=[[h,d],[h,d]];else{var g=void 0,m=void 0,y=void 0,S=void 0,M=s.get("length");o==="left"?(g=(u[3][0]+u[0][0])/2,m=(u[3][1]+u[0][1])/2,y=g-M,h=y-5,f="right"):o==="right"?(g=(u[1][0]+u[2][0])/2,m=(u[1][1]+u[2][1])/2,y=g+M,h=y+5,f="left"):o==="top"?(g=(u[3][0]+u[0][0])/2,m=(u[3][1]+u[0][1])/2,S=m-M,d=S-5,f="center"):o==="bottom"?(g=(u[1][0]+u[2][0])/2,m=(u[1][1]+u[2][1])/2,S=m+M,d=S+5,f="center"):o==="rightTop"?(g=t==="horizontal"?u[3][0]:u[1][0],m=t==="horizontal"?u[3][1]:u[1][1],t==="horizontal"?(S=m-M,d=S-5,f="center"):(y=g+M,h=y+5,f="top")):o==="rightBottom"?(g=u[2][0],m=u[2][1],t==="horizontal"?(S=m+M,d=S+5,f="center"):(y=g+M,h=y+5,f="bottom")):o==="leftTop"?(g=u[0][0],m=t==="horizontal"?u[0][1]:u[1][1],t==="horizontal"?(S=m-M,d=S-5,f="center"):(y=g-M,h=y-5,f="right")):o==="leftBottom"?(g=t==="horizontal"?u[1][0]:u[3][0],m=t==="horizontal"?u[1][1]:u[2][1],t==="horizontal"?(S=m+M,d=S+5,f="center"):(y=g-M,h=y-5,f="right")):(g=(u[1][0]+u[2][0])/2,m=(u[1][1]+u[2][1])/2,t==="horizontal"?(S=m+M,d=S+5,f="center"):(y=g+M,h=y+5,f="left")),t==="horizontal"?(y=g,h=y):(S=m,d=S),p=[[g,m],[y,S]]}l.label={linePoints:p,x:h,y:d,verticalAlign:"middle",textAlign:f,inside:c}})}function VEe(n,e){n.eachSeriesByType("funnel",function(t){var r=t.getData(),i=r.mapDimension("value"),a=t.get("sort"),o=zEe(t,e),s=t.get("orient"),l=o.width,u=o.height,c=BEe(r,a),f=o.x,h=o.y,d=s==="horizontal"?[rt(t.get("minSize"),u),rt(t.get("maxSize"),u)]:[rt(t.get("minSize"),l),rt(t.get("maxSize"),l)],p=r.getDataExtent(i),g=t.get("min"),m=t.get("max");g==null&&(g=Math.min(p[0],0)),m==null&&(m=p[1]);var y=t.get("funnelAlign"),S=t.get("gap"),M=s==="horizontal"?l:u,b=(M-S*(r.count()-1))/r.count(),C=function(W,X){if(s==="horizontal"){var j=r.get(i,W)||0,Q=Qn(j,[g,m],d,!0),B=void 0;switch(y){case"top":B=h;break;case"center":B=h+(u-Q)/2;break;case"bottom":B=h+(u-Q);break}return[[X,B],[X,B+Q]]}var Z=r.get(i,W)||0,q=Qn(Z,[g,m],d,!0),Y;switch(y){case"left":Y=f;break;case"center":Y=f+(l-q)/2;break;case"right":Y=f+l-q;break}return[[Y,X],[Y+q,X]]};a==="ascending"&&(b=-b,S=-S,s==="horizontal"?f+=l:h+=u,c=c.reverse());for(var A=0;A<c.length;A++){var E=c[A],I=c[A+1],L=r.getItemModel(E);if(s==="horizontal"){var R=L.get(["itemStyle","width"]);R==null?R=b:(R=rt(R,l),a==="ascending"&&(R=-R));var O=C(E,f),U=C(I,f+R);f+=R+S,r.setItemLayout(E,{points:O.concat(U.slice().reverse())})}else{var V=L.get(["itemStyle","height"]);V==null?V=b:(V=rt(V,u),a==="ascending"&&(V=-V));var O=C(E,h),U=C(I,h+V);h+=V+S,r.setItemLayout(E,{points:O.concat(U.slice().reverse())})}}UEe(r)})}function GEe(n){n.registerChartView(kEe),n.registerSeriesModel(FEe),n.registerLayout(VEe),n.registerProcessor(F1("funnel"))}var HEe=.3,WEe=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._dataGroup=new Xt,t._initialized=!1,t}return e.prototype.init=function(){this.group.add(this._dataGroup)},e.prototype.render=function(t,r,i,a){this._progressiveEls=null;var o=this._dataGroup,s=t.getData(),l=this._data,u=t.coordinateSystem,c=u.dimensions,f=NW(t);s.diff(l).add(h).update(d).remove(p).execute();function h(m){var y=IW(s,o,m,c,u);WR(y,s,m,f)}function d(m,y){var S=l.getItemGraphicEl(y),M=uQ(s,m,c,u);s.setItemGraphicEl(m,S),Xn(S,{shape:{points:M}},t,m),Wl(S),WR(S,s,m,f)}function p(m){var y=l.getItemGraphicEl(m);o.remove(y)}if(!this._initialized){this._initialized=!0;var g=XEe(u,t,function(){setTimeout(function(){o.removeClipPath()})});o.setClipPath(g)}this._data=s},e.prototype.incrementalPrepareRender=function(t,r,i){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},e.prototype.incrementalRender=function(t,r,i){for(var a=r.getData(),o=r.coordinateSystem,s=o.dimensions,l=NW(r),u=this._progressiveEls=[],c=t.start;c<t.end;c++){var f=IW(a,this._dataGroup,c,s,o);f.incremental=!0,WR(f,a,c,l),u.push(f)}},e.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},e.type="parallel",e})(sr);function XEe(n,e,t){var r=n.model,i=n.getRect(),a=new kn({shape:{x:i.x,y:i.y,width:i.width,height:i.height}}),o=r.get("layout")==="horizontal"?"width":"height";return a.setShape(o,0),Dr(a,{shape:{width:i.width,height:i.height}},e,t),a}function uQ(n,e,t,r){for(var i=[],a=0;a<t.length;a++){var o=t[a],s=n.get(n.mapDimension(o),e);YEe(s,r.getAxis(o).type)||i.push(r.dataToPoint(s,o))}return i}function IW(n,e,t,r,i){var a=uQ(n,t,r,i),o=new Za({shape:{points:a},z2:10});return e.add(o),n.setItemGraphicEl(t,o),o}function NW(n){var e=n.get("smooth",!0);return e===!0&&(e=HEe),e=Iu(e),wy(e)&&(e=0),{smooth:e}}function WR(n,e,t,r){n.useStyle(e.getItemVisual(t,"style")),n.style.fill=null,n.setShape("smooth",r.smooth);var i=e.getItemModel(t),a=i.getModel("emphasis");xa(n,i,"lineStyle"),Vr(n,a.get("focus"),a.get("blurScope"),a.get("disabled"))}function YEe(n,e){return e==="category"?n==null:n==null||isNaN(n)}var jEe=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.visualStyleAccessPath="lineStyle",t.visualDrawType="stroke",t}return e.prototype.getInitialData=function(t,r){return zu(null,this,{useEncodeDefaulter:ht(ZEe,null,this)})},e.prototype.getRawIndicesByActiveState=function(t){var r=this.coordinateSystem,i=this.getData(),a=[];return r.eachActiveState(i,function(o,s){t===o&&a.push(i.getRawIndex(s))}),a},e.type="series.parallel",e.dependencies=["parallel"],e.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},e})(pr);function ZEe(n){var e=n.ecModel.getComponent("parallel",n.get("parallelIndex"));if(e){var t={};return G(e.dimensions,function(r){var i=$Ee(r);t[r]=i}),t}}function $Ee(n){return+n.replace("dim","")}var qEe=["lineStyle","opacity"],KEe={seriesType:"parallel",reset:function(n,e){var t=n.coordinateSystem,r={normal:n.get(["lineStyle","opacity"]),active:n.get("activeOpacity"),inactive:n.get("inactiveOpacity")};return{progress:function(i,a){t.eachActiveState(a,function(o,s){var l=r[o];if(o==="normal"&&a.hasItemOption){var u=a.getItemModel(s).get(qEe,!0);u!=null&&(l=u)}var c=a.ensureUniqueItemVisual(s,"style");c.opacity=l},i.start,i.end)}}}};function JEe(n){QEe(n),ePe(n)}function QEe(n){if(!n.parallel){var e=!1;G(n.series,function(t){t&&t.type==="parallel"&&(e=!0)}),e&&(n.parallel=[{}])}}function ePe(n){var e=dr(n.parallelAxis);G(e,function(t){if(Bt(t)){var r=t.parallelIndex||0,i=dr(n.parallel)[r];i&&i.parallelAxisDefault&&on(t,i.parallelAxisDefault,!1)}})}var tPe=5,nPe=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i){this._model=t,this._api=i,this._handlers||(this._handlers={},G(rPe,function(a,o){i.getZr().on(o,this._handlers[o]=ht(a,this))},this)),i0(this,"_throttledDispatchExpand",t.get("axisExpandRate"),"fixRate")},e.prototype.dispose=function(t,r){BS(this,"_throttledDispatchExpand"),G(this._handlers,function(i,a){r.getZr().off(a,i)}),this._handlers=null},e.prototype._throttledDispatchExpand=function(t){this._dispatchExpand(t)},e.prototype._dispatchExpand=function(t){t&&this._api.dispatchAction(Le({type:"parallelAxisExpand"},t))},e.type="parallel",e})(br),rPe={mousedown:function(n){XR(this,"click")&&(this._mouseDownPoint=[n.offsetX,n.offsetY])},mouseup:function(n){var e=this._mouseDownPoint;if(XR(this,"click")&&e){var t=[n.offsetX,n.offsetY],r=Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2);if(r>tPe)return;var i=this._model.coordinateSystem.getSlidedAxisExpandWindow([n.offsetX,n.offsetY]);i.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:i.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(n){if(!(this._mouseDownPoint||!XR(this,"mousemove"))){var e=this._model,t=e.coordinateSystem.getSlidedAxisExpandWindow([n.offsetX,n.offsetY]),r=t.behavior;r==="jump"&&this._throttledDispatchExpand.debounceNextCall(e.get("axisExpandDebounce")),this._throttledDispatchExpand(r==="none"?null:{axisExpandWindow:t.axisExpandWindow,animation:r==="jump"?null:{duration:0}})}}};function XR(n,e){var t=n._model;return t.get("axisExpandable")&&t.get("axisExpandTriggerOn")===e}var iPe=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(){n.prototype.init.apply(this,arguments),this.mergeOption({})},e.prototype.mergeOption=function(t){var r=this.option;t&&on(r,t,!0),this._initDimensions()},e.prototype.contains=function(t,r){var i=t.get("parallelIndex");return i!=null&&r.getComponent("parallel",i)===this},e.prototype.setAxisExpand=function(t){G(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(r){t.hasOwnProperty(r)&&(this.option[r]=t[r])},this)},e.prototype._initDimensions=function(){var t=this.dimensions=[],r=this.parallelAxisIndex=[],i=$n(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(a){return(a.get("parallelIndex")||0)===this.componentIndex},this);G(i,function(a){t.push("dim"+a.get("dim")),r.push(a.componentIndex)})},e.type="parallel",e.dependencies=["parallelAxis"],e.layoutMode="box",e.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},e})(wn),aPe=(function(n){Se(e,n);function e(t,r,i,a,o){var s=n.call(this,t,r,i)||this;return s.type=a||"value",s.axisIndex=o,s}return e.prototype.isHorizontal=function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"},e})(Zs);function Wv(n,e,t,r,i,a){n=n||0;var o=t[1]-t[0];if(i!=null&&(i=Dm(i,[0,o])),a!=null&&(a=Math.max(a,i??0)),r==="all"){var s=Math.abs(e[1]-e[0]);s=Dm(s,[0,o]),i=a=Dm(s,[i,a]),r=0}e[0]=Dm(e[0],t),e[1]=Dm(e[1],t);var l=YR(e,r);e[r]+=n;var u=i||0,c=t.slice();l.sign<0?c[0]+=u:c[1]-=u,e[r]=Dm(e[r],c);var f;return f=YR(e,r),i!=null&&(f.sign!==l.sign||f.span<i)&&(e[1-r]=e[r]+l.sign*i),f=YR(e,r),a!=null&&f.span>a&&(e[1-r]=e[r]+f.sign*a),e}function YR(n,e){var t=n[e]-n[1-e];return{span:Math.abs(t),sign:t>0?-1:t<0?1:e?-1:1}}function Dm(n,e){return Math.min(e[1]!=null?e[1]:1/0,Math.max(e[0]!=null?e[0]:-1/0,n))}var jR=G,cQ=Math.min,fQ=Math.max,OW=Math.floor,oPe=Math.ceil,kW=Zr,sPe=Math.PI,lPe=(function(){function n(e,t,r){this.type="parallel",this._axesMap=xt(),this._axesLayout={},this.dimensions=e.dimensions,this._model=e,this._init(e,t,r)}return n.prototype._init=function(e,t,r){var i=e.dimensions,a=e.parallelAxisIndex;jR(i,function(o,s){var l=a[s],u=t.getComponent("parallelAxis",l),c=this._axesMap.set(o,new aPe(o,L1(u),[0,0],u.get("type"),l)),f=c.type==="category";c.onBand=f&&u.get("boundaryGap"),c.inverse=u.get("inverse"),u.axis=c,c.model=u,c.coordinateSystem=u.coordinateSystem=this},this)},n.prototype.update=function(e,t){this._updateAxesFromSeries(this._model,e)},n.prototype.containPoint=function(e){var t=this._makeLayoutInfo(),r=t.axisBase,i=t.layoutBase,a=t.pixelDimIndex,o=e[1-a],s=e[a];return o>=r&&o<=r+t.axisLength&&s>=i&&s<=i+t.layoutLength},n.prototype.getModel=function(){return this._model},n.prototype._updateAxesFromSeries=function(e,t){t.eachSeries(function(r){if(e.contains(r,t)){var i=r.getData();jR(this.dimensions,function(a){var o=this._axesMap.get(a);o.scale.unionExtentFromData(i,i.mapDimension(a)),Av(o.scale,o.model)},this)}},this)},n.prototype.resize=function(e,t){this._rect=_i(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()}),this._layoutAxes()},n.prototype.getRect=function(){return this._rect},n.prototype._makeLayoutInfo=function(){var e=this._model,t=this._rect,r=["x","y"],i=["width","height"],a=e.get("layout"),o=a==="horizontal"?0:1,s=t[i[o]],l=[0,s],u=this.dimensions.length,c=bT(e.get("axisExpandWidth"),l),f=bT(e.get("axisExpandCount")||0,[0,u]),h=e.get("axisExpandable")&&u>3&&u>f&&f>1&&c>0&&s>0,d=e.get("axisExpandWindow"),p;if(d)p=bT(d[1]-d[0],l),d[1]=d[0]+p;else{p=bT(c*(f-1),l);var g=e.get("axisExpandCenter")||OW(u/2);d=[c*g-p/2],d[1]=d[0]+p}var m=(s-p)/(u-f);m<3&&(m=0);var y=[OW(kW(d[0]/c,1))+1,oPe(kW(d[1]/c,1))-1],S=m/c*d[0];return{layout:a,pixelDimIndex:o,layoutBase:t[r[o]],layoutLength:s,axisBase:t[r[1-o]],axisLength:t[i[1-o]],axisExpandable:h,axisExpandWidth:c,axisCollapseWidth:m,axisExpandWindow:d,axisCount:u,winInnerIndices:y,axisExpandWindow0Pos:S}},n.prototype._layoutAxes=function(){var e=this._rect,t=this._axesMap,r=this.dimensions,i=this._makeLayoutInfo(),a=i.layout;t.each(function(o){var s=[0,i.axisLength],l=o.inverse?1:0;o.setExtent(s[l],s[1-l])}),jR(r,function(o,s){var l=(i.axisExpandable?cPe:uPe)(s,i),u={horizontal:{x:l.position,y:i.axisLength},vertical:{x:0,y:l.position}},c={horizontal:sPe/2,vertical:0},f=[u[a].x+e.x,u[a].y+e.y],h=c[a],d=Vo();jh(d,d,h),Gl(d,d,f),this._axesLayout[o]={position:f,rotation:h,transform:d,axisNameAvailableWidth:l.axisNameAvailableWidth,axisLabelShow:l.axisLabelShow,nameTruncateMaxWidth:l.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},n.prototype.getAxis=function(e){return this._axesMap.get(e)},n.prototype.dataToPoint=function(e,t){return this.axisCoordToPoint(this._axesMap.get(t).dataToCoord(e),t)},n.prototype.eachActiveState=function(e,t,r,i){r==null&&(r=0),i==null&&(i=e.count());var a=this._axesMap,o=this.dimensions,s=[],l=[];G(o,function(m){s.push(e.mapDimension(m)),l.push(a.get(m).model)});for(var u=this.hasAxisBrushed(),c=r;c<i;c++){var f=void 0;if(!u)f="normal";else{f="active";for(var h=e.getValues(s,c),d=0,p=o.length;d<p;d++){var g=l[d].getActiveState(h[d]);if(g==="inactive"){f="inactive";break}}}t(f,c)}},n.prototype.hasAxisBrushed=function(){for(var e=this.dimensions,t=this._axesMap,r=!1,i=0,a=e.length;i<a;i++)t.get(e[i]).model.getActiveState()!=="normal"&&(r=!0);return r},n.prototype.axisCoordToPoint=function(e,t){var r=this._axesLayout[t];return zl([e,0],r.transform)},n.prototype.getAxisLayout=function(e){return Vt(this._axesLayout[e])},n.prototype.getSlidedAxisExpandWindow=function(e){var t=this._makeLayoutInfo(),r=t.pixelDimIndex,i=t.axisExpandWindow.slice(),a=i[1]-i[0],o=[0,t.axisExpandWidth*(t.axisCount-1)];if(!this.containPoint(e))return{behavior:"none",axisExpandWindow:i};var s=e[r]-t.layoutBase-t.axisExpandWindow0Pos,l,u="slide",c=t.axisCollapseWidth,f=this._model.get("axisExpandSlideTriggerArea"),h=f[0]!=null;if(c)h&&c&&s<a*f[0]?(u="jump",l=s-a*f[2]):h&&c&&s>a*(1-f[0])?(u="jump",l=s-a*(1-f[2])):(l=s-a*f[1])>=0&&(l=s-a*(1-f[1]))<=0&&(l=0),l*=t.axisExpandWidth/c,l?Wv(l,i,o,"all"):u="none";else{var d=i[1]-i[0],p=o[1]*s/d;i=[fQ(0,p-d/2)],i[1]=cQ(o[1],i[0]+d),i[0]=i[1]-d}return{axisExpandWindow:i,behavior:u}},n})();function bT(n,e){return cQ(fQ(n,e[0]),e[1])}function uPe(n,e){var t=e.layoutLength/(e.axisCount-1);return{position:t*n,axisNameAvailableWidth:t,axisLabelShow:!0}}function cPe(n,e){var t=e.layoutLength,r=e.axisExpandWidth,i=e.axisCount,a=e.axisCollapseWidth,o=e.winInnerIndices,s,l=a,u=!1,c;return n<o[0]?(s=n*a,c=a):n<=o[1]?(s=e.axisExpandWindow0Pos+n*r-e.axisExpandWindow[0],l=r,u=!0):(s=t-(i-1-n)*a,c=a),{position:s,axisNameAvailableWidth:l,axisLabelShow:u,nameTruncateMaxWidth:c}}function fPe(n,e){var t=[];return n.eachComponent("parallel",function(r,i){var a=new lPe(r,n,e);a.name="parallel_"+i,a.resize(r,e),r.coordinateSystem=a,a.model=r,t.push(a)}),n.eachSeries(function(r){if(r.get("coordinateSystem")==="parallel"){var i=r.getReferringComponents("parallel",yi).models[0];r.coordinateSystem=i.coordinateSystem}}),t}var hPe={create:fPe},sN=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.activeIntervals=[],t}return e.prototype.getAreaSelectStyle=function(){return Mv([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},e.prototype.setActiveIntervals=function(t){var r=this.activeIntervals=Vt(t);if(r)for(var i=r.length-1;i>=0;i--)os(r[i])},e.prototype.getActiveState=function(t){var r=this.activeIntervals;if(!r.length)return"normal";if(t==null||isNaN(+t))return"inactive";if(r.length===1){var i=r[0];if(i[0]<=t&&t<=i[1])return"active"}else for(var a=0,o=r.length;a<o;a++)if(r[a][0]<=t&&t<=r[a][1])return"active";return"inactive"},e})(wn);ti(sN,l0);var Cv=!0,KS=Math.min,Ry=Math.max,dPe=Math.pow,pPe=1e4,vPe=6,gPe=6,FW="globalPan",mPe={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},yPe={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},zW={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},_Pe=0,j3=(function(n){Se(e,n);function e(t){var r=n.call(this)||this;return r._track=[],r._covers=[],r._handlers={},r._zr=t,r.group=new Xt,r._uid="brushController_"+_Pe++,G(APe,function(i,a){this._handlers[a]=ht(i,this)},r),r}return e.prototype.enableBrush=function(t){return this._brushType&&this._doDisableBrush(),t.brushType&&this._doEnableBrush(t),this},e.prototype._doEnableBrush=function(t){var r=this._zr;this._enableGlobalPan||uAe(r,FW,this._uid),G(this._handlers,function(i,a){r.on(a,i)}),this._brushType=t.brushType,this._brushOption=on(Vt(zW),t,!0)},e.prototype._doDisableBrush=function(){var t=this._zr;cAe(t,FW,this._uid),G(this._handlers,function(r,i){t.off(i,r)}),this._brushType=this._brushOption=null},e.prototype.setPanels=function(t){if(t&&t.length){var r=this._panels={};G(t,function(i){r[i.panelId]=Vt(i)})}else this._panels=null;return this},e.prototype.mount=function(t){t=t||{},this._enableGlobalPan=t.enableGlobalPan;var r=this.group;return this._zr.add(r),r.attr({x:t.x||0,y:t.y||0,rotation:t.rotation||0,scaleX:t.scaleX||1,scaleY:t.scaleY||1}),this._transform=r.getLocalTransform(),this},e.prototype.updateCovers=function(t){t=Ve(t,function(h){return on(Vt(zW),h,!0)});var r="\0-brush-index-",i=this._covers,a=this._covers=[],o=this,s=this._creatingCover;return new nf(i,t,u,l).add(c).update(c).remove(f).execute(),this;function l(h,d){return(h.id!=null?h.id:r+d)+"-"+h.brushType}function u(h,d){return l(h.__brushOption,d)}function c(h,d){var p=t[h];if(d!=null&&i[d]===s)a[h]=i[d];else{var g=a[h]=d!=null?(i[d].__brushOption=p,i[d]):dQ(o,hQ(o,p));Z3(o,g)}}function f(h){i[h]!==s&&o.group.remove(i[h])}},e.prototype.unmount=function(){return this.enableBrush(!1),lN(this),this._zr.remove(this.group),this},e.prototype.dispose=function(){this.unmount(),this.off()},e})(Ws);function hQ(n,e){var t=KC[e.brushType].createCover(n,e);return t.__brushOption=e,vQ(t,e),n.group.add(t),t}function dQ(n,e){var t=$3(e);return t.endCreating&&(t.endCreating(n,e),vQ(e,e.__brushOption)),e}function pQ(n,e){var t=e.__brushOption;$3(e).updateCoverShape(n,e,t.range,t)}function vQ(n,e){var t=e.z;t==null&&(t=pPe),n.traverse(function(r){r.z=t,r.z2=t})}function Z3(n,e){$3(e).updateCommon(n,e),pQ(n,e)}function $3(n){return KC[n.__brushOption.brushType]}function q3(n,e,t){var r=n._panels;if(!r)return Cv;var i,a=n._transform;return G(r,function(o){o.isTargetByCursor(e,t,a)&&(i=o)}),i}function gQ(n,e){var t=n._panels;if(!t)return Cv;var r=e.__brushOption.panelId;return r!=null?t[r]:Cv}function lN(n){var e=n._covers,t=e.length;return G(e,function(r){n.group.remove(r)},n),e.length=0,!!t}function Ev(n,e){var t=Ve(n._covers,function(r){var i=r.__brushOption,a=Vt(i.range);return{brushType:i.brushType,panelId:i.panelId,range:a}});n.trigger("brush",{areas:t,isEnd:!!e.isEnd,removeOnClick:!!e.removeOnClick})}function xPe(n){var e=n._track;if(!e.length)return!1;var t=e[e.length-1],r=e[0],i=t[0]-r[0],a=t[1]-r[1],o=dPe(i*i+a*a,.5);return o>vPe}function mQ(n){var e=n.length-1;return e<0&&(e=0),[n[0],n[e]]}function yQ(n,e,t,r){var i=new Xt;return i.add(new kn({name:"main",style:K3(t),silent:!0,draggable:!0,cursor:"move",drift:nn(BW,n,e,i,["n","s","w","e"]),ondragend:nn(Ev,e,{isEnd:!0})})),G(r,function(a){i.add(new kn({name:a.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:nn(BW,n,e,i,a),ondragend:nn(Ev,e,{isEnd:!0})}))}),i}function _Q(n,e,t,r){var i=r.brushStyle.lineWidth||0,a=Ry(i,gPe),o=t[0][0],s=t[1][0],l=o-i/2,u=s-i/2,c=t[0][1],f=t[1][1],h=c-a+i/2,d=f-a+i/2,p=c-o,g=f-s,m=p+i,y=g+i;Ac(n,e,"main",o,s,p,g),r.transformable&&(Ac(n,e,"w",l,u,a,y),Ac(n,e,"e",h,u,a,y),Ac(n,e,"n",l,u,m,a),Ac(n,e,"s",l,d,m,a),Ac(n,e,"nw",l,u,a,a),Ac(n,e,"ne",h,u,a,a),Ac(n,e,"sw",l,d,a,a),Ac(n,e,"se",h,d,a,a))}function uN(n,e){var t=e.__brushOption,r=t.transformable,i=e.childAt(0);i.useStyle(K3(t)),i.attr({silent:!r,cursor:r?"move":"default"}),G([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(a){var o=e.childOfName(a.join("")),s=a.length===1?cN(n,a[0]):wPe(n,a);o&&o.attr({silent:!r,invisible:!r,cursor:r?yPe[s]+"-resize":null})})}function Ac(n,e,t,r,i,a,o){var s=e.childOfName(t);s&&s.setShape(TPe(J3(n,e,[[r,i],[r+a,i+o]])))}function K3(n){return Dt({strokeNoScale:!0},n.brushStyle)}function xQ(n,e,t,r){var i=[KS(n,t),KS(e,r)],a=[Ry(n,t),Ry(e,r)];return[[i[0],a[0]],[i[1],a[1]]]}function SPe(n){return Ah(n.group)}function cN(n,e){var t={w:"left",e:"right",n:"top",s:"bottom"},r={left:"w",right:"e",top:"n",bottom:"s"},i=PC(t[e],SPe(n));return r[i]}function wPe(n,e){var t=[cN(n,e[0]),cN(n,e[1])];return(t[0]==="e"||t[0]==="w")&&t.reverse(),t.join("")}function BW(n,e,t,r,i,a){var o=t.__brushOption,s=n.toRectRange(o.range),l=SQ(e,i,a);G(r,function(u){var c=mPe[u];s[c[0]][c[1]]+=l[c[0]]}),o.range=n.fromRectRange(xQ(s[0][0],s[1][0],s[0][1],s[1][1])),Z3(e,t),Ev(e,{isEnd:!1})}function MPe(n,e,t,r){var i=e.__brushOption.range,a=SQ(n,t,r);G(i,function(o){o[0]+=a[0],o[1]+=a[1]}),Z3(n,e),Ev(n,{isEnd:!1})}function SQ(n,e,t){var r=n.group,i=r.transformCoordToLocal(e,t),a=r.transformCoordToLocal(0,0);return[i[0]-a[0],i[1]-a[1]]}function J3(n,e,t){var r=gQ(n,e);return r&&r!==Cv?r.clipPath(t,n._transform):Vt(t)}function TPe(n){var e=KS(n[0][0],n[1][0]),t=KS(n[0][1],n[1][1]),r=Ry(n[0][0],n[1][0]),i=Ry(n[0][1],n[1][1]);return{x:e,y:t,width:r-e,height:i-t}}function bPe(n,e,t){if(!(!n._brushType||CPe(n,e.offsetX,e.offsetY))){var r=n._zr,i=n._covers,a=q3(n,e,t);if(!n._dragging)for(var o=0;o<i.length;o++){var s=i[o].__brushOption;if(a&&(a===Cv||s.panelId===a.panelId)&&KC[s.brushType].contain(i[o],t[0],t[1]))return}a&&r.setCursorStyle("crosshair")}}function fN(n){var e=n.event;e.preventDefault&&e.preventDefault()}function hN(n,e,t){return n.childOfName("main").contain(e,t)}function wQ(n,e,t,r){var i=n._creatingCover,a=n._creatingPanel,o=n._brushOption,s;if(n._track.push(t.slice()),xPe(n)||i){if(a&&!i){o.brushMode==="single"&&lN(n);var l=Vt(o);l.brushType=UW(l.brushType,a),l.panelId=a===Cv?null:a.panelId,i=n._creatingCover=hQ(n,l),n._covers.push(i)}if(i){var u=KC[UW(n._brushType,a)],c=i.__brushOption;c.range=u.getCreatingRange(J3(n,i,n._track)),r&&(dQ(n,i),u.updateCommon(n,i)),pQ(n,i),s={isEnd:r}}}else r&&o.brushMode==="single"&&o.removeOnClick&&q3(n,e,t)&&lN(n)&&(s={isEnd:r,removeOnClick:!0});return s}function UW(n,e){return n==="auto"?e.defaultBrushType:n}var APe={mousedown:function(n){if(this._dragging)VW(this,n);else if(!n.target||!n.target.draggable){fN(n);var e=this.group.transformCoordToLocal(n.offsetX,n.offsetY);this._creatingCover=null;var t=this._creatingPanel=q3(this,n,e);t&&(this._dragging=!0,this._track=[e.slice()])}},mousemove:function(n){var e=n.offsetX,t=n.offsetY,r=this.group.transformCoordToLocal(e,t);if(bPe(this,n,r),this._dragging){fN(n);var i=wQ(this,n,r,!1);i&&Ev(this,i)}},mouseup:function(n){VW(this,n)}};function VW(n,e){if(n._dragging){fN(e);var t=e.offsetX,r=e.offsetY,i=n.group.transformCoordToLocal(t,r),a=wQ(n,e,i,!0);n._dragging=!1,n._track=[],n._creatingCover=null,a&&Ev(n,a)}}function CPe(n,e,t){var r=n._zr;return e<0||e>r.getWidth()||t<0||t>r.getHeight()}var KC={lineX:GW(0),lineY:GW(1),rect:{createCover:function(n,e){function t(r){return r}return yQ({toRectRange:t,fromRectRange:t},n,e,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(n){var e=mQ(n);return xQ(e[1][0],e[1][1],e[0][0],e[0][1])},updateCoverShape:function(n,e,t,r){_Q(n,e,t,r)},updateCommon:uN,contain:hN},polygon:{createCover:function(n,e){var t=new Xt;return t.add(new Za({name:"main",style:K3(e),silent:!0})),t},getCreatingRange:function(n){return n},endCreating:function(n,e){e.remove(e.childAt(0)),e.add(new Xa({name:"main",draggable:!0,drift:nn(MPe,n,e),ondragend:nn(Ev,n,{isEnd:!0})}))},updateCoverShape:function(n,e,t,r){e.childAt(0).setShape({points:J3(n,e,t)})},updateCommon:uN,contain:hN}};function GW(n){return{createCover:function(e,t){return yQ({toRectRange:function(r){var i=[r,[0,100]];return n&&i.reverse(),i},fromRectRange:function(r){return r[n]}},e,t,[[["w"],["e"]],[["n"],["s"]]][n])},getCreatingRange:function(e){var t=mQ(e),r=KS(t[0][n],t[1][n]),i=Ry(t[0][n],t[1][n]);return[r,i]},updateCoverShape:function(e,t,r,i){var a,o=gQ(e,t);if(o!==Cv&&o.getLinearBrushOtherExtent)a=o.getLinearBrushOtherExtent(n);else{var s=e._zr;a=[0,[s.getWidth(),s.getHeight()][1-n]]}var l=[r,a];n&&l.reverse(),_Q(e,t,l,i)},updateCommon:uN,contain:hN}}function MQ(n){return n=Q3(n),function(e){return Bk(e,n)}}function TQ(n,e){return n=Q3(n),function(t){var r=e??t,i=r?n.width:n.height,a=r?n.x:n.y;return[a,a+(i||0)]}}function bQ(n,e,t){var r=Q3(n);return function(i,a){return r.contain(a[0],a[1])&&!jC(i,e,t)}}function Q3(n){return fn.create(n)}var EPe=["axisLine","axisTickLabel","axisName"],PPe=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,r){n.prototype.init.apply(this,arguments),(this._brushController=new j3(r.getZr())).on("brush",ht(this._onBrush,this))},e.prototype.render=function(t,r,i,a){if(!DPe(t,r,a)){this.axisModel=t,this.api=i,this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new Xt,this.group.add(this._axisGroup),!!t.get("show")){var s=LPe(t,r),l=s.coordinateSystem,u=t.getAreaSelectStyle(),c=u.width,f=t.axis.dim,h=l.getAxisLayout(f),d=Le({strokeContainThreshold:c},h),p=new mo(t,d);G(EPe,p.add,p),this._axisGroup.add(p.getGroup()),this._refreshBrushController(d,u,t,s,c,i),P1(o,this._axisGroup,t)}}},e.prototype._refreshBrushController=function(t,r,i,a,o,s){var l=i.axis.getExtent(),u=l[1]-l[0],c=Math.min(30,Math.abs(u)*.1),f=fn.create({x:l[0],y:-o/2,width:u,height:o});f.x-=c,f.width+=2*c,this._brushController.mount({enableGlobalPan:!0,rotation:t.rotation,x:t.position[0],y:t.position[1]}).setPanels([{panelId:"pl",clipPath:MQ(f),isTargetByCursor:bQ(f,s,a),getLinearBrushOtherExtent:TQ(f,0)}]).enableBrush({brushType:"lineX",brushStyle:r,removeOnClick:!0}).updateCovers(RPe(i))},e.prototype._onBrush=function(t){var r=t.areas,i=this.axisModel,a=i.axis,o=Ve(r,function(s){return[a.coordToData(s.range[0],!0),a.coordToData(s.range[1],!0)]});(!i.option.realtime===t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:i.id,intervals:o})},e.prototype.dispose=function(){this._brushController.dispose()},e.type="parallelAxis",e})(br);function DPe(n,e,t){return t&&t.type==="axisAreaSelect"&&e.findComponents({mainType:"parallelAxis",query:t})[0]===n}function RPe(n){var e=n.axis;return Ve(n.activeIntervals,function(t){return{brushType:"lineX",panelId:"pl",range:[e.dataToCoord(t[0],!0),e.dataToCoord(t[1],!0)]}})}function LPe(n,e){return e.getComponent("parallel",n.get("parallelIndex"))}var IPe={type:"axisAreaSelect",event:"axisAreaSelected"};function NPe(n){n.registerAction(IPe,function(e,t){t.eachComponent({mainType:"parallelAxis",query:e},function(r){r.axis.model.setActiveIntervals(e.intervals)})}),n.registerAction("parallelAxisExpand",function(e,t){t.eachComponent({mainType:"parallel",query:e},function(r){r.setAxisExpand(e)})})}var OPe={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function AQ(n){n.registerComponentView(nPe),n.registerComponentModel(iPe),n.registerCoordinateSystem("parallel",hPe),n.registerPreprocessor(JEe),n.registerComponentModel(sN),n.registerComponentView(PPe),Dy(n,"parallel",sN,OPe),NPe(n)}function kPe(n){Sn(AQ),n.registerChartView(WEe),n.registerSeriesModel(jEe),n.registerVisual(n.PRIORITY.VISUAL.BRUSH,KEe)}var FPe=(function(){function n(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0}return n})(),zPe=(function(n){Se(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new FPe},e.prototype.buildPath=function(t,r){var i=r.extent;t.moveTo(r.x1,r.y1),t.bezierCurveTo(r.cpx1,r.cpy1,r.cpx2,r.cpy2,r.x2,r.y2),r.orient==="vertical"?(t.lineTo(r.x2+i,r.y2),t.bezierCurveTo(r.cpx2+i,r.cpy2,r.cpx1+i,r.cpy1,r.x1+i,r.y1)):(t.lineTo(r.x2,r.y2+i),t.bezierCurveTo(r.cpx2,r.cpy2+i,r.cpx1,r.cpy1+i,r.x1,r.y1+i)),t.closePath()},e.prototype.highlight=function(){ef(this)},e.prototype.downplay=function(){tf(this)},e})(Tn),BPe=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._focusAdjacencyDisabled=!1,t}return e.prototype.render=function(t,r,i){var a=this,o=t.getGraph(),s=this.group,l=t.layoutInfo,u=l.width,c=l.height,f=t.getData(),h=t.getData("edge"),d=t.get("orient");this._model=t,s.removeAll(),s.x=l.x,s.y=l.y,o.eachEdge(function(p){var g=new zPe,m=$t(g);m.dataIndex=p.dataIndex,m.seriesIndex=t.seriesIndex,m.dataType="edge";var y=p.getModel(),S=y.getModel("lineStyle"),M=S.get("curveness"),b=p.node1.getLayout(),C=p.node1.getModel(),A=C.get("localX"),E=C.get("localY"),I=p.node2.getLayout(),L=p.node2.getModel(),R=L.get("localX"),O=L.get("localY"),U=p.getLayout(),V,W,X,j,Q,B,Z,q;g.shape.extent=Math.max(1,U.dy),g.shape.orient=d,d==="vertical"?(V=(A!=null?A*u:b.x)+U.sy,W=(E!=null?E*c:b.y)+b.dy,X=(R!=null?R*u:I.x)+U.ty,j=O!=null?O*c:I.y,Q=V,B=W*(1-M)+j*M,Z=X,q=W*M+j*(1-M)):(V=(A!=null?A*u:b.x)+b.dx,W=(E!=null?E*c:b.y)+U.sy,X=R!=null?R*u:I.x,j=(O!=null?O*c:I.y)+U.ty,Q=V*(1-M)+X*M,B=W,Z=V*M+X*(1-M),q=j),g.setShape({x1:V,y1:W,x2:X,y2:j,cpx1:Q,cpy1:B,cpx2:Z,cpy2:q}),g.useStyle(S.getItemStyle()),HW(g.style,d,p);var Y=""+y.get("value"),te=ji(y,"edgeLabel");Sa(g,te,{labelFetcher:{getFormattedLabel:function(fe,be,Ee,Be,Oe,$e){return t.getFormattedLabel(fe,be,"edge",Be,Ol(Oe,te.normal&&te.normal.get("formatter"),Y),$e)}},labelDataIndex:p.dataIndex,defaultText:Y}),g.setTextConfig({position:"inside"});var me=y.getModel("emphasis");xa(g,y,"lineStyle",function(fe){var be=fe.getItemStyle();return HW(be,d,p),be}),s.add(g),h.setItemGraphicEl(p.dataIndex,g);var ae=me.get("focus");Vr(g,ae==="adjacency"?p.getAdjacentDataIndices():ae==="trajectory"?p.getTrajectoryDataIndices():ae,me.get("blurScope"),me.get("disabled"))}),o.eachNode(function(p){var g=p.getLayout(),m=p.getModel(),y=m.get("localX"),S=m.get("localY"),M=m.getModel("emphasis"),b=m.get(["itemStyle","borderRadius"])||0,C=new kn({shape:{x:y!=null?y*u:g.x,y:S!=null?S*c:g.y,width:g.dx,height:g.dy,r:b},style:m.getModel("itemStyle").getItemStyle(),z2:10});Sa(C,ji(m),{labelFetcher:{getFormattedLabel:function(E,I){return t.getFormattedLabel(E,I,"node")}},labelDataIndex:p.dataIndex,defaultText:p.id}),C.disableLabelAnimation=!0,C.setStyle("fill",p.getVisual("color")),C.setStyle("decal",p.getVisual("style").decal),xa(C,m),s.add(C),f.setItemGraphicEl(p.dataIndex,C),$t(C).dataType="node";var A=M.get("focus");Vr(C,A==="adjacency"?p.getAdjacentDataIndices():A==="trajectory"?p.getTrajectoryDataIndices():A,M.get("blurScope"),M.get("disabled"))}),f.eachItemGraphicEl(function(p,g){var m=f.getItemModel(g);m.get("draggable")&&(p.drift=function(y,S){a._focusAdjacencyDisabled=!0,this.shape.x+=y,this.shape.y+=S,this.dirty(),i.dispatchAction({type:"dragNode",seriesId:t.id,dataIndex:f.getRawIndex(g),localX:this.shape.x/u,localY:this.shape.y/c})},p.ondragend=function(){a._focusAdjacencyDisabled=!1},p.draggable=!0,p.cursor="move")}),!this._data&&t.isAnimationEnabled()&&s.setClipPath(UPe(s.getBoundingRect(),t,function(){s.removeClipPath()})),this._data=t.getData()},e.prototype.dispose=function(){},e.type="sankey",e})(sr);function HW(n,e,t){switch(n.fill){case"source":n.fill=t.node1.getVisual("color"),n.decal=t.node1.getVisual("style").decal;break;case"target":n.fill=t.node2.getVisual("color"),n.decal=t.node2.getVisual("style").decal;break;case"gradient":var r=t.node1.getVisual("color"),i=t.node2.getVisual("color");ut(r)&&ut(i)&&(n.fill=new $y(0,0,+(e==="horizontal"),+(e==="vertical"),[{color:r,offset:0},{color:i,offset:1}]))}}function UPe(n,e,t){var r=new kn({shape:{x:n.x-10,y:n.y-10,width:0,height:n.height+20}});return Dr(r,{shape:{width:n.width+20}},e,t),r}var VPe=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getInitialData=function(t,r){var i=t.edges||t.links||[],a=t.data||t.nodes||[],o=t.levels||[];this.levelModels=[];for(var s=this.levelModels,l=0;l<o.length;l++)o[l].depth!=null&&o[l].depth>=0&&(s[o[l].depth]=new qn(o[l],this,r));var u=lQ(a,i,this,!0,c);return u.data;function c(f,h){f.wrapMethod("getItemModel",function(d,p){var g=d.parentModel,m=g.getData().getItemLayout(p);if(m){var y=m.depth,S=g.levelModels[y];S&&(d.parentModel=S)}return d}),h.wrapMethod("getItemModel",function(d,p){var g=d.parentModel,m=g.getGraph().getEdgeByIndex(p),y=m.node1.getLayout();if(y){var S=y.depth,M=g.levelModels[S];M&&(d.parentModel=M)}return d})}},e.prototype.setNodePosition=function(t,r){var i=this.option.data||this.option.nodes,a=i[t];a.localX=r[0],a.localY=r[1]},e.prototype.getGraph=function(){return this.getData().graph},e.prototype.getEdgeData=function(){return this.getGraph().edgeData},e.prototype.formatTooltip=function(t,r,i){function a(d){return isNaN(d)||d==null}if(i==="edge"){var o=this.getDataParams(t,i),s=o.data,l=o.value,u=s.source+" -- "+s.target;return Zi("nameValue",{name:u,value:l,noValue:a(l)})}else{var c=this.getGraph().getNodeByIndex(t),f=c.getLayout().value,h=this.getDataParams(t,i).data.name;return Zi("nameValue",{name:h!=null?h+"":null,value:f,noValue:a(f)})}},e.prototype.optionUpdated=function(){},e.prototype.getDataParams=function(t,r){var i=n.prototype.getDataParams.call(this,t,r);if(i.value==null&&r==="node"){var a=this.getGraph().getNodeByIndex(t),o=a.getLayout().value;i.value=o}return i},e.type="series.sankey",e.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},e})(pr);function GPe(n,e){n.eachSeriesByType("sankey",function(t){var r=t.get("nodeWidth"),i=t.get("nodeGap"),a=HPe(t,e);t.layoutInfo=a;var o=a.width,s=a.height,l=t.getGraph(),u=l.nodes,c=l.edges;XPe(u);var f=$n(u,function(g){return g.getLayout().value===0}),h=f.length!==0?0:t.get("layoutIterations"),d=t.get("orient"),p=t.get("nodeAlign");WPe(u,c,r,i,o,s,h,d,p)})}function HPe(n,e){return _i(n.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function WPe(n,e,t,r,i,a,o,s,l){YPe(n,e,t,i,a,s,l),qPe(n,e,a,i,r,o,s),aDe(n,s)}function XPe(n){G(n,function(e){var t=Ph(e.outEdges,vA),r=Ph(e.inEdges,vA),i=e.getValue()||0,a=Math.max(t,r,i);e.setLayout({value:a},!0)})}function YPe(n,e,t,r,i,a,o){for(var s=[],l=[],u=[],c=[],f=0,h=0;h<e.length;h++)s[h]=1;for(var h=0;h<n.length;h++)l[h]=n[h].inEdges.length,l[h]===0&&u.push(n[h]);for(var d=-1;u.length;){for(var p=0;p<u.length;p++){var g=u[p],m=g.hostGraph.data.getRawDataItem(g.dataIndex),y=m.depth!=null&&m.depth>=0;y&&m.depth>d&&(d=m.depth),g.setLayout({depth:y?m.depth:f},!0),a==="vertical"?g.setLayout({dy:t},!0):g.setLayout({dx:t},!0);for(var S=0;S<g.outEdges.length;S++){var M=g.outEdges[S],b=e.indexOf(M);s[b]=0;var C=M.node2,A=n.indexOf(C);--l[A]===0&&c.indexOf(C)<0&&c.push(C)}}++f,u=c,c=[]}for(var h=0;h<s.length;h++)if(s[h]===1)throw new Error("Sankey is a DAG, the original data has cycle!");var E=d>f-1?d:f-1;o&&o!=="left"&&jPe(n,o,a,E);var I=a==="vertical"?(i-t)/E:(r-t)/E;$Pe(n,I,a)}function CQ(n){var e=n.hostGraph.data.getRawDataItem(n.dataIndex);return e.depth!=null&&e.depth>=0}function jPe(n,e,t,r){if(e==="right"){for(var i=[],a=n,o=0;a.length;){for(var s=0;s<a.length;s++){var l=a[s];l.setLayout({skNodeHeight:o},!0);for(var u=0;u<l.inEdges.length;u++){var c=l.inEdges[u];i.indexOf(c.node1)<0&&i.push(c.node1)}}a=i,i=[],++o}G(n,function(f){CQ(f)||f.setLayout({depth:Math.max(0,r-f.getLayout().skNodeHeight)},!0)})}else e==="justify"&&ZPe(n,r)}function ZPe(n,e){G(n,function(t){!CQ(t)&&!t.outEdges.length&&t.setLayout({depth:e},!0)})}function $Pe(n,e,t){G(n,function(r){var i=r.getLayout().depth*e;t==="vertical"?r.setLayout({y:i},!0):r.setLayout({x:i},!0)})}function qPe(n,e,t,r,i,a,o){var s=KPe(n,o);JPe(s,e,t,r,i,o),ZR(s,i,t,r,o);for(var l=1;a>0;a--)l*=.99,QPe(s,l,o),ZR(s,i,t,r,o),iDe(s,l,o),ZR(s,i,t,r,o)}function KPe(n,e){var t=[],r=e==="vertical"?"y":"x",i=hI(n,function(a){return a.getLayout()[r]});return i.keys.sort(function(a,o){return a-o}),G(i.keys,function(a){t.push(i.buckets.get(a))}),t}function JPe(n,e,t,r,i,a){var o=1/0;G(n,function(s){var l=s.length,u=0;G(s,function(f){u+=f.getLayout().value});var c=a==="vertical"?(r-(l-1)*i)/u:(t-(l-1)*i)/u;c<o&&(o=c)}),G(n,function(s){G(s,function(l,u){var c=l.getLayout().value*o;a==="vertical"?(l.setLayout({x:u},!0),l.setLayout({dx:c},!0)):(l.setLayout({y:u},!0),l.setLayout({dy:c},!0))})}),G(e,function(s){var l=+s.getValue()*o;s.setLayout({dy:l},!0)})}function ZR(n,e,t,r,i){var a=i==="vertical"?"x":"y";G(n,function(o){o.sort(function(g,m){return g.getLayout()[a]-m.getLayout()[a]});for(var s,l,u,c=0,f=o.length,h=i==="vertical"?"dx":"dy",d=0;d<f;d++)l=o[d],u=c-l.getLayout()[a],u>0&&(s=l.getLayout()[a]+u,i==="vertical"?l.setLayout({x:s},!0):l.setLayout({y:s},!0)),c=l.getLayout()[a]+l.getLayout()[h]+e;var p=i==="vertical"?r:t;if(u=c-e-p,u>0){s=l.getLayout()[a]-u,i==="vertical"?l.setLayout({x:s},!0):l.setLayout({y:s},!0),c=s;for(var d=f-2;d>=0;--d)l=o[d],u=l.getLayout()[a]+l.getLayout()[h]+e-c,u>0&&(s=l.getLayout()[a]-u,i==="vertical"?l.setLayout({x:s},!0):l.setLayout({y:s},!0)),c=l.getLayout()[a]}})}function QPe(n,e,t){G(n.slice().reverse(),function(r){G(r,function(i){if(i.outEdges.length){var a=Ph(i.outEdges,eDe,t)/Ph(i.outEdges,vA);if(isNaN(a)){var o=i.outEdges.length;a=o?Ph(i.outEdges,tDe,t)/o:0}if(t==="vertical"){var s=i.getLayout().x+(a-zh(i,t))*e;i.setLayout({x:s},!0)}else{var l=i.getLayout().y+(a-zh(i,t))*e;i.setLayout({y:l},!0)}}})})}function eDe(n,e){return zh(n.node2,e)*n.getValue()}function tDe(n,e){return zh(n.node2,e)}function nDe(n,e){return zh(n.node1,e)*n.getValue()}function rDe(n,e){return zh(n.node1,e)}function zh(n,e){return e==="vertical"?n.getLayout().x+n.getLayout().dx/2:n.getLayout().y+n.getLayout().dy/2}function vA(n){return n.getValue()}function Ph(n,e,t){for(var r=0,i=n.length,a=-1;++a<i;){var o=+e(n[a],t);isNaN(o)||(r+=o)}return r}function iDe(n,e,t){G(n,function(r){G(r,function(i){if(i.inEdges.length){var a=Ph(i.inEdges,nDe,t)/Ph(i.inEdges,vA);if(isNaN(a)){var o=i.inEdges.length;a=o?Ph(i.inEdges,rDe,t)/o:0}if(t==="vertical"){var s=i.getLayout().x+(a-zh(i,t))*e;i.setLayout({x:s},!0)}else{var l=i.getLayout().y+(a-zh(i,t))*e;i.setLayout({y:l},!0)}}})})}function aDe(n,e){var t=e==="vertical"?"x":"y";G(n,function(r){r.outEdges.sort(function(i,a){return i.node2.getLayout()[t]-a.node2.getLayout()[t]}),r.inEdges.sort(function(i,a){return i.node1.getLayout()[t]-a.node1.getLayout()[t]})}),G(n,function(r){var i=0,a=0;G(r.outEdges,function(o){o.setLayout({sy:i},!0),i+=o.getLayout().dy}),G(r.inEdges,function(o){o.setLayout({ty:a},!0),a+=o.getLayout().dy})})}function oDe(n){n.eachSeriesByType("sankey",function(e){var t=e.getGraph(),r=t.nodes,i=t.edges;if(r.length){var a=1/0,o=-1/0;G(r,function(s){var l=s.getLayout().value;l<a&&(a=l),l>o&&(o=l)}),G(r,function(s){var l=new Wi({type:"color",mappingMethod:"linear",dataExtent:[a,o],visual:e.get("color")}),u=l.mapValueToVisual(s.getLayout().value),c=s.getModel().get(["itemStyle","color"]);c!=null?(s.setVisual("color",c),s.setVisual("style",{fill:c})):(s.setVisual("color",u),s.setVisual("style",{fill:u}))})}i.length&&G(i,function(s){var l=s.getModel().get("lineStyle");s.setVisual("style",l)})})}function sDe(n){n.registerChartView(BPe),n.registerSeriesModel(VPe),n.registerLayout(GPe),n.registerVisual(oDe),n.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(e,t){t.eachComponent({mainType:"series",subType:"sankey",query:e},function(r){r.setNodePosition(e.dataIndex,[e.localX,e.localY])})})}var EQ=(function(){function n(){}return n.prototype._hasEncodeRule=function(e){var t=this.getEncode();return t&&t.get(e)!=null},n.prototype.getInitialData=function(e,t){var r,i=t.getComponent("xAxis",this.get("xAxisIndex")),a=t.getComponent("yAxis",this.get("yAxisIndex")),o=i.get("type"),s=a.get("type"),l;o==="category"?(e.layout="horizontal",r=i.getOrdinalMeta(),l=!this._hasEncodeRule("x")):s==="category"?(e.layout="vertical",r=a.getOrdinalMeta(),l=!this._hasEncodeRule("y")):e.layout=e.layout||"horizontal";var u=["x","y"],c=e.layout==="horizontal"?0:1,f=this._baseAxisDim=u[c],h=u[1-c],d=[i,a],p=d[c].get("type"),g=d[1-c].get("type"),m=e.data;if(m&&l){var y=[];G(m,function(b,C){var A;ze(b)?(A=b.slice(),b.unshift(C)):ze(b.value)?(A=Le({},b),A.value=A.value.slice(),b.value.unshift(C)):A=b,y.push(A)}),e.data=y}var S=this.defaultValueDimensions,M=[{name:f,type:iA(p),ordinalMeta:r,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:h,type:iA(g),dimsDef:S.slice()}];return u0(this,{coordDimensions:M,dimensionsCount:S.length+1,encodeDefaulter:nn(nq,M,this)})},n.prototype.getBaseAxis=function(){var e=this._baseAxisDim;return this.ecModel.getComponent(e+"Axis",this.get(e+"AxisIndex")).axis},n})(),PQ=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],t.visualDrawType="stroke",t}return e.type="series.boxplot",e.dependencies=["xAxis","yAxis","grid"],e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},e})(pr);ti(PQ,EQ,!0);var lDe=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i){var a=t.getData(),o=this.group,s=this._data;this._data||o.removeAll();var l=t.get("layout")==="horizontal"?1:0;a.diff(s).add(function(u){if(a.hasValue(u)){var c=a.getItemLayout(u),f=WW(c,a,u,l,!0);a.setItemGraphicEl(u,f),o.add(f)}}).update(function(u,c){var f=s.getItemGraphicEl(c);if(!a.hasValue(u)){o.remove(f);return}var h=a.getItemLayout(u);f?(Wl(f),DQ(h,f,a,u)):f=WW(h,a,u,l),o.add(f),a.setItemGraphicEl(u,f)}).remove(function(u){var c=s.getItemGraphicEl(u);c&&o.remove(c)}).execute(),this._data=a},e.prototype.remove=function(t){var r=this.group,i=this._data;this._data=null,i&&i.eachItemGraphicEl(function(a){a&&r.remove(a)})},e.type="boxplot",e})(sr),uDe=(function(){function n(){}return n})(),cDe=(function(n){Se(e,n);function e(t){var r=n.call(this,t)||this;return r.type="boxplotBoxPath",r}return e.prototype.getDefaultShape=function(){return new uDe},e.prototype.buildPath=function(t,r){var i=r.points,a=0;for(t.moveTo(i[a][0],i[a][1]),a++;a<4;a++)t.lineTo(i[a][0],i[a][1]);for(t.closePath();a<i.length;a++)t.moveTo(i[a][0],i[a][1]),a++,t.lineTo(i[a][0],i[a][1])},e})(Tn);function WW(n,e,t,r,i){var a=n.ends,o=new cDe({shape:{points:i?fDe(a,r,n):a}});return DQ(n,o,e,t,i),o}function DQ(n,e,t,r,i){var a=t.hostModel,o=Bv[i?"initProps":"updateProps"];o(e,{shape:{points:n.ends}},a,r),e.useStyle(t.getItemVisual(r,"style")),e.style.strokeNoScale=!0,e.z2=100;var s=t.getItemModel(r),l=s.getModel("emphasis");xa(e,s),Vr(e,l.get("focus"),l.get("blurScope"),l.get("disabled"))}function fDe(n,e,t){return Ve(n,function(r){return r=r.slice(),r[e]=t.initBaseline,r})}var jx=G;function hDe(n){var e=dDe(n);jx(e,function(t){var r=t.seriesModels;r.length&&(pDe(t),jx(r,function(i,a){vDe(i,t.boxOffsetList[a],t.boxWidthList[a])}))})}function dDe(n){var e=[],t=[];return n.eachSeriesByType("boxplot",function(r){var i=r.getBaseAxis(),a=dn(t,i);a<0&&(a=t.length,t[a]=i,e[a]={axis:i,seriesModels:[]}),e[a].seriesModels.push(r)}),e}function pDe(n){var e=n.axis,t=n.seriesModels,r=t.length,i=n.boxWidthList=[],a=n.boxOffsetList=[],o=[],s;if(e.type==="category")s=e.getBandWidth();else{var l=0;jx(t,function(p){l=Math.max(l,p.getData().count())});var u=e.getExtent();s=Math.abs(u[1]-u[0])/l}jx(t,function(p){var g=p.get("boxWidth");ze(g)||(g=[g,g]),o.push([rt(g[0],s)||0,rt(g[1],s)||0])});var c=s*.8-2,f=c/r*.3,h=(c-f*(r-1))/r,d=h/2-c/2;jx(t,function(p,g){a.push(d),d+=f+h,i.push(Math.min(Math.max(h,o[g][0]),o[g][1]))})}function vDe(n,e,t){var r=n.coordinateSystem,i=n.getData(),a=t/2,o=n.get("layout")==="horizontal"?0:1,s=1-o,l=["x","y"],u=i.mapDimension(l[o]),c=i.mapDimensionsAll(l[s]);if(u==null||c.length<5)return;for(var f=0;f<i.count();f++){var h=i.get(u,f),d=M(h,c[2],f),p=M(h,c[0],f),g=M(h,c[1],f),m=M(h,c[3],f),y=M(h,c[4],f),S=[];b(S,g,!1),b(S,m,!0),S.push(p,g,y,m),C(S,p),C(S,y),C(S,d),i.setItemLayout(f,{initBaseline:d[s],ends:S})}function M(A,E,I){var L=i.get(E,I),R=[];R[o]=A,R[s]=L;var O;return isNaN(A)||isNaN(L)?O=[NaN,NaN]:(O=r.dataToPoint(R),O[o]+=e),O}function b(A,E,I){var L=E.slice(),R=E.slice();L[o]+=a,R[o]-=a,I?A.push(L,R):A.push(R,L)}function C(A,E){var I=E.slice(),L=E.slice();I[o]-=a,L[o]+=a,A.push(I,L)}}function gDe(n,e){e=e||{};for(var t=[],r=[],i=e.boundIQR,a=i==="none"||i===0,o=0;o<n.length;o++){var s=os(n[o].slice()),l=QT(s,.25),u=QT(s,.5),c=QT(s,.75),f=s[0],h=s[s.length-1],d=(i??1.5)*(c-l),p=a?f:Math.max(f,l-d),g=a?h:Math.min(h,c+d),m=e.itemNameFormatter,y=Ct(m)?m({value:o}):ut(m)?m.replace("{value}",o+""):o+"";t.push([y,p,l,u,c,g]);for(var S=0;S<s.length;S++){var M=s[S];if(M<p||M>g){var b=[y,M];r.push(b)}}}return{boxData:t,outliers:r}}var mDe={type:"echarts:boxplot",transform:function(e){var t=e.upstream;if(t.sourceFormat!==Ya){var r="";tr(r)}var i=gDe(t.getRawData(),e.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:i.boxData},{data:i.outliers}]}};function yDe(n){n.registerSeriesModel(PQ),n.registerChartView(lDe),n.registerLayout(hDe),n.registerTransform(mDe)}var _De=["itemStyle","borderColor"],xDe=["itemStyle","borderColor0"],SDe=["itemStyle","borderColorDoji"],wDe=["itemStyle","color"],MDe=["itemStyle","color0"];function eF(n,e){return e.get(n>0?wDe:MDe)}function tF(n,e){return e.get(n===0?SDe:n>0?_De:xDe)}var TDe={seriesType:"candlestick",plan:r0(),performRawSeries:!0,reset:function(n,e){if(!e.isSeriesFiltered(n)){var t=n.pipelineContext.large;return!t&&{progress:function(r,i){for(var a;(a=r.next())!=null;){var o=i.getItemModel(a),s=i.getItemLayout(a).sign,l=o.getItemStyle();l.fill=eF(s,o),l.stroke=tF(s,o)||l.fill;var u=i.ensureUniqueItemVisual(a,"style");Le(u,l)}}}}}},bDe=["color","borderColor"],ADe=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(t),this._isLargeDraw?this._renderLarge(t):this._renderNormal(t)},e.prototype.incrementalPrepareRender=function(t,r,i){this._clear(),this._updateDrawMode(t)},e.prototype.incrementalRender=function(t,r,i,a){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(t,r):this._incrementalRenderNormal(t,r)},e.prototype.eachRendered=function(t){Zh(this._progressiveEls||this.group,t)},e.prototype._updateDrawMode=function(t){var r=t.pipelineContext.large;(this._isLargeDraw==null||r!==this._isLargeDraw)&&(this._isLargeDraw=r,this._clear())},e.prototype._renderNormal=function(t){var r=t.getData(),i=this._data,a=this.group,o=r.getLayout("isSimpleBox"),s=t.get("clip",!0),l=t.coordinateSystem,u=l.getArea&&l.getArea();this._data||a.removeAll(),r.diff(i).add(function(c){if(r.hasValue(c)){var f=r.getItemLayout(c);if(s&&XW(u,f))return;var h=$R(f,c,!0);Dr(h,{shape:{points:f.ends}},t,c),qR(h,r,c,o),a.add(h),r.setItemGraphicEl(c,h)}}).update(function(c,f){var h=i.getItemGraphicEl(f);if(!r.hasValue(c)){a.remove(h);return}var d=r.getItemLayout(c);if(s&&XW(u,d)){a.remove(h);return}h?(Xn(h,{shape:{points:d.ends}},t,c),Wl(h)):h=$R(d),qR(h,r,c,o),a.add(h),r.setItemGraphicEl(c,h)}).remove(function(c){var f=i.getItemGraphicEl(c);f&&a.remove(f)}).execute(),this._data=r},e.prototype._renderLarge=function(t){this._clear(),YW(t,this.group);var r=t.get("clip",!0)?O1(t.coordinateSystem,!1,t):null;r?this.group.setClipPath(r):this.group.removeClipPath()},e.prototype._incrementalRenderNormal=function(t,r){for(var i=r.getData(),a=i.getLayout("isSimpleBox"),o;(o=t.next())!=null;){var s=i.getItemLayout(o),l=$R(s);qR(l,i,o,a),l.incremental=!0,this.group.add(l),this._progressiveEls.push(l)}},e.prototype._incrementalRenderLarge=function(t,r){YW(r,this.group,this._progressiveEls,!0)},e.prototype.remove=function(t){this._clear()},e.prototype._clear=function(){this.group.removeAll(),this._data=null},e.type="candlestick",e})(sr),CDe=(function(){function n(){}return n})(),EDe=(function(n){Se(e,n);function e(t){var r=n.call(this,t)||this;return r.type="normalCandlestickBox",r}return e.prototype.getDefaultShape=function(){return new CDe},e.prototype.buildPath=function(t,r){var i=r.points;this.__simpleBox?(t.moveTo(i[4][0],i[4][1]),t.lineTo(i[6][0],i[6][1])):(t.moveTo(i[0][0],i[0][1]),t.lineTo(i[1][0],i[1][1]),t.lineTo(i[2][0],i[2][1]),t.lineTo(i[3][0],i[3][1]),t.closePath(),t.moveTo(i[4][0],i[4][1]),t.lineTo(i[5][0],i[5][1]),t.moveTo(i[6][0],i[6][1]),t.lineTo(i[7][0],i[7][1]))},e})(Tn);function $R(n,e,t){var r=n.ends;return new EDe({shape:{points:t?PDe(r,n):r},z2:100})}function XW(n,e){for(var t=!0,r=0;r<e.ends.length;r++)if(n.contain(e.ends[r][0],e.ends[r][1])){t=!1;break}return t}function qR(n,e,t,r){var i=e.getItemModel(t);n.useStyle(e.getItemVisual(t,"style")),n.style.strokeNoScale=!0,n.__simpleBox=r,xa(n,i);var a=e.getItemLayout(t).sign;G(n.states,function(s,l){var u=i.getModel(l),c=eF(a,u),f=tF(a,u)||c,h=s.style||(s.style={});c&&(h.fill=c),f&&(h.stroke=f)});var o=i.getModel("emphasis");Vr(n,o.get("focus"),o.get("blurScope"),o.get("disabled"))}function PDe(n,e){return Ve(n,function(t){return t=t.slice(),t[1]=e.initBaseline,t})}var DDe=(function(){function n(){}return n})(),KR=(function(n){Se(e,n);function e(t){var r=n.call(this,t)||this;return r.type="largeCandlestickBox",r}return e.prototype.getDefaultShape=function(){return new DDe},e.prototype.buildPath=function(t,r){for(var i=r.points,a=0;a<i.length;)if(this.__sign===i[a++]){var o=i[a++];t.moveTo(o,i[a++]),t.lineTo(o,i[a++])}else a+=3},e})(Tn);function YW(n,e,t,r){var i=n.getData(),a=i.getLayout("largePoints"),o=new KR({shape:{points:a},__sign:1,ignoreCoarsePointer:!0});e.add(o);var s=new KR({shape:{points:a},__sign:-1,ignoreCoarsePointer:!0});e.add(s);var l=new KR({shape:{points:a},__sign:0,ignoreCoarsePointer:!0});e.add(l),JR(1,o,n),JR(-1,s,n),JR(0,l,n),r&&(o.incremental=!0,s.incremental=!0),t&&t.push(o,s)}function JR(n,e,t,r){var i=tF(n,t)||eF(n,t),a=t.getModel("itemStyle").getItemStyle(bDe);e.useStyle(a),e.style.fill=null,e.style.stroke=i}var RQ=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],t}return e.prototype.getShadowDim=function(){return"open"},e.prototype.brushSelector=function(t,r,i){var a=r.getItemLayout(t);return a&&i.rect(a.brushRect)},e.type="series.candlestick",e.dependencies=["xAxis","yAxis","grid"],e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},e})(pr);ti(RQ,EQ,!0);function RDe(n){!n||!ze(n.series)||G(n.series,function(e){Bt(e)&&e.type==="k"&&(e.type="candlestick")})}var LDe={seriesType:"candlestick",plan:r0(),reset:function(n){var e=n.coordinateSystem,t=n.getData(),r=IDe(n,t),i=0,a=1,o=["x","y"],s=t.getDimensionIndex(t.mapDimension(o[i])),l=Ve(t.mapDimensionsAll(o[a]),t.getDimensionIndex,t),u=l[0],c=l[1],f=l[2],h=l[3];if(t.setLayout({candleWidth:r,isSimpleBox:r<=1.3}),s<0||l.length<4)return;return{progress:n.pipelineContext.large?p:d};function d(g,m){for(var y,S=m.getStore();(y=g.next())!=null;){var M=S.get(s,y),b=S.get(u,y),C=S.get(c,y),A=S.get(f,y),E=S.get(h,y),I=Math.min(b,C),L=Math.max(b,C),R=Q(I,M),O=Q(L,M),U=Q(A,M),V=Q(E,M),W=[];B(W,O,0),B(W,R,1),W.push(q(V),q(O),q(U),q(R));var X=m.getItemModel(y),j=!!X.get(["itemStyle","borderColorDoji"]);m.setItemLayout(y,{sign:jW(S,y,b,C,c,j),initBaseline:b>C?O[a]:R[a],ends:W,brushRect:Z(A,E,M)})}function Q(Y,te){var me=[];return me[i]=te,me[a]=Y,isNaN(te)||isNaN(Y)?[NaN,NaN]:e.dataToPoint(me)}function B(Y,te,me){var ae=te.slice(),fe=te.slice();ae[i]=nb(ae[i]+r/2,1,!1),fe[i]=nb(fe[i]-r/2,1,!0),me?Y.push(ae,fe):Y.push(fe,ae)}function Z(Y,te,me){var ae=Q(Y,me),fe=Q(te,me);return ae[i]-=r/2,fe[i]-=r/2,{x:ae[0],y:ae[1],width:r,height:fe[1]-ae[1]}}function q(Y){return Y[i]=nb(Y[i],1),Y}}function p(g,m){for(var y=wu(g.count*4),S=0,M,b=[],C=[],A,E=m.getStore(),I=!!n.get(["itemStyle","borderColorDoji"]);(A=g.next())!=null;){var L=E.get(s,A),R=E.get(u,A),O=E.get(c,A),U=E.get(f,A),V=E.get(h,A);if(isNaN(L)||isNaN(U)||isNaN(V)){y[S++]=NaN,S+=3;continue}y[S++]=jW(E,A,R,O,c,I),b[i]=L,b[a]=U,M=e.dataToPoint(b,null,C),y[S++]=M?M[0]:NaN,y[S++]=M?M[1]:NaN,b[a]=V,M=e.dataToPoint(b,null,C),y[S++]=M?M[1]:NaN}m.setLayout("largePoints",y)}}};function jW(n,e,t,r,i,a){var o;return t>r?o=-1:t<r?o=1:o=a?0:e>0?n.get(i,e-1)<=r?1:-1:1,o}function IDe(n,e){var t=n.getBaseAxis(),r,i=t.type==="category"?t.getBandWidth():(r=t.getExtent(),Math.abs(r[1]-r[0])/e.count()),a=rt(tn(n.get("barMaxWidth"),i),i),o=rt(tn(n.get("barMinWidth"),1),i),s=n.get("barWidth");return s!=null?rt(s,i):Math.max(Math.min(i/2,a),o)}function NDe(n){n.registerChartView(ADe),n.registerSeriesModel(RQ),n.registerPreprocessor(RDe),n.registerVisual(TDe),n.registerLayout(LDe)}function ZW(n,e){var t=e.rippleEffectColor||e.color;n.eachChild(function(r){r.attr({z:e.z,zlevel:e.zlevel,style:{stroke:e.brushType==="stroke"?t:null,fill:e.brushType==="fill"?t:null}})})}var ODe=(function(n){Se(e,n);function e(t,r){var i=n.call(this)||this,a=new I1(t,r),o=new Xt;return i.add(a),i.add(o),i.updateData(t,r),i}return e.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},e.prototype.startEffectAnimation=function(t){for(var r=t.symbolType,i=t.color,a=t.rippleNumber,o=this.childAt(1),s=0;s<a;s++){var l=ci(r,-1,-1,2,2,i);l.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var u=-s/a*t.period+t.effectOffset;l.animate("",!0).when(t.period,{scaleX:t.rippleScale/2,scaleY:t.rippleScale/2}).delay(u).start(),l.animateStyle(!0).when(t.period,{opacity:0}).delay(u).start(),o.add(l)}ZW(o,t)},e.prototype.updateEffectAnimation=function(t){for(var r=this._effectCfg,i=this.childAt(1),a=["symbolType","period","rippleScale","rippleNumber"],o=0;o<a.length;o++){var s=a[o];if(r[s]!==t[s]){this.stopEffectAnimation(),this.startEffectAnimation(t);return}}ZW(i,t)},e.prototype.highlight=function(){ef(this)},e.prototype.downplay=function(){tf(this)},e.prototype.getSymbolType=function(){var t=this.childAt(0);return t&&t.getSymbolType()},e.prototype.updateData=function(t,r){var i=this,a=t.hostModel;this.childAt(0).updateData(t,r);var o=this.childAt(1),s=t.getItemModel(r),l=t.getItemVisual(r,"symbol"),u=a0(t.getItemVisual(r,"symbolSize")),c=t.getItemVisual(r,"style"),f=c&&c.fill,h=s.getModel("emphasis");o.setScale(u),o.traverse(function(m){m.setStyle("fill",f)});var d=Vv(t.getItemVisual(r,"symbolOffset"),u);d&&(o.x=d[0],o.y=d[1]);var p=t.getItemVisual(r,"symbolRotate");o.rotation=(p||0)*Math.PI/180||0;var g={};g.showEffectOn=a.get("showEffectOn"),g.rippleScale=s.get(["rippleEffect","scale"]),g.brushType=s.get(["rippleEffect","brushType"]),g.period=s.get(["rippleEffect","period"])*1e3,g.effectOffset=r/t.count(),g.z=a.getShallow("z")||0,g.zlevel=a.getShallow("zlevel")||0,g.symbolType=l,g.color=f,g.rippleEffectColor=s.get(["rippleEffect","color"]),g.rippleNumber=s.get(["rippleEffect","number"]),g.showEffectOn==="render"?(this._effectCfg?this.updateEffectAnimation(g):this.startEffectAnimation(g),this._effectCfg=g):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(m){m==="emphasis"?g.showEffectOn!=="render"&&i.startEffectAnimation(g):m==="normal"&&g.showEffectOn!=="render"&&i.stopEffectAnimation()}),this._effectCfg=g,Vr(this,h.get("focus"),h.get("blurScope"),h.get("disabled"))},e.prototype.fadeOut=function(t){t&&t()},e})(Xt),kDe=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(){this._symbolDraw=new N1(ODe)},e.prototype.render=function(t,r,i){var a=t.getData(),o=this._symbolDraw;o.updateData(a,{clipShape:this._getClipShape(t)}),this.group.add(o.group)},e.prototype._getClipShape=function(t){var r=t.coordinateSystem,i=r&&r.getArea&&r.getArea();return t.get("clip",!0)?i:null},e.prototype.updateTransform=function(t,r,i){var a=t.getData();this.group.dirty();var o=k1("").reset(t,r,i);o.progress&&o.progress({start:0,end:a.count(),count:a.count()},a),this._symbolDraw.updateLayout()},e.prototype._updateGroupTransform=function(t){var r=t.coordinateSystem;r&&r.getRoamTransform&&(this.group.transform=pZ(r.getRoamTransform()),this.group.decomposeTransform())},e.prototype.remove=function(t,r){this._symbolDraw&&this._symbolDraw.remove(!0)},e.type="effectScatter",e})(sr),FDe=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return e.prototype.getInitialData=function(t,r){return zu(null,this,{useEncodeDefaulter:!0})},e.prototype.brushSelector=function(t,r,i){return i.point(r.getItemLayout(t))},e.type="series.effectScatter",e.dependencies=["grid","polar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},e})(pr);function zDe(n){n.registerChartView(kDe),n.registerSeriesModel(FDe),n.registerLayout(k1("effectScatter"))}var LQ=(function(n){Se(e,n);function e(t,r,i){var a=n.call(this)||this;return a.add(a.createLine(t,r,i)),a._updateEffectSymbol(t,r),a}return e.prototype.createLine=function(t,r,i){return new X3(t,r,i)},e.prototype._updateEffectSymbol=function(t,r){var i=t.getItemModel(r),a=i.getModel("effect"),o=a.get("symbolSize"),s=a.get("symbol");ze(o)||(o=[o,o]);var l=t.getItemVisual(r,"style"),u=a.get("color")||l&&l.stroke,c=this.childAt(1);this._symbolType!==s&&(this.remove(c),c=ci(s,-.5,-.5,1,1,u),c.z2=100,c.culling=!0,this.add(c)),c&&(c.setStyle("shadowColor",u),c.setStyle(a.getItemStyle(["color"])),c.scaleX=o[0],c.scaleY=o[1],c.setColor(u),this._symbolType=s,this._symbolScale=o,this._updateEffectAnimation(t,a,r))},e.prototype._updateEffectAnimation=function(t,r,i){var a=this.childAt(1);if(a){var o=t.getItemLayout(i),s=r.get("period")*1e3,l=r.get("loop"),u=r.get("roundTrip"),c=r.get("constantSpeed"),f=Gi(r.get("delay"),function(d){return d/t.count()*s/3});if(a.ignore=!0,this._updateAnimationPoints(a,o),c>0&&(s=this._getLineLength(a)/c*1e3),s!==this._period||l!==this._loop||u!==this._roundTrip){a.stopAnimation();var h=void 0;Ct(f)?h=f(i):h=f,a.__t>0&&(h=-s*a.__t),this._animateSymbol(a,s,h,l,u)}this._period=s,this._loop=l,this._roundTrip=u}},e.prototype._animateSymbol=function(t,r,i,a,o){if(r>0){t.__t=0;var s=this,l=t.animate("",a).when(o?r*2:r,{__t:o?2:1}).delay(i).during(function(){s._updateSymbolPosition(t)});a||l.done(function(){s.remove(t)}),l.start()}},e.prototype._getLineLength=function(t){return Fc(t.__p1,t.__cp1)+Fc(t.__cp1,t.__p2)},e.prototype._updateAnimationPoints=function(t,r){t.__p1=r[0],t.__p2=r[1],t.__cp1=r[2]||[(r[0][0]+r[1][0])/2,(r[0][1]+r[1][1])/2]},e.prototype.updateData=function(t,r,i){this.childAt(0).updateData(t,r,i),this._updateEffectSymbol(t,r)},e.prototype._updateSymbolPosition=function(t){var r=t.__p1,i=t.__p2,a=t.__cp1,o=t.__t<1?t.__t:2-t.__t,s=[t.x,t.y],l=s.slice(),u=na,c=qL;s[0]=u(r[0],a[0],i[0],o),s[1]=u(r[1],a[1],i[1],o);var f=t.__t<1?c(r[0],a[0],i[0],o):c(i[0],a[0],r[0],1-o),h=t.__t<1?c(r[1],a[1],i[1],o):c(i[1],a[1],r[1],1-o);t.rotation=-Math.atan2(h,f)-Math.PI/2,(this._symbolType==="line"||this._symbolType==="rect"||this._symbolType==="roundRect")&&(t.__lastT!==void 0&&t.__lastT<t.__t?(t.scaleY=Fc(l,s)*1.05,o===1&&(s[0]=l[0]+(s[0]-l[0])/2,s[1]=l[1]+(s[1]-l[1])/2)):t.__lastT===1?t.scaleY=2*Fc(r,s):t.scaleY=this._symbolScale[1]),t.__lastT=t.__t,t.ignore=!1,t.x=s[0],t.y=s[1]},e.prototype.updateLayout=function(t,r){this.childAt(0).updateLayout(t,r);var i=t.getItemModel(r).getModel("effect");this._updateEffectAnimation(t,i,r)},e})(Xt),IQ=(function(n){Se(e,n);function e(t,r,i){var a=n.call(this)||this;return a._createPolyline(t,r,i),a}return e.prototype._createPolyline=function(t,r,i){var a=t.getItemLayout(r),o=new Za({shape:{points:a}});this.add(o),this._updateCommonStl(t,r,i)},e.prototype.updateData=function(t,r,i){var a=t.hostModel,o=this.childAt(0),s={shape:{points:t.getItemLayout(r)}};Xn(o,s,a,r),this._updateCommonStl(t,r,i)},e.prototype._updateCommonStl=function(t,r,i){var a=this.childAt(0),o=t.getItemModel(r),s=i&&i.emphasisLineStyle,l=i&&i.focus,u=i&&i.blurScope,c=i&&i.emphasisDisabled;if(!i||t.hasItemOption){var f=o.getModel("emphasis");s=f.getModel("lineStyle").getLineStyle(),c=f.get("disabled"),l=f.get("focus"),u=f.get("blurScope")}a.useStyle(t.getItemVisual(r,"style")),a.style.fill=null,a.style.strokeNoScale=!0;var h=a.ensureState("emphasis");h.style=s,Vr(this,l,u,c)},e.prototype.updateLayout=function(t,r){var i=this.childAt(0);i.setShape("points",t.getItemLayout(r))},e})(Xt),BDe=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t._lastFrame=0,t._lastFramePercent=0,t}return e.prototype.createLine=function(t,r,i){return new IQ(t,r,i)},e.prototype._updateAnimationPoints=function(t,r){this._points=r;for(var i=[0],a=0,o=1;o<r.length;o++){var s=r[o-1],l=r[o];a+=Fc(s,l),i.push(a)}if(a===0){this._length=0;return}for(var o=0;o<i.length;o++)i[o]/=a;this._offsets=i,this._length=a},e.prototype._getLineLength=function(){return this._length},e.prototype._updateSymbolPosition=function(t){var r=t.__t<1?t.__t:2-t.__t,i=this._points,a=this._offsets,o=i.length;if(a){var s=this._lastFrame,l;if(r<this._lastFramePercent){var u=Math.min(s+1,o-1);for(l=u;l>=0&&!(a[l]<=r);l--);l=Math.min(l,o-2)}else{for(l=s;l<o&&!(a[l]>r);l++);l=Math.min(l-1,o-2)}var c=(r-a[l])/(a[l+1]-a[l]),f=i[l],h=i[l+1];t.x=f[0]*(1-c)+c*h[0],t.y=f[1]*(1-c)+c*h[1];var d=t.__t<1?h[0]-f[0]:f[0]-h[0],p=t.__t<1?h[1]-f[1]:f[1]-h[1];t.rotation=-Math.atan2(p,d)-Math.PI/2,this._lastFrame=l,this._lastFramePercent=r,t.ignore=!1}},e})(LQ),UDe=(function(){function n(){this.polyline=!1,this.curveness=0,this.segs=[]}return n})(),VDe=(function(n){Se(e,n);function e(t){var r=n.call(this,t)||this;return r._off=0,r.hoverDataIdx=-1,r}return e.prototype.reset=function(){this.notClear=!1,this._off=0},e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new UDe},e.prototype.buildPath=function(t,r){var i=r.segs,a=r.curveness,o;if(r.polyline)for(o=this._off;o<i.length;){var s=i[o++];if(s>0){t.moveTo(i[o++],i[o++]);for(var l=1;l<s;l++)t.lineTo(i[o++],i[o++])}}else for(o=this._off;o<i.length;){var u=i[o++],c=i[o++],f=i[o++],h=i[o++];if(t.moveTo(u,c),a>0){var d=(u+f)/2-(c-h)*a,p=(c+h)/2-(f-u)*a;t.quadraticCurveTo(d,p,f,h)}else t.lineTo(f,h)}this.incremental&&(this._off=o,this.notClear=!0)},e.prototype.findDataIndex=function(t,r){var i=this.shape,a=i.segs,o=i.curveness,s=this.style.lineWidth;if(i.polyline)for(var l=0,u=0;u<a.length;){var c=a[u++];if(c>0)for(var f=a[u++],h=a[u++],d=1;d<c;d++){var p=a[u++],g=a[u++];if(fh(f,h,p,g,s,t,r))return l}l++}else for(var l=0,u=0;u<a.length;){var f=a[u++],h=a[u++],p=a[u++],g=a[u++];if(o>0){var m=(f+p)/2-(h-g)*o,y=(h+g)/2-(p-f)*o;if(a$(f,h,m,y,p,g,s,t,r))return l}else if(fh(f,h,p,g,s,t,r))return l;l++}return-1},e.prototype.contain=function(t,r){var i=this.transformCoordToLocal(t,r),a=this.getBoundingRect();if(t=i[0],r=i[1],a.contain(t,r)){var o=this.hoverDataIdx=this.findDataIndex(t,r);return o>=0}return this.hoverDataIdx=-1,!1},e.prototype.getBoundingRect=function(){var t=this._rect;if(!t){for(var r=this.shape,i=r.segs,a=1/0,o=1/0,s=-1/0,l=-1/0,u=0;u<i.length;){var c=i[u++],f=i[u++];a=Math.min(c,a),s=Math.max(c,s),o=Math.min(f,o),l=Math.max(f,l)}t=this._rect=new fn(a,o,s,l)}return t},e})(Tn),GDe=(function(){function n(){this.group=new Xt}return n.prototype.updateData=function(e){this._clear();var t=this._create();t.setShape({segs:e.getLayout("linesPoints")}),this._setCommon(t,e)},n.prototype.incrementalPrepareUpdate=function(e){this.group.removeAll(),this._clear()},n.prototype.incrementalUpdate=function(e,t){var r=this._newAdded[0],i=t.getLayout("linesPoints"),a=r&&r.shape.segs;if(a&&a.length<2e4){var o=a.length,s=new Float32Array(o+i.length);s.set(a),s.set(i,o),r.setShape({segs:s})}else{this._newAdded=[];var l=this._create();l.incremental=!0,l.setShape({segs:i}),this._setCommon(l,t),l.__startIndex=e.start}},n.prototype.remove=function(){this._clear()},n.prototype.eachRendered=function(e){this._newAdded[0]&&e(this._newAdded[0])},n.prototype._create=function(){var e=new VDe({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(e),this.group.add(e),e},n.prototype._setCommon=function(e,t,r){var i=t.hostModel;e.setShape({polyline:i.get("polyline"),curveness:i.get(["lineStyle","curveness"])}),e.useStyle(i.getModel("lineStyle").getLineStyle()),e.style.strokeNoScale=!0;var a=t.getVisual("style");a&&a.stroke&&e.setStyle("stroke",a.stroke),e.setStyle("fill",null);var o=$t(e);o.seriesIndex=i.seriesIndex,e.on("mousemove",function(s){o.dataIndex=null;var l=e.hoverDataIdx;l>0&&(o.dataIndex=l+e.__startIndex)})},n.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},n})(),NQ={seriesType:"lines",plan:r0(),reset:function(n){var e=n.coordinateSystem;if(e){var t=n.get("polyline"),r=n.pipelineContext.large;return{progress:function(i,a){var o=[];if(r){var s=void 0,l=i.end-i.start;if(t){for(var u=0,c=i.start;c<i.end;c++)u+=n.getLineCoordsCount(c);s=new Float32Array(l+u*2)}else s=new Float32Array(l*4);for(var f=0,h=[],c=i.start;c<i.end;c++){var d=n.getLineCoords(c,o);t&&(s[f++]=d);for(var p=0;p<d;p++)h=e.dataToPoint(o[p],!1,h),s[f++]=h[0],s[f++]=h[1]}a.setLayout("linesPoints",s)}else for(var c=i.start;c<i.end;c++){var g=a.getItemModel(c),d=n.getLineCoords(c,o),m=[];if(t)for(var y=0;y<d;y++)m.push(e.dataToPoint(o[y]));else{m[0]=e.dataToPoint(o[0]),m[1]=e.dataToPoint(o[1]);var S=g.get(["lineStyle","curveness"]);+S&&(m[2]=[(m[0][0]+m[1][0])/2-(m[0][1]-m[1][1])*S,(m[0][1]+m[1][1])/2-(m[1][0]-m[0][0])*S])}a.setItemLayout(c,m)}}}}}},HDe=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i){var a=t.getData(),o=this._updateLineDraw(a,t),s=t.get("zlevel"),l=t.get(["effect","trailLength"]),u=i.getZr(),c=u.painter.getType()==="svg";c||u.painter.getLayer(s).clear(!0),this._lastZlevel!=null&&!c&&u.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(t)&&l>0&&(c||u.configLayer(s,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(l/10+.9,1),0)})),o.updateData(a);var f=t.get("clip",!0)&&O1(t.coordinateSystem,!1,t);f?this.group.setClipPath(f):this.group.removeClipPath(),this._lastZlevel=s,this._finished=!0},e.prototype.incrementalPrepareRender=function(t,r,i){var a=t.getData(),o=this._updateLineDraw(a,t);o.incrementalPrepareUpdate(a),this._clearLayer(i),this._finished=!1},e.prototype.incrementalRender=function(t,r,i){this._lineDraw.incrementalUpdate(t,r.getData()),this._finished=t.end===r.getData().count()},e.prototype.eachRendered=function(t){this._lineDraw&&this._lineDraw.eachRendered(t)},e.prototype.updateTransform=function(t,r,i){var a=t.getData(),o=t.pipelineContext;if(!this._finished||o.large||o.progressiveRender)return{update:!0};var s=NQ.reset(t,r,i);s.progress&&s.progress({start:0,end:a.count(),count:a.count()},a),this._lineDraw.updateLayout(),this._clearLayer(i)},e.prototype._updateLineDraw=function(t,r){var i=this._lineDraw,a=this._showEffect(r),o=!!r.get("polyline"),s=r.pipelineContext,l=s.large;return(!i||a!==this._hasEffet||o!==this._isPolyline||l!==this._isLargeDraw)&&(i&&i.remove(),i=this._lineDraw=l?new GDe:new Y3(o?a?BDe:IQ:a?LQ:X3),this._hasEffet=a,this._isPolyline=o,this._isLargeDraw=l),this.group.add(i.group),i},e.prototype._showEffect=function(t){return!!t.get(["effect","show"])},e.prototype._clearLayer=function(t){var r=t.getZr(),i=r.painter.getType()==="svg";!i&&this._lastZlevel!=null&&r.painter.getLayer(this._lastZlevel).clear(!0)},e.prototype.remove=function(t,r){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(r)},e.prototype.dispose=function(t,r){this.remove(t,r)},e.type="lines",e})(sr),WDe=typeof Uint32Array>"u"?Array:Uint32Array,XDe=typeof Float64Array>"u"?Array:Float64Array;function $W(n){var e=n.data;e&&e[0]&&e[0][0]&&e[0][0].coord&&(n.data=Ve(e,function(t){var r=[t[0].coord,t[1].coord],i={coords:r};return t[0].name&&(i.fromName=t[0].name),t[1].name&&(i.toName=t[1].name),hC([i,t[0],t[1]])}))}var YDe=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.visualStyleAccessPath="lineStyle",t.visualDrawType="stroke",t}return e.prototype.init=function(t){t.data=t.data||[],$W(t);var r=this._processFlatCoordsArray(t.data);this._flatCoords=r.flatCoords,this._flatCoordsOffset=r.flatCoordsOffset,r.flatCoords&&(t.data=new Float32Array(r.count)),n.prototype.init.apply(this,arguments)},e.prototype.mergeOption=function(t){if($W(t),t.data){var r=this._processFlatCoordsArray(t.data);this._flatCoords=r.flatCoords,this._flatCoordsOffset=r.flatCoordsOffset,r.flatCoords&&(t.data=new Float32Array(r.count))}n.prototype.mergeOption.apply(this,arguments)},e.prototype.appendData=function(t){var r=this._processFlatCoordsArray(t.data);r.flatCoords&&(this._flatCoords?(this._flatCoords=My(this._flatCoords,r.flatCoords),this._flatCoordsOffset=My(this._flatCoordsOffset,r.flatCoordsOffset)):(this._flatCoords=r.flatCoords,this._flatCoordsOffset=r.flatCoordsOffset),t.data=new Float32Array(r.count)),this.getRawData().appendData(t.data)},e.prototype._getCoordsFromItemModel=function(t){var r=this.getData().getItemModel(t),i=r.option instanceof Array?r.option:r.getShallow("coords");return i},e.prototype.getLineCoordsCount=function(t){return this._flatCoordsOffset?this._flatCoordsOffset[t*2+1]:this._getCoordsFromItemModel(t).length},e.prototype.getLineCoords=function(t,r){if(this._flatCoordsOffset){for(var i=this._flatCoordsOffset[t*2],a=this._flatCoordsOffset[t*2+1],o=0;o<a;o++)r[o]=r[o]||[],r[o][0]=this._flatCoords[i+o*2],r[o][1]=this._flatCoords[i+o*2+1];return a}else{for(var s=this._getCoordsFromItemModel(t),o=0;o<s.length;o++)r[o]=r[o]||[],r[o][0]=s[o][0],r[o][1]=s[o][1];return s.length}},e.prototype._processFlatCoordsArray=function(t){var r=0;if(this._flatCoords&&(r=this._flatCoords.length),Hn(t[0])){for(var i=t.length,a=new WDe(i),o=new XDe(i),s=0,l=0,u=0,c=0;c<i;){u++;var f=t[c++];a[l++]=s+r,a[l++]=f;for(var h=0;h<f;h++){var d=t[c++],p=t[c++];o[s++]=d,o[s++]=p}}return{flatCoordsOffset:new Uint32Array(a.buffer,0,l),flatCoords:o,count:u}}return{flatCoordsOffset:null,flatCoords:null,count:t.length}},e.prototype.getInitialData=function(t,r){var i=new Ga(["value"],this);return i.hasItemOption=!1,i.initData(t.data,[],function(a,o,s,l){if(a instanceof Array)return NaN;i.hasItemOption=!0;var u=a.value;if(u!=null)return u instanceof Array?u[l]:u}),i},e.prototype.formatTooltip=function(t,r,i){var a=this.getData(),o=a.getItemModel(t),s=o.get("name");if(s)return s;var l=o.get("fromName"),u=o.get("toName"),c=[];return l!=null&&c.push(l),u!=null&&c.push(u),Zi("nameValue",{name:c.join(" > ")})},e.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},e.prototype.getProgressive=function(){var t=this.option.progressive;return t??(this.option.large?1e4:this.get("progressive"))},e.prototype.getProgressiveThreshold=function(){var t=this.option.progressiveThreshold;return t??(this.option.large?2e4:this.get("progressiveThreshold"))},e.prototype.getZLevelKey=function(){var t=this.getModel("effect"),r=t.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:t.get("show")&&r>0?r+"":""},e.type="series.lines",e.dependencies=["grid","polar","geo","calendar"],e.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},e})(pr);function AT(n){return n instanceof Array||(n=[n,n]),n}var jDe={seriesType:"lines",reset:function(n){var e=AT(n.get("symbol")),t=AT(n.get("symbolSize")),r=n.getData();r.setVisual("fromSymbol",e&&e[0]),r.setVisual("toSymbol",e&&e[1]),r.setVisual("fromSymbolSize",t&&t[0]),r.setVisual("toSymbolSize",t&&t[1]);function i(a,o){var s=a.getItemModel(o),l=AT(s.getShallow("symbol",!0)),u=AT(s.getShallow("symbolSize",!0));l[0]&&a.setItemVisual(o,"fromSymbol",l[0]),l[1]&&a.setItemVisual(o,"toSymbol",l[1]),u[0]&&a.setItemVisual(o,"fromSymbolSize",u[0]),u[1]&&a.setItemVisual(o,"toSymbolSize",u[1])}return{dataEach:r.hasItemOption?i:null}}};function ZDe(n){n.registerChartView(HDe),n.registerSeriesModel(YDe),n.registerLayout(NQ),n.registerVisual(jDe)}var $De=256,qDe=(function(){function n(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var e=Vl.createCanvas();this.canvas=e}return n.prototype.update=function(e,t,r,i,a,o){var s=this._getBrush(),l=this._getGradient(a,"inRange"),u=this._getGradient(a,"outOfRange"),c=this.pointSize+this.blurSize,f=this.canvas,h=f.getContext("2d"),d=e.length;f.width=t,f.height=r;for(var p=0;p<d;++p){var g=e[p],m=g[0],y=g[1],S=g[2],M=i(S);h.globalAlpha=M,h.drawImage(s,m-c,y-c)}if(!f.width||!f.height)return f;for(var b=h.getImageData(0,0,f.width,f.height),C=b.data,A=0,E=C.length,I=this.minOpacity,L=this.maxOpacity,R=L-I;A<E;){var M=C[A+3]/256,O=Math.floor(M*($De-1))*4;if(M>0){var U=o(M)?l:u;M>0&&(M=M*R+I),C[A++]=U[O],C[A++]=U[O+1],C[A++]=U[O+2],C[A++]=U[O+3]*M*256}else A+=4}return h.putImageData(b,0,0),f},n.prototype._getBrush=function(){var e=this._brushCanvas||(this._brushCanvas=Vl.createCanvas()),t=this.pointSize+this.blurSize,r=t*2;e.width=r,e.height=r;var i=e.getContext("2d");return i.clearRect(0,0,r,r),i.shadowOffsetX=r,i.shadowBlur=this.blurSize,i.shadowColor="#000",i.beginPath(),i.arc(-t,t,this.pointSize,0,Math.PI*2,!0),i.closePath(),i.fill(),e},n.prototype._getGradient=function(e,t){for(var r=this._gradientPixels,i=r[t]||(r[t]=new Uint8ClampedArray(256*4)),a=[0,0,0,0],o=0,s=0;s<256;s++)e[t](s/255,!0,a),i[o++]=a[0],i[o++]=a[1],i[o++]=a[2],i[o++]=a[3];return i},n})();function KDe(n,e,t){var r=n[1]-n[0];e=Ve(e,function(o){return{interval:[(o.interval[0]-n[0])/r,(o.interval[1]-n[0])/r]}});var i=e.length,a=0;return function(o){var s;for(s=a;s<i;s++){var l=e[s].interval;if(l[0]<=o&&o<=l[1]){a=s;break}}if(s===i)for(s=a-1;s>=0;s--){var l=e[s].interval;if(l[0]<=o&&o<=l[1]){a=s;break}}return s>=0&&s<i&&t[s]}}function JDe(n,e){var t=n[1]-n[0];return e=[(e[0]-n[0])/t,(e[1]-n[0])/t],function(r){return r>=e[0]&&r<=e[1]}}function qW(n){var e=n.dimensions;return e[0]==="lng"&&e[1]==="lat"}var QDe=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i){var a;r.eachComponent("visualMap",function(s){s.eachTargetSeries(function(l){l===t&&(a=s)})}),this._progressiveEls=null,this.group.removeAll();var o=t.coordinateSystem;o.type==="cartesian2d"||o.type==="calendar"?this._renderOnCartesianAndCalendar(t,i,0,t.getData().count()):qW(o)&&this._renderOnGeo(o,t,a,i)},e.prototype.incrementalPrepareRender=function(t,r,i){this.group.removeAll()},e.prototype.incrementalRender=function(t,r,i,a){var o=r.coordinateSystem;o&&(qW(o)?this.render(r,i,a):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(r,a,t.start,t.end,!0)))},e.prototype.eachRendered=function(t){Zh(this._progressiveEls||this.group,t)},e.prototype._renderOnCartesianAndCalendar=function(t,r,i,a,o){var s=t.coordinateSystem,l=Gv(s,"cartesian2d"),u,c,f,h;if(l){var d=s.getAxis("x"),p=s.getAxis("y");u=d.getBandWidth()+.5,c=p.getBandWidth()+.5,f=d.scale.getExtent(),h=p.scale.getExtent()}for(var g=this.group,m=t.getData(),y=t.getModel(["emphasis","itemStyle"]).getItemStyle(),S=t.getModel(["blur","itemStyle"]).getItemStyle(),M=t.getModel(["select","itemStyle"]).getItemStyle(),b=t.get(["itemStyle","borderRadius"]),C=ji(t),A=t.getModel("emphasis"),E=A.get("focus"),I=A.get("blurScope"),L=A.get("disabled"),R=l?[m.mapDimension("x"),m.mapDimension("y"),m.mapDimension("value")]:[m.mapDimension("time"),m.mapDimension("value")],O=i;O<a;O++){var U=void 0,V=m.getItemVisual(O,"style");if(l){var W=m.get(R[0],O),X=m.get(R[1],O);if(isNaN(m.get(R[2],O))||isNaN(W)||isNaN(X)||W<f[0]||W>f[1]||X<h[0]||X>h[1])continue;var j=s.dataToPoint([W,X]);U=new kn({shape:{x:j[0]-u/2,y:j[1]-c/2,width:u,height:c},style:V})}else{if(isNaN(m.get(R[1],O)))continue;U=new kn({z2:1,shape:s.dataToRect([m.get(R[0],O)]).contentShape,style:V})}if(m.hasItemOption){var Q=m.getItemModel(O),B=Q.getModel("emphasis");y=B.getModel("itemStyle").getItemStyle(),S=Q.getModel(["blur","itemStyle"]).getItemStyle(),M=Q.getModel(["select","itemStyle"]).getItemStyle(),b=Q.get(["itemStyle","borderRadius"]),E=B.get("focus"),I=B.get("blurScope"),L=B.get("disabled"),C=ji(Q)}U.shape.r=b;var Z=t.getRawValue(O),q="-";Z&&Z[2]!=null&&(q=Z[2]+""),Sa(U,C,{labelFetcher:t,labelDataIndex:O,defaultOpacity:V.opacity,defaultText:q}),U.ensureState("emphasis").style=y,U.ensureState("blur").style=S,U.ensureState("select").style=M,Vr(U,E,I,L),U.incremental=o,o&&(U.states.emphasis.hoverLayer=!0),g.add(U),m.setItemGraphicEl(O,U),this._progressiveEls&&this._progressiveEls.push(U)}},e.prototype._renderOnGeo=function(t,r,i,a){var o=i.targetVisuals.inRange,s=i.targetVisuals.outOfRange,l=r.getData(),u=this._hmLayer||this._hmLayer||new qDe;u.blurSize=r.get("blurSize"),u.pointSize=r.get("pointSize"),u.minOpacity=r.get("minOpacity"),u.maxOpacity=r.get("maxOpacity");var c=t.getViewRect().clone(),f=t.getRoamTransform();c.applyTransform(f);var h=Math.max(c.x,0),d=Math.max(c.y,0),p=Math.min(c.width+c.x,a.getWidth()),g=Math.min(c.height+c.y,a.getHeight()),m=p-h,y=g-d,S=[l.mapDimension("lng"),l.mapDimension("lat"),l.mapDimension("value")],M=l.mapArray(S,function(E,I,L){var R=t.dataToPoint([E,I]);return R[0]-=h,R[1]-=d,R.push(L),R}),b=i.getExtent(),C=i.type==="visualMap.continuous"?JDe(b,i.option.range):KDe(b,i.getPieceList(),i.option.selected);u.update(M,m,y,o.color.getNormalizer(),{inRange:o.color.getColorMapper(),outOfRange:s.color.getColorMapper()},C);var A=new $i({style:{width:m,height:y,x:h,y:d,image:u.canvas},silent:!0});this.group.add(A)},e.type="heatmap",e})(sr),eRe=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getInitialData=function(t,r){return zu(null,this,{generateCoord:"value"})},e.prototype.preventIncremental=function(){var t=n0.get(this.get("coordinateSystem"));if(t&&t.dimensions)return t.dimensions[0]==="lng"&&t.dimensions[1]==="lat"},e.type="series.heatmap",e.dependencies=["grid","geo","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},e})(pr);function tRe(n){n.registerChartView(QDe),n.registerSeriesModel(eRe)}var nRe=["itemStyle","borderWidth"],KW=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],QR=new ku,rRe=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i){var a=this.group,o=t.getData(),s=this._data,l=t.coordinateSystem,u=l.getBaseAxis(),c=u.isHorizontal(),f=l.master.getRect(),h={ecSize:{width:i.getWidth(),height:i.getHeight()},seriesModel:t,coordSys:l,coordSysExtent:[[f.x,f.x+f.width],[f.y,f.y+f.height]],isHorizontal:c,valueDim:KW[+c],categoryDim:KW[1-+c]};o.diff(s).add(function(p){if(o.hasValue(p)){var g=QW(o,p),m=JW(o,p,g,h),y=e6(o,h,m);o.setItemGraphicEl(p,y),a.add(y),n6(y,h,m)}}).update(function(p,g){var m=s.getItemGraphicEl(g);if(!o.hasValue(p)){a.remove(m);return}var y=QW(o,p),S=JW(o,p,y,h),M=UQ(o,S);m&&M!==m.__pictorialShapeStr&&(a.remove(m),o.setItemGraphicEl(p,null),m=null),m?cRe(m,h,S):m=e6(o,h,S,!0),o.setItemGraphicEl(p,m),m.__pictorialSymbolMeta=S,a.add(m),n6(m,h,S)}).remove(function(p){var g=s.getItemGraphicEl(p);g&&t6(s,p,g.__pictorialSymbolMeta.animationModel,g)}).execute();var d=t.get("clip",!0)?O1(t.coordinateSystem,!1,t):null;return d?a.setClipPath(d):a.removeClipPath(),this._data=o,this.group},e.prototype.remove=function(t,r){var i=this.group,a=this._data;t.get("animation")?a&&a.eachItemGraphicEl(function(o){t6(a,$t(o).dataIndex,t,o)}):i.removeAll()},e.type="pictorialBar",e})(sr);function JW(n,e,t,r){var i=n.getItemLayout(e),a=t.get("symbolRepeat"),o=t.get("symbolClip"),s=t.get("symbolPosition")||"start",l=t.get("symbolRotate"),u=(l||0)*Math.PI/180||0,c=t.get("symbolPatternSize")||2,f=t.isAnimationEnabled(),h={dataIndex:e,layout:i,itemModel:t,symbolType:n.getItemVisual(e,"symbol")||"circle",style:n.getItemVisual(e,"style"),symbolClip:o,symbolRepeat:a,symbolRepeatDirection:t.get("symbolRepeatDirection"),symbolPatternSize:c,rotation:u,animationModel:f?t:null,hoverScale:f&&t.get(["emphasis","scale"]),z2:t.getShallow("z",!0)||0};iRe(t,a,i,r,h),aRe(n,e,i,a,o,h.boundingLength,h.pxSign,c,r,h),oRe(t,h.symbolScale,u,r,h);var d=h.symbolSize,p=Vv(t.get("symbolOffset"),d);return sRe(t,d,i,a,o,p,s,h.valueLineWidth,h.boundingLength,h.repeatCutLength,r,h),h}function iRe(n,e,t,r,i){var a=r.valueDim,o=n.get("symbolBoundingData"),s=r.coordSys.getOtherAxis(r.coordSys.getBaseAxis()),l=s.toGlobalCoord(s.dataToCoord(0)),u=1-+(t[a.wh]<=0),c;if(ze(o)){var f=[e2(s,o[0])-l,e2(s,o[1])-l];f[1]<f[0]&&f.reverse(),c=f[u]}else o!=null?c=e2(s,o)-l:e?c=r.coordSysExtent[a.index][u]-l:c=t[a.wh];i.boundingLength=c,e&&(i.repeatCutLength=t[a.wh]);var h=a.xy==="x",d=s.inverse;i.pxSign=h&&!d||!h&&d?c>=0?1:-1:c>0?1:-1}function e2(n,e){return n.toGlobalCoord(n.dataToCoord(n.scale.parse(e)))}function aRe(n,e,t,r,i,a,o,s,l,u){var c=l.valueDim,f=l.categoryDim,h=Math.abs(t[f.wh]),d=n.getItemVisual(e,"symbolSize"),p;ze(d)?p=d.slice():d==null?p=["100%","100%"]:p=[d,d],p[f.index]=rt(p[f.index],h),p[c.index]=rt(p[c.index],r?h:Math.abs(a)),u.symbolSize=p;var g=u.symbolScale=[p[0]/s,p[1]/s];g[c.index]*=(l.isHorizontal?-1:1)*o}function oRe(n,e,t,r,i){var a=n.get(nRe)||0;a&&(QR.attr({scaleX:e[0],scaleY:e[1],rotation:t}),QR.updateTransform(),a/=QR.getLineScale(),a*=e[r.valueDim.index]),i.valueLineWidth=a||0}function sRe(n,e,t,r,i,a,o,s,l,u,c,f){var h=c.categoryDim,d=c.valueDim,p=f.pxSign,g=Math.max(e[d.index]+s,0),m=g;if(r){var y=Math.abs(l),S=Gi(n.get("symbolMargin"),"15%")+"",M=!1;S.lastIndexOf("!")===S.length-1&&(M=!0,S=S.slice(0,S.length-1));var b=rt(S,e[d.index]),C=Math.max(g+b*2,0),A=M?0:b*2,E=Mk(r),I=E?r:r6((y+A)/C),L=y-I*g;b=L/2/(M?I:Math.max(I-1,1)),C=g+b*2,A=M?0:b*2,!E&&r!=="fixed"&&(I=u?r6((Math.abs(u)+A)/C):0),m=I*C-A,f.repeatTimes=I,f.symbolMargin=b}var R=p*(m/2),O=f.pathPosition=[];O[h.index]=t[h.wh]/2,O[d.index]=o==="start"?R:o==="end"?l-R:l/2,a&&(O[0]+=a[0],O[1]+=a[1]);var U=f.bundlePosition=[];U[h.index]=t[h.xy],U[d.index]=t[d.xy];var V=f.barRectShape=Le({},t);V[d.wh]=p*Math.max(Math.abs(t[d.wh]),Math.abs(O[d.index]+R)),V[h.wh]=t[h.wh];var W=f.clipShape={};W[h.xy]=-t[h.xy],W[h.wh]=c.ecSize[h.wh],W[d.xy]=0,W[d.wh]=t[d.wh]}function OQ(n){var e=n.symbolPatternSize,t=ci(n.symbolType,-e/2,-e/2,e,e);return t.attr({culling:!0}),t.type!=="image"&&t.setStyle({strokeNoScale:!0}),t}function kQ(n,e,t,r){var i=n.__pictorialBundle,a=t.symbolSize,o=t.valueLineWidth,s=t.pathPosition,l=e.valueDim,u=t.repeatTimes||0,c=0,f=a[e.valueDim.index]+o+t.symbolMargin*2;for(nF(n,function(g){g.__pictorialAnimationIndex=c,g.__pictorialRepeatTimes=u,c<u?dy(g,null,p(c),t,r):dy(g,null,{scaleX:0,scaleY:0},t,r,function(){i.remove(g)}),c++});c<u;c++){var h=OQ(t);h.__pictorialAnimationIndex=c,h.__pictorialRepeatTimes=u,i.add(h);var d=p(c);dy(h,{x:d.x,y:d.y,scaleX:0,scaleY:0},{scaleX:d.scaleX,scaleY:d.scaleY,rotation:d.rotation},t,r)}function p(g){var m=s.slice(),y=t.pxSign,S=g;return(t.symbolRepeatDirection==="start"?y>0:y<0)&&(S=u-1-g),m[l.index]=f*(S-u/2+.5)+s[l.index],{x:m[0],y:m[1],scaleX:t.symbolScale[0],scaleY:t.symbolScale[1],rotation:t.rotation}}}function FQ(n,e,t,r){var i=n.__pictorialBundle,a=n.__pictorialMainPath;a?dy(a,null,{x:t.pathPosition[0],y:t.pathPosition[1],scaleX:t.symbolScale[0],scaleY:t.symbolScale[1],rotation:t.rotation},t,r):(a=n.__pictorialMainPath=OQ(t),i.add(a),dy(a,{x:t.pathPosition[0],y:t.pathPosition[1],scaleX:0,scaleY:0,rotation:t.rotation},{scaleX:t.symbolScale[0],scaleY:t.symbolScale[1]},t,r))}function zQ(n,e,t){var r=Le({},e.barRectShape),i=n.__pictorialBarRect;i?dy(i,null,{shape:r},e,t):(i=n.__pictorialBarRect=new kn({z2:2,shape:r,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),i.disableMorphing=!0,n.add(i))}function BQ(n,e,t,r){if(t.symbolClip){var i=n.__pictorialClipPath,a=Le({},t.clipShape),o=e.valueDim,s=t.animationModel,l=t.dataIndex;if(i)Xn(i,{shape:a},s,l);else{a[o.wh]=0,i=new kn({shape:a}),n.__pictorialBundle.setClipPath(i),n.__pictorialClipPath=i;var u={};u[o.wh]=t.clipShape[o.wh],Bv[r?"updateProps":"initProps"](i,{shape:u},s,l)}}}function QW(n,e){var t=n.getItemModel(e);return t.getAnimationDelayParams=lRe,t.isAnimationEnabled=uRe,t}function lRe(n){return{index:n.__pictorialAnimationIndex,count:n.__pictorialRepeatTimes}}function uRe(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function e6(n,e,t,r){var i=new Xt,a=new Xt;return i.add(a),i.__pictorialBundle=a,a.x=t.bundlePosition[0],a.y=t.bundlePosition[1],t.symbolRepeat?kQ(i,e,t):FQ(i,e,t),zQ(i,t,r),BQ(i,e,t,r),i.__pictorialShapeStr=UQ(n,t),i.__pictorialSymbolMeta=t,i}function cRe(n,e,t){var r=t.animationModel,i=t.dataIndex,a=n.__pictorialBundle;Xn(a,{x:t.bundlePosition[0],y:t.bundlePosition[1]},r,i),t.symbolRepeat?kQ(n,e,t,!0):FQ(n,e,t,!0),zQ(n,t,!0),BQ(n,e,t,!0)}function t6(n,e,t,r){var i=r.__pictorialBarRect;i&&i.removeTextContent();var a=[];nF(r,function(o){a.push(o)}),r.__pictorialMainPath&&a.push(r.__pictorialMainPath),r.__pictorialClipPath&&(t=null),G(a,function(o){kh(o,{scaleX:0,scaleY:0},t,e,function(){r.parent&&r.parent.remove(r)})}),n.setItemGraphicEl(e,null)}function UQ(n,e){return[n.getItemVisual(e.dataIndex,"symbol")||"none",!!e.symbolRepeat,!!e.symbolClip].join(":")}function nF(n,e,t){G(n.__pictorialBundle.children(),function(r){r!==n.__pictorialBarRect&&e.call(t,r)})}function dy(n,e,t,r,i,a){e&&n.attr(e),r.symbolClip&&!i?t&&n.attr(t):t&&Bv[i?"updateProps":"initProps"](n,t,r.animationModel,r.dataIndex,a)}function n6(n,e,t){var r=t.dataIndex,i=t.itemModel,a=i.getModel("emphasis"),o=a.getModel("itemStyle").getItemStyle(),s=i.getModel(["blur","itemStyle"]).getItemStyle(),l=i.getModel(["select","itemStyle"]).getItemStyle(),u=i.getShallow("cursor"),c=a.get("focus"),f=a.get("blurScope"),h=a.get("scale");nF(n,function(g){if(g instanceof $i){var m=g.style;g.useStyle(Le({image:m.image,x:m.x,y:m.y,width:m.width,height:m.height},t.style))}else g.useStyle(t.style);var y=g.ensureState("emphasis");y.style=o,h&&(y.scaleX=g.scaleX*1.1,y.scaleY=g.scaleY*1.1),g.ensureState("blur").style=s,g.ensureState("select").style=l,u&&(g.cursor=u),g.z2=t.z2});var d=e.valueDim.posDesc[+(t.boundingLength>0)],p=n.__pictorialBarRect;p.ignoreClip=!0,Sa(p,ji(i),{labelFetcher:e.seriesModel,labelDataIndex:r,defaultText:Py(e.seriesModel.getData(),r),inheritColor:t.style.fill,defaultOpacity:t.style.opacity,defaultOutsidePosition:d}),Vr(n,c,f,a.get("disabled"))}function r6(n){var e=Math.round(n);return Math.abs(n-e)<1e-4?e:Math.ceil(n)}var fRe=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t.defaultSymbol="roundRect",t}return e.prototype.getInitialData=function(t){return t.stack=null,n.prototype.getInitialData.apply(this,arguments)},e.type="series.pictorialBar",e.dependencies=["grid"],e.defaultOption=$h(XS.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",clip:!1,progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),e})(XS);function hRe(n){n.registerChartView(rRe),n.registerSeriesModel(fRe),n.registerLayout(n.PRIORITY.VISUAL.LAYOUT,nn(MK,"pictorialBar")),n.registerLayout(n.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,TK("pictorialBar"))}var dRe=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._layers=[],t}return e.prototype.render=function(t,r,i){var a=t.getData(),o=this,s=this.group,l=t.getLayerSeries(),u=a.getLayout("layoutInfo"),c=u.rect,f=u.boundaryGap;s.x=0,s.y=c.y+f[0];function h(m){return m.name}var d=new nf(this._layersSeries||[],l,h,h),p=[];d.add(ht(g,this,"add")).update(ht(g,this,"update")).remove(ht(g,this,"remove")).execute();function g(m,y,S){var M=o._layers;if(m==="remove"){s.remove(M[y]);return}for(var b=[],C=[],A,E=l[y].indices,I=0;I<E.length;I++){var L=a.getItemLayout(E[I]),R=L.x,O=L.y0,U=L.y;b.push(R,O),C.push(R,O+U),A=a.getItemVisual(E[I],"style")}var V,W=a.getItemLayout(E[0]),X=t.getModel("label"),j=X.get("margin"),Q=t.getModel("emphasis");if(m==="add"){var B=p[y]=new Xt;V=new hJ({shape:{points:b,stackedOnPoints:C,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),B.add(V),s.add(B),t.isAnimationEnabled()&&V.setClipPath(pRe(V.getBoundingRect(),t,function(){V.removeClipPath()}))}else{var B=M[S];V=B.childAt(0),s.add(B),p[y]=B,Xn(V,{shape:{points:b,stackedOnPoints:C}},t),Wl(V)}Sa(V,ji(t),{labelDataIndex:E[I-1],defaultText:a.getName(E[I-1]),inheritColor:A.fill},{normal:{verticalAlign:"middle"}}),V.setTextConfig({position:null,local:!0});var Z=V.getTextContent();Z&&(Z.x=W.x-j,Z.y=W.y0+W.y/2),V.useStyle(A),a.setItemGraphicEl(y,V),xa(V,t),Vr(V,Q.get("focus"),Q.get("blurScope"),Q.get("disabled"))}this._layersSeries=l,this._layers=p},e.type="themeRiver",e})(sr);function pRe(n,e,t){var r=new kn({shape:{x:n.x-10,y:n.y-10,width:0,height:n.height+20}});return Dr(r,{shape:{x:n.x-50,width:n.width+100,height:n.height+20}},e,t),r}var t2=2,vRe=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new z1(ht(this.getData,this),ht(this.getRawData,this))},e.prototype.fixData=function(t){var r=t.length,i={},a=hI(t,function(h){return i.hasOwnProperty(h[0]+"")||(i[h[0]+""]=-1),h[2]}),o=[];a.buckets.each(function(h,d){o.push({name:d,dataList:h})});for(var s=o.length,l=0;l<s;++l){for(var u=o[l].name,c=0;c<o[l].dataList.length;++c){var f=o[l].dataList[c][0]+"";i[f]=l}for(var f in i)i.hasOwnProperty(f)&&i[f]!==l&&(i[f]=l,t[r]=[f,0,u],r++)}return t},e.prototype.getInitialData=function(t,r){for(var i=this.getReferringComponents("singleAxis",yi).models[0],a=i.get("type"),o=$n(t.data,function(p){return p[2]!==void 0}),s=this.fixData(o||[]),l=[],u=this.nameMap=xt(),c=0,f=0;f<s.length;++f)l.push(s[f][t2]),u.get(s[f][t2])||(u.set(s[f][t2],c),c++);var h=o0(s,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:iA(a)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,d=new Ga(h,this);return d.initData(s),d},e.prototype.getLayerSeries=function(){for(var t=this.getData(),r=t.count(),i=[],a=0;a<r;++a)i[a]=a;var o=t.mapDimension("single"),s=hI(i,function(u){return t.get("name",u)}),l=[];return s.buckets.each(function(u,c){u.sort(function(f,h){return t.get(o,f)-t.get(o,h)}),l.push({name:c,indices:u})}),l},e.prototype.getAxisTooltipData=function(t,r,i){ze(t)||(t=t?[t]:[]);for(var a=this.getData(),o=this.getLayerSeries(),s=[],l=o.length,u,c=0;c<l;++c){for(var f=Number.MAX_VALUE,h=-1,d=o[c].indices.length,p=0;p<d;++p){var g=a.get(t[0],o[c].indices[p]),m=Math.abs(g-r);m<=f&&(u=g,f=m,h=o[c].indices[p])}s.push(h)}return{dataIndices:s,nestestValue:u}},e.prototype.formatTooltip=function(t,r,i){var a=this.getData(),o=a.getName(t),s=a.get(a.mapDimension("value"),t);return Zi("nameValue",{name:o,value:s})},e.type="series.themeRiver",e.dependencies=["singleAxis"],e.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},e})(pr);function gRe(n,e){n.eachSeriesByType("themeRiver",function(t){var r=t.getData(),i=t.coordinateSystem,a={},o=i.getRect();a.rect=o;var s=t.get("boundaryGap"),l=i.getAxis();if(a.boundaryGap=s,l.orient==="horizontal"){s[0]=rt(s[0],o.height),s[1]=rt(s[1],o.height);var u=o.height-s[0]-s[1];i6(r,t,u)}else{s[0]=rt(s[0],o.width),s[1]=rt(s[1],o.width);var c=o.width-s[0]-s[1];i6(r,t,c)}r.setLayout("layoutInfo",a)})}function i6(n,e,t){if(n.count())for(var r=e.coordinateSystem,i=e.getLayerSeries(),a=n.mapDimension("single"),o=n.mapDimension("value"),s=Ve(i,function(m){return Ve(m.indices,function(y){var S=r.dataToPoint(n.get(a,y));return S[1]=n.get(o,y),S})}),l=mRe(s),u=l.y0,c=t/l.max,f=i.length,h=i[0].indices.length,d,p=0;p<h;++p){d=u[p]*c,n.setItemLayout(i[0].indices[p],{layerIndex:0,x:s[0][p][0],y0:d,y:s[0][p][1]*c});for(var g=1;g<f;++g)d+=s[g-1][p][1]*c,n.setItemLayout(i[g].indices[p],{layerIndex:g,x:s[g][p][0],y0:d,y:s[g][p][1]*c})}}function mRe(n){for(var e=n.length,t=n[0].length,r=[],i=[],a=0,o=0;o<t;++o){for(var s=0,l=0;l<e;++l)s+=n[l][o][1];s>a&&(a=s),r.push(s)}for(var u=0;u<t;++u)i[u]=(a-r[u])/2;a=0;for(var c=0;c<t;++c){var f=r[c]+i[c];f>a&&(a=f)}return{y0:i,max:a}}function yRe(n){n.registerChartView(dRe),n.registerSeriesModel(vRe),n.registerLayout(gRe),n.registerProcessor(F1("themeRiver"))}var _Re=2,xRe=4,a6=(function(n){Se(e,n);function e(t,r,i,a){var o=n.call(this)||this;o.z2=_Re,o.textConfig={inside:!0},$t(o).seriesIndex=r.seriesIndex;var s=new On({z2:xRe,silent:t.getModel().get(["label","silent"])});return o.setTextContent(s),o.updateData(!0,t,r,i,a),o}return e.prototype.updateData=function(t,r,i,a,o){this.node=r,r.piece=this,i=i||this._seriesModel,a=a||this._ecModel;var s=this;$t(s).dataIndex=r.dataIndex;var l=r.getModel(),u=l.getModel("emphasis"),c=r.getLayout(),f=Le({},c);f.label=null;var h=r.getVisual("style");h.lineJoin="bevel";var d=r.getVisual("decal");d&&(h.decal=Ey(d,o));var p=ev(l.getModel("itemStyle"),f,!0);Le(f,p),G(_o,function(S){var M=s.ensureState(S),b=l.getModel([S,"itemStyle"]);M.style=b.getItemStyle();var C=ev(b,f);C&&(M.shape=C)}),t?(s.setShape(f),s.shape.r=c.r0,Dr(s,{shape:{r:c.r}},i,r.dataIndex)):(Xn(s,{shape:f},i),Wl(s)),s.useStyle(h),this._updateLabel(i);var g=l.getShallow("cursor");g&&s.attr("cursor",g),this._seriesModel=i||this._seriesModel,this._ecModel=a||this._ecModel;var m=u.get("focus"),y=m==="relative"?My(r.getAncestorsIndices(),r.getDescendantIndices()):m==="ancestor"?r.getAncestorsIndices():m==="descendant"?r.getDescendantIndices():m;Vr(this,y,u.get("blurScope"),u.get("disabled"))},e.prototype._updateLabel=function(t){var r=this,i=this.node.getModel(),a=i.getModel("label"),o=this.node.getLayout(),s=o.endAngle-o.startAngle,l=(o.startAngle+o.endAngle)/2,u=Math.cos(l),c=Math.sin(l),f=this,h=f.getTextContent(),d=this.node.dataIndex,p=a.get("minAngle")/180*Math.PI,g=a.get("show")&&!(p!=null&&Math.abs(s)<p);h.ignore=!g,G(IS,function(y){var S=y==="normal"?i.getModel("label"):i.getModel([y,"label"]),M=y==="normal",b=M?h:h.ensureState(y),C=t.getFormattedLabel(d,y);M&&(C=C||r.node.name),b.style=_r(S,{},null,y!=="normal",!0),C&&(b.style.text=C);var A=S.get("show");A!=null&&!M&&(b.ignore=!A);var E=m(S,"position"),I=M?f:f.states[y],L=I.style.fill;I.textConfig={outsideFill:S.get("color")==="inherit"?L:null,inside:E!=="outside"};var R,O=m(S,"distance")||0,U=m(S,"align"),V=m(S,"rotate"),W=Math.PI*.5,X=Math.PI*1.5,j=ss(V==="tangential"?Math.PI/2-l:l),Q=j>W&&!Ty(j-W)&&j<X;E==="outside"?(R=o.r+O,U=Q?"right":"left"):!U||U==="center"?(s===2*Math.PI&&o.r0===0?R=0:R=(o.r+o.r0)/2,U="center"):U==="left"?(R=o.r0+O,U=Q?"right":"left"):U==="right"&&(R=o.r-O,U=Q?"left":"right"),b.style.align=U,b.style.verticalAlign=m(S,"verticalAlign")||"middle",b.x=R*u+o.cx,b.y=R*c+o.cy;var B=0;V==="radial"?B=ss(-l)+(Q?Math.PI:0):V==="tangential"?B=ss(Math.PI/2-l)+(Q?Math.PI:0):Hn(V)&&(B=V*Math.PI/180),b.rotation=ss(B)});function m(y,S){var M=y.get(S);return M??a.get(S)}h.dirtyStyle()},e})(Wa),dN="sunburstRootToNode",o6="sunburstHighlight",SRe="sunburstUnhighlight";function wRe(n){n.registerAction({type:dN,update:"updateView"},function(e,t){t.eachComponent({mainType:"series",subType:"sunburst",query:e},r);function r(i,a){var o=jS(e,[dN],i);if(o){var s=i.getViewRoot();s&&(e.direction=U3(s,o.node)?"rollUp":"drillDown"),i.resetViewRoot(o.node)}}}),n.registerAction({type:o6,update:"none"},function(e,t,r){e=Le({},e),t.eachComponent({mainType:"series",subType:"sunburst",query:e},i);function i(a){var o=jS(e,[o6],a);o&&(e.dataIndex=o.node.dataIndex)}r.dispatchAction(Le(e,{type:"highlight"}))}),n.registerAction({type:SRe,update:"updateView"},function(e,t,r){e=Le({},e),r.dispatchAction(Le(e,{type:"downplay"}))})}var MRe=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i,a){var o=this;this.seriesModel=t,this.api=i,this.ecModel=r;var s=t.getData(),l=s.tree.root,u=t.getViewRoot(),c=this.group,f=t.get("renderLabelForZeroData"),h=[];u.eachNode(function(S){h.push(S)});var d=this._oldChildren||[];p(h,d),y(l,u),this._initEvents(),this._oldChildren=h;function p(S,M){if(S.length===0&&M.length===0)return;new nf(M,S,b,b).add(C).update(C).remove(nn(C,null)).execute();function b(A){return A.getId()}function C(A,E){var I=A==null?null:S[A],L=E==null?null:M[E];g(I,L)}}function g(S,M){if(!f&&S&&!S.getValue()&&(S=null),S!==l&&M!==l){if(M&&M.piece)S?(M.piece.updateData(!1,S,t,r,i),s.setItemGraphicEl(S.dataIndex,M.piece)):m(M);else if(S){var b=new a6(S,t,r,i);c.add(b),s.setItemGraphicEl(S.dataIndex,b)}}}function m(S){S&&S.piece&&(c.remove(S.piece),S.piece=null)}function y(S,M){M.depth>0?(o.virtualPiece?o.virtualPiece.updateData(!1,S,t,r,i):(o.virtualPiece=new a6(S,t,r,i),c.add(o.virtualPiece)),M.piece.off("click"),o.virtualPiece.on("click",function(b){o._rootToNode(M.parentNode)})):o.virtualPiece&&(c.remove(o.virtualPiece),o.virtualPiece=null)}},e.prototype._initEvents=function(){var t=this;this.group.off("click"),this.group.on("click",function(r){var i=!1,a=t.seriesModel.getViewRoot();a.eachNode(function(o){if(!i&&o.piece&&o.piece===r.target){var s=o.getModel().get("nodeClick");if(s==="rootToNode")t._rootToNode(o);else if(s==="link"){var l=o.getModel(),u=l.get("link");if(u){var c=l.get("target",!0)||"_blank";Zb(u,c)}}i=!0}})})},e.prototype._rootToNode=function(t){t!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:dN,from:this.uid,seriesId:this.seriesModel.id,targetNode:t})},e.prototype.containPoint=function(t,r){var i=r.getData(),a=i.getItemLayout(0);if(a){var o=t[0]-a.cx,s=t[1]-a.cy,l=Math.sqrt(o*o+s*s);return l<=a.r&&l>=a.r0}},e.type="sunburst",e})(sr),TRe=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.ignoreStyleOnData=!0,t}return e.prototype.getInitialData=function(t,r){var i={name:t.name,children:t.data};VQ(i);var a=this._levelModels=Ve(t.levels||[],function(l){return new qn(l,this,r)},this),o=B3.createTree(i,this,s);function s(l){l.wrapMethod("getItemModel",function(u,c){var f=o.getNodeByDataIndex(c),h=a[f.depth];return h&&(u.parentModel=h),u})}return o.data},e.prototype.optionUpdated=function(){this.resetViewRoot()},e.prototype.getDataParams=function(t){var r=n.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(t);return r.treePathInfo=$C(i,this),r},e.prototype.getLevelModel=function(t){return this._levelModels&&this._levelModels[t.depth]},e.prototype.getViewRoot=function(){return this._viewRoot},e.prototype.resetViewRoot=function(t){t?this._viewRoot=t:t=this._viewRoot;var r=this.getRawData().tree.root;(!t||t!==r&&!r.contains(t))&&(this._viewRoot=r)},e.prototype.enableAriaDecal=function(){YJ(this)},e.type="series.sunburst",e.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},e})(pr);function VQ(n){var e=0;G(n.children,function(r){VQ(r);var i=r.value;ze(i)&&(i=i[0]),e+=i});var t=n.value;ze(t)&&(t=t[0]),(t==null||isNaN(t))&&(t=e),t<0&&(t=0),ze(n.value)?n.value[0]=t:n.value=t}var s6=Math.PI/180;function bRe(n,e,t){e.eachSeriesByType(n,function(r){var i=r.get("center"),a=r.get("radius");ze(a)||(a=[0,a]),ze(i)||(i=[i,i]);var o=t.getWidth(),s=t.getHeight(),l=Math.min(o,s),u=rt(i[0],o),c=rt(i[1],s),f=rt(a[0],l/2),h=rt(a[1],l/2),d=-r.get("startAngle")*s6,p=r.get("minAngle")*s6,g=r.getData().tree.root,m=r.getViewRoot(),y=m.depth,S=r.get("sort");S!=null&&GQ(m,S);var M=0;G(m.children,function(j){!isNaN(j.getValue())&&M++});var b=m.getValue(),C=Math.PI/(b||M)*2,A=m.depth>0,E=m.height-(A?-1:1),I=(h-f)/(E||1),L=r.get("clockwise"),R=r.get("stillShowZeroSum"),O=L?1:-1,U=function(j,Q){if(j){var B=Q;if(j!==g){var Z=j.getValue(),q=b===0&&R?C:Z*C;q<p&&(q=p),B=Q+O*q;var Y=j.depth-y-(A?-1:1),te=f+I*Y,me=f+I*(Y+1),ae=r.getLevelModel(j);if(ae){var fe=ae.get("r0",!0),be=ae.get("r",!0),Ee=ae.get("radius",!0);Ee!=null&&(fe=Ee[0],be=Ee[1]),fe!=null&&(te=rt(fe,l/2)),be!=null&&(me=rt(be,l/2))}j.setLayout({angle:q,startAngle:Q,endAngle:B,clockwise:L,cx:u,cy:c,r0:te,r:me})}if(j.children&&j.children.length){var Be=0;G(j.children,function(Oe){Be+=U(Oe,Q+Be)})}return B-Q}};if(A){var V=f,W=f+I,X=Math.PI*2;g.setLayout({angle:X,startAngle:d,endAngle:d+X,clockwise:L,cx:u,cy:c,r0:V,r:W})}U(m,d)})}function GQ(n,e){var t=n.children||[];n.children=ARe(t,e),t.length&&G(n.children,function(r){GQ(r,e)})}function ARe(n,e){if(Ct(e)){var t=Ve(n,function(i,a){var o=i.getValue();return{params:{depth:i.depth,height:i.height,dataIndex:i.dataIndex,getValue:function(){return o}},index:a}});return t.sort(function(i,a){return e(i.params,a.params)}),Ve(t,function(i){return n[i.index]})}else{var r=e==="asc";return n.sort(function(i,a){var o=(i.getValue()-a.getValue())*(r?1:-1);return o===0?(i.dataIndex-a.dataIndex)*(r?-1:1):o})}}function CRe(n){var e={};function t(r,i,a){for(var o=r;o&&o.depth>1;)o=o.parentNode;var s=i.getColorFromPalette(o.name||o.dataIndex+"",e);return r.depth>1&&ut(s)&&(s=kb(s,(r.depth-1)/(a-1)*.5)),s}n.eachSeriesByType("sunburst",function(r){var i=r.getData(),a=i.tree;a.eachNode(function(o){var s=o.getModel(),l=s.getModel("itemStyle").getItemStyle();l.fill||(l.fill=t(o,r,a.root.height));var u=i.ensureUniqueItemVisual(o.dataIndex,"style");Le(u,l)})})}function ERe(n){n.registerChartView(MRe),n.registerSeriesModel(TRe),n.registerLayout(nn(bRe,"sunburst")),n.registerProcessor(nn(F1,"sunburst")),n.registerVisual(CRe),wRe(n)}var l6={color:"fill",borderColor:"stroke"},PRe={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},jc=Un(),DRe=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},e.prototype.getInitialData=function(t,r){return zu(null,this)},e.prototype.getDataParams=function(t,r,i){var a=n.prototype.getDataParams.call(this,t,r);return i&&(a.info=jc(i).info),a},e.type="series.custom",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},e})(pr);function RRe(n,e){return e=e||[0,0],Ve(["x","y"],function(t,r){var i=this.getAxis(t),a=e[r],o=n[r]/2;return i.type==="category"?i.getBandWidth():Math.abs(i.dataToCoord(a-o)-i.dataToCoord(a+o))},this)}function LRe(n){var e=n.master.getRect();return{coordSys:{type:"cartesian2d",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(t){return n.dataToPoint(t)},size:ht(RRe,n)}}}function IRe(n,e){return e=e||[0,0],Ve([0,1],function(t){var r=e[t],i=n[t]/2,a=[],o=[];return a[t]=r-i,o[t]=r+i,a[1-t]=o[1-t]=e[1-t],Math.abs(this.dataToPoint(a)[t]-this.dataToPoint(o)[t])},this)}function NRe(n){var e=n.getBoundingRect();return{coordSys:{type:"geo",x:e.x,y:e.y,width:e.width,height:e.height,zoom:n.getZoom()},api:{coord:function(t){return n.dataToPoint(t)},size:ht(IRe,n)}}}function ORe(n,e){var t=this.getAxis(),r=e instanceof Array?e[0]:e,i=(n instanceof Array?n[0]:n)/2;return t.type==="category"?t.getBandWidth():Math.abs(t.dataToCoord(r-i)-t.dataToCoord(r+i))}function kRe(n){var e=n.getRect();return{coordSys:{type:"singleAxis",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(t){return n.dataToPoint(t)},size:ht(ORe,n)}}}function FRe(n,e){return e=e||[0,0],Ve(["Radius","Angle"],function(t,r){var i="get"+t+"Axis",a=this[i](),o=e[r],s=n[r]/2,l=a.type==="category"?a.getBandWidth():Math.abs(a.dataToCoord(o-s)-a.dataToCoord(o+s));return t==="Angle"&&(l=l*Math.PI/180),l},this)}function zRe(n){var e=n.getRadiusAxis(),t=n.getAngleAxis(),r=e.getExtent();return r[0]>r[1]&&r.reverse(),{coordSys:{type:"polar",cx:n.cx,cy:n.cy,r:r[1],r0:r[0]},api:{coord:function(i){var a=e.dataToRadius(i[0]),o=t.dataToAngle(i[1]),s=n.coordToPoint([a,o]);return s.push(a,o*Math.PI/180),s},size:ht(FRe,n)}}}function BRe(n){var e=n.getRect(),t=n.getRangeInfo();return{coordSys:{type:"calendar",x:e.x,y:e.y,width:e.width,height:e.height,cellWidth:n.getCellWidth(),cellHeight:n.getCellHeight(),rangeInfo:{start:t.start,end:t.end,weeks:t.weeks,dayCount:t.allDay}},api:{coord:function(r,i){return n.dataToPoint(r,i)}}}}function HQ(n,e,t,r){return n&&(n.legacy||n.legacy!==!1&&!t&&!r&&e!=="tspan"&&(e==="text"||gt(n,"text")))}function WQ(n,e,t){var r=n,i,a,o;if(e==="text")o=r;else{o={},gt(r,"text")&&(o.text=r.text),gt(r,"rich")&&(o.rich=r.rich),gt(r,"textFill")&&(o.fill=r.textFill),gt(r,"textStroke")&&(o.stroke=r.textStroke),gt(r,"fontFamily")&&(o.fontFamily=r.fontFamily),gt(r,"fontSize")&&(o.fontSize=r.fontSize),gt(r,"fontStyle")&&(o.fontStyle=r.fontStyle),gt(r,"fontWeight")&&(o.fontWeight=r.fontWeight),a={type:"text",style:o,silent:!0},i={};var s=gt(r,"textPosition");t?i.position=s?r.textPosition:"inside":s&&(i.position=r.textPosition),gt(r,"textPosition")&&(i.position=r.textPosition),gt(r,"textOffset")&&(i.offset=r.textOffset),gt(r,"textRotation")&&(i.rotation=r.textRotation),gt(r,"textDistance")&&(i.distance=r.textDistance)}return u6(o,n),G(o.rich,function(l){u6(l,l)}),{textConfig:i,textContent:a}}function u6(n,e){e&&(e.font=e.textFont||e.font,gt(e,"textStrokeWidth")&&(n.lineWidth=e.textStrokeWidth),gt(e,"textAlign")&&(n.align=e.textAlign),gt(e,"textVerticalAlign")&&(n.verticalAlign=e.textVerticalAlign),gt(e,"textLineHeight")&&(n.lineHeight=e.textLineHeight),gt(e,"textWidth")&&(n.width=e.textWidth),gt(e,"textHeight")&&(n.height=e.textHeight),gt(e,"textBackgroundColor")&&(n.backgroundColor=e.textBackgroundColor),gt(e,"textPadding")&&(n.padding=e.textPadding),gt(e,"textBorderColor")&&(n.borderColor=e.textBorderColor),gt(e,"textBorderWidth")&&(n.borderWidth=e.textBorderWidth),gt(e,"textBorderRadius")&&(n.borderRadius=e.textBorderRadius),gt(e,"textBoxShadowColor")&&(n.shadowColor=e.textBoxShadowColor),gt(e,"textBoxShadowBlur")&&(n.shadowBlur=e.textBoxShadowBlur),gt(e,"textBoxShadowOffsetX")&&(n.shadowOffsetX=e.textBoxShadowOffsetX),gt(e,"textBoxShadowOffsetY")&&(n.shadowOffsetY=e.textBoxShadowOffsetY))}function c6(n,e,t){var r=n;r.textPosition=r.textPosition||t.position||"inside",t.offset!=null&&(r.textOffset=t.offset),t.rotation!=null&&(r.textRotation=t.rotation),t.distance!=null&&(r.textDistance=t.distance);var i=r.textPosition.indexOf("inside")>=0,a=n.fill||"#000";f6(r,e);var o=r.textFill==null;return i?o&&(r.textFill=t.insideFill||"#fff",!r.textStroke&&t.insideStroke&&(r.textStroke=t.insideStroke),!r.textStroke&&(r.textStroke=a),r.textStrokeWidth==null&&(r.textStrokeWidth=2)):(o&&(r.textFill=n.fill||t.outsideFill||"#000"),!r.textStroke&&t.outsideStroke&&(r.textStroke=t.outsideStroke)),r.text=e.text,r.rich=e.rich,G(e.rich,function(s){f6(s,s)}),r}function f6(n,e){e&&(gt(e,"fill")&&(n.textFill=e.fill),gt(e,"stroke")&&(n.textStroke=e.fill),gt(e,"lineWidth")&&(n.textStrokeWidth=e.lineWidth),gt(e,"font")&&(n.font=e.font),gt(e,"fontStyle")&&(n.fontStyle=e.fontStyle),gt(e,"fontWeight")&&(n.fontWeight=e.fontWeight),gt(e,"fontSize")&&(n.fontSize=e.fontSize),gt(e,"fontFamily")&&(n.fontFamily=e.fontFamily),gt(e,"align")&&(n.textAlign=e.align),gt(e,"verticalAlign")&&(n.textVerticalAlign=e.verticalAlign),gt(e,"lineHeight")&&(n.textLineHeight=e.lineHeight),gt(e,"width")&&(n.textWidth=e.width),gt(e,"height")&&(n.textHeight=e.height),gt(e,"backgroundColor")&&(n.textBackgroundColor=e.backgroundColor),gt(e,"padding")&&(n.textPadding=e.padding),gt(e,"borderColor")&&(n.textBorderColor=e.borderColor),gt(e,"borderWidth")&&(n.textBorderWidth=e.borderWidth),gt(e,"borderRadius")&&(n.textBorderRadius=e.borderRadius),gt(e,"shadowColor")&&(n.textBoxShadowColor=e.shadowColor),gt(e,"shadowBlur")&&(n.textBoxShadowBlur=e.shadowBlur),gt(e,"shadowOffsetX")&&(n.textBoxShadowOffsetX=e.shadowOffsetX),gt(e,"shadowOffsetY")&&(n.textBoxShadowOffsetY=e.shadowOffsetY),gt(e,"textShadowColor")&&(n.textShadowColor=e.textShadowColor),gt(e,"textShadowBlur")&&(n.textShadowBlur=e.textShadowBlur),gt(e,"textShadowOffsetX")&&(n.textShadowOffsetX=e.textShadowOffsetX),gt(e,"textShadowOffsetY")&&(n.textShadowOffsetY=e.textShadowOffsetY))}var XQ={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},h6=En(XQ);Gs(Lu,function(n,e){return n[e]=1,n},{});Lu.join(", ");var gA=["","style","shape","extra"],Ly=Un();function rF(n,e,t,r,i){var a=n+"Animation",o=qy(n,r,i)||{},s=Ly(e).userDuring;return o.duration>0&&(o.during=s?ht(WRe,{el:e,userDuring:s}):null,o.setToFinal=!0,o.scope=n),Le(o,t[a]),o}function lb(n,e,t,r){r=r||{};var i=r.dataIndex,a=r.isInit,o=r.clearStyle,s=t.isAnimationEnabled(),l=Ly(n),u=e.style;l.userDuring=e.during;var c={},f={};if(YRe(n,e,f),p6("shape",e,f),p6("extra",e,f),!a&&s&&(XRe(n,e,c),d6("shape",n,e,c),d6("extra",n,e,c),jRe(n,e,u,c)),f.style=u,URe(n,f,o),GRe(n,e),s)if(a){var h={};G(gA,function(p){var g=p?e[p]:e;g&&g.enterFrom&&(p&&(h[p]=h[p]||{}),Le(p?h[p]:h,g.enterFrom))});var d=rF("enter",n,e,t,i);d.duration>0&&n.animateFrom(h,d)}else VRe(n,e,i||0,t,c);YQ(n,e),u?n.dirty():n.markRedraw()}function YQ(n,e){for(var t=Ly(n).leaveToProps,r=0;r<gA.length;r++){var i=gA[r],a=i?e[i]:e;a&&a.leaveTo&&(t||(t=Ly(n).leaveToProps={}),i&&(t[i]=t[i]||{}),Le(i?t[i]:t,a.leaveTo))}}function JC(n,e,t,r){if(n){var i=n.parent,a=Ly(n).leaveToProps;if(a){var o=rF("update",n,e,t,0);o.done=function(){i.remove(n)},n.animateTo(a,o)}else i.remove(n)}}function dv(n){return n==="all"}function URe(n,e,t){var r=e.style;if(!n.isGroup&&r){if(t){n.useStyle({});for(var i=n.animators,a=0;a<i.length;a++){var o=i[a];o.targetName==="style"&&o.changeTarget(n.style)}}n.setStyle(r)}e&&(e.style=null,e&&n.attr(e),e.style=r)}function VRe(n,e,t,r,i){if(i){var a=rF("update",n,e,r,t);a.duration>0&&n.animateFrom(i,a)}}function GRe(n,e){gt(e,"silent")&&(n.silent=e.silent),gt(e,"ignore")&&(n.ignore=e.ignore),n instanceof Hs&&gt(e,"invisible")&&(n.invisible=e.invisible),n instanceof Tn&&gt(e,"autoBatch")&&(n.autoBatch=e.autoBatch)}var du={},HRe={setTransform:function(n,e){return du.el[n]=e,this},getTransform:function(n){return du.el[n]},setShape:function(n,e){var t=du.el,r=t.shape||(t.shape={});return r[n]=e,t.dirtyShape&&t.dirtyShape(),this},getShape:function(n){var e=du.el.shape;if(e)return e[n]},setStyle:function(n,e){var t=du.el,r=t.style;return r&&(r[n]=e,t.dirtyStyle&&t.dirtyStyle()),this},getStyle:function(n){var e=du.el.style;if(e)return e[n]},setExtra:function(n,e){var t=du.el.extra||(du.el.extra={});return t[n]=e,this},getExtra:function(n){var e=du.el.extra;if(e)return e[n]}};function WRe(){var n=this,e=n.el;if(e){var t=Ly(e).userDuring,r=n.userDuring;if(t!==r){n.el=n.userDuring=null;return}du.el=e,r(HRe)}}function d6(n,e,t,r){var i=t[n];if(i){var a=e[n],o;if(a){var s=t.transition,l=i.transition;if(l)if(!o&&(o=r[n]={}),dv(l))Le(o,a);else for(var u=dr(l),c=0;c<u.length;c++){var f=u[c],h=a[f];o[f]=h}else if(dv(s)||dn(s,n)>=0){!o&&(o=r[n]={});for(var d=En(a),c=0;c<d.length;c++){var f=d[c],h=a[f];ZRe(i[f],h)&&(o[f]=h)}}}}}function p6(n,e,t){var r=e[n];if(r)for(var i=t[n]={},a=En(r),o=0;o<a.length;o++){var s=a[o];i[s]=Fx(r[s])}}function XRe(n,e,t){for(var r=e.transition,i=dv(r)?Lu:dr(r||[]),a=0;a<i.length;a++){var o=i[a];if(!(o==="style"||o==="shape"||o==="extra")){var s=n[o];t[o]=s}}}function YRe(n,e,t){for(var r=0;r<h6.length;r++){var i=h6[r],a=XQ[i],o=e[i];o&&(t[a[0]]=o[0],t[a[1]]=o[1])}for(var r=0;r<Lu.length;r++){var s=Lu[r];e[s]!=null&&(t[s]=e[s])}}function jRe(n,e,t,r){if(t){var i=n.style,a;if(i){var o=t.transition,s=e.transition;if(o&&!dv(o)){var l=dr(o);!a&&(a=r.style={});for(var u=0;u<l.length;u++){var c=l[u],f=i[c];a[c]=f}}else if(n.getAnimationStyleProps&&(dv(s)||dv(o)||dn(s,"style")>=0)){var h=n.getAnimationStyleProps(),d=h?h.style:null;if(d){!a&&(a=r.style={});for(var p=En(t),u=0;u<p.length;u++){var c=p[u];if(d[c]){var f=i[c];a[c]=f}}}}}}}function ZRe(n,e){return _a(n)?n!==e:n!=null&&isFinite(n)}var jQ=Un(),$Re=["percent","easing","shape","style","extra"];function ZQ(n){n.stopAnimation("keyframe"),n.attr(jQ(n))}function mA(n,e,t){if(!(!t.isAnimationEnabled()||!e)){if(ze(e)){G(e,function(s){mA(n,s,t)});return}var r=e.keyframes,i=e.duration;if(t&&i==null){var a=qy("enter",t,0);i=a&&a.duration}if(!(!r||!i)){var o=jQ(n);G(gA,function(s){if(!(s&&!n[s])){var l;r.sort(function(u,c){return u.percent-c.percent}),G(r,function(u){var c=n.animators,f=s?u[s]:u;if(f){var h=En(f);if(s||(h=$n(h,function(g){return dn($Re,g)<0})),!!h.length){l||(l=n.animate(s,e.loop,!0),l.scope="keyframe");for(var d=0;d<c.length;d++)c[d]!==l&&c[d].targetName===l.targetName&&c[d].stopTracks(h);s&&(o[s]=o[s]||{});var p=s?o[s]:o;G(h,function(g){p[g]=((s?n[s]:n)||{})[g]}),l.whenWithKeys(i*u.percent,f,h,u.easing)}}}),l&&l.delay(e.delay||0).duration(i).start(e.easing)}})}}}var Zc="emphasis",xh="normal",iF="blur",aF="select",Bh=[xh,Zc,iF,aF],n2={normal:["itemStyle"],emphasis:[Zc,"itemStyle"],blur:[iF,"itemStyle"],select:[aF,"itemStyle"]},r2={normal:["label"],emphasis:[Zc,"label"],blur:[iF,"label"],select:[aF,"label"]},qRe=["x","y"],KRe="e\0\0",Ps={normal:{},emphasis:{},blur:{},select:{}},JRe={cartesian2d:LRe,geo:NRe,single:kRe,polar:zRe,calendar:BRe};function pN(n){return n instanceof Tn}function vN(n){return n instanceof Hs}function QRe(n,e){e.copyTransform(n),vN(e)&&vN(n)&&(e.setStyle(n.style),e.z=n.z,e.z2=n.z2,e.zlevel=n.zlevel,e.invisible=n.invisible,e.ignore=n.ignore,pN(e)&&pN(n)&&e.setShape(n.shape))}var e2e=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i,a){this._progressiveEls=null;var o=this._data,s=t.getData(),l=this.group,u=v6(t,s,r,i);o||l.removeAll(),s.diff(o).add(function(f){i2(i,null,f,u(f,a),t,l,s)}).remove(function(f){var h=o.getItemGraphicEl(f);h&&JC(h,jc(h).option,t)}).update(function(f,h){var d=o.getItemGraphicEl(h);i2(i,d,f,u(f,a),t,l,s)}).execute();var c=t.get("clip",!0)?O1(t.coordinateSystem,!1,t):null;c?l.setClipPath(c):l.removeClipPath(),this._data=s},e.prototype.incrementalPrepareRender=function(t,r,i){this.group.removeAll(),this._data=null},e.prototype.incrementalRender=function(t,r,i,a,o){var s=r.getData(),l=v6(r,s,i,a),u=this._progressiveEls=[];function c(d){d.isGroup||(d.incremental=!0,d.ensureState("emphasis").hoverLayer=!0)}for(var f=t.start;f<t.end;f++){var h=i2(null,null,f,l(f,o),r,this.group,s);h&&(h.traverse(c),u.push(h))}},e.prototype.eachRendered=function(t){Zh(this._progressiveEls||this.group,t)},e.prototype.filterForExposedEvent=function(t,r,i,a){var o=r.element;if(o==null||i.name===o)return!0;for(;(i=i.__hostTarget||i.parent)&&i!==this.group;)if(i.name===o)return!0;return!1},e.type="custom",e})(sr);function oF(n){var e=n.type,t;if(e==="path"){var r=n.shape,i=r.width!=null&&r.height!=null?{x:r.x||0,y:r.y||0,width:r.width,height:r.height}:null,a=KQ(r);t=E1(a,null,i,r.layout||"center"),jc(t).customPathData=a}else if(e==="image")t=new $i({}),jc(t).customImagePath=n.style.image;else if(e==="text")t=new On({});else if(e==="group")t=new Xt;else{if(e==="compoundPath")throw new Error('"compoundPath" is not supported yet.');var o=EC(e);if(!o){var s="";tr(s)}t=new o}return jc(t).customGraphicType=e,t.name=n.name,t.z2EmphasisLift=1,t.z2SelectLift=1,t}function sF(n,e,t,r,i,a,o){ZQ(e);var s=i&&i.normal.cfg;s&&e.setTextConfig(s),r&&r.transition==null&&(r.transition=qRe);var l=r&&r.style;if(l){if(e.type==="text"){var u=l;gt(u,"textFill")&&(u.fill=u.textFill),gt(u,"textStroke")&&(u.stroke=u.textStroke)}var c=void 0,f=pN(e)?l.decal:null;n&&f&&(f.dirty=!0,c=Ey(f,n)),l.__decalPattern=c}if(vN(e)&&l){var c=l.__decalPattern;c&&(l.decal=c)}lb(e,r,a,{dataIndex:t,isInit:o,clearStyle:!0}),mA(e,r.keyframeAnimation,a)}function $Q(n,e,t,r,i){var a=e.isGroup?null:e,o=i&&i[n].cfg;if(a){var s=a.ensureState(n);if(r===!1){var l=a.getState(n);l&&(l.style=null)}else s.style=r||null;o&&(s.textConfig=o),Tv(a)}}function t2e(n,e,t){if(!n.isGroup){var r=n,i=t.currentZ,a=t.currentZLevel;r.z=i,r.zlevel=a;var o=e.z2;o!=null&&(r.z2=o||0);for(var s=0;s<Bh.length;s++)n2e(r,e,Bh[s])}}function n2e(n,e,t){var r=t===xh,i=r?e:yA(e,t),a=i?i.z2:null,o;a!=null&&(o=r?n:n.ensureState(t),o.z2=a||0)}function v6(n,e,t,r){var i=n.get("renderItem"),a=n.coordinateSystem,o={};a&&(o=a.prepareCustoms?a.prepareCustoms(a):JRe[a.type](a));for(var s=Dt({getWidth:r.getWidth,getHeight:r.getHeight,getZr:r.getZr,getDevicePixelRatio:r.getDevicePixelRatio,value:b,style:A,ordinalRawValue:C,styleEmphasis:E,visual:R,barLayout:O,currentSeriesIndices:U,font:V},o.api||{}),l={context:{},seriesId:n.id,seriesName:n.name,seriesIndex:n.seriesIndex,coordSys:o.coordSys,dataInsideLength:e.count(),encode:r2e(n.getData())},u,c,f={},h={},d={},p={},g=0;g<Bh.length;g++){var m=Bh[g];d[m]=n.getModel(n2[m]),p[m]=n.getModel(r2[m])}function y(W){return W===u?c||(c=e.getItemModel(W)):e.getItemModel(W)}function S(W,X){return e.hasItemOption?W===u?f[X]||(f[X]=y(W).getModel(n2[X])):y(W).getModel(n2[X]):d[X]}function M(W,X){return e.hasItemOption?W===u?h[X]||(h[X]=y(W).getModel(r2[X])):y(W).getModel(r2[X]):p[X]}return function(W,X){return u=W,c=null,f={},h={},i&&i(Dt({dataIndexInside:W,dataIndex:e.getRawIndex(W),actionType:X?X.type:null},l),s)};function b(W,X){return X==null&&(X=u),e.getStore().get(e.getDimensionIndex(W||0),X)}function C(W,X){X==null&&(X=u),W=W||0;var j=e.getDimensionInfo(W);if(!j){var Q=e.getDimensionIndex(W);return Q>=0?e.getStore().get(Q,X):void 0}var B=e.get(j.name,X),Z=j&&j.ordinalMeta;return Z?Z.categories[B]:B}function A(W,X){X==null&&(X=u);var j=e.getItemVisual(X,"style"),Q=j&&j.fill,B=j&&j.opacity,Z=S(X,xh).getItemStyle();Q!=null&&(Z.fill=Q),B!=null&&(Z.opacity=B);var q={inheritColor:ut(Q)?Q:"#000"},Y=M(X,xh),te=_r(Y,null,q,!1,!0);te.text=Y.getShallow("show")?tn(n.getFormattedLabel(X,xh),Py(e,X)):null;var me=Yb(Y,q,!1);return L(W,Z),Z=c6(Z,te,me),W&&I(Z,W),Z.legacy=!0,Z}function E(W,X){X==null&&(X=u);var j=S(X,Zc).getItemStyle(),Q=M(X,Zc),B=_r(Q,null,null,!0,!0);B.text=Q.getShallow("show")?Ol(n.getFormattedLabel(X,Zc),n.getFormattedLabel(X,xh),Py(e,X)):null;var Z=Yb(Q,null,!0);return L(W,j),j=c6(j,B,Z),W&&I(j,W),j.legacy=!0,j}function I(W,X){for(var j in X)gt(X,j)&&(W[j]=X[j])}function L(W,X){W&&(W.textFill&&(X.textFill=W.textFill),W.textPosition&&(X.textPosition=W.textPosition))}function R(W,X){if(X==null&&(X=u),gt(l6,W)){var j=e.getItemVisual(X,"style");return j?j[l6[W]]:null}if(gt(PRe,W))return e.getItemVisual(X,W)}function O(W){if(a.type==="cartesian2d"){var X=a.getBaseAxis();return Lwe(Dt({axis:X},W))}}function U(){return t.getCurrentSeriesIndices()}function V(W){return Uk(W,t)}}function r2e(n){var e={};return G(n.dimensions,function(t){var r=n.getDimensionInfo(t);if(!r.isExtraCoord){var i=r.coordDim,a=e[i]=e[i]||[];a[r.coordDimIndex]=n.getDimensionIndex(t)}}),e}function i2(n,e,t,r,i,a,o){if(!r){a.remove(e);return}var s=lF(n,e,t,r,i,a);return s&&o.setItemGraphicEl(t,s),s&&Vr(s,r.focus,r.blurScope,r.emphasisDisabled),s}function lF(n,e,t,r,i,a){var o=-1,s=e;e&&qQ(e,r,i)&&(o=dn(a.childrenRef(),e),e=null);var l=!e,u=e;u?u.clearStates():(u=oF(r),s&&QRe(s,u)),r.morph===!1?u.disableMorphing=!0:u.disableMorphing&&(u.disableMorphing=!1),Ps.normal.cfg=Ps.normal.conOpt=Ps.emphasis.cfg=Ps.emphasis.conOpt=Ps.blur.cfg=Ps.blur.conOpt=Ps.select.cfg=Ps.select.conOpt=null,Ps.isLegacy=!1,a2e(u,t,r,i,l,Ps),i2e(u,t,r,i,l),sF(n,u,t,r,Ps,i,l),gt(r,"info")&&(jc(u).info=r.info);for(var c=0;c<Bh.length;c++){var f=Bh[c];if(f!==xh){var h=yA(r,f),d=uF(r,h,f);$Q(f,u,h,d,Ps)}}return t2e(u,r,i),r.type==="group"&&o2e(n,u,t,r,i),o>=0?a.replaceAt(u,o):a.add(u),u}function qQ(n,e,t){var r=jc(n),i=e.type,a=e.shape,o=e.style;return t.isUniversalTransitionEnabled()||i!=null&&i!==r.customGraphicType||i==="path"&&c2e(a)&&KQ(a)!==r.customPathData||i==="image"&&gt(o,"image")&&o.image!==r.customImagePath}function i2e(n,e,t,r,i){var a=t.clipPath;if(a===!1)n&&n.getClipPath()&&n.removeClipPath();else if(a){var o=n.getClipPath();o&&qQ(o,a,r)&&(o=null),o||(o=oF(a),n.setClipPath(o)),sF(null,o,e,a,null,r,i)}}function a2e(n,e,t,r,i,a){if(!n.isGroup){g6(t,null,a),g6(t,Zc,a);var o=a.normal.conOpt,s=a.emphasis.conOpt,l=a.blur.conOpt,u=a.select.conOpt;if(o!=null||s!=null||u!=null||l!=null){var c=n.getTextContent();if(o===!1)c&&n.removeTextContent();else{o=a.normal.conOpt=o||{type:"text"},c?c.clearStates():(c=oF(o),n.setTextContent(c)),sF(null,c,e,o,null,r,i);for(var f=o&&o.style,h=0;h<Bh.length;h++){var d=Bh[h];if(d!==xh){var p=a[d].conOpt;$Q(d,c,p,uF(o,p,d),null)}}f?c.dirty():c.markRedraw()}}}}function g6(n,e,t){var r=e?yA(n,e):n,i=e?uF(n,r,Zc):n.style,a=n.type,o=r?r.textConfig:null,s=n.textContent,l=s?e?yA(s,e):s:null;if(i&&(t.isLegacy||HQ(i,a,!!o,!!l))){t.isLegacy=!0;var u=WQ(i,a,!e);!o&&u.textConfig&&(o=u.textConfig),!l&&u.textContent&&(l=u.textContent)}if(!e&&l){var c=l;!c.type&&(c.type="text")}var f=e?t[e]:t.normal;f.cfg=o,f.conOpt=l}function yA(n,e){return e?n?n[e]:null:n}function uF(n,e,t){var r=e&&e.style;return r==null&&t===Zc&&n&&(r=n.styleEmphasis),r}function o2e(n,e,t,r,i){var a=r.children,o=a?a.length:0,s=r.$mergeChildren,l=s==="byName"||r.diffChildrenByName,u=s===!1;if(!(!o&&!l&&!u)){if(l){l2e({api:n,oldChildren:e.children()||[],newChildren:a||[],dataIndex:t,seriesModel:i,group:e});return}u&&e.removeAll();for(var c=0;c<o;c++){var f=a[c],h=e.childAt(c);f?(f.ignore==null&&(f.ignore=!1),lF(n,h,t,f,i,e)):h.ignore=!0}for(var d=e.childCount()-1;d>=c;d--){var p=e.childAt(d);s2e(e,p,i)}}}function s2e(n,e,t){e&&JC(e,jc(n).option,t)}function l2e(n){new nf(n.oldChildren,n.newChildren,m6,m6,n).add(y6).update(y6).remove(u2e).execute()}function m6(n,e){var t=n&&n.name;return t??KRe+e}function y6(n,e){var t=this.context,r=n!=null?t.newChildren[n]:null,i=e!=null?t.oldChildren[e]:null;lF(t.api,i,t.dataIndex,r,t.seriesModel,t.group)}function u2e(n){var e=this.context,t=e.oldChildren[n];t&&JC(t,jc(t).option,e.seriesModel)}function KQ(n){return n&&(n.pathData||n.d)}function c2e(n){return n&&(gt(n,"pathData")||gt(n,"d"))}function f2e(n){n.registerChartView(e2e),n.registerSeriesModel(DRe)}var Fp=Un(),_6=Vt,a2=ht,cF=(function(){function n(){this._dragging=!1,this.animationThreshold=15}return n.prototype.render=function(e,t,r,i){var a=t.get("value"),o=t.get("status");if(this._axisModel=e,this._axisPointerModel=t,this._api=r,!(!i&&this._lastValue===a&&this._lastStatus===o)){this._lastValue=a,this._lastStatus=o;var s=this._group,l=this._handle;if(!o||o==="hide"){s&&s.hide(),l&&l.hide();return}s&&s.show(),l&&l.show();var u={};this.makeElOption(u,a,e,t,r);var c=u.graphicKey;c!==this._lastGraphicKey&&this.clear(r),this._lastGraphicKey=c;var f=this._moveAnimation=this.determineAnimation(e,t);if(!s)s=this._group=new Xt,this.createPointerEl(s,u,e,t),this.createLabelEl(s,u,e,t),r.getZr().add(s);else{var h=nn(x6,t,f);this.updatePointerEl(s,u,h),this.updateLabelEl(s,u,h,t)}w6(s,t,!0),this._renderHandle(a)}},n.prototype.remove=function(e){this.clear(e)},n.prototype.dispose=function(e){this.clear(e)},n.prototype.determineAnimation=function(e,t){var r=t.get("animation"),i=e.axis,a=i.type==="category",o=t.get("snap");if(!o&&!a)return!1;if(r==="auto"||r==null){var s=this.animationThreshold;if(a&&i.getBandWidth()>s)return!0;if(o){var l=L3(e).seriesDataCount,u=i.getExtent();return Math.abs(u[0]-u[1])/l>s}return!1}return r===!0},n.prototype.makeElOption=function(e,t,r,i,a){},n.prototype.createPointerEl=function(e,t,r,i){var a=t.pointer;if(a){var o=Fp(e).pointerEl=new Bv[a.type](_6(t.pointer));e.add(o)}},n.prototype.createLabelEl=function(e,t,r,i){if(t.label){var a=Fp(e).labelEl=new On(_6(t.label));e.add(a),S6(a,i)}},n.prototype.updatePointerEl=function(e,t,r){var i=Fp(e).pointerEl;i&&t.pointer&&(i.setStyle(t.pointer.style),r(i,{shape:t.pointer.shape}))},n.prototype.updateLabelEl=function(e,t,r,i){var a=Fp(e).labelEl;a&&(a.setStyle(t.label.style),r(a,{x:t.label.x,y:t.label.y}),S6(a,i))},n.prototype._renderHandle=function(e){if(!(this._dragging||!this.updateHandleTransform)){var t=this._axisPointerModel,r=this._api.getZr(),i=this._handle,a=t.getModel("handle"),o=t.get("status");if(!a.get("show")||!o||o==="hide"){i&&r.remove(i),this._handle=null;return}var s;this._handle||(s=!0,i=this._handle=Ky(a.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(u){Qc(u.event)},onmousedown:a2(this._onHandleDragMove,this,0,0),drift:a2(this._onHandleDragMove,this),ondragend:a2(this._onHandleDragEnd,this)}),r.add(i)),w6(i,t,!1),i.setStyle(a.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var l=a.get("size");ze(l)||(l=[l,l]),i.scaleX=l[0]/2,i.scaleY=l[1]/2,i0(this,"_doDispatchAxisPointer",a.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,s)}},n.prototype._moveHandleToValue=function(e,t){x6(this._axisPointerModel,!t&&this._moveAnimation,this._handle,o2(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},n.prototype._onHandleDragMove=function(e,t){var r=this._handle;if(r){this._dragging=!0;var i=this.updateHandleTransform(o2(r),[e,t],this._axisModel,this._axisPointerModel);this._payloadInfo=i,r.stopAnimation(),r.attr(o2(i)),Fp(r).lastProp=null,this._doDispatchAxisPointer()}},n.prototype._doDispatchAxisPointer=function(){var e=this._handle;if(e){var t=this._payloadInfo,r=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:r.axis.dim,axisIndex:r.componentIndex}]})}},n.prototype._onHandleDragEnd=function(){this._dragging=!1;var e=this._handle;if(e){var t=this._axisPointerModel.get("value");this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"})}},n.prototype.clear=function(e){this._lastValue=null,this._lastStatus=null;var t=e.getZr(),r=this._group,i=this._handle;t&&r&&(this._lastGraphicKey=null,r&&t.remove(r),i&&t.remove(i),this._group=null,this._handle=null,this._payloadInfo=null),BS(this,"_doDispatchAxisPointer")},n.prototype.doClear=function(){},n.prototype.buildLabel=function(e,t,r){return r=r||0,{x:e[r],y:e[1-r],width:t[r],height:t[1-r]}},n})();function x6(n,e,t,r){JQ(Fp(t).lastProp,r)||(Fp(t).lastProp=r,e?Xn(t,r,n):(t.stopAnimation(),t.attr(r)))}function JQ(n,e){if(Bt(n)&&Bt(e)){var t=!0;return G(e,function(r,i){t=t&&JQ(n[i],r)}),!!t}else return n===e}function S6(n,e){n[e.get(["label","show"])?"show":"hide"]()}function o2(n){return{x:n.x||0,y:n.y||0,rotation:n.rotation||0}}function w6(n,e,t){var r=e.get("z"),i=e.get("zlevel");n&&n.traverse(function(a){a.type!=="group"&&(r!=null&&(a.z=r),i!=null&&(a.zlevel=i),a.silent=t)})}function fF(n){var e=n.get("type"),t=n.getModel(e+"Style"),r;return e==="line"?(r=t.getLineStyle(),r.fill=null):e==="shadow"&&(r=t.getAreaStyle(),r.stroke=null),r}function QQ(n,e,t,r,i){var a=t.get("value"),o=eee(a,e.axis,e.ecModel,t.get("seriesDataIndices"),{precision:t.get(["label","precision"]),formatter:t.get(["label","formatter"])}),s=t.getModel("label"),l=Uv(s.get("padding")||0),u=s.getFont(),c=M1(o,u),f=i.position,h=c.width+l[1]+l[3],d=c.height+l[0]+l[2],p=i.align;p==="right"&&(f[0]-=h),p==="center"&&(f[0]-=h/2);var g=i.verticalAlign;g==="bottom"&&(f[1]-=d),g==="middle"&&(f[1]-=d/2),h2e(f,h,d,r);var m=s.get("backgroundColor");(!m||m==="auto")&&(m=e.get(["axisLine","lineStyle","color"])),n.label={x:f[0],y:f[1],style:_r(s,{text:o,font:u,fill:s.getTextColor(),padding:l,backgroundColor:m}),z2:10}}function h2e(n,e,t,r){var i=r.getWidth(),a=r.getHeight();n[0]=Math.min(n[0]+e,i)-e,n[1]=Math.min(n[1]+t,a)-t,n[0]=Math.max(n[0],0),n[1]=Math.max(n[1],0)}function eee(n,e,t,r,i){n=e.scale.parse(n);var a=e.scale.getLabel({value:n},{precision:i.precision}),o=i.formatter;if(o){var s={value:S3(e,{value:n}),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};G(r,function(l){var u=t.getSeriesByIndex(l.seriesIndex),c=l.dataIndexInside,f=u&&u.getDataParams(c);f&&s.seriesData.push(f)}),ut(o)?a=o.replace("{value}",a):Ct(o)&&(a=o(s))}return a}function hF(n,e,t){var r=Vo();return jh(r,r,t.rotation),Gl(r,r,t.position),zl([n.dataToCoord(e),(t.labelOffset||0)+(t.labelDirection||1)*(t.labelMargin||0)],r)}function tee(n,e,t,r,i,a){var o=mo.innerTextLayout(t.rotation,0,t.labelDirection);t.labelMargin=i.get(["label","margin"]),QQ(e,r,i,a,{position:hF(r.axis,n,t),align:o.textAlign,verticalAlign:o.textVerticalAlign})}function dF(n,e,t){return t=t||0,{x1:n[t],y1:n[1-t],x2:e[t],y2:e[1-t]}}function nee(n,e,t){return t=t||0,{x:n[t],y:n[1-t],width:e[t],height:e[1-t]}}function M6(n,e,t,r,i,a){return{cx:n,cy:e,r0:t,r,startAngle:i,endAngle:a,clockwise:!0}}var d2e=(function(n){Se(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.makeElOption=function(t,r,i,a,o){var s=i.axis,l=s.grid,u=a.get("type"),c=T6(l,s).getOtherAxis(s).getGlobalExtent(),f=s.toGlobalCoord(s.dataToCoord(r,!0));if(u&&u!=="none"){var h=fF(a),d=p2e[u](s,f,c);d.style=h,t.graphicKey=d.type,t.pointer=d}var p=$I(l.model,i);tee(r,t,p,i,a,o)},e.prototype.getHandleTransform=function(t,r,i){var a=$I(r.axis.grid.model,r,{labelInside:!1});a.labelMargin=i.get(["handle","margin"]);var o=hF(r.axis,t,a);return{x:o[0],y:o[1],rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,r,i,a){var o=i.axis,s=o.grid,l=o.getGlobalExtent(!0),u=T6(s,o).getOtherAxis(o).getGlobalExtent(),c=o.dim==="x"?0:1,f=[t.x,t.y];f[c]+=r[c],f[c]=Math.min(l[1],f[c]),f[c]=Math.max(l[0],f[c]);var h=(u[1]+u[0])/2,d=[h,h];d[c]=f[c];var p=[{verticalAlign:"middle"},{align:"center"}];return{x:f[0],y:f[1],rotation:t.rotation,cursorPoint:d,tooltipOption:p[c]}},e})(cF);function T6(n,e){var t={};return t[e.dim+"AxisIndex"]=e.index,n.getCartesian(t)}var p2e={line:function(n,e,t){var r=dF([e,t[0]],[e,t[1]],b6(n));return{type:"Line",subPixelOptimize:!0,shape:r}},shadow:function(n,e,t){var r=Math.max(1,n.getBandWidth()),i=t[1]-t[0];return{type:"Rect",shape:nee([e-r/2,t[0]],[r,i],b6(n))}}};function b6(n){return n.dim==="x"?0:1}var v2e=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="axisPointer",e.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},e})(wn),Vc=Un(),g2e=G;function ree(n,e,t){if(!Mn.node){var r=e.getZr();Vc(r).records||(Vc(r).records={}),m2e(r,e);var i=Vc(r).records[n]||(Vc(r).records[n]={});i.handler=t}}function m2e(n,e){if(Vc(n).initialized)return;Vc(n).initialized=!0,t("click",nn(A6,"click")),t("mousemove",nn(A6,"mousemove")),t("globalout",_2e);function t(r,i){n.on(r,function(a){var o=x2e(e);g2e(Vc(n).records,function(s){s&&i(s,a,o.dispatchAction)}),y2e(o.pendings,e)})}}function y2e(n,e){var t=n.showTip.length,r=n.hideTip.length,i;t?i=n.showTip[t-1]:r&&(i=n.hideTip[r-1]),i&&(i.dispatchAction=null,e.dispatchAction(i))}function _2e(n,e,t){n.handler("leave",null,t)}function A6(n,e,t,r){e.handler(n,t,r)}function x2e(n){var e={showTip:[],hideTip:[]},t=function(r){var i=e[r.type];i?i.push(r):(r.dispatchAction=t,n.dispatchAction(r))};return{dispatchAction:t,pendings:e}}function gN(n,e){if(!Mn.node){var t=e.getZr(),r=(Vc(t).records||{})[n];r&&(Vc(t).records[n]=null)}}var S2e=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i){var a=r.getComponent("tooltip"),o=t.get("triggerOn")||a&&a.get("triggerOn")||"mousemove|click";ree("axisPointer",i,function(s,l,u){o!=="none"&&(s==="leave"||o.indexOf(s)>=0)&&u({type:"updateAxisPointer",currTrigger:s,x:l&&l.offsetX,y:l&&l.offsetY})})},e.prototype.remove=function(t,r){gN("axisPointer",r)},e.prototype.dispose=function(t,r){gN("axisPointer",r)},e.type="axisPointer",e})(br);function iee(n,e){var t=[],r=n.seriesIndex,i;if(r==null||!(i=e.getSeriesByIndex(r)))return{point:[]};var a=i.getData(),o=wv(a,n);if(o==null||o<0||ze(o))return{point:[]};var s=a.getItemGraphicEl(o),l=i.coordinateSystem;if(i.getTooltipPosition)t=i.getTooltipPosition(o)||[];else if(l&&l.dataToPoint)if(n.isStacked){var u=l.getBaseAxis(),c=l.getOtherAxis(u),f=c.dim,h=u.dim,d=f==="x"||f==="radius"?1:0,p=a.mapDimension(h),g=[];g[d]=a.get(p,o),g[1-d]=a.get(a.getCalculationInfo("stackResultDimension"),o),t=l.dataToPoint(g)||[]}else t=l.dataToPoint(a.getValues(Ve(l.dimensions,function(y){return a.mapDimension(y)}),o))||[];else if(s){var m=s.getBoundingRect().clone();m.applyTransform(s.transform),t=[m.x+m.width/2,m.y+m.height/2]}return{point:t,el:s}}var C6=Un();function w2e(n,e,t){var r=n.currTrigger,i=[n.x,n.y],a=n,o=n.dispatchAction||ht(t.dispatchAction,t),s=e.getComponent("axisPointer").coordSysAxesInfo;if(s){ub(i)&&(i=iee({seriesIndex:a.seriesIndex,dataIndex:a.dataIndex},e).point);var l=ub(i),u=a.axesInfo,c=s.axesInfo,f=r==="leave"||ub(i),h={},d={},p={list:[],map:{}},g={showPointer:nn(T2e,d),showTooltip:nn(b2e,p)};G(s.coordSysMap,function(y,S){var M=l||y.containPoint(i);G(s.coordSysAxesInfo[S],function(b,C){var A=b.axis,E=P2e(u,b);if(!f&&M&&(!u||E)){var I=E&&E.value;I==null&&!l&&(I=A.pointToData(i)),I!=null&&E6(b,I,g,!1,h)}})});var m={};return G(c,function(y,S){var M=y.linkGroup;M&&!d[S]&&G(M.axesInfo,function(b,C){var A=d[C];if(b!==y&&A){var E=A.value;M.mapper&&(E=y.axis.scale.parse(M.mapper(E,P6(b),P6(y)))),m[y.key]=E}})}),G(m,function(y,S){E6(c[S],y,g,!0,h)}),A2e(d,c,h),C2e(p,i,n,o),E2e(c,o,t),h}}function E6(n,e,t,r,i){var a=n.axis;if(!(a.scale.isBlank()||!a.containData(e))){if(!n.involveSeries){t.showPointer(n,e);return}var o=M2e(e,n),s=o.payloadBatch,l=o.snapToValue;s[0]&&i.seriesIndex==null&&Le(i,s[0]),!r&&n.snap&&a.containData(l)&&l!=null&&(e=l),t.showPointer(n,e,s),t.showTooltip(n,o,l)}}function M2e(n,e){var t=e.axis,r=t.dim,i=n,a=[],o=Number.MAX_VALUE,s=-1;return G(e.seriesModels,function(l,u){var c=l.getData().mapDimensionsAll(r),f,h;if(l.getAxisTooltipData){var d=l.getAxisTooltipData(c,n,t);h=d.dataIndices,f=d.nestestValue}else{if(h=l.getData().indicesOfNearest(c[0],n,t.type==="category"?.5:null),!h.length)return;f=l.getData().get(c[0],h[0])}if(!(f==null||!isFinite(f))){var p=n-f,g=Math.abs(p);g<=o&&((g<o||p>=0&&s<0)&&(o=g,s=p,i=f,a.length=0),G(h,function(m){a.push({seriesIndex:l.seriesIndex,dataIndexInside:m,dataIndex:l.getData().getRawIndex(m)})}))}}),{payloadBatch:a,snapToValue:i}}function T2e(n,e,t,r){n[e.key]={value:t,payloadBatch:r}}function b2e(n,e,t,r){var i=t.payloadBatch,a=e.axis,o=a.model,s=e.axisPointerModel;if(!(!e.triggerTooltip||!i.length)){var l=e.coordSys.model,u=YS(l),c=n.map[u];c||(c=n.map[u]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},n.list.push(c)),c.dataByAxis.push({axisDim:a.dim,axisIndex:o.componentIndex,axisType:o.type,axisId:o.id,value:r,valueLabelOpt:{precision:s.get(["label","precision"]),formatter:s.get(["label","formatter"])},seriesDataIndices:i.slice()})}}function A2e(n,e,t){var r=t.axesInfo=[];G(e,function(i,a){var o=i.axisPointerModel.option,s=n[a];s?(!i.useHandle&&(o.status="show"),o.value=s.value,o.seriesDataIndices=(s.payloadBatch||[]).slice()):!i.useHandle&&(o.status="hide"),o.status==="show"&&r.push({axisDim:i.axis.dim,axisIndex:i.axis.model.componentIndex,value:o.value})})}function C2e(n,e,t,r){if(ub(e)||!n.list.length){r({type:"hideTip"});return}var i=((n.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};r({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:t.tooltipOption,position:t.position,dataIndexInside:i.dataIndexInside,dataIndex:i.dataIndex,seriesIndex:i.seriesIndex,dataByCoordSys:n.list})}function E2e(n,e,t){var r=t.getZr(),i="axisPointerLastHighlights",a=C6(r)[i]||{},o=C6(r)[i]={};G(n,function(u,c){var f=u.axisPointerModel.option;f.status==="show"&&u.triggerEmphasis&&G(f.seriesDataIndices,function(h){var d=h.seriesIndex+" | "+h.dataIndex;o[d]=h})});var s=[],l=[];G(a,function(u,c){!o[c]&&l.push(u)}),G(o,function(u,c){!a[c]&&s.push(u)}),l.length&&t.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:l}),s.length&&t.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:s})}function P2e(n,e){for(var t=0;t<(n||[]).length;t++){var r=n[t];if(e.axis.dim===r.axisDim&&e.axis.model.componentIndex===r.axisIndex)return r}}function P6(n){var e=n.axis.model,t={},r=t.axisDim=n.axis.dim;return t.axisIndex=t[r+"AxisIndex"]=e.componentIndex,t.axisName=t[r+"AxisName"]=e.name,t.axisId=t[r+"AxisId"]=e.id,t}function ub(n){return!n||n[0]==null||isNaN(n[0])||n[1]==null||isNaN(n[1])}function V1(n){Hv.registerAxisPointerClass("CartesianAxisPointer",d2e),n.registerComponentModel(v2e),n.registerComponentView(S2e),n.registerPreprocessor(function(e){if(e){(!e.axisPointer||e.axisPointer.length===0)&&(e.axisPointer={});var t=e.axisPointer.link;t&&!ze(t)&&(e.axisPointer.link=[t])}}),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,function(e,t){e.getComponent("axisPointer").coordSysAxesInfo=Bbe(e,t)}),n.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},w2e)}function D2e(n){Sn(LJ),Sn(V1)}var R2e=(function(n){Se(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.makeElOption=function(t,r,i,a,o){var s=i.axis;s.dim==="angle"&&(this.animationThreshold=Math.PI/18);var l=s.polar,u=l.getOtherAxis(s),c=u.getExtent(),f=s.dataToCoord(r),h=a.get("type");if(h&&h!=="none"){var d=fF(a),p=I2e[h](s,l,f,c);p.style=d,t.graphicKey=p.type,t.pointer=p}var g=a.get(["label","margin"]),m=L2e(r,i,a,l,g);QQ(t,i,a,o,m)},e})(cF);function L2e(n,e,t,r,i){var a=e.axis,o=a.dataToCoord(n),s=r.getAngleAxis().getExtent()[0];s=s/180*Math.PI;var l=r.getRadiusAxis().getExtent(),u,c,f;if(a.dim==="radius"){var h=Vo();jh(h,h,s),Gl(h,h,[r.cx,r.cy]),u=zl([o,-i],h);var d=e.getModel("axisLabel").get("rotate")||0,p=mo.innerTextLayout(s,d*Math.PI/180,-1);c=p.textAlign,f=p.textVerticalAlign}else{var g=l[1];u=r.coordToPoint([g+i,o]);var m=r.cx,y=r.cy;c=Math.abs(u[0]-m)/g<.3?"center":u[0]>m?"left":"right",f=Math.abs(u[1]-y)/g<.3?"middle":u[1]>y?"top":"bottom"}return{position:u,align:c,verticalAlign:f}}var I2e={line:function(n,e,t,r){return n.dim==="angle"?{type:"Line",shape:dF(e.coordToPoint([r[0],t]),e.coordToPoint([r[1],t]))}:{type:"Circle",shape:{cx:e.cx,cy:e.cy,r:t}}},shadow:function(n,e,t,r){var i=Math.max(1,n.getBandWidth()),a=Math.PI/180;return n.dim==="angle"?{type:"Sector",shape:M6(e.cx,e.cy,r[0],r[1],(-t-i/2)*a,(-t+i/2)*a)}:{type:"Sector",shape:M6(e.cx,e.cy,t-i/2,t+i/2,0,Math.PI*2)}}},N2e=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.findAxisModel=function(t){var r,i=this.ecModel;return i.eachComponent(t,function(a){a.getCoordSysModel()===this&&(r=a)},this),r},e.type="polar",e.dependencies=["radiusAxis","angleAxis"],e.defaultOption={z:0,center:["50%","50%"],radius:"80%"},e})(wn),pF=(function(n){Se(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",yi).models[0]},e.type="polarAxis",e})(wn);ti(pF,l0);var O2e=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="angleAxis",e})(pF),k2e=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="radiusAxis",e})(pF),vF=(function(n){Se(e,n);function e(t,r){return n.call(this,"radius",t,r)||this}return e.prototype.pointToData=function(t,r){return this.polar.pointToData(t,r)[this.dim==="radius"?0:1]},e})(Zs);vF.prototype.dataToRadius=Zs.prototype.dataToCoord;vF.prototype.radiusToData=Zs.prototype.coordToData;var F2e=Un(),gF=(function(n){Se(e,n);function e(t,r){return n.call(this,"angle",t,r||[0,360])||this}return e.prototype.pointToData=function(t,r){return this.polar.pointToData(t,r)[this.dim==="radius"?0:1]},e.prototype.calculateCategoryInterval=function(){var t=this,r=t.getLabelModel(),i=t.scale,a=i.getExtent(),o=i.count();if(a[1]-a[0]<1)return 0;var s=a[0],l=t.dataToCoord(s+1)-t.dataToCoord(s),u=Math.abs(l),c=M1(s==null?"":s+"",r.getFont(),"center","top"),f=Math.max(c.height,7),h=f/u;isNaN(h)&&(h=1/0);var d=Math.max(0,Math.floor(h)),p=F2e(t.model),g=p.lastAutoInterval,m=p.lastTickCount;return g!=null&&m!=null&&Math.abs(g-d)<=1&&Math.abs(m-o)<=1&&g>d?d=g:(p.lastTickCount=o,p.lastAutoInterval=d),d},e})(Zs);gF.prototype.dataToAngle=Zs.prototype.dataToCoord;gF.prototype.angleToData=Zs.prototype.coordToData;var aee=["radius","angle"],z2e=(function(){function n(e){this.dimensions=aee,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new vF,this._angleAxis=new gF,this.axisPointerEnabled=!0,this.name=e||"",this._radiusAxis.polar=this._angleAxis.polar=this}return n.prototype.containPoint=function(e){var t=this.pointToCoord(e);return this._radiusAxis.contain(t[0])&&this._angleAxis.contain(t[1])},n.prototype.containData=function(e){return this._radiusAxis.containData(e[0])&&this._angleAxis.containData(e[1])},n.prototype.getAxis=function(e){var t="_"+e+"Axis";return this[t]},n.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},n.prototype.getAxesByScale=function(e){var t=[],r=this._angleAxis,i=this._radiusAxis;return r.scale.type===e&&t.push(r),i.scale.type===e&&t.push(i),t},n.prototype.getAngleAxis=function(){return this._angleAxis},n.prototype.getRadiusAxis=function(){return this._radiusAxis},n.prototype.getOtherAxis=function(e){var t=this._angleAxis;return e===t?this._radiusAxis:t},n.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},n.prototype.getTooltipAxes=function(e){var t=e!=null&&e!=="auto"?this.getAxis(e):this.getBaseAxis();return{baseAxes:[t],otherAxes:[this.getOtherAxis(t)]}},n.prototype.dataToPoint=function(e,t){return this.coordToPoint([this._radiusAxis.dataToRadius(e[0],t),this._angleAxis.dataToAngle(e[1],t)])},n.prototype.pointToData=function(e,t){var r=this.pointToCoord(e);return[this._radiusAxis.radiusToData(r[0],t),this._angleAxis.angleToData(r[1],t)]},n.prototype.pointToCoord=function(e){var t=e[0]-this.cx,r=e[1]-this.cy,i=this.getAngleAxis(),a=i.getExtent(),o=Math.min(a[0],a[1]),s=Math.max(a[0],a[1]);i.inverse?o=s-360:s=o+360;var l=Math.sqrt(t*t+r*r);t/=l,r/=l;for(var u=Math.atan2(-r,t)/Math.PI*180,c=u<o?1:-1;u<o||u>s;)u+=c*360;return[l,u]},n.prototype.coordToPoint=function(e){var t=e[0],r=e[1]/180*Math.PI,i=Math.cos(r)*t+this.cx,a=-Math.sin(r)*t+this.cy;return[i,a]},n.prototype.getArea=function(){var e=this.getAngleAxis(),t=this.getRadiusAxis(),r=t.getExtent().slice();r[0]>r[1]&&r.reverse();var i=e.getExtent(),a=Math.PI/180,o=1e-4;return{cx:this.cx,cy:this.cy,r0:r[0],r:r[1],startAngle:-i[0]*a,endAngle:-i[1]*a,clockwise:e.inverse,contain:function(s,l){var u=s-this.cx,c=l-this.cy,f=u*u+c*c,h=this.r,d=this.r0;return h!==d&&f-o<=h*h&&f+o>=d*d}}},n.prototype.convertToPixel=function(e,t,r){var i=D6(t);return i===this?this.dataToPoint(r):null},n.prototype.convertFromPixel=function(e,t,r){var i=D6(t);return i===this?this.pointToData(r):null},n})();function D6(n){var e=n.seriesModel,t=n.polarModel;return t&&t.coordinateSystem||e&&e.coordinateSystem}function B2e(n,e,t){var r=e.get("center"),i=t.getWidth(),a=t.getHeight();n.cx=rt(r[0],i),n.cy=rt(r[1],a);var o=n.getRadiusAxis(),s=Math.min(i,a)/2,l=e.get("radius");l==null?l=[0,"100%"]:ze(l)||(l=[0,l]);var u=[rt(l[0],s),rt(l[1],s)];o.inverse?o.setExtent(u[1],u[0]):o.setExtent(u[0],u[1])}function U2e(n,e){var t=this,r=t.getAngleAxis(),i=t.getRadiusAxis();if(r.scale.setExtent(1/0,-1/0),i.scale.setExtent(1/0,-1/0),n.eachSeries(function(s){if(s.coordinateSystem===t){var l=s.getData();G(aA(l,"radius"),function(u){i.scale.unionExtentFromData(l,u)}),G(aA(l,"angle"),function(u){r.scale.unionExtentFromData(l,u)})}}),Av(r.scale,r.model),Av(i.scale,i.model),r.type==="category"&&!r.onBand){var a=r.getExtent(),o=360/r.scale.count();r.inverse?a[1]+=o:a[1]-=o,r.setExtent(a[0],a[1])}}function V2e(n){return n.mainType==="angleAxis"}function R6(n,e){var t;if(n.type=e.get("type"),n.scale=L1(e),n.onBand=e.get("boundaryGap")&&n.type==="category",n.inverse=e.get("inverse"),V2e(e)){n.inverse=n.inverse!==e.get("clockwise");var r=e.get("startAngle"),i=(t=e.get("endAngle"))!==null&&t!==void 0?t:r+(n.inverse?-360:360);n.setExtent(r,i)}e.axis=n,n.model=e}var G2e={dimensions:aee,create:function(n,e){var t=[];return n.eachComponent("polar",function(r,i){var a=new z2e(i+"");a.update=U2e;var o=a.getRadiusAxis(),s=a.getAngleAxis(),l=r.findAxisModel("radiusAxis"),u=r.findAxisModel("angleAxis");R6(o,l),R6(s,u),B2e(a,r,e),t.push(a),r.coordinateSystem=a,a.model=r}),n.eachSeries(function(r){if(r.get("coordinateSystem")==="polar"){var i=r.getReferringComponents("polar",yi).models[0];r.coordinateSystem=i.coordinateSystem}}),t}},H2e=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function CT(n,e,t){e[1]>e[0]&&(e=e.slice().reverse());var r=n.coordToPoint([e[0],t]),i=n.coordToPoint([e[1],t]);return{x1:r[0],y1:r[1],x2:i[0],y2:i[1]}}function ET(n){var e=n.getRadiusAxis();return e.inverse?0:1}function L6(n){var e=n[0],t=n[n.length-1];e&&t&&Math.abs(Math.abs(e.coord-t.coord)-360)<1e-4&&n.pop()}var W2e=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="PolarAxisPointer",t}return e.prototype.render=function(t,r){if(this.group.removeAll(),!!t.get("show")){var i=t.axis,a=i.polar,o=a.getRadiusAxis().getExtent(),s=i.getTicksCoords(),l=i.getMinorTicksCoords(),u=Ve(i.getViewLabels(),function(c){c=Vt(c);var f=i.scale,h=f.type==="ordinal"?f.getRawOrdinalNumber(c.tickValue):c.tickValue;return c.coord=i.dataToCoord(h),c});L6(u),L6(s),G(H2e,function(c){t.get([c,"show"])&&(!i.scale.isBlank()||c==="axisLine")&&X2e[c](this.group,t,a,s,l,o,u)},this)}},e.type="angleAxis",e})(Hv),X2e={axisLine:function(n,e,t,r,i,a){var o=e.getModel(["axisLine","lineStyle"]),s=t.getAngleAxis(),l=Math.PI/180,u=s.getExtent(),c=ET(t),f=c?0:1,h,d=Math.abs(u[1]-u[0])===360?"Circle":"Arc";a[f]===0?h=new Bv[d]({shape:{cx:t.cx,cy:t.cy,r:a[c],startAngle:-u[0]*l,endAngle:-u[1]*l,clockwise:s.inverse},style:o.getLineStyle(),z2:1,silent:!0}):h=new jy({shape:{cx:t.cx,cy:t.cy,r:a[c],r0:a[f]},style:o.getLineStyle(),z2:1,silent:!0}),h.style.fill=null,n.add(h)},axisTick:function(n,e,t,r,i,a){var o=e.getModel("axisTick"),s=(o.get("inside")?-1:1)*o.get("length"),l=a[ET(t)],u=Ve(r,function(c){return new Ri({shape:CT(t,[l,l+s],c.coord)})});n.add(is(u,{style:Dt(o.getModel("lineStyle").getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])})}))},minorTick:function(n,e,t,r,i,a){if(i.length){for(var o=e.getModel("axisTick"),s=e.getModel("minorTick"),l=(o.get("inside")?-1:1)*s.get("length"),u=a[ET(t)],c=[],f=0;f<i.length;f++)for(var h=0;h<i[f].length;h++)c.push(new Ri({shape:CT(t,[u,u+l],i[f][h].coord)}));n.add(is(c,{style:Dt(s.getModel("lineStyle").getLineStyle(),Dt(o.getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(n,e,t,r,i,a,o){var s=e.getCategories(!0),l=e.getModel("axisLabel"),u=l.get("margin"),c=e.get("triggerEvent");G(o,function(f,h){var d=l,p=f.tickValue,g=a[ET(t)],m=t.coordToPoint([g+u,f.coord]),y=t.cx,S=t.cy,M=Math.abs(m[0]-y)/g<.3?"center":m[0]>y?"left":"right",b=Math.abs(m[1]-S)/g<.3?"middle":m[1]>S?"top":"bottom";if(s&&s[p]){var C=s[p];Bt(C)&&C.textStyle&&(d=new qn(C.textStyle,l,l.ecModel))}var A=new On({silent:mo.isLabelSilent(e),style:_r(d,{x:m[0],y:m[1],fill:d.getTextColor()||e.get(["axisLine","lineStyle","color"]),text:f.formattedLabel,align:M,verticalAlign:b})});if(n.add(A),c){var E=mo.makeAxisEventDataBase(e);E.targetType="axisLabel",E.value=f.rawLabel,$t(A).eventData=E}},this)},splitLine:function(n,e,t,r,i,a){var o=e.getModel("splitLine"),s=o.getModel("lineStyle"),l=s.get("color"),u=0;l=l instanceof Array?l:[l];for(var c=[],f=0;f<r.length;f++){var h=u++%l.length;c[h]=c[h]||[],c[h].push(new Ri({shape:CT(t,a,r[f].coord)}))}for(var f=0;f<c.length;f++)n.add(is(c[f],{style:Dt({stroke:l[f%l.length]},s.getLineStyle()),silent:!0,z:e.get("z")}))},minorSplitLine:function(n,e,t,r,i,a){if(i.length){for(var o=e.getModel("minorSplitLine"),s=o.getModel("lineStyle"),l=[],u=0;u<i.length;u++)for(var c=0;c<i[u].length;c++)l.push(new Ri({shape:CT(t,a,i[u][c].coord)}));n.add(is(l,{style:s.getLineStyle(),silent:!0,z:e.get("z")}))}},splitArea:function(n,e,t,r,i,a){if(r.length){var o=e.getModel("splitArea"),s=o.getModel("areaStyle"),l=s.get("color"),u=0;l=l instanceof Array?l:[l];for(var c=[],f=Math.PI/180,h=-r[0].coord*f,d=Math.min(a[0],a[1]),p=Math.max(a[0],a[1]),g=e.get("clockwise"),m=1,y=r.length;m<=y;m++){var S=m===y?r[0].coord:r[m].coord,M=u++%l.length;c[M]=c[M]||[],c[M].push(new Wa({shape:{cx:t.cx,cy:t.cy,r0:d,r:p,startAngle:h,endAngle:-S*f,clockwise:g},silent:!0})),h=-S*f}for(var m=0;m<c.length;m++)n.add(is(c[m],{style:Dt({fill:l[m%l.length]},s.getAreaStyle()),silent:!0}))}}},Y2e=["axisLine","axisTickLabel","axisName"],j2e=["splitLine","splitArea","minorSplitLine"],Z2e=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="PolarAxisPointer",t}return e.prototype.render=function(t,r){if(this.group.removeAll(),!!t.get("show")){var i=this._axisGroup,a=this._axisGroup=new Xt;this.group.add(a);var o=t.axis,s=o.polar,l=s.getAngleAxis(),u=o.getTicksCoords(),c=o.getMinorTicksCoords(),f=l.getExtent()[0],h=o.getExtent(),d=q2e(s,t,f),p=new mo(t,d);G(Y2e,p.add,p),a.add(p.getGroup()),P1(i,a,t),G(j2e,function(g){t.get([g,"show"])&&!o.scale.isBlank()&&$2e[g](this.group,t,s,f,h,u,c)},this)}},e.type="radiusAxis",e})(Hv),$2e={splitLine:function(n,e,t,r,i,a){var o=e.getModel("splitLine"),s=o.getModel("lineStyle"),l=s.get("color"),u=0,c=t.getAngleAxis(),f=Math.PI/180,h=c.getExtent(),d=Math.abs(h[1]-h[0])===360?"Circle":"Arc";l=l instanceof Array?l:[l];for(var p=[],g=0;g<a.length;g++){var m=u++%l.length;p[m]=p[m]||[],p[m].push(new Bv[d]({shape:{cx:t.cx,cy:t.cy,r:Math.max(a[g].coord,0),startAngle:-h[0]*f,endAngle:-h[1]*f,clockwise:c.inverse}}))}for(var g=0;g<p.length;g++)n.add(is(p[g],{style:Dt({stroke:l[g%l.length],fill:null},s.getLineStyle()),silent:!0}))},minorSplitLine:function(n,e,t,r,i,a,o){if(o.length){for(var s=e.getModel("minorSplitLine"),l=s.getModel("lineStyle"),u=[],c=0;c<o.length;c++)for(var f=0;f<o[c].length;f++)u.push(new ku({shape:{cx:t.cx,cy:t.cy,r:o[c][f].coord}}));n.add(is(u,{style:Dt({fill:null},l.getLineStyle()),silent:!0}))}},splitArea:function(n,e,t,r,i,a){if(a.length){var o=e.getModel("splitArea"),s=o.getModel("areaStyle"),l=s.get("color"),u=0;l=l instanceof Array?l:[l];for(var c=[],f=a[0].coord,h=1;h<a.length;h++){var d=u++%l.length;c[d]=c[d]||[],c[d].push(new Wa({shape:{cx:t.cx,cy:t.cy,r0:f,r:a[h].coord,startAngle:0,endAngle:Math.PI*2},silent:!0})),f=a[h].coord}for(var h=0;h<c.length;h++)n.add(is(c[h],{style:Dt({fill:l[h%l.length]},s.getAreaStyle()),silent:!0}))}}};function q2e(n,e,t){return{position:[n.cx,n.cy],rotation:t/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:e.getModel("axisLabel").get("rotate"),z2:1}}function oee(n){return n.get("stack")||"__ec_stack_"+n.seriesIndex}function see(n,e){return e.dim+n.model.componentIndex}function K2e(n,e,t){var r={},i=J2e($n(e.getSeriesByType(n),function(a){return!e.isSeriesFiltered(a)&&a.coordinateSystem&&a.coordinateSystem.type==="polar"}));e.eachSeriesByType(n,function(a){if(a.coordinateSystem.type==="polar"){var o=a.getData(),s=a.coordinateSystem,l=s.getBaseAxis(),u=see(s,l),c=oee(a),f=i[u][c],h=f.offset,d=f.width,p=s.getOtherAxis(l),g=a.coordinateSystem.cx,m=a.coordinateSystem.cy,y=a.get("barMinHeight")||0,S=a.get("barMinAngle")||0;r[c]=r[c]||[];for(var M=o.mapDimension(p.dim),b=o.mapDimension(l.dim),C=rf(o,M),A=l.dim!=="radius"||!a.get("roundCap",!0),E=p.model,I=E.get("startValue"),L=p.dataToCoord(I||0),R=0,O=o.count();R<O;R++){var U=o.get(M,R),V=o.get(b,R),W=U>=0?"p":"n",X=L;C&&(r[c][V]||(r[c][V]={p:L,n:L}),X=r[c][V][W]);var j=void 0,Q=void 0,B=void 0,Z=void 0;if(p.dim==="radius"){var q=p.dataToCoord(U)-L,Y=l.dataToCoord(V);Math.abs(q)<y&&(q=(q<0?-1:1)*y),j=X,Q=X+q,B=Y-h,Z=B-d,C&&(r[c][V][W]=Q)}else{var te=p.dataToCoord(U,A)-L,me=l.dataToCoord(V);Math.abs(te)<S&&(te=(te<0?-1:1)*S),j=me+h,Q=j+d,B=X,Z=X+te,C&&(r[c][V][W]=Z)}o.setItemLayout(R,{cx:g,cy:m,r0:j,r:Q,startAngle:-B*Math.PI/180,endAngle:-Z*Math.PI/180,clockwise:B>=Z})}}})}function J2e(n){var e={};G(n,function(r,i){var a=r.getData(),o=r.coordinateSystem,s=o.getBaseAxis(),l=see(o,s),u=s.getExtent(),c=s.type==="category"?s.getBandWidth():Math.abs(u[1]-u[0])/a.count(),f=e[l]||{bandWidth:c,remainedWidth:c,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},h=f.stacks;e[l]=f;var d=oee(r);h[d]||f.autoWidthCount++,h[d]=h[d]||{width:0,maxWidth:0};var p=rt(r.get("barWidth"),c),g=rt(r.get("barMaxWidth"),c),m=r.get("barGap"),y=r.get("barCategoryGap");p&&!h[d].width&&(p=Math.min(f.remainedWidth,p),h[d].width=p,f.remainedWidth-=p),g&&(h[d].maxWidth=g),m!=null&&(f.gap=m),y!=null&&(f.categoryGap=y)});var t={};return G(e,function(r,i){t[i]={};var a=r.stacks,o=r.bandWidth,s=rt(r.categoryGap,o),l=rt(r.gap,1),u=r.remainedWidth,c=r.autoWidthCount,f=(u-s)/(c+(c-1)*l);f=Math.max(f,0),G(a,function(g,m){var y=g.maxWidth;y&&y<f&&(y=Math.min(y,u),g.width&&(y=Math.min(y,g.width)),u-=y,g.width=y,c--)}),f=(u-s)/(c+(c-1)*l),f=Math.max(f,0);var h=0,d;G(a,function(g,m){g.width||(g.width=f),d=g,h+=g.width*(1+l)}),d&&(h-=d.width*l);var p=-h/2;G(a,function(g,m){t[i][m]=t[i][m]||{offset:p,width:g.width},p+=g.width*(1+l)})}),t}var Q2e={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},eLe={splitNumber:5},tLe=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="polar",e})(br);function nLe(n){Sn(V1),Hv.registerAxisPointerClass("PolarAxisPointer",R2e),n.registerCoordinateSystem("polar",G2e),n.registerComponentModel(N2e),n.registerComponentView(tLe),Dy(n,"angle",O2e,Q2e),Dy(n,"radius",k2e,eLe),n.registerComponentView(W2e),n.registerComponentView(Z2e),n.registerLayout(nn(K2e,"bar"))}function mN(n,e){e=e||{};var t=n.coordinateSystem,r=n.axis,i={},a=r.position,o=r.orient,s=t.getRect(),l=[s.x,s.x+s.width,s.y,s.y+s.height],u={horizontal:{top:l[2],bottom:l[3]},vertical:{left:l[0],right:l[1]}};i.position=[o==="vertical"?u.vertical[a]:l[0],o==="horizontal"?u.horizontal[a]:l[3]];var c={horizontal:0,vertical:1};i.rotation=Math.PI/2*c[o];var f={top:-1,bottom:1,right:1,left:-1};i.labelDirection=i.tickDirection=i.nameDirection=f[a],n.get(["axisTick","inside"])&&(i.tickDirection=-i.tickDirection),Gi(e.labelInside,n.get(["axisLabel","inside"]))&&(i.labelDirection=-i.labelDirection);var h=e.rotate;return h==null&&(h=n.get(["axisLabel","rotate"])),i.labelRotation=a==="top"?-h:h,i.z2=1,i}var rLe=["axisLine","axisTickLabel","axisName"],iLe=["splitArea","splitLine"],aLe=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="SingleAxisPointer",t}return e.prototype.render=function(t,r,i,a){var o=this.group;o.removeAll();var s=this._axisGroup;this._axisGroup=new Xt;var l=mN(t),u=new mo(t,l);G(rLe,u.add,u),o.add(this._axisGroup),o.add(u.getGroup()),G(iLe,function(c){t.get([c,"show"])&&oLe[c](this,this.group,this._axisGroup,t)},this),P1(s,this._axisGroup,t),n.prototype.render.call(this,t,r,i,a)},e.prototype.remove=function(){PJ(this)},e.type="singleAxis",e})(Hv),oLe={splitLine:function(n,e,t,r){var i=r.axis;if(!i.scale.isBlank()){var a=r.getModel("splitLine"),o=a.getModel("lineStyle"),s=o.get("color");s=s instanceof Array?s:[s];for(var l=o.get("width"),u=r.coordinateSystem.getRect(),c=i.isHorizontal(),f=[],h=0,d=i.getTicksCoords({tickModel:a}),p=[],g=[],m=0;m<d.length;++m){var y=i.toGlobalCoord(d[m].coord);c?(p[0]=y,p[1]=u.y,g[0]=y,g[1]=u.y+u.height):(p[0]=u.x,p[1]=y,g[0]=u.x+u.width,g[1]=y);var S=new Ri({shape:{x1:p[0],y1:p[1],x2:g[0],y2:g[1]},silent:!0});Ay(S.shape,l);var M=h++%s.length;f[M]=f[M]||[],f[M].push(S)}for(var b=o.getLineStyle(["color"]),m=0;m<f.length;++m)e.add(is(f[m],{style:Dt({stroke:s[m%s.length]},b),silent:!0}))}},splitArea:function(n,e,t,r){EJ(n,t,r,r)}},cb=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getCoordSysModel=function(){return this},e.type="singleAxis",e.layoutMode="box",e.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},e})(wn);ti(cb,l0.prototype);var sLe=(function(n){Se(e,n);function e(t,r,i,a,o){var s=n.call(this,t,r,i)||this;return s.type=a||"value",s.position=o||"bottom",s}return e.prototype.isHorizontal=function(){var t=this.position;return t==="top"||t==="bottom"},e.prototype.pointToData=function(t,r){return this.coordinateSystem.pointToData(t)[0]},e})(Zs),lee=["single"],lLe=(function(){function n(e,t,r){this.type="single",this.dimension="single",this.dimensions=lee,this.axisPointerEnabled=!0,this.model=e,this._init(e,t,r)}return n.prototype._init=function(e,t,r){var i=this.dimension,a=new sLe(i,L1(e),[0,0],e.get("type"),e.get("position")),o=a.type==="category";a.onBand=o&&e.get("boundaryGap"),a.inverse=e.get("inverse"),a.orient=e.get("orient"),e.axis=a,a.model=e,a.coordinateSystem=this,this._axis=a},n.prototype.update=function(e,t){e.eachSeries(function(r){if(r.coordinateSystem===this){var i=r.getData();G(i.mapDimensionsAll(this.dimension),function(a){this._axis.scale.unionExtentFromData(i,a)},this),Av(this._axis.scale,this._axis.model)}},this)},n.prototype.resize=function(e,t){this._rect=_i({left:e.get("left"),top:e.get("top"),right:e.get("right"),bottom:e.get("bottom"),width:e.get("width"),height:e.get("height")},{width:t.getWidth(),height:t.getHeight()}),this._adjustAxis()},n.prototype.getRect=function(){return this._rect},n.prototype._adjustAxis=function(){var e=this._rect,t=this._axis,r=t.isHorizontal(),i=r?[0,e.width]:[0,e.height],a=t.inverse?1:0;t.setExtent(i[a],i[1-a]),this._updateAxisTransform(t,r?e.x:e.y)},n.prototype._updateAxisTransform=function(e,t){var r=e.getExtent(),i=r[0]+r[1],a=e.isHorizontal();e.toGlobalCoord=a?function(o){return o+t}:function(o){return i-o+t},e.toLocalCoord=a?function(o){return o-t}:function(o){return i-o+t}},n.prototype.getAxis=function(){return this._axis},n.prototype.getBaseAxis=function(){return this._axis},n.prototype.getAxes=function(){return[this._axis]},n.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},n.prototype.containPoint=function(e){var t=this.getRect(),r=this.getAxis(),i=r.orient;return i==="horizontal"?r.contain(r.toLocalCoord(e[0]))&&e[1]>=t.y&&e[1]<=t.y+t.height:r.contain(r.toLocalCoord(e[1]))&&e[0]>=t.y&&e[0]<=t.y+t.height},n.prototype.pointToData=function(e){var t=this.getAxis();return[t.coordToData(t.toLocalCoord(e[t.orient==="horizontal"?0:1]))]},n.prototype.dataToPoint=function(e){var t=this.getAxis(),r=this.getRect(),i=[],a=t.orient==="horizontal"?0:1;return e instanceof Array&&(e=e[0]),i[a]=t.toGlobalCoord(t.dataToCoord(+e)),i[1-a]=a===0?r.y+r.height/2:r.x+r.width/2,i},n.prototype.convertToPixel=function(e,t,r){var i=I6(t);return i===this?this.dataToPoint(r):null},n.prototype.convertFromPixel=function(e,t,r){var i=I6(t);return i===this?this.pointToData(r):null},n})();function I6(n){var e=n.seriesModel,t=n.singleAxisModel;return t&&t.coordinateSystem||e&&e.coordinateSystem}function uLe(n,e){var t=[];return n.eachComponent("singleAxis",function(r,i){var a=new lLe(r,n,e);a.name="single_"+i,a.resize(r,e),r.coordinateSystem=a,t.push(a)}),n.eachSeries(function(r){if(r.get("coordinateSystem")==="singleAxis"){var i=r.getReferringComponents("singleAxis",yi).models[0];r.coordinateSystem=i&&i.coordinateSystem}}),t}var cLe={create:uLe,dimensions:lee},N6=["x","y"],fLe=["width","height"],hLe=(function(n){Se(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.makeElOption=function(t,r,i,a,o){var s=i.axis,l=s.coordinateSystem,u=s2(l,1-_A(s)),c=l.dataToPoint(r)[0],f=a.get("type");if(f&&f!=="none"){var h=fF(a),d=dLe[f](s,c,u);d.style=h,t.graphicKey=d.type,t.pointer=d}var p=mN(i);tee(r,t,p,i,a,o)},e.prototype.getHandleTransform=function(t,r,i){var a=mN(r,{labelInside:!1});a.labelMargin=i.get(["handle","margin"]);var o=hF(r.axis,t,a);return{x:o[0],y:o[1],rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,r,i,a){var o=i.axis,s=o.coordinateSystem,l=_A(o),u=s2(s,l),c=[t.x,t.y];c[l]+=r[l],c[l]=Math.min(u[1],c[l]),c[l]=Math.max(u[0],c[l]);var f=s2(s,1-l),h=(f[1]+f[0])/2,d=[h,h];return d[l]=c[l],{x:c[0],y:c[1],rotation:t.rotation,cursorPoint:d,tooltipOption:{verticalAlign:"middle"}}},e})(cF),dLe={line:function(n,e,t){var r=dF([e,t[0]],[e,t[1]],_A(n));return{type:"Line",subPixelOptimize:!0,shape:r}},shadow:function(n,e,t){var r=n.getBandWidth(),i=t[1]-t[0];return{type:"Rect",shape:nee([e-r/2,t[0]],[r,i],_A(n))}}};function _A(n){return n.isHorizontal()?0:1}function s2(n,e){var t=n.getRect();return[t[N6[e]],t[N6[e]]+t[fLe[e]]]}var pLe=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="single",e})(br);function vLe(n){Sn(V1),Hv.registerAxisPointerClass("SingleAxisPointer",hLe),n.registerComponentView(pLe),n.registerComponentView(aLe),n.registerComponentModel(cb),Dy(n,"single",cb,cb.defaultOption),n.registerCoordinateSystem("single",cLe)}var gLe=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,r,i){var a=e0(t);n.prototype.init.apply(this,arguments),O6(t,a)},e.prototype.mergeOption=function(t){n.prototype.mergeOption.apply(this,arguments),O6(this.option,t)},e.prototype.getCellSize=function(){return this.option.cellSize},e.type="calendar",e.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},e})(wn);function O6(n,e){var t=n.cellSize,r;ze(t)?r=t:r=n.cellSize=[t,t],r.length===1&&(r[1]=r[0]);var i=Ve([0,1],function(a){return xxe(e,a)&&(r[a]="auto"),r[a]!=null&&r[a]!=="auto"});Fh(n,e,{type:"box",ignoreSize:i})}var mLe=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i){var a=this.group;a.removeAll();var o=t.coordinateSystem,s=o.getRangeInfo(),l=o.getOrient(),u=r.getLocaleModel();this._renderDayRect(t,s,a),this._renderLines(t,s,l,a),this._renderYearText(t,s,l,a),this._renderMonthText(t,u,l,a),this._renderWeekText(t,u,s,l,a)},e.prototype._renderDayRect=function(t,r,i){for(var a=t.coordinateSystem,o=t.getModel("itemStyle").getItemStyle(),s=a.getCellWidth(),l=a.getCellHeight(),u=r.start.time;u<=r.end.time;u=a.getNextNDay(u,1).time){var c=a.dataToRect([u],!1).tl,f=new kn({shape:{x:c[0],y:c[1],width:s,height:l},cursor:"default",style:o});i.add(f)}},e.prototype._renderLines=function(t,r,i,a){var o=this,s=t.coordinateSystem,l=t.getModel(["splitLine","lineStyle"]).getLineStyle(),u=t.get(["splitLine","show"]),c=l.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var f=r.start,h=0;f.time<=r.end.time;h++){p(f.formatedDate),h===0&&(f=s.getDateInfo(r.start.y+"-"+r.start.m));var d=f.date;d.setMonth(d.getMonth()+1),f=s.getDateInfo(d)}p(s.getNextNDay(r.end.time,1).formatedDate);function p(g){o._firstDayOfMonth.push(s.getDateInfo(g)),o._firstDayPoints.push(s.dataToRect([g],!1).tl);var m=o._getLinePointsOfOneWeek(t,g,i);o._tlpoints.push(m[0]),o._blpoints.push(m[m.length-1]),u&&o._drawSplitline(m,l,a)}u&&this._drawSplitline(o._getEdgesPoints(o._tlpoints,c,i),l,a),u&&this._drawSplitline(o._getEdgesPoints(o._blpoints,c,i),l,a)},e.prototype._getEdgesPoints=function(t,r,i){var a=[t[0].slice(),t[t.length-1].slice()],o=i==="horizontal"?0:1;return a[0][o]=a[0][o]-r/2,a[1][o]=a[1][o]+r/2,a},e.prototype._drawSplitline=function(t,r,i){var a=new Za({z2:20,shape:{points:t},style:r});i.add(a)},e.prototype._getLinePointsOfOneWeek=function(t,r,i){for(var a=t.coordinateSystem,o=a.getDateInfo(r),s=[],l=0;l<7;l++){var u=a.getNextNDay(o.time,l),c=a.dataToRect([u.time],!1);s[2*u.day]=c.tl,s[2*u.day+1]=c[i==="horizontal"?"bl":"tr"]}return s},e.prototype._formatterLabel=function(t,r){return ut(t)&&t?gxe(t,r):Ct(t)?t(r):r.nameMap},e.prototype._yearTextPositionControl=function(t,r,i,a,o){var s=r[0],l=r[1],u=["center","bottom"];a==="bottom"?(l+=o,u=["center","top"]):a==="left"?s-=o:a==="right"?(s+=o,u=["center","top"]):l-=o;var c=0;return(a==="left"||a==="right")&&(c=Math.PI/2),{rotation:c,x:s,y:l,style:{align:u[0],verticalAlign:u[1]}}},e.prototype._renderYearText=function(t,r,i,a){var o=t.getModel("yearLabel");if(o.get("show")){var s=o.get("margin"),l=o.get("position");l||(l=i!=="horizontal"?"top":"left");var u=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],c=(u[0][0]+u[1][0])/2,f=(u[0][1]+u[1][1])/2,h=i==="horizontal"?0:1,d={top:[c,u[h][1]],bottom:[c,u[1-h][1]],left:[u[1-h][0],f],right:[u[h][0],f]},p=r.start.y;+r.end.y>+r.start.y&&(p=p+"-"+r.end.y);var g=o.get("formatter"),m={start:r.start.y,end:r.end.y,nameMap:p},y=this._formatterLabel(g,m),S=new On({z2:30,style:_r(o,{text:y}),silent:o.get("silent")});S.attr(this._yearTextPositionControl(S,d[l],i,l,s)),a.add(S)}},e.prototype._monthTextPositionControl=function(t,r,i,a,o){var s="left",l="top",u=t[0],c=t[1];return i==="horizontal"?(c=c+o,r&&(s="center"),a==="start"&&(l="bottom")):(u=u+o,r&&(l="middle"),a==="start"&&(s="right")),{x:u,y:c,align:s,verticalAlign:l}},e.prototype._renderMonthText=function(t,r,i,a){var o=t.getModel("monthLabel");if(o.get("show")){var s=o.get("nameMap"),l=o.get("margin"),u=o.get("position"),c=o.get("align"),f=[this._tlpoints,this._blpoints];(!s||ut(s))&&(s&&(r=TI(s)||r),s=r.get(["time","monthAbbr"])||[]);var h=u==="start"?0:1,d=i==="horizontal"?0:1;l=u==="start"?-l:l;for(var p=c==="center",g=o.get("silent"),m=0;m<f[h].length-1;m++){var y=f[h][m].slice(),S=this._firstDayOfMonth[m];if(p){var M=this._firstDayPoints[m];y[d]=(M[d]+f[0][m+1][d])/2}var b=o.get("formatter"),C=s[+S.m-1],A={yyyy:S.y,yy:(S.y+"").slice(2),MM:S.m,M:+S.m,nameMap:C},E=this._formatterLabel(b,A),I=new On({z2:30,style:Le(_r(o,{text:E}),this._monthTextPositionControl(y,p,i,u,l)),silent:g});a.add(I)}}},e.prototype._weekTextPositionControl=function(t,r,i,a,o){var s="center",l="middle",u=t[0],c=t[1],f=i==="start";return r==="horizontal"?(u=u+a+(f?1:-1)*o[0]/2,s=f?"right":"left"):(c=c+a+(f?1:-1)*o[1]/2,l=f?"bottom":"top"),{x:u,y:c,align:s,verticalAlign:l}},e.prototype._renderWeekText=function(t,r,i,a,o){var s=t.getModel("dayLabel");if(s.get("show")){var l=t.coordinateSystem,u=s.get("position"),c=s.get("nameMap"),f=s.get("margin"),h=l.getFirstDayOfWeek();if(!c||ut(c)){c&&(r=TI(c)||r);var d=r.get(["time","dayOfWeekShort"]);c=d||Ve(r.get(["time","dayOfWeekAbbr"]),function(A){return A[0]})}var p=l.getNextNDay(i.end.time,7-i.lweek).time,g=[l.getCellWidth(),l.getCellHeight()];f=rt(f,Math.min(g[1],g[0])),u==="start"&&(p=l.getNextNDay(i.start.time,-(7+i.fweek)).time,f=-f);for(var m=s.get("silent"),y=0;y<7;y++){var S=l.getNextNDay(p,y),M=l.dataToRect([S.time],!1).center,b=y;b=Math.abs((y+h)%7);var C=new On({z2:30,style:Le(_r(s,{text:c[b]}),this._weekTextPositionControl(M,a,u,f,g)),silent:m});o.add(C)}}},e.type="calendar",e})(br),l2=864e5,yLe=(function(){function n(e,t,r){this.type="calendar",this.dimensions=n.dimensions,this.getDimensionsInfo=n.getDimensionsInfo,this._model=e}return n.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},n.prototype.getRangeInfo=function(){return this._rangeInfo},n.prototype.getModel=function(){return this._model},n.prototype.getRect=function(){return this._rect},n.prototype.getCellWidth=function(){return this._sw},n.prototype.getCellHeight=function(){return this._sh},n.prototype.getOrient=function(){return this._orient},n.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},n.prototype.getDateInfo=function(e){e=ds(e);var t=e.getFullYear(),r=e.getMonth()+1,i=r<10?"0"+r:""+r,a=e.getDate(),o=a<10?"0"+a:""+a,s=e.getDay();return s=Math.abs((s+7-this.getFirstDayOfWeek())%7),{y:t+"",m:i,d:o,day:s,time:e.getTime(),formatedDate:t+"-"+i+"-"+o,date:e}},n.prototype.getNextNDay=function(e,t){return t=t||0,t===0?this.getDateInfo(e):(e=new Date(this.getDateInfo(e).time),e.setDate(e.getDate()+t),this.getDateInfo(e))},n.prototype.update=function(e,t){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var r=this._rangeInfo.weeks||1,i=["width","height"],a=this._model.getCellSize().slice(),o=this._model.getBoxLayoutParams(),s=this._orient==="horizontal"?[r,7]:[7,r];G([0,1],function(f){c(a,f)&&(o[i[f]]=a[f]*s[f])});var l={width:t.getWidth(),height:t.getHeight()},u=this._rect=_i(o,l);G([0,1],function(f){c(a,f)||(a[f]=u[i[f]]/s[f])});function c(f,h){return f[h]!=null&&f[h]!=="auto"}this._sw=a[0],this._sh=a[1]},n.prototype.dataToPoint=function(e,t){ze(e)&&(e=e[0]),t==null&&(t=!0);var r=this.getDateInfo(e),i=this._rangeInfo,a=r.formatedDate;if(t&&!(r.time>=i.start.time&&r.time<i.end.time+l2))return[NaN,NaN];var o=r.day,s=this._getRangeInfo([i.start.time,a]).nthWeek;return this._orient==="vertical"?[this._rect.x+o*this._sw+this._sw/2,this._rect.y+s*this._sh+this._sh/2]:[this._rect.x+s*this._sw+this._sw/2,this._rect.y+o*this._sh+this._sh/2]},n.prototype.pointToData=function(e){var t=this.pointToDate(e);return t&&t.time},n.prototype.dataToRect=function(e,t){var r=this.dataToPoint(e,t);return{contentShape:{x:r[0]-(this._sw-this._lineWidth)/2,y:r[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:r,tl:[r[0]-this._sw/2,r[1]-this._sh/2],tr:[r[0]+this._sw/2,r[1]-this._sh/2],br:[r[0]+this._sw/2,r[1]+this._sh/2],bl:[r[0]-this._sw/2,r[1]+this._sh/2]}},n.prototype.pointToDate=function(e){var t=Math.floor((e[0]-this._rect.x)/this._sw)+1,r=Math.floor((e[1]-this._rect.y)/this._sh)+1,i=this._rangeInfo.range;return this._orient==="vertical"?this._getDateByWeeksAndDay(r,t-1,i):this._getDateByWeeksAndDay(t,r-1,i)},n.prototype.convertToPixel=function(e,t,r){var i=k6(t);return i===this?i.dataToPoint(r):null},n.prototype.convertFromPixel=function(e,t,r){var i=k6(t);return i===this?i.pointToData(r):null},n.prototype.containPoint=function(e){return console.warn("Not implemented."),!1},n.prototype._initRangeOption=function(){var e=this._model.get("range"),t;if(ze(e)&&e.length===1&&(e=e[0]),ze(e))t=e;else{var r=e.toString();if(/^\d{4}$/.test(r)&&(t=[r+"-01-01",r+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(r)){var i=this.getDateInfo(r),a=i.date;a.setMonth(a.getMonth()+1);var o=this.getNextNDay(a,-1);t=[i.formatedDate,o.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(r)&&(t=[r,r])}if(!t)return e;var s=this._getRangeInfo(t);return s.start.time>s.end.time&&t.reverse(),t},n.prototype._getRangeInfo=function(e){var t=[this.getDateInfo(e[0]),this.getDateInfo(e[1])],r;t[0].time>t[1].time&&(r=!0,t.reverse());var i=Math.floor(t[1].time/l2)-Math.floor(t[0].time/l2)+1,a=new Date(t[0].time),o=a.getDate(),s=t[1].date.getDate();a.setDate(o+i-1);var l=a.getDate();if(l!==s)for(var u=a.getTime()-t[1].time>0?1:-1;(l=a.getDate())!==s&&(a.getTime()-t[1].time)*u>0;)i-=u,a.setDate(l-u);var c=Math.floor((i+t[0].day+6)/7),f=r?-c+1:c-1;return r&&t.reverse(),{range:[t[0].formatedDate,t[1].formatedDate],start:t[0],end:t[1],allDay:i,weeks:c,nthWeek:f,fweek:t[0].day,lweek:t[1].day}},n.prototype._getDateByWeeksAndDay=function(e,t,r){var i=this._getRangeInfo(r);if(e>i.weeks||e===0&&t<i.fweek||e===i.weeks&&t>i.lweek)return null;var a=(e-1)*7-i.fweek+t,o=new Date(i.start.time);return o.setDate(+i.start.d+a),this.getDateInfo(o)},n.create=function(e,t){var r=[];return e.eachComponent("calendar",function(i){var a=new n(i);r.push(a),i.coordinateSystem=a}),e.eachSeries(function(i){i.get("coordinateSystem")==="calendar"&&(i.coordinateSystem=r[i.get("calendarIndex")||0])}),r},n.dimensions=["time","value"],n})();function k6(n){var e=n.calendarModel,t=n.seriesModel,r=e?e.coordinateSystem:t?t.coordinateSystem:null;return r}function _Le(n){n.registerComponentModel(gLe),n.registerComponentView(mLe),n.registerCoordinateSystem("calendar",yLe)}function xLe(n,e){var t=n.existing;if(e.id=n.keyInfo.id,!e.type&&t&&(e.type=t.type),e.parentId==null){var r=e.parentOption;r?e.parentId=r.id:t&&(e.parentId=t.parentId)}e.parentOption=null}function F6(n,e){var t;return G(e,function(r){n[r]!=null&&n[r]!=="auto"&&(t=!0)}),t}function SLe(n,e,t){var r=Le({},t),i=n[e],a=t.$action||"merge";a==="merge"?i?(on(i,r,!0),Fh(i,r,{ignoreSize:!0}),K$(t,i),PT(t,i),PT(t,i,"shape"),PT(t,i,"style"),PT(t,i,"extra"),t.clipPath=i.clipPath):n[e]=r:a==="replace"?n[e]=r:a==="remove"&&i&&(n[e]=null)}var uee=["transition","enterFrom","leaveTo"],wLe=uee.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function PT(n,e,t){if(t&&(!n[t]&&e[t]&&(n[t]={}),n=n[t],e=e[t]),!(!n||!e))for(var r=t?uee:wLe,i=0;i<r.length;i++){var a=r[i];n[a]==null&&e[a]!=null&&(n[a]=e[a])}}function MLe(n,e){if(n&&(n.hv=e.hv=[F6(e,["left","right"]),F6(e,["top","bottom"])],n.type==="group")){var t=n,r=e;t.width==null&&(t.width=r.width=0),t.height==null&&(t.height=r.height=0)}}var TLe=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.preventAutoZ=!0,t}return e.prototype.mergeOption=function(t,r){var i=this.option.elements;this.option.elements=null,n.prototype.mergeOption.call(this,t,r),this.option.elements=i},e.prototype.optionUpdated=function(t,r){var i=this.option,a=(r?i:t).elements,o=i.elements=r?[]:i.elements,s=[];this._flatten(a,s,null);var l=$Z(o,s,"normalMerge"),u=this._elOptionsToUpdate=[];G(l,function(c,f){var h=c.newOption;h&&(u.push(h),xLe(c,h),SLe(o,f,h),MLe(o[f],h))},this),i.elements=$n(o,function(c){return c&&delete c.$action,c!=null})},e.prototype._flatten=function(t,r,i){G(t,function(a){if(a){i&&(a.parentOption=i),r.push(a);var o=a.children;o&&o.length&&this._flatten(o,r,a),delete a.children}},this)},e.prototype.useElOptionsToUpdate=function(){var t=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,t},e.type="graphic",e.defaultOption={elements:[]},e})(wn),z6={path:null,compoundPath:null,group:Xt,image:$i,text:On},Os=Un(),bLe=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(){this._elMap=xt()},e.prototype.render=function(t,r,i){t!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=t,this._updateElements(t),this._relocate(t,i)},e.prototype._updateElements=function(t){var r=t.useElOptionsToUpdate();if(r){var i=this._elMap,a=this.group,o=t.get("z"),s=t.get("zlevel");G(r,function(l){var u=Di(l.id,null),c=u!=null?i.get(u):null,f=Di(l.parentId,null),h=f!=null?i.get(f):a,d=l.type,p=l.style;d==="text"&&p&&l.hv&&l.hv[1]&&(p.textVerticalAlign=p.textBaseline=p.verticalAlign=p.align=null);var g=l.textContent,m=l.textConfig;if(p&&HQ(p,d,!!m,!!g)){var y=WQ(p,d,!0);!m&&y.textConfig&&(m=l.textConfig=y.textConfig),!g&&y.textContent&&(g=y.textContent)}var S=ALe(l),M=l.$action||"merge",b=M==="merge",C=M==="replace";if(b){var A=!c,E=c;A?E=B6(u,h,l.type,i):(E&&(Os(E).isNew=!1),ZQ(E)),E&&(lb(E,S,t,{isInit:A}),U6(E,l,o,s))}else if(C){fb(c,l,i,t);var I=B6(u,h,l.type,i);I&&(lb(I,S,t,{isInit:!0}),U6(I,l,o,s))}else M==="remove"&&(YQ(c,l),fb(c,l,i,t));var L=i.get(u);if(L&&g)if(b){var R=L.getTextContent();R?R.attr(g):L.setTextContent(new On(g))}else C&&L.setTextContent(new On(g));if(L){var O=l.clipPath;if(O){var U=O.type,V=void 0,A=!1;if(b){var W=L.getClipPath();A=!W||Os(W).type!==U,V=A?yN(U):W}else C&&(A=!0,V=yN(U));L.setClipPath(V),lb(V,O,t,{isInit:A}),mA(V,O.keyframeAnimation,t)}var X=Os(L);L.setTextConfig(m),X.option=l,CLe(L,t,l),zv({el:L,componentModel:t,itemName:L.name,itemTooltipOption:l.tooltip}),mA(L,l.keyframeAnimation,t)}})}},e.prototype._relocate=function(t,r){for(var i=t.option.elements,a=this.group,o=this._elMap,s=r.getWidth(),l=r.getHeight(),u=["x","y"],c=0;c<i.length;c++){var f=i[c],h=Di(f.id,null),d=h!=null?o.get(h):null;if(!(!d||!d.isGroup)){var p=d.parent,g=p===a,m=Os(d),y=Os(p);m.width=rt(m.option.width,g?s:y.width)||0,m.height=rt(m.option.height,g?l:y.height)||0}}for(var c=i.length-1;c>=0;c--){var f=i[c],h=Di(f.id,null),d=h!=null?o.get(h):null;if(d){var p=d.parent,y=Os(p),S=p===a?{width:s,height:l}:{width:y.width,height:y.height},M={},b=OC(d,f,S,null,{hv:f.hv,boundingMode:f.bounding},M);if(!Os(d).isNew&&b){for(var C=f.transition,A={},E=0;E<u.length;E++){var I=u[E],L=M[I];C&&(dv(C)||dn(C,I)>=0)?A[I]=L:d[I]=L}Xn(d,A,t,0)}else d.attr(M)}}},e.prototype._clear=function(){var t=this,r=this._elMap;r.each(function(i){fb(i,Os(i).option,r,t._lastGraphicModel)}),this._elMap=xt()},e.prototype.dispose=function(){this._clear()},e.type="graphic",e})(br);function yN(n){var e=gt(z6,n)?z6[n]:EC(n),t=new e({});return Os(t).type=n,t}function B6(n,e,t,r){var i=yN(t);return e.add(i),r.set(n,i),Os(i).id=n,Os(i).isNew=!0,i}function fb(n,e,t,r){var i=n&&n.parent;i&&(n.type==="group"&&n.traverse(function(a){fb(a,e,t,r)}),JC(n,e,r),t.removeKey(Os(n).id))}function U6(n,e,t,r){n.isGroup||G([["cursor",Hs.prototype.cursor],["zlevel",r||0],["z",t||0],["z2",0]],function(i){var a=i[0];gt(e,a)?n[a]=tn(e[a],i[1]):n[a]==null&&(n[a]=i[1])}),G(En(e),function(i){if(i.indexOf("on")===0){var a=e[i];n[i]=Ct(a)?a:null}}),gt(e,"draggable")&&(n.draggable=e.draggable),e.name!=null&&(n.name=e.name),e.id!=null&&(n.id=e.id)}function ALe(n){return n=Le({},n),G(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(q$),function(e){delete n[e]}),n}function CLe(n,e,t){var r=$t(n).eventData;!n.silent&&!n.ignore&&!r&&(r=$t(n).eventData={componentType:"graphic",componentIndex:e.componentIndex,name:n.name}),r&&(r.info=t.info)}function ELe(n){n.registerComponentModel(TLe),n.registerComponentView(bLe),n.registerPreprocessor(function(e){var t=e.graphic;ze(t)?!t[0]||!t[0].elements?e.graphic=[{elements:t}]:e.graphic=[e.graphic[0]]:t&&!t.elements&&(e.graphic=[{elements:[t]}])})}var V6=["x","y","radius","angle","single"],PLe=["cartesian2d","polar","singleAxis"];function DLe(n){var e=n.get("coordinateSystem");return dn(PLe,e)>=0}function Sh(n){return n+"Axis"}function RLe(n,e){var t=xt(),r=[],i=xt();n.eachComponent({mainType:"dataZoom",query:e},function(c){i.get(c.uid)||s(c)});var a;do a=!1,n.eachComponent("dataZoom",o);while(a);function o(c){!i.get(c.uid)&&l(c)&&(s(c),a=!0)}function s(c){i.set(c.uid,!0),r.push(c),u(c)}function l(c){var f=!1;return c.eachTargetAxis(function(h,d){var p=t.get(h);p&&p[d]&&(f=!0)}),f}function u(c){c.eachTargetAxis(function(f,h){(t.get(f)||t.set(f,[]))[h]=!0})}return r}function cee(n){var e=n.ecModel,t={infoList:[],infoMap:xt()};return n.eachTargetAxis(function(r,i){var a=e.getComponent(Sh(r),i);if(a){var o=a.getCoordSysModel();if(o){var s=o.uid,l=t.infoMap.get(s);l||(l={model:o,axisModels:[]},t.infoList.push(l),t.infoMap.set(s,l)),l.axisModels.push(a)}}}),t}var u2=(function(){function n(){this.indexList=[],this.indexMap=[]}return n.prototype.add=function(e){this.indexMap[e]||(this.indexList.push(e),this.indexMap[e]=!0)},n})(),JS=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._autoThrottle=!0,t._noTarget=!0,t._rangePropMode=["percent","percent"],t}return e.prototype.init=function(t,r,i){var a=G6(t);this.settledOption=a,this.mergeDefaultAndTheme(t,i),this._doInit(a)},e.prototype.mergeOption=function(t){var r=G6(t);on(this.option,t,!0),on(this.settledOption,r,!0),this._doInit(r)},e.prototype._doInit=function(t){var r=this.option;this._setDefaultThrottle(t),this._updateRangeUse(t);var i=this.settledOption;G([["start","startValue"],["end","endValue"]],function(a,o){this._rangePropMode[o]==="value"&&(r[a[0]]=i[a[0]]=null)},this),this._resetTarget()},e.prototype._resetTarget=function(){var t=this.get("orient",!0),r=this._targetAxisInfoMap=xt(),i=this._fillSpecifiedTargetAxis(r);i?this._orient=t||this._makeAutoOrientByTargetAxis():(this._orient=t||"horizontal",this._fillAutoTargetAxisByOrient(r,this._orient)),this._noTarget=!0,r.each(function(a){a.indexList.length&&(this._noTarget=!1)},this)},e.prototype._fillSpecifiedTargetAxis=function(t){var r=!1;return G(V6,function(i){var a=this.getReferringComponents(Sh(i),l0e);if(a.specified){r=!0;var o=new u2;G(a.models,function(s){o.add(s.componentIndex)}),t.set(i,o)}},this),r},e.prototype._fillAutoTargetAxisByOrient=function(t,r){var i=this.ecModel,a=!0;if(a){var o=r==="vertical"?"y":"x",s=i.findComponents({mainType:o+"Axis"});l(s,o)}if(a){var s=i.findComponents({mainType:"singleAxis",filter:function(c){return c.get("orient",!0)===r}});l(s,"single")}function l(u,c){var f=u[0];if(f){var h=new u2;if(h.add(f.componentIndex),t.set(c,h),a=!1,c==="x"||c==="y"){var d=f.getReferringComponents("grid",yi).models[0];d&&G(u,function(p){f.componentIndex!==p.componentIndex&&d===p.getReferringComponents("grid",yi).models[0]&&h.add(p.componentIndex)})}}}a&&G(V6,function(u){if(a){var c=i.findComponents({mainType:Sh(u),filter:function(h){return h.get("type",!0)==="category"}});if(c[0]){var f=new u2;f.add(c[0].componentIndex),t.set(u,f),a=!1}}},this)},e.prototype._makeAutoOrientByTargetAxis=function(){var t;return this.eachTargetAxis(function(r){!t&&(t=r)},this),t==="y"?"vertical":"horizontal"},e.prototype._setDefaultThrottle=function(t){if(t.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var r=this.ecModel.option;this.option.throttle=r.animation&&r.animationDurationUpdate>0?100:20}},e.prototype._updateRangeUse=function(t){var r=this._rangePropMode,i=this.get("rangeMode");G([["start","startValue"],["end","endValue"]],function(a,o){var s=t[a[0]]!=null,l=t[a[1]]!=null;s&&!l?r[o]="percent":!s&&l?r[o]="value":i?r[o]=i[o]:s&&(r[o]="percent")})},e.prototype.noTarget=function(){return this._noTarget},e.prototype.getFirstTargetAxisModel=function(){var t;return this.eachTargetAxis(function(r,i){t==null&&(t=this.ecModel.getComponent(Sh(r),i))},this),t},e.prototype.eachTargetAxis=function(t,r){this._targetAxisInfoMap.each(function(i,a){G(i.indexList,function(o){t.call(r,a,o)})})},e.prototype.getAxisProxy=function(t,r){var i=this.getAxisModel(t,r);if(i)return i.__dzAxisProxy},e.prototype.getAxisModel=function(t,r){var i=this._targetAxisInfoMap.get(t);if(i&&i.indexMap[r])return this.ecModel.getComponent(Sh(t),r)},e.prototype.setRawRange=function(t){var r=this.option,i=this.settledOption;G([["start","startValue"],["end","endValue"]],function(a){(t[a[0]]!=null||t[a[1]]!=null)&&(r[a[0]]=i[a[0]]=t[a[0]],r[a[1]]=i[a[1]]=t[a[1]])},this),this._updateRangeUse(t)},e.prototype.setCalculatedRange=function(t){var r=this.option;G(["start","startValue","end","endValue"],function(i){r[i]=t[i]})},e.prototype.getPercentRange=function(){var t=this.findRepresentativeAxisProxy();if(t)return t.getDataPercentWindow()},e.prototype.getValueRange=function(t,r){if(t==null&&r==null){var i=this.findRepresentativeAxisProxy();if(i)return i.getDataValueWindow()}else return this.getAxisProxy(t,r).getDataValueWindow()},e.prototype.findRepresentativeAxisProxy=function(t){if(t)return t.__dzAxisProxy;for(var r,i=this._targetAxisInfoMap.keys(),a=0;a<i.length;a++)for(var o=i[a],s=this._targetAxisInfoMap.get(o),l=0;l<s.indexList.length;l++){var u=this.getAxisProxy(o,s.indexList[l]);if(u.hostedBy(this))return u;r||(r=u)}return r},e.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},e.prototype.getOrient=function(){return this._orient},e.type="dataZoom",e.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],e.defaultOption={z:4,filterMode:"filter",start:0,end:100},e})(wn);function G6(n){var e={};return G(["start","end","startValue","endValue","throttle"],function(t){n.hasOwnProperty(t)&&(e[t]=n[t])}),e}var LLe=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.select",e})(JS),mF=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i,a){this.dataZoomModel=t,this.ecModel=r,this.api=i},e.type="dataZoom",e})(br),ILe=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.select",e})(mF),Gm=G,H6=os,NLe=(function(){function n(e,t,r,i){this._dimName=e,this._axisIndex=t,this.ecModel=i,this._dataZoomModel=r}return n.prototype.hostedBy=function(e){return this._dataZoomModel===e},n.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},n.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},n.prototype.getTargetSeriesModels=function(){var e=[];return this.ecModel.eachSeries(function(t){if(DLe(t)){var r=Sh(this._dimName),i=t.getReferringComponents(r,yi).models[0];i&&this._axisIndex===i.componentIndex&&e.push(t)}},this),e},n.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},n.prototype.getMinMaxSpan=function(){return Vt(this._minMaxSpan)},n.prototype.calculateDataWindow=function(e){var t=this._dataExtent,r=this.getAxisModel(),i=r.axis.scale,a=this._dataZoomModel.getRangePropMode(),o=[0,100],s=[],l=[],u;Gm(["start","end"],function(h,d){var p=e[h],g=e[h+"Value"];a[d]==="percent"?(p==null&&(p=o[d]),g=i.parse(Qn(p,o,t))):(u=!0,g=g==null?t[d]:i.parse(g),p=Qn(g,t,o)),l[d]=g==null||isNaN(g)?t[d]:g,s[d]=p==null||isNaN(p)?o[d]:p}),H6(l),H6(s);var c=this._minMaxSpan;u?f(l,s,t,o,!1):f(s,l,o,t,!0);function f(h,d,p,g,m){var y=m?"Span":"ValueSpan";Wv(0,h,p,"all",c["min"+y],c["max"+y]);for(var S=0;S<2;S++)d[S]=Qn(h[S],p,g,!0),m&&(d[S]=i.parse(d[S]))}return{valueWindow:l,percentWindow:s}},n.prototype.reset=function(e){if(e===this._dataZoomModel){var t=this.getTargetSeriesModels();this._dataExtent=OLe(this,this._dimName,t),this._updateMinMaxSpan();var r=this.calculateDataWindow(e.settledOption);this._valueWindow=r.valueWindow,this._percentWindow=r.percentWindow,this._setAxisModel()}},n.prototype.filterData=function(e,t){if(e!==this._dataZoomModel)return;var r=this._dimName,i=this.getTargetSeriesModels(),a=e.get("filterMode"),o=this._valueWindow;if(a==="none")return;Gm(i,function(l){var u=l.getData(),c=u.mapDimensionsAll(r);if(c.length){if(a==="weakFilter"){var f=u.getStore(),h=Ve(c,function(d){return u.getDimensionIndex(d)},u);u.filterSelf(function(d){for(var p,g,m,y=0;y<c.length;y++){var S=f.get(h[y],d),M=!isNaN(S),b=S<o[0],C=S>o[1];if(M&&!b&&!C)return!0;M&&(m=!0),b&&(p=!0),C&&(g=!0)}return m&&p&&g})}else Gm(c,function(d){if(a==="empty")l.setData(u=u.map(d,function(g){return s(g)?g:NaN}));else{var p={};p[d]=o,u.selectRange(p)}});Gm(c,function(d){u.setApproximateExtent(o,d)})}});function s(l){return l>=o[0]&&l<=o[1]}},n.prototype._updateMinMaxSpan=function(){var e=this._minMaxSpan={},t=this._dataZoomModel,r=this._dataExtent;Gm(["min","max"],function(i){var a=t.get(i+"Span"),o=t.get(i+"ValueSpan");o!=null&&(o=this.getAxisModel().axis.scale.parse(o)),o!=null?a=Qn(r[0]+o,r,[0,100],!0):a!=null&&(o=Qn(a,[0,100],r,!0)-r[0]),e[i+"Span"]=a,e[i+"ValueSpan"]=o},this)},n.prototype._setAxisModel=function(){var e=this.getAxisModel(),t=this._percentWindow,r=this._valueWindow;if(t){var i=xk(r,[0,500]);i=Math.min(i,20);var a=e.axis.scale.rawExtentInfo;t[0]!==0&&a.setDeterminedMinMax("min",+r[0].toFixed(i)),t[1]!==100&&a.setDeterminedMinMax("max",+r[1].toFixed(i)),a.freeze()}},n})();function OLe(n,e,t){var r=[1/0,-1/0];Gm(t,function(o){eMe(r,o.getData(),e)});var i=n.getAxisModel(),a=EK(i.axis.scale,i,r).calculate();return[a.min,a.max]}var kLe={getTargetSeries:function(n){function e(i){n.eachComponent("dataZoom",function(a){a.eachTargetAxis(function(o,s){var l=n.getComponent(Sh(o),s);i(o,s,l,a)})})}e(function(i,a,o,s){o.__dzAxisProxy=null});var t=[];e(function(i,a,o,s){o.__dzAxisProxy||(o.__dzAxisProxy=new NLe(i,a,s,n),t.push(o.__dzAxisProxy))});var r=xt();return G(t,function(i){G(i.getTargetSeriesModels(),function(a){r.set(a.uid,a)})}),r},overallReset:function(n,e){n.eachComponent("dataZoom",function(t){t.eachTargetAxis(function(r,i){t.getAxisProxy(r,i).reset(t)}),t.eachTargetAxis(function(r,i){t.getAxisProxy(r,i).filterData(t,e)})}),n.eachComponent("dataZoom",function(t){var r=t.findRepresentativeAxisProxy();if(r){var i=r.getDataPercentWindow(),a=r.getDataValueWindow();t.setCalculatedRange({start:i[0],end:i[1],startValue:a[0],endValue:a[1]})}})}};function FLe(n){n.registerAction("dataZoom",function(e,t){var r=RLe(t,e);G(r,function(i){i.setRawRange({start:e.start,end:e.end,startValue:e.startValue,endValue:e.endValue})})})}var W6=!1;function yF(n){W6||(W6=!0,n.registerProcessor(n.PRIORITY.PROCESSOR.FILTER,kLe),FLe(n),n.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function zLe(n){n.registerComponentModel(LLe),n.registerComponentView(ILe),yF(n)}var Fs=(function(){function n(){}return n})(),fee={};function Hm(n,e){fee[n]=e}function hee(n){return fee[n]}var BLe=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.optionUpdated=function(){n.prototype.optionUpdated.apply(this,arguments);var t=this.ecModel;G(this.option.feature,function(r,i){var a=hee(i);a&&(a.getDefaultOption&&(a.defaultOption=a.getDefaultOption(t)),on(r,a.defaultOption))})},e.type="toolbox",e.layoutMode={type:"box",ignoreSize:!0},e.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},e})(wn);function ULe(n,e,t){var r=e.getBoxLayoutParams(),i=e.get("padding"),a={width:t.getWidth(),height:t.getHeight()},o=_i(r,a,i);cv(e.get("orient"),n,e.get("itemGap"),o.width,o.height),OC(n,r,a,i)}function dee(n,e){var t=Uv(e.get("padding")),r=e.getItemStyle(["color","opacity"]);return r.fill=e.get("backgroundColor"),n=new kn({shape:{x:n.x-t[3],y:n.y-t[0],width:n.width+t[1]+t[3],height:n.height+t[0]+t[2],r:e.get("borderRadius")},style:r,silent:!0,z2:-1}),n}var VLe=(function(n){Se(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.render=function(t,r,i,a){var o=this.group;if(o.removeAll(),!t.get("show"))return;var s=+t.get("itemSize"),l=t.get("orient")==="vertical",u=t.get("feature")||{},c=this._features||(this._features={}),f=[];G(u,function(p,g){f.push(g)}),new nf(this._featureNames||[],f).add(h).update(h).remove(nn(h,null)).execute(),this._featureNames=f;function h(p,g){var m=f[p],y=f[g],S=u[m],M=new qn(S,t,t.ecModel),b;if(a&&a.newTitle!=null&&a.featureName===m&&(S.title=a.newTitle),m&&!y){if(GLe(m))b={onclick:M.option.onclick,featureName:m};else{var C=hee(m);if(!C)return;b=new C}c[m]=b}else if(b=c[y],!b)return;b.uid=Qy("toolbox-feature"),b.model=M,b.ecModel=r,b.api=i;var A=b instanceof Fs;if(!m&&y){A&&b.dispose&&b.dispose(r,i);return}if(!M.get("show")||A&&b.unusable){A&&b.remove&&b.remove(r,i);return}d(M,b,m),M.setIconStatus=function(E,I){var L=this.option,R=this.iconPaths;L.iconStatus=L.iconStatus||{},L.iconStatus[E]=I,R[E]&&(I==="emphasis"?ef:tf)(R[E])},b instanceof Fs&&b.render&&b.render(M,r,i,a)}function d(p,g,m){var y=p.getModel("iconStyle"),S=p.getModel(["emphasis","iconStyle"]),M=g instanceof Fs&&g.getIcons?g.getIcons():p.get("icon"),b=p.get("title")||{},C,A;ut(M)?(C={},C[m]=M):C=M,ut(b)?(A={},A[m]=b):A=b;var E=p.iconPaths={};G(C,function(I,L){var R=Ky(I,{},{x:-s/2,y:-s/2,width:s,height:s});R.setStyle(y.getItemStyle());var O=R.ensureState("emphasis");O.style=S.getItemStyle();var U=new On({style:{text:A[L],align:S.get("textAlign"),borderRadius:S.get("textBorderRadius"),padding:S.get("textPadding"),fill:null,font:Uk({fontStyle:S.get("textFontStyle"),fontFamily:S.get("textFontFamily"),fontSize:S.get("textFontSize"),fontWeight:S.get("textFontWeight")},r)},ignore:!0});R.setTextContent(U),zv({el:R,componentModel:t,itemName:L,formatterParamsExtra:{title:A[L]}}),R.__title=A[L],R.on("mouseover",function(){var V=S.getItemStyle(),W=l?t.get("right")==null&&t.get("left")!=="right"?"right":"left":t.get("bottom")==null&&t.get("top")!=="bottom"?"bottom":"top";U.setStyle({fill:S.get("textFill")||V.fill||V.stroke||"#000",backgroundColor:S.get("textBackgroundColor")}),R.setTextConfig({position:S.get("textPosition")||W}),U.ignore=!t.get("showTitle"),i.enterEmphasis(this)}).on("mouseout",function(){p.get(["iconStatus",L])!=="emphasis"&&i.leaveEmphasis(this),U.hide()}),(p.get(["iconStatus",L])==="emphasis"?ef:tf)(R),o.add(R),R.on("click",ht(g.onclick,g,r,i,L)),E[L]=R})}ULe(o,t,i),o.add(dee(o.getBoundingRect(),t)),l||o.eachChild(function(p){var g=p.__title,m=p.ensureState("emphasis"),y=m.textConfig||(m.textConfig={}),S=p.getTextContent(),M=S&&S.ensureState("emphasis");if(M&&!Ct(M)&&g){var b=M.style||(M.style={}),C=M1(g,On.makeFont(b)),A=p.x+o.x,E=p.y+o.y+s,I=!1;E+C.height>i.getHeight()&&(y.position="top",I=!0);var L=I?-5-C.height:s+10;A+C.width/2>i.getWidth()?(y.position=["100%",L],b.align="right"):A-C.width/2<0&&(y.position=[0,L],b.align="left")}})},e.prototype.updateView=function(t,r,i,a){G(this._features,function(o){o instanceof Fs&&o.updateView&&o.updateView(o.model,r,i,a)})},e.prototype.remove=function(t,r){G(this._features,function(i){i instanceof Fs&&i.remove&&i.remove(t,r)}),this.group.removeAll()},e.prototype.dispose=function(t,r){G(this._features,function(i){i instanceof Fs&&i.dispose&&i.dispose(t,r)})},e.type="toolbox",e})(br);function GLe(n){return n.indexOf("my")===0}var HLe=(function(n){Se(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.onclick=function(t,r){var i=this.model,a=i.get("name")||t.get("title.0.text")||"echarts",o=r.getZr().painter.getType()==="svg",s=o?"svg":i.get("type",!0)||"png",l=r.getConnectedDataURL({type:s,backgroundColor:i.get("backgroundColor",!0)||t.get("backgroundColor")||"#fff",connectedBackgroundColor:i.get("connectedBackgroundColor"),excludeComponents:i.get("excludeComponents"),pixelRatio:i.get("pixelRatio")}),u=Mn.browser;if(typeof MouseEvent=="function"&&(u.newEdge||!u.ie&&!u.edge)){var c=document.createElement("a");c.download=a+"."+s,c.target="_blank",c.href=l;var f=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});c.dispatchEvent(f)}else if(window.navigator.msSaveOrOpenBlob||o){var h=l.split(","),d=h[0].indexOf("base64")>-1,p=o?decodeURIComponent(h[1]):h[1];d&&(p=window.atob(p));var g=a+"."+s;if(window.navigator.msSaveOrOpenBlob){for(var m=p.length,y=new Uint8Array(m);m--;)y[m]=p.charCodeAt(m);var S=new Blob([y]);window.navigator.msSaveOrOpenBlob(S,g)}else{var M=document.createElement("iframe");document.body.appendChild(M);var b=M.contentWindow,C=b.document;C.open("image/svg+xml","replace"),C.write(p),C.close(),b.focus(),C.execCommand("SaveAs",!0,g),document.body.removeChild(M)}}else{var A=i.get("lang"),E='<body style="margin:0;"><img src="'+l+'" style="max-width:100%;" title="'+(A&&A[0]||"")+'" /></body>',I=window.open();I.document.write(E),I.document.title=a}},e.getDefaultOption=function(t){var r={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:t.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:t.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return r},e})(Fs),X6="__ec_magicType_stack__",WLe=[["line","bar"],["stack"]],XLe=(function(n){Se(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getIcons=function(){var t=this.model,r=t.get("icon"),i={};return G(t.get("type"),function(a){r[a]&&(i[a]=r[a])}),i},e.getDefaultOption=function(t){var r={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:t.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return r},e.prototype.onclick=function(t,r,i){var a=this.model,o=a.get(["seriesIndex",i]);if(Y6[i]){var s={series:[]},l=function(f){var h=f.subType,d=f.id,p=Y6[i](h,d,f,a);p&&(Dt(p,f.option),s.series.push(p));var g=f.coordinateSystem;if(g&&g.type==="cartesian2d"&&(i==="line"||i==="bar")){var m=g.getAxesByScale("ordinal")[0];if(m){var y=m.dim,S=y+"Axis",M=f.getReferringComponents(S,yi).models[0],b=M.componentIndex;s[S]=s[S]||[];for(var C=0;C<=b;C++)s[S][b]=s[S][b]||{};s[S][b].boundaryGap=i==="bar"}}};G(WLe,function(f){dn(f,i)>=0&&G(f,function(h){a.setIconStatus(h,"normal")})}),a.setIconStatus(i,"emphasis"),t.eachComponent({mainType:"series",query:o==null?null:{seriesIndex:o}},l);var u,c=i;i==="stack"&&(u=on({stack:a.option.title.tiled,tiled:a.option.title.stack},a.option.title),a.get(["iconStatus",i])!=="emphasis"&&(c="tiled")),r.dispatchAction({type:"changeMagicType",currentType:c,newOption:s,newTitle:u,featureName:"magicType"})}},e})(Fs),Y6={line:function(n,e,t,r){if(n==="bar")return on({id:e,type:"line",data:t.get("data"),stack:t.get("stack"),markPoint:t.get("markPoint"),markLine:t.get("markLine")},r.get(["option","line"])||{},!0)},bar:function(n,e,t,r){if(n==="line")return on({id:e,type:"bar",data:t.get("data"),stack:t.get("stack"),markPoint:t.get("markPoint"),markLine:t.get("markLine")},r.get(["option","bar"])||{},!0)},stack:function(n,e,t,r){var i=t.get("stack")===X6;if(n==="line"||n==="bar")return r.setIconStatus("stack",i?"normal":"emphasis"),on({id:e,stack:i?"":X6},r.get(["option","stack"])||{},!0)}};jl({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(n,e){e.mergeOption(n.newOption)});var QC=new Array(60).join("-"),Iy="	";function YLe(n){var e={},t=[],r=[];return n.eachRawSeries(function(i){var a=i.coordinateSystem;if(a&&(a.type==="cartesian2d"||a.type==="polar")){var o=a.getBaseAxis();if(o.type==="category"){var s=o.dim+"_"+o.index;e[s]||(e[s]={categoryAxis:o,valueAxis:a.getOtherAxis(o),series:[]},r.push({axisDim:o.dim,axisIndex:o.index})),e[s].series.push(i)}else t.push(i)}else t.push(i)}),{seriesGroupByCategoryAxis:e,other:t,meta:r}}function jLe(n){var e=[];return G(n,function(t,r){var i=t.categoryAxis,a=t.valueAxis,o=a.dim,s=[" "].concat(Ve(t.series,function(d){return d.name})),l=[i.model.getCategories()];G(t.series,function(d){var p=d.getRawData();l.push(d.getRawData().mapArray(p.mapDimension(o),function(g){return g}))});for(var u=[s.join(Iy)],c=0;c<l[0].length;c++){for(var f=[],h=0;h<l.length;h++)f.push(l[h][c]);u.push(f.join(Iy))}e.push(u.join(`
`))}),e.join(`

`+QC+`

`)}function ZLe(n){return Ve(n,function(e){var t=e.getRawData(),r=[e.name],i=[];return t.each(t.dimensions,function(){for(var a=arguments.length,o=arguments[a-1],s=t.getName(o),l=0;l<a-1;l++)i[l]=arguments[l];r.push((s?s+Iy:"")+i.join(Iy))}),r.join(`
`)}).join(`

`+QC+`

`)}function $Le(n){var e=YLe(n);return{value:$n([jLe(e.seriesGroupByCategoryAxis),ZLe(e.other)],function(t){return!!t.replace(/[\n\t\s]/g,"")}).join(`

`+QC+`

`),meta:e.meta}}function xA(n){return n.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function qLe(n){var e=n.slice(0,n.indexOf(`
`));if(e.indexOf(Iy)>=0)return!0}var _N=new RegExp("["+Iy+"]+","g");function KLe(n){for(var e=n.split(/\n+/g),t=xA(e.shift()).split(_N),r=[],i=Ve(t,function(l){return{name:l,data:[]}}),a=0;a<e.length;a++){var o=xA(e[a]).split(_N);r.push(o.shift());for(var s=0;s<o.length;s++)i[s]&&(i[s].data[a]=o[s])}return{series:i,categories:r}}function JLe(n){for(var e=n.split(/\n+/g),t=xA(e.shift()),r=[],i=0;i<e.length;i++){var a=xA(e[i]);if(a){var o=a.split(_N),s="",l=void 0,u=!1;isNaN(o[0])?(u=!0,s=o[0],o=o.slice(1),r[i]={name:s,value:[]},l=r[i].value):l=r[i]=[];for(var c=0;c<o.length;c++)l.push(+o[c]);l.length===1&&(u?r[i].value=l[0]:r[i]=l[0])}}return{name:t,data:r}}function QLe(n,e){var t=n.split(new RegExp(`
*`+QC+`
*`,"g")),r={series:[]};return G(t,function(i,a){if(qLe(i)){var o=KLe(i),s=e[a],l=s.axisDim+"Axis";s&&(r[l]=r[l]||[],r[l][s.axisIndex]={data:o.categories},r.series=r.series.concat(o.series))}else{var o=JLe(i);r.series.push(o)}}),r}var eIe=(function(n){Se(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.onclick=function(t,r){setTimeout(function(){r.dispatchAction({type:"hideTip"})});var i=r.getDom(),a=this.model;this._dom&&i.removeChild(this._dom);var o=document.createElement("div");o.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",o.style.backgroundColor=a.get("backgroundColor")||"#fff";var s=document.createElement("h4"),l=a.get("lang")||[];s.innerHTML=l[0]||a.get("title"),s.style.cssText="margin:10px 20px",s.style.color=a.get("textColor");var u=document.createElement("div"),c=document.createElement("textarea");u.style.cssText="overflow:auto";var f=a.get("optionToContent"),h=a.get("contentToOption"),d=$Le(t);if(Ct(f)){var p=f(r.getOption());ut(p)?u.innerHTML=p:xv(p)&&u.appendChild(p)}else{c.readOnly=a.get("readOnly");var g=c.style;g.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",g.color=a.get("textColor"),g.borderColor=a.get("textareaBorderColor"),g.backgroundColor=a.get("textareaColor"),c.value=d.value,u.appendChild(c)}var m=d.meta,y=document.createElement("div");y.style.cssText="position:absolute;bottom:5px;left:0;right:0";var S="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",M=document.createElement("div"),b=document.createElement("div");S+=";background-color:"+a.get("buttonColor"),S+=";color:"+a.get("buttonTextColor");var C=this;function A(){i.removeChild(o),C._dom=null}$L(M,"click",A),$L(b,"click",function(){if(h==null&&f!=null||h!=null&&f==null){A();return}var E;try{Ct(h)?E=h(u,r.getOption()):E=QLe(c.value,m)}catch(I){throw A(),new Error("Data view format error "+I)}E&&r.dispatchAction({type:"changeDataView",newOption:E}),A()}),M.innerHTML=l[1],b.innerHTML=l[2],b.style.cssText=M.style.cssText=S,!a.get("readOnly")&&y.appendChild(b),y.appendChild(M),o.appendChild(s),o.appendChild(u),o.appendChild(y),u.style.height=i.clientHeight-80+"px",i.appendChild(o),this._dom=o},e.prototype.remove=function(t,r){this._dom&&r.getDom().removeChild(this._dom)},e.prototype.dispose=function(t,r){this.remove(t,r)},e.getDefaultOption=function(t){var r={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:t.getLocaleModel().get(["toolbox","dataView","title"]),lang:t.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};return r},e})(Fs);function tIe(n,e){return Ve(n,function(t,r){var i=e&&e[r];if(Bt(i)&&!ze(i)){var a=Bt(t)&&!ze(t);a||(t={value:t});var o=i.name!=null&&t.name==null;return t=Dt(t,i),o&&delete t.name,t}else return t})}jl({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(n,e){var t=[];G(n.newOption.series,function(r){var i=e.getSeriesByName(r.name)[0];if(!i)t.push(Le({type:"scatter"},r));else{var a=i.get("data");t.push({name:r.name,data:tIe(r.data,a)})}}),e.mergeOption(Dt({series:t},n.newOption))});var pee=G,vee=Un();function nIe(n,e){var t=_F(n);pee(e,function(r,i){for(var a=t.length-1;a>=0;a--){var o=t[a];if(o[i])break}if(a<0){var s=n.queryComponents({mainType:"dataZoom",subType:"select",id:i})[0];if(s){var l=s.getPercentRange();t[0][i]={dataZoomId:i,start:l[0],end:l[1]}}}}),t.push(e)}function rIe(n){var e=_F(n),t=e[e.length-1];e.length>1&&e.pop();var r={};return pee(t,function(i,a){for(var o=e.length-1;o>=0;o--)if(i=e[o][a],i){r[a]=i;break}}),r}function iIe(n){vee(n).snapshots=null}function aIe(n){return _F(n).length}function _F(n){var e=vee(n);return e.snapshots||(e.snapshots=[{}]),e.snapshots}var oIe=(function(n){Se(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.onclick=function(t,r){iIe(t),r.dispatchAction({type:"restore",from:this.uid})},e.getDefaultOption=function(t){var r={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:t.getLocaleModel().get(["toolbox","restore","title"])};return r},e})(Fs);jl({type:"restore",event:"restore",update:"prepareAndUpdate"},function(n,e){e.resetOption("recreate")});var sIe=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],xF=(function(){function n(e,t,r){var i=this;this._targetInfoList=[];var a=j6(t,e);G(lIe,function(o,s){(!r||!r.include||dn(r.include,s)>=0)&&o(a,i._targetInfoList)})}return n.prototype.setOutputRanges=function(e,t){return this.matchOutputRanges(e,t,function(r,i,a){if((r.coordRanges||(r.coordRanges=[])).push(i),!r.coordRange){r.coordRange=i;var o=c2[r.brushType](0,a,i);r.__rangeOffset={offset:K6[r.brushType](o.values,r.range,[1,1]),xyMinMax:o.xyMinMax}}}),e},n.prototype.matchOutputRanges=function(e,t,r){G(e,function(i){var a=this.findTargetInfo(i,t);a&&a!==!0&&G(a.coordSyses,function(o){var s=c2[i.brushType](1,o,i.range,!0);r(i,s.values,o,t)})},this)},n.prototype.setInputRanges=function(e,t){G(e,function(r){var i=this.findTargetInfo(r,t);if(r.range=r.range||[],i&&i!==!0){r.panelId=i.panelId;var a=c2[r.brushType](0,i.coordSys,r.coordRange),o=r.__rangeOffset;r.range=o?K6[r.brushType](a.values,o.offset,uIe(a.xyMinMax,o.xyMinMax)):a.values}},this)},n.prototype.makePanelOpts=function(e,t){return Ve(this._targetInfoList,function(r){var i=r.getPanelRect();return{panelId:r.panelId,defaultBrushType:t?t(r):null,clipPath:MQ(i),isTargetByCursor:bQ(i,e,r.coordSysModel),getLinearBrushOtherExtent:TQ(i)}})},n.prototype.controlSeries=function(e,t,r){var i=this.findTargetInfo(e,r);return i===!0||i&&dn(i.coordSyses,t.coordinateSystem)>=0},n.prototype.findTargetInfo=function(e,t){for(var r=this._targetInfoList,i=j6(t,e),a=0;a<r.length;a++){var o=r[a],s=e.panelId;if(s){if(o.panelId===s)return o}else for(var l=0;l<Z6.length;l++)if(Z6[l](i,o))return o}return!0},n})();function xN(n){return n[0]>n[1]&&n.reverse(),n}function j6(n,e){return Bx(n,e,{includeMainTypes:sIe})}var lIe={grid:function(n,e){var t=n.xAxisModels,r=n.yAxisModels,i=n.gridModels,a=xt(),o={},s={};!t&&!r&&!i||(G(t,function(l){var u=l.axis.grid.model;a.set(u.id,u),o[u.id]=!0}),G(r,function(l){var u=l.axis.grid.model;a.set(u.id,u),s[u.id]=!0}),G(i,function(l){a.set(l.id,l),o[l.id]=!0,s[l.id]=!0}),a.each(function(l){var u=l.coordinateSystem,c=[];G(u.getCartesians(),function(f,h){(dn(t,f.getAxis("x").model)>=0||dn(r,f.getAxis("y").model)>=0)&&c.push(f)}),e.push({panelId:"grid--"+l.id,gridModel:l,coordSysModel:l,coordSys:c[0],coordSyses:c,getPanelRect:$6.grid,xAxisDeclared:o[l.id],yAxisDeclared:s[l.id]})}))},geo:function(n,e){G(n.geoModels,function(t){var r=t.coordinateSystem;e.push({panelId:"geo--"+t.id,geoModel:t,coordSysModel:t,coordSys:r,coordSyses:[r],getPanelRect:$6.geo})})}},Z6=[function(n,e){var t=n.xAxisModel,r=n.yAxisModel,i=n.gridModel;return!i&&t&&(i=t.axis.grid.model),!i&&r&&(i=r.axis.grid.model),i&&i===e.gridModel},function(n,e){var t=n.geoModel;return t&&t===e.geoModel}],$6={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var n=this.coordSys,e=n.getBoundingRect().clone();return e.applyTransform(Ah(n)),e}},c2={lineX:nn(q6,0),lineY:nn(q6,1),rect:function(n,e,t,r){var i=n?e.pointToData([t[0][0],t[1][0]],r):e.dataToPoint([t[0][0],t[1][0]],r),a=n?e.pointToData([t[0][1],t[1][1]],r):e.dataToPoint([t[0][1],t[1][1]],r),o=[xN([i[0],a[0]]),xN([i[1],a[1]])];return{values:o,xyMinMax:o}},polygon:function(n,e,t,r){var i=[[1/0,-1/0],[1/0,-1/0]],a=Ve(t,function(o){var s=n?e.pointToData(o,r):e.dataToPoint(o,r);return i[0][0]=Math.min(i[0][0],s[0]),i[1][0]=Math.min(i[1][0],s[1]),i[0][1]=Math.max(i[0][1],s[0]),i[1][1]=Math.max(i[1][1],s[1]),s});return{values:a,xyMinMax:i}}};function q6(n,e,t,r){var i=t.getAxis(["x","y"][n]),a=xN(Ve([0,1],function(s){return e?i.coordToData(i.toLocalCoord(r[s]),!0):i.toGlobalCoord(i.dataToCoord(r[s]))})),o=[];return o[n]=a,o[1-n]=[NaN,NaN],{values:a,xyMinMax:o}}var K6={lineX:nn(J6,0),lineY:nn(J6,1),rect:function(n,e,t){return[[n[0][0]-t[0]*e[0][0],n[0][1]-t[0]*e[0][1]],[n[1][0]-t[1]*e[1][0],n[1][1]-t[1]*e[1][1]]]},polygon:function(n,e,t){return Ve(n,function(r,i){return[r[0]-t[0]*e[i][0],r[1]-t[1]*e[i][1]]})}};function J6(n,e,t,r){return[e[0]-r[n]*t[0],e[1]-r[n]*t[1]]}function uIe(n,e){var t=Q6(n),r=Q6(e),i=[t[0]/r[0],t[1]/r[1]];return isNaN(i[0])&&(i[0]=1),isNaN(i[1])&&(i[1]=1),i}function Q6(n){return n?[n[0][1]-n[0][0],n[1][1]-n[1][0]]:[NaN,NaN]}var SN=G,cIe=r0e("toolbox-dataZoom_"),fIe=(function(n){Se(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.render=function(t,r,i,a){this._brushController||(this._brushController=new j3(i.getZr()),this._brushController.on("brush",ht(this._onBrush,this)).mount()),pIe(t,r,this,a,i),dIe(t,r)},e.prototype.onclick=function(t,r,i){hIe[i].call(this)},e.prototype.remove=function(t,r){this._brushController&&this._brushController.unmount()},e.prototype.dispose=function(t,r){this._brushController&&this._brushController.dispose()},e.prototype._onBrush=function(t){var r=t.areas;if(!t.isEnd||!r.length)return;var i={},a=this.ecModel;this._brushController.updateCovers([]);var o=new xF(SF(this.model),a,{include:["grid"]});o.matchOutputRanges(r,a,function(u,c,f){if(f.type==="cartesian2d"){var h=u.brushType;h==="rect"?(s("x",f,c[0]),s("y",f,c[1])):s({lineX:"x",lineY:"y"}[h],f,c)}}),nIe(a,i),this._dispatchZoomAction(i);function s(u,c,f){var h=c.getAxis(u),d=h.model,p=l(u,d,a),g=p.findRepresentativeAxisProxy(d).getMinMaxSpan();(g.minValueSpan!=null||g.maxValueSpan!=null)&&(f=Wv(0,f.slice(),h.scale.getExtent(),0,g.minValueSpan,g.maxValueSpan)),p&&(i[p.id]={dataZoomId:p.id,startValue:f[0],endValue:f[1]})}function l(u,c,f){var h;return f.eachComponent({mainType:"dataZoom",subType:"select"},function(d){var p=d.getAxisModel(u,c.componentIndex);p&&(h=d)}),h}},e.prototype._dispatchZoomAction=function(t){var r=[];SN(t,function(i,a){r.push(Vt(i))}),r.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:r})},e.getDefaultOption=function(t){var r={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:t.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}};return r},e})(Fs),hIe={zoom:function(){var n=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:n})},back:function(){this._dispatchZoomAction(rIe(this.ecModel))}};function SF(n){var e={xAxisIndex:n.get("xAxisIndex",!0),yAxisIndex:n.get("yAxisIndex",!0),xAxisId:n.get("xAxisId",!0),yAxisId:n.get("yAxisId",!0)};return e.xAxisIndex==null&&e.xAxisId==null&&(e.xAxisIndex="all"),e.yAxisIndex==null&&e.yAxisId==null&&(e.yAxisIndex="all"),e}function dIe(n,e){n.setIconStatus("back",aIe(e)>1?"emphasis":"normal")}function pIe(n,e,t,r,i){var a=t._isZoomActive;r&&r.type==="takeGlobalCursor"&&(a=r.key==="dataZoomSelect"?r.dataZoomSelectActive:!1),t._isZoomActive=a,n.setIconStatus("zoom",a?"emphasis":"normal");var o=new xF(SF(n),e,{include:["grid"]}),s=o.makePanelOpts(i,function(l){return l.xAxisDeclared&&!l.yAxisDeclared?"lineX":!l.xAxisDeclared&&l.yAxisDeclared?"lineY":"rect"});t._brushController.setPanels(s).enableBrush(a&&s.length?{brushType:"auto",brushStyle:n.getModel("brushStyle").getItemStyle()}:!1)}Axe("dataZoom",function(n){var e=n.getComponent("toolbox",0),t=["feature","dataZoom"];if(!e||e.get(t)==null)return;var r=e.getModel(t),i=[],a=SF(r),o=Bx(n,a);SN(o.xAxisModels,function(l){return s(l,"xAxis","xAxisIndex")}),SN(o.yAxisModels,function(l){return s(l,"yAxis","yAxisIndex")});function s(l,u,c){var f=l.componentIndex,h={type:"select",$fromToolbox:!0,filterMode:r.get("filterMode",!0)||"filter",id:cIe+u+f};h[c]=f,i.push(h)}return i});function vIe(n){n.registerComponentModel(BLe),n.registerComponentView(VLe),Hm("saveAsImage",HLe),Hm("magicType",XLe),Hm("dataView",eIe),Hm("dataZoom",fIe),Hm("restore",oIe),Sn(zLe)}var gIe=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="tooltip",e.dependencies=["axisPointer"],e.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},e})(wn);function gee(n){var e=n.get("confine");return e!=null?!!e:n.get("renderMode")==="richText"}function mee(n){if(Mn.domSupported){for(var e=document.documentElement.style,t=0,r=n.length;t<r;t++)if(n[t]in e)return n[t]}}var yee=mee(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),mIe=mee(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function _ee(n,e){if(!n)return e;e=Zk(e,!0);var t=n.indexOf(e);return n=t===-1?e:"-"+n.slice(0,t)+"-"+e,n.toLowerCase()}function yIe(n,e){var t=n.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(n);return t?t[e]:null}var _Ie=_ee(mIe,"transition"),wF=_ee(yee,"transform"),xIe="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(Mn.transform3dSupported?"will-change:transform;":"");function SIe(n){return n=n==="left"?"right":n==="right"?"left":n==="top"?"bottom":"top",n}function wIe(n,e,t){if(!ut(t)||t==="inside")return"";var r=n.get("backgroundColor"),i=n.get("borderWidth");e=bv(e);var a=SIe(t),o=Math.max(Math.round(i)*1.5,6),s="",l=wF+":",u;dn(["left","right"],a)>-1?(s+="top:50%",l+="translateY(-50%) rotate("+(u=a==="left"?-225:-45)+"deg)"):(s+="left:50%",l+="translateX(-50%) rotate("+(u=a==="top"?225:45)+"deg)");var c=u*Math.PI/180,f=o+i,h=f*Math.abs(Math.cos(c))+f*Math.abs(Math.sin(c)),d=Math.round(((h-Math.SQRT2*i)/2+Math.SQRT2*i-(h-f)/2)*100)/100;s+=";"+a+":-"+d+"px";var p=e+" solid "+i+"px;",g=["position:absolute;width:"+o+"px;height:"+o+"px;z-index:-1;",s+";"+l+";","border-bottom:"+p,"border-right:"+p,"background-color:"+r+";"];return'<div style="'+g.join("")+'"></div>'}function MIe(n,e){var t="cubic-bezier(0.23,1,0.32,1)",r=" "+n/2+"s "+t,i="opacity"+r+",visibility"+r;return e||(r=" "+n+"s "+t,i+=Mn.transformSupported?","+wF+r:",left"+r+",top"+r),_Ie+":"+i}function e8(n,e,t){var r=n.toFixed(0)+"px",i=e.toFixed(0)+"px";if(!Mn.transformSupported)return t?"top:"+i+";left:"+r+";":[["top",i],["left",r]];var a=Mn.transform3dSupported,o="translate"+(a?"3d":"")+"("+r+","+i+(a?",0":"")+")";return t?"top:0;left:0;"+wF+":"+o+";":[["top",0],["left",0],[yee,o]]}function TIe(n){var e=[],t=n.get("fontSize"),r=n.getTextColor();r&&e.push("color:"+r),e.push("font:"+n.getFont());var i=tn(n.get("lineHeight"),Math.round(t*3/2));t&&e.push("line-height:"+i+"px");var a=n.get("textShadowColor"),o=n.get("textShadowBlur")||0,s=n.get("textShadowOffsetX")||0,l=n.get("textShadowOffsetY")||0;return a&&o&&e.push("text-shadow:"+s+"px "+l+"px "+o+"px "+a),G(["decoration","align"],function(u){var c=n.get(u);c&&e.push("text-"+u+":"+c)}),e.join(";")}function bIe(n,e,t){var r=[],i=n.get("transitionDuration"),a=n.get("backgroundColor"),o=n.get("shadowBlur"),s=n.get("shadowColor"),l=n.get("shadowOffsetX"),u=n.get("shadowOffsetY"),c=n.getModel("textStyle"),f=Eq(n,"html"),h=l+"px "+u+"px "+o+"px "+s;return r.push("box-shadow:"+h),e&&i&&r.push(MIe(i,t)),a&&r.push("background-color:"+a),G(["width","color","radius"],function(d){var p="border-"+d,g=Zk(p),m=n.get(g);m!=null&&r.push(p+":"+m+(d==="color"?"":"px"))}),r.push(TIe(c)),f!=null&&r.push("padding:"+Uv(f).join("px ")+"px"),r.join(";")+";"}function t8(n,e,t,r,i){var a=e&&e.painter;if(t){var o=a&&a.getViewportRoot();o&&Rme(n,o,t,r,i)}else{n[0]=r,n[1]=i;var s=a&&a.getViewportRootOffset();s&&(n[0]+=s.offsetLeft,n[1]+=s.offsetTop)}n[2]=n[0]/e.getWidth(),n[3]=n[1]/e.getHeight()}var AIe=(function(){function n(e,t){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,Mn.wxa)return null;var r=document.createElement("div");r.domBelongToZr=!0,this.el=r;var i=this._zr=e.getZr(),a=t.appendTo,o=a&&(ut(a)?document.querySelector(a):xv(a)?a:Ct(a)&&a(e.getDom()));t8(this._styleCoord,i,o,e.getWidth()/2,e.getHeight()/2),(o||e.getDom()).appendChild(r),this._api=e,this._container=o;var s=this;r.onmouseenter=function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0},r.onmousemove=function(l){if(l=l||window.event,!s._enterable){var u=i.handler,c=i.painter.getViewportRoot();Ls(c,l,!0),u.dispatch("mousemove",l)}},r.onmouseleave=function(){s._inContent=!1,s._enterable&&s._show&&s.hideLater(s._hideDelay)}}return n.prototype.update=function(e){if(!this._container){var t=this._api.getDom(),r=yIe(t,"position"),i=t.style;i.position!=="absolute"&&r!=="absolute"&&(i.position="relative")}var a=e.get("alwaysShowContent");a&&this._moveIfResized(),this._alwaysShowContent=a,this.el.className=e.get("className")||""},n.prototype.show=function(e,t){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var r=this.el,i=r.style,a=this._styleCoord;r.innerHTML?i.cssText=xIe+bIe(e,!this._firstShow,this._longHide)+e8(a[0],a[1],!0)+("border-color:"+bv(t)+";")+(e.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):i.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},n.prototype.setContent=function(e,t,r,i,a){var o=this.el;if(e==null){o.innerHTML="";return}var s="";if(ut(a)&&r.get("trigger")==="item"&&!gee(r)&&(s=wIe(r,i,a)),ut(e))o.innerHTML=e+s;else if(e){o.innerHTML="",ze(e)||(e=[e]);for(var l=0;l<e.length;l++)xv(e[l])&&e[l].parentNode!==o&&o.appendChild(e[l]);if(s&&o.childNodes.length){var u=document.createElement("div");u.innerHTML=s,o.appendChild(u)}}},n.prototype.setEnterable=function(e){this._enterable=e},n.prototype.getSize=function(){var e=this.el;return e?[e.offsetWidth,e.offsetHeight]:[0,0]},n.prototype.moveTo=function(e,t){if(this.el){var r=this._styleCoord;if(t8(r,this._zr,this._container,e,t),r[0]!=null&&r[1]!=null){var i=this.el.style,a=e8(r[0],r[1]);G(a,function(o){i[o[0]]=o[1]})}}},n.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},n.prototype.hide=function(){var e=this,t=this.el.style;t.visibility="hidden",t.opacity="0",Mn.transform3dSupported&&(t.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return e._longHide=!0},500)},n.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(ht(this.hide,this),e)):this.hide())},n.prototype.isShow=function(){return this._show},n.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var e=this.el.parentNode;e&&e.removeChild(this.el),this.el=this._container=null},n})(),CIe=(function(){function n(e){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=e.getZr(),r8(this._styleCoord,this._zr,e.getWidth()/2,e.getHeight()/2)}return n.prototype.update=function(e){var t=e.get("alwaysShowContent");t&&this._moveIfResized(),this._alwaysShowContent=t},n.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},n.prototype.setContent=function(e,t,r,i,a){var o=this;Bt(e)&&tr(""),this.el&&this._zr.remove(this.el);var s=r.getModel("textStyle");this.el=new On({style:{rich:t.richTextStyles,text:e,lineHeight:22,borderWidth:1,borderColor:i,textShadowColor:s.get("textShadowColor"),fill:r.get(["textStyle","color"]),padding:Eq(r,"richText"),verticalAlign:"top",align:"left"},z:r.get("z")}),G(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(u){o.el.style[u]=r.get(u)}),G(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(u){o.el.style[u]=s.get(u)||0}),this._zr.add(this.el);var l=this;this.el.on("mouseover",function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0}),this.el.on("mouseout",function(){l._enterable&&l._show&&l.hideLater(l._hideDelay),l._inContent=!1})},n.prototype.setEnterable=function(e){this._enterable=e},n.prototype.getSize=function(){var e=this.el,t=this.el.getBoundingRect(),r=n8(e.style);return[t.width+r.left+r.right,t.height+r.top+r.bottom]},n.prototype.moveTo=function(e,t){var r=this.el;if(r){var i=this._styleCoord;r8(i,this._zr,e,t),e=i[0],t=i[1];var a=r.style,o=ch(a.borderWidth||0),s=n8(a);r.x=e+o+s.left,r.y=t+o+s.top,r.markRedraw()}},n.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},n.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},n.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(ht(this.hide,this),e)):this.hide())},n.prototype.isShow=function(){return this._show},n.prototype.dispose=function(){this._zr.remove(this.el)},n})();function ch(n){return Math.max(0,n)}function n8(n){var e=ch(n.shadowBlur||0),t=ch(n.shadowOffsetX||0),r=ch(n.shadowOffsetY||0);return{left:ch(e-t),right:ch(e+t),top:ch(e-r),bottom:ch(e+r)}}function r8(n,e,t,r){n[0]=t,n[1]=r,n[2]=n[0]/e.getWidth(),n[3]=n[1]/e.getHeight()}var EIe=new kn({shape:{x:-1,y:-1,width:2,height:2}}),PIe=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,r){if(!(Mn.node||!r.getDom())){var i=t.getComponent("tooltip"),a=this._renderMode=c0e(i.get("renderMode"));this._tooltipContent=a==="richText"?new CIe(r):new AIe(r,{appendTo:i.get("appendToBody",!0)?"body":i.get("appendTo",!0)})}},e.prototype.render=function(t,r,i){if(!(Mn.node||!i.getDom())){this.group.removeAll(),this._tooltipModel=t,this._ecModel=r,this._api=i;var a=this._tooltipContent;a.update(t),a.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&t.get("transitionDuration")?i0(this,"_updatePosition",50,"fixRate"):BS(this,"_updatePosition")}},e.prototype._initGlobalListener=function(){var t=this._tooltipModel,r=t.get("triggerOn");ree("itemTooltip",this._api,ht(function(i,a,o){r!=="none"&&(r.indexOf(i)>=0?this._tryShow(a,o):i==="leave"&&this._hide(o))},this))},e.prototype._keepShow=function(){var t=this._tooltipModel,r=this._ecModel,i=this._api,a=t.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&a!=="none"&&a!=="click"){var o=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!i.isDisposed()&&o.manuallyShowTip(t,r,i,{x:o._lastX,y:o._lastY,dataByCoordSys:o._lastDataByCoordSys})})}},e.prototype.manuallyShowTip=function(t,r,i,a){if(!(a.from===this.uid||Mn.node||!i.getDom())){var o=i8(a,i);this._ticket="";var s=a.dataByCoordSys,l=IIe(a,r,i);if(l){var u=l.el.getBoundingRect().clone();u.applyTransform(l.el.transform),this._tryShow({offsetX:u.x+u.width/2,offsetY:u.y+u.height/2,target:l.el,position:a.position,positionDefault:"bottom"},o)}else if(a.tooltip&&a.x!=null&&a.y!=null){var c=EIe;c.x=a.x,c.y=a.y,c.update(),$t(c).tooltipConfig={name:null,option:a.tooltip},this._tryShow({offsetX:a.x,offsetY:a.y,target:c},o)}else if(s)this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,dataByCoordSys:s,tooltipOption:a.tooltipOption},o);else if(a.seriesIndex!=null){if(this._manuallyAxisShowTip(t,r,i,a))return;var f=iee(a,r),h=f.point[0],d=f.point[1];h!=null&&d!=null&&this._tryShow({offsetX:h,offsetY:d,target:f.el,position:a.position,positionDefault:"bottom"},o)}else a.x!=null&&a.y!=null&&(i.dispatchAction({type:"updateAxisPointer",x:a.x,y:a.y}),this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,target:i.getZr().findHover(a.x,a.y).target},o))}},e.prototype.manuallyHideTip=function(t,r,i,a){var o=this._tooltipContent;this._tooltipModel&&o.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,a.from!==this.uid&&this._hide(i8(a,i))},e.prototype._manuallyAxisShowTip=function(t,r,i,a){var o=a.seriesIndex,s=a.dataIndex,l=r.getComponent("axisPointer").coordSysAxesInfo;if(!(o==null||s==null||l==null)){var u=r.getSeriesByIndex(o);if(u){var c=u.getData(),f=Z_([c.getItemModel(s),u,(u.coordinateSystem||{}).model],this._tooltipModel);if(f.get("trigger")==="axis")return i.dispatchAction({type:"updateAxisPointer",seriesIndex:o,dataIndex:s,position:a.position}),!0}}},e.prototype._tryShow=function(t,r){var i=t.target,a=this._tooltipModel;if(a){this._lastX=t.offsetX,this._lastY=t.offsetY;var o=t.dataByCoordSys;if(o&&o.length)this._showAxisTooltip(o,t);else if(i){var s=$t(i);if(s.ssrType==="legend")return;this._lastDataByCoordSys=null;var l,u;Kp(i,function(c){if($t(c).dataIndex!=null)return l=c,!0;if($t(c).tooltipConfig!=null)return u=c,!0},!0),l?this._showSeriesItemTooltip(t,l,r):u?this._showComponentItemTooltip(t,u,r):this._hide(r)}else this._lastDataByCoordSys=null,this._hide(r)}},e.prototype._showOrMove=function(t,r){var i=t.get("showDelay");r=ht(r,this),clearTimeout(this._showTimout),i>0?this._showTimout=setTimeout(r,i):r()},e.prototype._showAxisTooltip=function(t,r){var i=this._ecModel,a=this._tooltipModel,o=[r.offsetX,r.offsetY],s=Z_([r.tooltipOption],a),l=this._renderMode,u=[],c=Zi("section",{blocks:[],noHeader:!0}),f=[],h=new $D;G(t,function(S){G(S.dataByAxis,function(M){var b=i.getComponent(M.axisDim+"Axis",M.axisIndex),C=M.value;if(!(!b||C==null)){var A=eee(C,b.axis,i,M.seriesDataIndices,M.valueLabelOpt),E=Zi("section",{header:A,noHeader:!Us(A),sortBlocks:!0,blocks:[]});c.blocks.push(E),G(M.seriesDataIndices,function(I){var L=i.getSeriesByIndex(I.seriesIndex),R=I.dataIndexInside,O=L.getDataParams(R);if(!(O.dataIndex<0)){O.axisDim=M.axisDim,O.axisIndex=M.axisIndex,O.axisType=M.axisType,O.axisId=M.axisId,O.axisValue=S3(b.axis,{value:C}),O.axisValueLabel=A,O.marker=h.makeTooltipMarker("item",bv(O.color),l);var U=X4(L.formatTooltip(R,!0,null)),V=U.frag;if(V){var W=Z_([L],a).get("valueFormatter");E.blocks.push(W?Le({valueFormatter:W},V):V)}U.text&&f.push(U.text),u.push(O)}})}})}),c.blocks.reverse(),f.reverse();var d=r.position,p=s.get("order"),g=K4(c,h,l,p,i.get("useUTC"),s.get("textStyle"));g&&f.unshift(g);var m=l==="richText"?`

`:"<br/>",y=f.join(m);this._showOrMove(s,function(){this._updateContentNotChangedOnAxis(t,u)?this._updatePosition(s,d,o[0],o[1],this._tooltipContent,u):this._showTooltipContent(s,y,u,Math.random()+"",o[0],o[1],d,null,h)})},e.prototype._showSeriesItemTooltip=function(t,r,i){var a=this._ecModel,o=$t(r),s=o.seriesIndex,l=a.getSeriesByIndex(s),u=o.dataModel||l,c=o.dataIndex,f=o.dataType,h=u.getData(f),d=this._renderMode,p=t.positionDefault,g=Z_([h.getItemModel(c),u,l&&(l.coordinateSystem||{}).model],this._tooltipModel,p?{position:p}:null),m=g.get("trigger");if(!(m!=null&&m!=="item")){var y=u.getDataParams(c,f),S=new $D;y.marker=S.makeTooltipMarker("item",bv(y.color),d);var M=X4(u.formatTooltip(c,!1,f)),b=g.get("order"),C=g.get("valueFormatter"),A=M.frag,E=A?K4(C?Le({valueFormatter:C},A):A,S,d,b,a.get("useUTC"),g.get("textStyle")):M.text,I="item_"+u.name+"_"+c;this._showOrMove(g,function(){this._showTooltipContent(g,E,y,I,t.offsetX,t.offsetY,t.position,t.target,S)}),i({type:"showTip",dataIndexInside:c,dataIndex:h.getRawIndex(c),seriesIndex:s,from:this.uid})}},e.prototype._showComponentItemTooltip=function(t,r,i){var a=this._renderMode==="html",o=$t(r),s=o.tooltipConfig,l=s.option||{},u=l.encodeHTMLContent;if(ut(l)){var c=l;l={content:c,formatter:c},u=!0}u&&a&&l.content&&(l=Vt(l),l.content=za(l.content));var f=[l],h=this._ecModel.getComponent(o.componentMainType,o.componentIndex);h&&f.push(h),f.push({formatter:l.content});var d=t.positionDefault,p=Z_(f,this._tooltipModel,d?{position:d}:null),g=p.get("content"),m=Math.random()+"",y=new $D;this._showOrMove(p,function(){var S=Vt(p.get("formatterParams")||{});this._showTooltipContent(p,g,S,m,t.offsetX,t.offsetY,t.position,r,y)}),i({type:"showTip",from:this.uid})},e.prototype._showTooltipContent=function(t,r,i,a,o,s,l,u,c){if(this._ticket="",!(!t.get("showContent")||!t.get("show"))){var f=this._tooltipContent;f.setEnterable(t.get("enterable"));var h=t.get("formatter");l=l||t.get("position");var d=r,p=this._getNearestPoint([o,s],i,t.get("trigger"),t.get("borderColor")),g=p.color;if(h)if(ut(h)){var m=t.ecModel.get("useUTC"),y=ze(i)?i[0]:i,S=y&&y.axisType&&y.axisType.indexOf("time")>=0;d=h,S&&(d=D1(y.axisValue,d,m)),d=$k(d,i,!0)}else if(Ct(h)){var M=ht(function(b,C){b===this._ticket&&(f.setContent(C,c,t,g,l),this._updatePosition(t,l,o,s,f,i,u))},this);this._ticket=a,d=h(i,a,M)}else d=h;f.setContent(d,c,t,g,l),f.show(t,g),this._updatePosition(t,l,o,s,f,i,u)}},e.prototype._getNearestPoint=function(t,r,i,a){if(i==="axis"||ze(r))return{color:a||(this._renderMode==="html"?"#fff":"none")};if(!ze(r))return{color:a||r.color||r.borderColor}},e.prototype._updatePosition=function(t,r,i,a,o,s,l){var u=this._api.getWidth(),c=this._api.getHeight();r=r||t.get("position");var f=o.getSize(),h=t.get("align"),d=t.get("verticalAlign"),p=l&&l.getBoundingRect().clone();if(l&&p.applyTransform(l.transform),Ct(r)&&(r=r([i,a],s,o.el,p,{viewSize:[u,c],contentSize:f.slice()})),ze(r))i=rt(r[0],u),a=rt(r[1],c);else if(Bt(r)){var g=r;g.width=f[0],g.height=f[1];var m=_i(g,{width:u,height:c});i=m.x,a=m.y,h=null,d=null}else if(ut(r)&&l){var y=LIe(r,p,f,t.get("borderWidth"));i=y[0],a=y[1]}else{var y=DIe(i,a,o,u,c,h?null:20,d?null:20);i=y[0],a=y[1]}if(h&&(i-=a8(h)?f[0]/2:h==="right"?f[0]:0),d&&(a-=a8(d)?f[1]/2:d==="bottom"?f[1]:0),gee(t)){var y=RIe(i,a,o,u,c);i=y[0],a=y[1]}o.moveTo(i,a)},e.prototype._updateContentNotChangedOnAxis=function(t,r){var i=this._lastDataByCoordSys,a=this._cbParamsList,o=!!i&&i.length===t.length;return o&&G(i,function(s,l){var u=s.dataByAxis||[],c=t[l]||{},f=c.dataByAxis||[];o=o&&u.length===f.length,o&&G(u,function(h,d){var p=f[d]||{},g=h.seriesDataIndices||[],m=p.seriesDataIndices||[];o=o&&h.value===p.value&&h.axisType===p.axisType&&h.axisId===p.axisId&&g.length===m.length,o&&G(g,function(y,S){var M=m[S];o=o&&y.seriesIndex===M.seriesIndex&&y.dataIndex===M.dataIndex}),a&&G(h.seriesDataIndices,function(y){var S=y.seriesIndex,M=r[S],b=a[S];M&&b&&b.data!==M.data&&(o=!1)})})}),this._lastDataByCoordSys=t,this._cbParamsList=r,!!o},e.prototype._hide=function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},e.prototype.dispose=function(t,r){Mn.node||!r.getDom()||(BS(this,"_updatePosition"),this._tooltipContent.dispose(),gN("itemTooltip",r))},e.type="tooltip",e})(br);function Z_(n,e,t){var r=e.ecModel,i;t?(i=new qn(t,r,r),i=new qn(e.option,i,r)):i=e;for(var a=n.length-1;a>=0;a--){var o=n[a];o&&(o instanceof qn&&(o=o.get("tooltip",!0)),ut(o)&&(o={formatter:o}),o&&(i=new qn(o,i,r)))}return i}function i8(n,e){return n.dispatchAction||ht(e.dispatchAction,e)}function DIe(n,e,t,r,i,a,o){var s=t.getSize(),l=s[0],u=s[1];return a!=null&&(n+l+a+2>r?n-=l+a:n+=a),o!=null&&(e+u+o>i?e-=u+o:e+=o),[n,e]}function RIe(n,e,t,r,i){var a=t.getSize(),o=a[0],s=a[1];return n=Math.min(n+o,r)-o,e=Math.min(e+s,i)-s,n=Math.max(n,0),e=Math.max(e,0),[n,e]}function LIe(n,e,t,r){var i=t[0],a=t[1],o=Math.ceil(Math.SQRT2*r)+8,s=0,l=0,u=e.width,c=e.height;switch(n){case"inside":s=e.x+u/2-i/2,l=e.y+c/2-a/2;break;case"top":s=e.x+u/2-i/2,l=e.y-a-o;break;case"bottom":s=e.x+u/2-i/2,l=e.y+c+o;break;case"left":s=e.x-i-o,l=e.y+c/2-a/2;break;case"right":s=e.x+u+o,l=e.y+c/2-a/2}return[s,l]}function a8(n){return n==="center"||n==="middle"}function IIe(n,e,t){var r=bk(n).queryOptionMap,i=r.keys()[0];if(!(!i||i==="series")){var a=T1(e,i,r.get(i),{useDefault:!1,enableAll:!1,enableNone:!1}),o=a.models[0];if(o){var s=t.getViewOfComponentModel(o),l;if(s.group.traverse(function(u){var c=$t(u).tooltipConfig;if(c&&c.name===n.name)return l=u,!0}),l)return{componentMainType:i,componentIndex:o.componentIndex,el:l}}}}function NIe(n){Sn(V1),n.registerComponentModel(gIe),n.registerComponentView(PIe),n.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},ei),n.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},ei)}var OIe=["rect","polygon","keep","clear"];function kIe(n,e){var t=dr(n?n.brush:[]);if(t.length){var r=[];G(t,function(l){var u=l.hasOwnProperty("toolbox")?l.toolbox:[];u instanceof Array&&(r=r.concat(u))});var i=n&&n.toolbox;ze(i)&&(i=i[0]),i||(i={feature:{}},n.toolbox=[i]);var a=i.feature||(i.feature={}),o=a.brush||(a.brush={}),s=o.type||(o.type=[]);s.push.apply(s,r),FIe(s),e&&!s.length&&s.push.apply(s,OIe)}}function FIe(n){var e={};G(n,function(t){e[t]=1}),n.length=0,G(e,function(t,r){n.push(r)})}var o8=G;function s8(n){if(n){for(var e in n)if(n.hasOwnProperty(e))return!0}}function wN(n,e,t){var r={};return o8(e,function(a){var o=r[a]=i();o8(n[a],function(s,l){if(Wi.isValidType(l)){var u={type:l,visual:s};t&&t(u,a),o[l]=new Wi(u),l==="opacity"&&(u=Vt(u),u.type="colorAlpha",o.__hidden.__alphaForOpacity=new Wi(u))}})}),r;function i(){var a=function(){};a.prototype.__hidden=a.prototype;var o=new a;return o}}function xee(n,e,t){var r;G(t,function(i){e.hasOwnProperty(i)&&s8(e[i])&&(r=!0)}),r&&G(t,function(i){e.hasOwnProperty(i)&&s8(e[i])?n[i]=Vt(e[i]):delete n[i]})}function zIe(n,e,t,r,i,a){var o={};G(n,function(f){var h=Wi.prepareVisualTypes(e[f]);o[f]=h});var s;function l(f){return a3(t,s,f)}function u(f,h){zq(t,s,f,h)}t.each(c);function c(f,h){s=f;var d=t.getRawDataItem(s);if(!(d&&d.visualMap===!1))for(var p=r.call(i,f),g=e[p],m=o[p],y=0,S=m.length;y<S;y++){var M=m[y];g[M]&&g[M].applyVisual(f,l,u)}}}function BIe(n,e,t,r){var i={};return G(n,function(a){var o=Wi.prepareVisualTypes(e[a]);i[a]=o}),{progress:function(o,s){var l;r!=null&&(l=s.getDimensionIndex(r));function u(C){return a3(s,f,C)}function c(C,A){zq(s,f,C,A)}for(var f,h=s.getStore();(f=o.next())!=null;){var d=s.getRawDataItem(f);if(!(d&&d.visualMap===!1))for(var p=r!=null?h.get(l,f):f,g=t(p),m=e[g],y=i[g],S=0,M=y.length;S<M;S++){var b=y[S];m[b]&&m[b].applyVisual(p,u,c)}}}}}function UIe(n){var e=n.brushType,t={point:function(r){return l8[e].point(r,t,n)},rect:function(r){return l8[e].rect(r,t,n)}};return t}var l8={lineX:u8(0),lineY:u8(1),rect:{point:function(n,e,t){return n&&t.boundingRect.contain(n[0],n[1])},rect:function(n,e,t){return n&&t.boundingRect.intersect(n)}},polygon:{point:function(n,e,t){return n&&t.boundingRect.contain(n[0],n[1])&&Op(t.range,n[0],n[1])},rect:function(n,e,t){var r=t.range;if(!n||r.length<=1)return!1;var i=n.x,a=n.y,o=n.width,s=n.height,l=r[0];if(Op(r,i,a)||Op(r,i+o,a)||Op(r,i,a+s)||Op(r,i+o,a+s)||fn.create(n).contain(l[0],l[1])||dx(i,a,i+o,a,r)||dx(i,a,i,a+s,r)||dx(i+o,a,i+o,a+s,r)||dx(i,a+s,i+o,a+s,r))return!0}}};function u8(n){var e=["x","y"],t=["width","height"];return{point:function(r,i,a){if(r){var o=a.range,s=r[n];return $_(s,o)}},rect:function(r,i,a){if(r){var o=a.range,s=[r[e[n]],r[e[n]]+r[t[n]]];return s[1]<s[0]&&s.reverse(),$_(s[0],o)||$_(s[1],o)||$_(o[0],s)||$_(o[1],s)}}}}function $_(n,e){return e[0]<=n&&n<=e[1]}var c8=["inBrush","outOfBrush"],f2="__ecBrushSelect",MN="__ecInBrushSelectEvent";function See(n){n.eachComponent({mainType:"brush"},function(e){var t=e.brushTargetManager=new xF(e.option,n);t.setInputRanges(e.areas,n)})}function VIe(n,e,t){var r=[],i,a;n.eachComponent({mainType:"brush"},function(o){t&&t.type==="takeGlobalCursor"&&o.setBrushOption(t.key==="brush"?t.brushOption:{brushType:!1})}),See(n),n.eachComponent({mainType:"brush"},function(o,s){var l={brushId:o.id,brushIndex:s,brushName:o.name,areas:Vt(o.areas),selected:[]};r.push(l);var u=o.option,c=u.brushLink,f=[],h=[],d=[],p=!1;s||(i=u.throttleType,a=u.throttleDelay);var g=Ve(o.areas,function(C){var A=XIe[C.brushType],E=Dt({boundingRect:A?A(C):void 0},C);return E.selectors=UIe(E),E}),m=wN(o.option,c8,function(C){C.mappingMethod="fixed"});ze(c)&&G(c,function(C){f[C]=1});function y(C){return c==="all"||!!f[C]}function S(C){return!!C.length}n.eachSeries(function(C,A){var E=d[A]=[];C.subType==="parallel"?M(C,A):b(C,A,E)});function M(C,A){var E=C.coordinateSystem;p=p||E.hasAxisBrushed(),y(A)&&E.eachActiveState(C.getData(),function(I,L){I==="active"&&(h[L]=1)})}function b(C,A,E){if(!(!C.brushSelector||WIe(o,A))&&(G(g,function(L){o.brushTargetManager.controlSeries(L,C,n)&&E.push(L),p=p||S(E)}),y(A)&&S(E))){var I=C.getData();I.each(function(L){f8(C,E,I,L)&&(h[L]=1)})}}n.eachSeries(function(C,A){var E={seriesId:C.id,seriesIndex:A,seriesName:C.name,dataIndex:[]};l.selected.push(E);var I=d[A],L=C.getData(),R=y(A)?function(O){return h[O]?(E.dataIndex.push(L.getRawIndex(O)),"inBrush"):"outOfBrush"}:function(O){return f8(C,I,L,O)?(E.dataIndex.push(L.getRawIndex(O)),"inBrush"):"outOfBrush"};(y(A)?p:S(I))&&zIe(c8,m,L,R)})}),GIe(e,i,a,r,t)}function GIe(n,e,t,r,i){if(i){var a=n.getZr();if(!a[MN]){a[f2]||(a[f2]=HIe);var o=i0(a,f2,t,e);o(n,r)}}}function HIe(n,e){if(!n.isDisposed()){var t=n.getZr();t[MN]=!0,n.dispatchAction({type:"brushSelect",batch:e}),t[MN]=!1}}function f8(n,e,t,r){for(var i=0,a=e.length;i<a;i++){var o=e[i];if(n.brushSelector(r,t,o.selectors,o))return!0}}function WIe(n,e){var t=n.option.seriesIndex;return t!=null&&t!=="all"&&(ze(t)?dn(t,e)<0:e!==t)}var XIe={rect:function(n){return h8(n.range)},polygon:function(n){for(var e,t=n.range,r=0,i=t.length;r<i;r++){e=e||[[1/0,-1/0],[1/0,-1/0]];var a=t[r];a[0]<e[0][0]&&(e[0][0]=a[0]),a[0]>e[0][1]&&(e[0][1]=a[0]),a[1]<e[1][0]&&(e[1][0]=a[1]),a[1]>e[1][1]&&(e[1][1]=a[1])}return e&&h8(e)}};function h8(n){return new fn(n[0][0],n[1][0],n[0][1]-n[0][0],n[1][1]-n[1][0])}var YIe=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,r){this.ecModel=t,this.api=r,this.model,(this._brushController=new j3(r.getZr())).on("brush",ht(this._onBrush,this)).mount()},e.prototype.render=function(t,r,i,a){this.model=t,this._updateController(t,r,i,a)},e.prototype.updateTransform=function(t,r,i,a){See(r),this._updateController(t,r,i,a)},e.prototype.updateVisual=function(t,r,i,a){this.updateTransform(t,r,i,a)},e.prototype.updateView=function(t,r,i,a){this._updateController(t,r,i,a)},e.prototype._updateController=function(t,r,i,a){(!a||a.$from!==t.id)&&this._brushController.setPanels(t.brushTargetManager.makePanelOpts(i)).enableBrush(t.brushOption).updateCovers(t.areas.slice())},e.prototype.dispose=function(){this._brushController.dispose()},e.prototype._onBrush=function(t){var r=this.model.id,i=this.model.brushTargetManager.setOutputRanges(t.areas,this.ecModel);(!t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:r,areas:Vt(i),$from:r}),t.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:r,areas:Vt(i),$from:r})},e.type="brush",e})(br),jIe="#ddd",ZIe=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.areas=[],t.brushOption={},t}return e.prototype.optionUpdated=function(t,r){var i=this.option;!r&&xee(i,t,["inBrush","outOfBrush"]);var a=i.inBrush=i.inBrush||{};i.outOfBrush=i.outOfBrush||{color:jIe},a.hasOwnProperty("liftZ")||(a.liftZ=5)},e.prototype.setAreas=function(t){t&&(this.areas=Ve(t,function(r){return d8(this.option,r)},this))},e.prototype.setBrushOption=function(t){this.brushOption=d8(this.option,t),this.brushType=this.brushOption.brushType},e.type="brush",e.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],e.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},e})(wn);function d8(n,e){return on({brushType:n.brushType,brushMode:n.brushMode,transformable:n.transformable,brushStyle:new qn(n.brushStyle).getItemStyle(),removeOnClick:n.removeOnClick,z:n.z},e,!0)}var $Ie=["rect","polygon","lineX","lineY","keep","clear"],qIe=(function(n){Se(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.render=function(t,r,i){var a,o,s;r.eachComponent({mainType:"brush"},function(l){a=l.brushType,o=l.brushOption.brushMode||"single",s=s||!!l.areas.length}),this._brushType=a,this._brushMode=o,G(t.get("type",!0),function(l){t.setIconStatus(l,(l==="keep"?o==="multiple":l==="clear"?s:l===a)?"emphasis":"normal")})},e.prototype.updateView=function(t,r,i){this.render(t,r,i)},e.prototype.getIcons=function(){var t=this.model,r=t.get("icon",!0),i={};return G(t.get("type",!0),function(a){r[a]&&(i[a]=r[a])}),i},e.prototype.onclick=function(t,r,i){var a=this._brushType,o=this._brushMode;i==="clear"?(r.dispatchAction({type:"axisAreaSelect",intervals:[]}),r.dispatchAction({type:"brush",command:"clear",areas:[]})):r.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:i==="keep"?a:a===i?!1:i,brushMode:i==="keep"?o==="multiple"?"single":"multiple":o}})},e.getDefaultOption=function(t){var r={show:!0,type:$Ie.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:t.getLocaleModel().get(["toolbox","brush","title"])};return r},e})(Fs);function KIe(n){n.registerComponentView(YIe),n.registerComponentModel(ZIe),n.registerPreprocessor(kIe),n.registerVisual(n.PRIORITY.VISUAL.BRUSH,VIe),n.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(e,t){t.eachComponent({mainType:"brush",query:e},function(r){r.setAreas(e.areas)})}),n.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},ei),n.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},ei),Hm("brush",qIe)}var JIe=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.layoutMode={type:"box",ignoreSize:!0},t}return e.type="title",e.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},e})(wn),QIe=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i){if(this.group.removeAll(),!!t.get("show")){var a=this.group,o=t.getModel("textStyle"),s=t.getModel("subtextStyle"),l=t.get("textAlign"),u=tn(t.get("textBaseline"),t.get("textVerticalAlign")),c=new On({style:_r(o,{text:t.get("text"),fill:o.getTextColor()},{disableBox:!0}),z2:10}),f=c.getBoundingRect(),h=t.get("subtext"),d=new On({style:_r(s,{text:h,fill:s.getTextColor(),y:f.height+t.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),p=t.get("link"),g=t.get("sublink"),m=t.get("triggerEvent",!0);c.silent=!p&&!m,d.silent=!g&&!m,p&&c.on("click",function(){Zb(p,"_"+t.get("target"))}),g&&d.on("click",function(){Zb(g,"_"+t.get("subtarget"))}),$t(c).eventData=$t(d).eventData=m?{componentType:"title",componentIndex:t.componentIndex}:null,a.add(c),h&&a.add(d);var y=a.getBoundingRect(),S=t.getBoxLayoutParams();S.width=y.width,S.height=y.height;var M=_i(S,{width:i.getWidth(),height:i.getHeight()},t.get("padding"));l||(l=t.get("left")||t.get("right"),l==="middle"&&(l="center"),l==="right"?M.x+=M.width:l==="center"&&(M.x+=M.width/2)),u||(u=t.get("top")||t.get("bottom"),u==="center"&&(u="middle"),u==="bottom"?M.y+=M.height:u==="middle"&&(M.y+=M.height/2),u=u||"top"),a.x=M.x,a.y=M.y,a.markRedraw();var b={align:l,verticalAlign:u};c.setStyle(b),d.setStyle(b),y=a.getBoundingRect();var C=M.margin,A=t.getItemStyle(["color","opacity"]);A.fill=t.get("backgroundColor");var E=new kn({shape:{x:y.x-C[3],y:y.y-C[0],width:y.width+C[1]+C[3],height:y.height+C[0]+C[2],r:t.get("borderRadius")},style:A,subPixelOptimize:!0,silent:!0});a.add(E)}},e.type="title",e})(br);function eNe(n){n.registerComponentModel(JIe),n.registerComponentView(QIe)}var p8=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.layoutMode="box",t}return e.prototype.init=function(t,r,i){this.mergeDefaultAndTheme(t,i),this._initData()},e.prototype.mergeOption=function(t){n.prototype.mergeOption.apply(this,arguments),this._initData()},e.prototype.setCurrentIndex=function(t){t==null&&(t=this.option.currentIndex);var r=this._data.count();this.option.loop?t=(t%r+r)%r:(t>=r&&(t=r-1),t<0&&(t=0)),this.option.currentIndex=t},e.prototype.getCurrentIndex=function(){return this.option.currentIndex},e.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},e.prototype.setPlayState=function(t){this.option.autoPlay=!!t},e.prototype.getPlayState=function(){return!!this.option.autoPlay},e.prototype._initData=function(){var t=this.option,r=t.data||[],i=t.axisType,a=this._names=[],o;i==="category"?(o=[],G(r,function(u,c){var f=Di(Xy(u),""),h;Bt(u)?(h=Vt(u),h.value=c):h=c,o.push(h),a.push(f)})):o=r;var s={category:"ordinal",time:"time",value:"number"}[i]||"number",l=this._data=new Ga([{name:"value",type:s}],this);l.initData(o,a)},e.prototype.getData=function(){return this._data},e.prototype.getCategories=function(){if(this.get("axisType")==="category")return this._names.slice()},e.type="timeline",e.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},e})(wn),wee=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="timeline.slider",e.defaultOption=$h(p8.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),e})(p8);ti(wee,FC.prototype);var tNe=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="timeline",e})(br),nNe=(function(n){Se(e,n);function e(t,r,i,a){var o=n.call(this,t,r,i)||this;return o.type=a||"value",o}return e.prototype.getLabelModel=function(){return this.model.getModel("label")},e.prototype.isHorizontal=function(){return this.model.get("orient")==="horizontal"},e})(Zs),h2=Math.PI,v8=Un(),rNe=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,r){this.api=r},e.prototype.render=function(t,r,i){if(this.model=t,this.api=i,this.ecModel=r,this.group.removeAll(),t.get("show",!0)){var a=this._layout(t,i),o=this._createGroup("_mainGroup"),s=this._createGroup("_labelGroup"),l=this._axis=this._createAxis(a,t);t.formatTooltip=function(u){var c=l.scale.getLabel({value:u});return Zi("nameValue",{noName:!0,value:c})},G(["AxisLine","AxisTick","Control","CurrentPointer"],function(u){this["_render"+u](a,o,l,t)},this),this._renderAxisLabel(a,s,l,t),this._position(a,t)}this._doPlayStop(),this._updateTicksStatus()},e.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},e.prototype.dispose=function(){this._clearTimer()},e.prototype._layout=function(t,r){var i=t.get(["label","position"]),a=t.get("orient"),o=aNe(t,r),s;i==null||i==="auto"?s=a==="horizontal"?o.y+o.height/2<r.getHeight()/2?"-":"+":o.x+o.width/2<r.getWidth()/2?"+":"-":ut(i)?s={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[a][i]:s=i;var l={horizontal:"center",vertical:s>=0||s==="+"?"left":"right"},u={horizontal:s>=0||s==="+"?"top":"bottom",vertical:"middle"},c={horizontal:0,vertical:h2/2},f=a==="vertical"?o.height:o.width,h=t.getModel("controlStyle"),d=h.get("show",!0),p=d?h.get("itemSize"):0,g=d?h.get("itemGap"):0,m=p+g,y=t.get(["label","rotate"])||0;y=y*h2/180;var S,M,b,C=h.get("position",!0),A=d&&h.get("showPlayBtn",!0),E=d&&h.get("showPrevBtn",!0),I=d&&h.get("showNextBtn",!0),L=0,R=f;C==="left"||C==="bottom"?(A&&(S=[0,0],L+=m),E&&(M=[L,0],L+=m),I&&(b=[R-p,0],R-=m)):(A&&(S=[R-p,0],R-=m),E&&(M=[0,0],L+=m),I&&(b=[R-p,0],R-=m));var O=[L,R];return t.get("inverse")&&O.reverse(),{viewRect:o,mainLength:f,orient:a,rotation:c[a],labelRotation:y,labelPosOpt:s,labelAlign:t.get(["label","align"])||l[a],labelBaseline:t.get(["label","verticalAlign"])||t.get(["label","baseline"])||u[a],playPosition:S,prevBtnPosition:M,nextBtnPosition:b,axisExtent:O,controlSize:p,controlGap:g}},e.prototype._position=function(t,r){var i=this._mainGroup,a=this._labelGroup,o=t.viewRect;if(t.orient==="vertical"){var s=Vo(),l=o.x,u=o.y+o.height;Gl(s,s,[-l,-u]),jh(s,s,-h2/2),Gl(s,s,[l,u]),o=o.clone(),o.applyTransform(s)}var c=S(o),f=S(i.getBoundingRect()),h=S(a.getBoundingRect()),d=[i.x,i.y],p=[a.x,a.y];p[0]=d[0]=c[0][0];var g=t.labelPosOpt;if(g==null||ut(g)){var m=g==="+"?0:1;M(d,f,c,1,m),M(p,h,c,1,1-m)}else{var m=g>=0?0:1;M(d,f,c,1,m),p[1]=d[1]+g}i.setPosition(d),a.setPosition(p),i.rotation=a.rotation=t.rotation,y(i),y(a);function y(b){b.originX=c[0][0]-b.x,b.originY=c[1][0]-b.y}function S(b){return[[b.x,b.x+b.width],[b.y,b.y+b.height]]}function M(b,C,A,E,I){b[E]+=A[E][I]-C[E][I]}},e.prototype._createAxis=function(t,r){var i=r.getData(),a=r.get("axisType"),o=iNe(r,a);o.getTicks=function(){return i.mapArray(["value"],function(u){return{value:u}})};var s=i.getDataExtent("value");o.setExtent(s[0],s[1]),o.calcNiceTicks();var l=new nNe("value",o,t.axisExtent,a);return l.model=r,l},e.prototype._createGroup=function(t){var r=this[t]=new Xt;return this.group.add(r),r},e.prototype._renderAxisLine=function(t,r,i,a){var o=i.getExtent();if(a.get(["lineStyle","show"])){var s=new Ri({shape:{x1:o[0],y1:0,x2:o[1],y2:0},style:Le({lineCap:"round"},a.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});r.add(s);var l=this._progressLine=new Ri({shape:{x1:o[0],x2:this._currentPointer?this._currentPointer.x:o[0],y1:0,y2:0},style:Dt({lineCap:"round",lineWidth:s.style.lineWidth},a.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});r.add(l)}},e.prototype._renderAxisTick=function(t,r,i,a){var o=this,s=a.getData(),l=i.scale.getTicks();this._tickSymbols=[],G(l,function(u){var c=i.dataToCoord(u.value),f=s.getItemModel(u.value),h=f.getModel("itemStyle"),d=f.getModel(["emphasis","itemStyle"]),p=f.getModel(["progress","itemStyle"]),g={x:c,y:0,onclick:ht(o._changeTimeline,o,u.value)},m=g8(f,h,r,g);m.ensureState("emphasis").style=d.getItemStyle(),m.ensureState("progress").style=p.getItemStyle(),bh(m);var y=$t(m);f.get("tooltip")?(y.dataIndex=u.value,y.dataModel=a):y.dataIndex=y.dataModel=null,o._tickSymbols.push(m)})},e.prototype._renderAxisLabel=function(t,r,i,a){var o=this,s=i.getLabelModel();if(s.get("show")){var l=a.getData(),u=i.getViewLabels();this._tickLabels=[],G(u,function(c){var f=c.tickValue,h=l.getItemModel(f),d=h.getModel("label"),p=h.getModel(["emphasis","label"]),g=h.getModel(["progress","label"]),m=i.dataToCoord(c.tickValue),y=new On({x:m,y:0,rotation:t.labelRotation-t.rotation,onclick:ht(o._changeTimeline,o,f),silent:!1,style:_r(d,{text:c.formattedLabel,align:t.labelAlign,verticalAlign:t.labelBaseline})});y.ensureState("emphasis").style=_r(p),y.ensureState("progress").style=_r(g),r.add(y),bh(y),v8(y).dataIndex=f,o._tickLabels.push(y)})}},e.prototype._renderControl=function(t,r,i,a){var o=t.controlSize,s=t.rotation,l=a.getModel("controlStyle").getItemStyle(),u=a.getModel(["emphasis","controlStyle"]).getItemStyle(),c=a.getPlayState(),f=a.get("inverse",!0);h(t.nextBtnPosition,"next",ht(this._changeTimeline,this,f?"-":"+")),h(t.prevBtnPosition,"prev",ht(this._changeTimeline,this,f?"+":"-")),h(t.playPosition,c?"stop":"play",ht(this._handlePlayClick,this,!c),!0);function h(d,p,g,m){if(d){var y=Hl(tn(a.get(["controlStyle",p+"BtnSize"]),o),o),S=[0,-y/2,y,y],M=oNe(a,p+"Icon",S,{x:d[0],y:d[1],originX:o/2,originY:0,rotation:m?-s:0,rectHover:!0,style:l,onclick:g});M.ensureState("emphasis").style=u,r.add(M),bh(M)}}},e.prototype._renderCurrentPointer=function(t,r,i,a){var o=a.getData(),s=a.getCurrentIndex(),l=o.getItemModel(s).getModel("checkpointStyle"),u=this,c={onCreate:function(f){f.draggable=!0,f.drift=ht(u._handlePointerDrag,u),f.ondragend=ht(u._handlePointerDragend,u),m8(f,u._progressLine,s,i,a,!0)},onUpdate:function(f){m8(f,u._progressLine,s,i,a)}};this._currentPointer=g8(l,l,this._mainGroup,{},this._currentPointer,c)},e.prototype._handlePlayClick=function(t){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:t,from:this.uid})},e.prototype._handlePointerDrag=function(t,r,i){this._clearTimer(),this._pointerChangeTimeline([i.offsetX,i.offsetY])},e.prototype._handlePointerDragend=function(t){this._pointerChangeTimeline([t.offsetX,t.offsetY],!0)},e.prototype._pointerChangeTimeline=function(t,r){var i=this._toAxisCoord(t)[0],a=this._axis,o=os(a.getExtent().slice());i>o[1]&&(i=o[1]),i<o[0]&&(i=o[0]),this._currentPointer.x=i,this._currentPointer.markRedraw();var s=this._progressLine;s&&(s.shape.x2=i,s.dirty());var l=this._findNearestTick(i),u=this.model;(r||l!==u.getCurrentIndex()&&u.get("realtime"))&&this._changeTimeline(l)},e.prototype._doPlayStop=function(){var t=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var r=t.model;t._changeTimeline(r.getCurrentIndex()+(r.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},e.prototype._toAxisCoord=function(t){var r=this._mainGroup.getLocalTransform();return zl(t,r,!0)},e.prototype._findNearestTick=function(t){var r=this.model.getData(),i=1/0,a,o=this._axis;return r.each(["value"],function(s,l){var u=o.dataToCoord(s),c=Math.abs(u-t);c<i&&(i=c,a=l)}),a},e.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},e.prototype._changeTimeline=function(t){var r=this.model.getCurrentIndex();t==="+"?t=r+1:t==="-"&&(t=r-1),this.api.dispatchAction({type:"timelineChange",currentIndex:t,from:this.uid})},e.prototype._updateTicksStatus=function(){var t=this.model.getCurrentIndex(),r=this._tickSymbols,i=this._tickLabels;if(r)for(var a=0;a<r.length;a++)r&&r[a]&&r[a].toggleState("progress",a<t);if(i)for(var a=0;a<i.length;a++)i&&i[a]&&i[a].toggleState("progress",v8(i[a]).dataIndex<=t)},e.type="timeline.slider",e})(tNe);function iNe(n,e){if(e=e||n.get("type"),e)switch(e){case"category":return new XC({ordinalMeta:n.getCategories(),extent:[1/0,-1/0]});case"time":return new _3({locale:n.ecModel.getLocaleModel(),useUTC:n.ecModel.get("useUTC")});default:return new af}}function aNe(n,e){return _i(n.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()},n.get("padding"))}function oNe(n,e,t,r){var i=r.style,a=Ky(n.get(["controlStyle",e]),r||{},new fn(t[0],t[1],t[2],t[3]));return i&&a.setStyle(i),a}function g8(n,e,t,r,i,a){var o=e.get("color");if(i)i.setColor(o),t.add(i),a&&a.onUpdate(i);else{var s=n.get("symbol");i=ci(s,-1,-1,2,2,o),i.setStyle("strokeNoScale",!0),t.add(i),a&&a.onCreate(i)}var l=e.getItemStyle(["color"]);i.setStyle(l),r=on({rectHover:!0,z2:100},r,!0);var u=a0(n.get("symbolSize"));r.scaleX=u[0]/2,r.scaleY=u[1]/2;var c=Vv(n.get("symbolOffset"),u);c&&(r.x=(r.x||0)+c[0],r.y=(r.y||0)+c[1]);var f=n.get("symbolRotate");return r.rotation=(f||0)*Math.PI/180||0,i.attr(r),i.updateTransform(),i}function m8(n,e,t,r,i,a){if(!n.dragging){var o=i.getModel("checkpointStyle"),s=r.dataToCoord(i.getData().get("value",t));if(a||!o.get("animation",!0))n.attr({x:s,y:0}),e&&e.attr({shape:{x2:s}});else{var l={duration:o.get("animationDuration",!0),easing:o.get("animationEasing",!0)};n.stopAnimation(null,!0),n.animateTo({x:s,y:0},l),e&&e.animateTo({shape:{x2:s}},l)}}}function sNe(n){n.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(e,t,r){var i=t.getComponent("timeline");return i&&e.currentIndex!=null&&(i.setCurrentIndex(e.currentIndex),!i.get("loop",!0)&&i.isIndexMax()&&i.getPlayState()&&(i.setPlayState(!1),r.dispatchAction({type:"timelinePlayChange",playState:!1,from:e.from}))),t.resetOption("timeline",{replaceMerge:i.get("replaceMerge",!0)}),Dt({currentIndex:i.option.currentIndex},e)}),n.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(e,t){var r=t.getComponent("timeline");r&&e.playState!=null&&r.setPlayState(e.playState)})}function lNe(n){var e=n&&n.timeline;ze(e)||(e=e?[e]:[]),G(e,function(t){t&&uNe(t)})}function uNe(n){var e=n.type,t={number:"value",time:"time"};if(t[e]&&(n.axisType=t[e],delete n.type),y8(n),zp(n,"controlPosition")){var r=n.controlStyle||(n.controlStyle={});zp(r,"position")||(r.position=n.controlPosition),r.position==="none"&&!zp(r,"show")&&(r.show=!1,delete r.position),delete n.controlPosition}G(n.data||[],function(i){Bt(i)&&!ze(i)&&(!zp(i,"value")&&zp(i,"name")&&(i.value=i.name),y8(i))})}function y8(n){var e=n.itemStyle||(n.itemStyle={}),t=e.emphasis||(e.emphasis={}),r=n.label||n.label||{},i=r.normal||(r.normal={}),a={normal:1,emphasis:1};G(r,function(o,s){!a[s]&&!zp(i,s)&&(i[s]=o)}),t.label&&!zp(r,"emphasis")&&(r.emphasis=t.label,delete t.label)}function zp(n,e){return n.hasOwnProperty(e)}function cNe(n){n.registerComponentModel(wee),n.registerComponentView(rNe),n.registerSubTypeDefaulter("timeline",function(){return"slider"}),sNe(n),n.registerPreprocessor(lNe)}function MF(n,e){if(!n)return!1;for(var t=ze(n)?n:[n],r=0;r<t.length;r++)if(t[r]&&t[r][e])return!0;return!1}function DT(n){Sv(n,"label",["show"])}var RT=Un(),sf=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.createdBySelf=!1,t}return e.prototype.init=function(t,r,i){this.mergeDefaultAndTheme(t,i),this._mergeOption(t,i,!1,!0)},e.prototype.isAnimationEnabled=function(){if(Mn.node)return!1;var t=this.__hostSeries;return this.getShallow("animation")&&t&&t.isAnimationEnabled()},e.prototype.mergeOption=function(t,r){this._mergeOption(t,r,!1,!1)},e.prototype._mergeOption=function(t,r,i,a){var o=this.mainType;i||r.eachSeries(function(s){var l=s.get(this.mainType,!0),u=RT(s)[o];if(!l||!l.data){RT(s)[o]=null;return}u?u._mergeOption(l,r,!0):(a&&DT(l),G(l.data,function(c){c instanceof Array?(DT(c[0]),DT(c[1])):DT(c)}),u=this.createMarkerModelFromSeries(l,this,r),Le(u,{mainType:this.mainType,seriesIndex:s.seriesIndex,name:s.name,createdBySelf:!0}),u.__hostSeries=s),RT(s)[o]=u},this)},e.prototype.formatTooltip=function(t,r,i){var a=this.getData(),o=this.getRawValue(t),s=a.getName(t);return Zi("section",{header:this.name,blocks:[Zi("nameValue",{name:s,value:o,noName:!s,noValue:o==null})]})},e.prototype.getData=function(){return this._data},e.prototype.setData=function(t){this._data=t},e.prototype.getDataParams=function(t,r){var i=FC.prototype.getDataParams.call(this,t,r),a=this.__hostSeries;return a&&(i.seriesId=a.id,i.seriesName=a.name,i.seriesType=a.subType),i},e.getMarkerModelFromSeries=function(t,r){return RT(t)[r]},e.type="marker",e.dependencies=["series","grid","polar","geo"],e})(wn);ti(sf,FC.prototype);var fNe=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.createMarkerModelFromSeries=function(t,r,i){return new e(t,r,i)},e.type="markPoint",e.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},e})(sf);function TN(n){return!(isNaN(parseFloat(n.x))&&isNaN(parseFloat(n.y)))}function hNe(n){return!isNaN(parseFloat(n.x))&&!isNaN(parseFloat(n.y))}function LT(n,e,t,r,i,a){var o=[],s=rf(e,r),l=s?e.getCalculationInfo("stackResultDimension"):r,u=TF(e,l,n),c=e.indicesOfNearest(l,u)[0];o[i]=e.get(t,c),o[a]=e.get(l,c);var f=e.get(r,c),h=Il(e.get(r,c));return h=Math.min(h,20),h>=0&&(o[a]=+o[a].toFixed(h)),[o,f]}var d2={min:nn(LT,"min"),max:nn(LT,"max"),average:nn(LT,"average"),median:nn(LT,"median")};function QS(n,e){if(e){var t=n.getData(),r=n.coordinateSystem,i=r&&r.dimensions;if(!hNe(e)&&!ze(e.coord)&&ze(i)){var a=Mee(e,t,r,n);if(e=Vt(e),e.type&&d2[e.type]&&a.baseAxis&&a.valueAxis){var o=dn(i,a.baseAxis.dim),s=dn(i,a.valueAxis.dim),l=d2[e.type](t,a.baseDataDim,a.valueDataDim,o,s);e.coord=l[0],e.value=l[1]}else e.coord=[e.xAxis!=null?e.xAxis:e.radiusAxis,e.yAxis!=null?e.yAxis:e.angleAxis]}if(e.coord==null||!ze(i))e.coord=[];else for(var u=e.coord,c=0;c<2;c++)d2[u[c]]&&(u[c]=TF(t,t.mapDimension(i[c]),u[c]));return e}}function Mee(n,e,t,r){var i={};return n.valueIndex!=null||n.valueDim!=null?(i.valueDataDim=n.valueIndex!=null?e.getDimension(n.valueIndex):n.valueDim,i.valueAxis=t.getAxis(dNe(r,i.valueDataDim)),i.baseAxis=t.getOtherAxis(i.valueAxis),i.baseDataDim=e.mapDimension(i.baseAxis.dim)):(i.baseAxis=r.getBaseAxis(),i.valueAxis=t.getOtherAxis(i.baseAxis),i.baseDataDim=e.mapDimension(i.baseAxis.dim),i.valueDataDim=e.mapDimension(i.valueAxis.dim)),i}function dNe(n,e){var t=n.getData().getDimensionInfo(e);return t&&t.coordDim}function e1(n,e){return n&&n.containData&&e.coord&&!TN(e)?n.containData(e.coord):!0}function pNe(n,e,t){return n&&n.containZone&&e.coord&&t.coord&&!TN(e)&&!TN(t)?n.containZone(e.coord,t.coord):!0}function Tee(n,e){return n?function(t,r,i,a){var o=a<2?t.coord&&t.coord[a]:t.value;return Eh(o,e[a])}:function(t,r,i,a){return Eh(t.value,e[a])}}function TF(n,e,t){if(t==="average"){var r=0,i=0;return n.each(e,function(a,o){isNaN(a)||(r+=a,i++)}),r/i}else return t==="median"?n.getMedian(e):n.getDataExtent(e)[t==="max"?1:0]}var p2=Un(),bF=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(){this.markerGroupMap=xt()},e.prototype.render=function(t,r,i){var a=this,o=this.markerGroupMap;o.each(function(s){p2(s).keep=!1}),r.eachSeries(function(s){var l=sf.getMarkerModelFromSeries(s,a.type);l&&a.renderSeries(s,l,r,i)}),o.each(function(s){!p2(s).keep&&a.group.remove(s.group)})},e.prototype.markKeep=function(t){p2(t).keep=!0},e.prototype.toggleBlurSeries=function(t,r){var i=this;G(t,function(a){var o=sf.getMarkerModelFromSeries(a,i.type);if(o){var s=o.getData();s.eachItemGraphicEl(function(l){l&&(r?v$(l):Lk(l))})}})},e.type="marker",e})(br);function _8(n,e,t){var r=e.coordinateSystem;n.each(function(i){var a=n.getItemModel(i),o,s=rt(a.get("x"),t.getWidth()),l=rt(a.get("y"),t.getHeight());if(!isNaN(s)&&!isNaN(l))o=[s,l];else if(e.getMarkerPosition)o=e.getMarkerPosition(n.getValues(n.dimensions,i));else if(r){var u=n.get(r.dimensions[0],i),c=n.get(r.dimensions[1],i);o=r.dataToPoint([u,c])}isNaN(s)||(o[0]=s),isNaN(l)||(o[1]=l),n.setItemLayout(i,o)})}var vNe=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.updateTransform=function(t,r,i){r.eachSeries(function(a){var o=sf.getMarkerModelFromSeries(a,"markPoint");o&&(_8(o.getData(),a,i),this.markerGroupMap.get(a.id).updateLayout())},this)},e.prototype.renderSeries=function(t,r,i,a){var o=t.coordinateSystem,s=t.id,l=t.getData(),u=this.markerGroupMap,c=u.get(s)||u.set(s,new N1),f=gNe(o,t,r);r.setData(f),_8(r.getData(),t,a),f.each(function(h){var d=f.getItemModel(h),p=d.getShallow("symbol"),g=d.getShallow("symbolSize"),m=d.getShallow("symbolRotate"),y=d.getShallow("symbolOffset"),S=d.getShallow("symbolKeepAspect");if(Ct(p)||Ct(g)||Ct(m)||Ct(y)){var M=r.getRawValue(h),b=r.getDataParams(h);Ct(p)&&(p=p(M,b)),Ct(g)&&(g=g(M,b)),Ct(m)&&(m=m(M,b)),Ct(y)&&(y=y(M,b))}var C=d.getModel("itemStyle").getItemStyle(),A=R1(l,"color");C.fill||(C.fill=A),f.setItemVisual(h,{symbol:p,symbolSize:g,symbolRotate:m,symbolOffset:y,symbolKeepAspect:S,style:C})}),c.updateData(f),this.group.add(c.group),f.eachItemGraphicEl(function(h){h.traverse(function(d){$t(d).dataModel=r})}),this.markKeep(c),c.group.silent=r.get("silent")||t.get("silent")},e.type="markPoint",e})(bF);function gNe(n,e,t){var r;n?r=Ve(n&&n.dimensions,function(s){var l=e.getData().getDimensionInfo(e.getData().mapDimension(s))||{};return Le(Le({},l),{name:s,ordinalMeta:null})}):r=[{name:"value",type:"float"}];var i=new Ga(r,t),a=Ve(t.get("data"),nn(QS,e));n&&(a=$n(a,nn(e1,n)));var o=Tee(!!n,r);return i.initData(a,null,o),i}function mNe(n){n.registerComponentModel(fNe),n.registerComponentView(vNe),n.registerPreprocessor(function(e){MF(e.series,"markPoint")&&(e.markPoint=e.markPoint||{})})}var yNe=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.createMarkerModelFromSeries=function(t,r,i){return new e(t,r,i)},e.type="markLine",e.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},e})(sf),IT=Un(),_Ne=function(n,e,t,r){var i=n.getData(),a;if(ze(r))a=r;else{var o=r.type;if(o==="min"||o==="max"||o==="average"||o==="median"||r.xAxis!=null||r.yAxis!=null){var s=void 0,l=void 0;if(r.yAxis!=null||r.xAxis!=null)s=e.getAxis(r.yAxis!=null?"y":"x"),l=Gi(r.yAxis,r.xAxis);else{var u=Mee(r,i,e,n);s=u.valueAxis;var c=m3(i,u.valueDataDim);l=TF(i,c,o)}var f=s.dim==="x"?0:1,h=1-f,d=Vt(r),p={coord:[]};d.type=null,d.coord=[],d.coord[h]=-1/0,p.coord[h]=1/0;var g=t.get("precision");g>=0&&Hn(l)&&(l=+l.toFixed(Math.min(g,20))),d.coord[f]=p.coord[f]=l,a=[d,p,{type:o,valueIndex:r.valueIndex,value:l}]}else a=[]}var m=[QS(n,a[0]),QS(n,a[1]),Le({},a[2])];return m[2].type=m[2].type||null,on(m[2],m[0]),on(m[2],m[1]),m};function SA(n){return!isNaN(n)&&!isFinite(n)}function x8(n,e,t,r){var i=1-n,a=r.dimensions[n];return SA(e[i])&&SA(t[i])&&e[n]===t[n]&&r.getAxis(a).containData(e[n])}function xNe(n,e){if(n.type==="cartesian2d"){var t=e[0].coord,r=e[1].coord;if(t&&r&&(x8(1,t,r,n)||x8(0,t,r,n)))return!0}return e1(n,e[0])&&e1(n,e[1])}function v2(n,e,t,r,i){var a=r.coordinateSystem,o=n.getItemModel(e),s,l=rt(o.get("x"),i.getWidth()),u=rt(o.get("y"),i.getHeight());if(!isNaN(l)&&!isNaN(u))s=[l,u];else{if(r.getMarkerPosition)s=r.getMarkerPosition(n.getValues(n.dimensions,e));else{var c=a.dimensions,f=n.get(c[0],e),h=n.get(c[1],e);s=a.dataToPoint([f,h])}if(Gv(a,"cartesian2d")){var d=a.getAxis("x"),p=a.getAxis("y"),c=a.dimensions;SA(n.get(c[0],e))?s[0]=d.toGlobalCoord(d.getExtent()[t?0:1]):SA(n.get(c[1],e))&&(s[1]=p.toGlobalCoord(p.getExtent()[t?0:1]))}isNaN(l)||(s[0]=l),isNaN(u)||(s[1]=u)}n.setItemLayout(e,s)}var SNe=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.updateTransform=function(t,r,i){r.eachSeries(function(a){var o=sf.getMarkerModelFromSeries(a,"markLine");if(o){var s=o.getData(),l=IT(o).from,u=IT(o).to;l.each(function(c){v2(l,c,!0,a,i),v2(u,c,!1,a,i)}),s.each(function(c){s.setItemLayout(c,[l.getItemLayout(c),u.getItemLayout(c)])}),this.markerGroupMap.get(a.id).updateLayout()}},this)},e.prototype.renderSeries=function(t,r,i,a){var o=t.coordinateSystem,s=t.id,l=t.getData(),u=this.markerGroupMap,c=u.get(s)||u.set(s,new Y3);this.group.add(c.group);var f=wNe(o,t,r),h=f.from,d=f.to,p=f.line;IT(r).from=h,IT(r).to=d,r.setData(p);var g=r.get("symbol"),m=r.get("symbolSize"),y=r.get("symbolRotate"),S=r.get("symbolOffset");ze(g)||(g=[g,g]),ze(m)||(m=[m,m]),ze(y)||(y=[y,y]),ze(S)||(S=[S,S]),f.from.each(function(b){M(h,b,!0),M(d,b,!1)}),p.each(function(b){var C=p.getItemModel(b).getModel("lineStyle").getLineStyle();p.setItemLayout(b,[h.getItemLayout(b),d.getItemLayout(b)]),C.stroke==null&&(C.stroke=h.getItemVisual(b,"style").fill),p.setItemVisual(b,{fromSymbolKeepAspect:h.getItemVisual(b,"symbolKeepAspect"),fromSymbolOffset:h.getItemVisual(b,"symbolOffset"),fromSymbolRotate:h.getItemVisual(b,"symbolRotate"),fromSymbolSize:h.getItemVisual(b,"symbolSize"),fromSymbol:h.getItemVisual(b,"symbol"),toSymbolKeepAspect:d.getItemVisual(b,"symbolKeepAspect"),toSymbolOffset:d.getItemVisual(b,"symbolOffset"),toSymbolRotate:d.getItemVisual(b,"symbolRotate"),toSymbolSize:d.getItemVisual(b,"symbolSize"),toSymbol:d.getItemVisual(b,"symbol"),style:C})}),c.updateData(p),f.line.eachItemGraphicEl(function(b){$t(b).dataModel=r,b.traverse(function(C){$t(C).dataModel=r})});function M(b,C,A){var E=b.getItemModel(C);v2(b,C,A,t,a);var I=E.getModel("itemStyle").getItemStyle();I.fill==null&&(I.fill=R1(l,"color")),b.setItemVisual(C,{symbolKeepAspect:E.get("symbolKeepAspect"),symbolOffset:tn(E.get("symbolOffset",!0),S[A?0:1]),symbolRotate:tn(E.get("symbolRotate",!0),y[A?0:1]),symbolSize:tn(E.get("symbolSize"),m[A?0:1]),symbol:tn(E.get("symbol",!0),g[A?0:1]),style:I})}this.markKeep(c),c.group.silent=r.get("silent")||t.get("silent")},e.type="markLine",e})(bF);function wNe(n,e,t){var r;n?r=Ve(n&&n.dimensions,function(u){var c=e.getData().getDimensionInfo(e.getData().mapDimension(u))||{};return Le(Le({},c),{name:u,ordinalMeta:null})}):r=[{name:"value",type:"float"}];var i=new Ga(r,t),a=new Ga(r,t),o=new Ga([],t),s=Ve(t.get("data"),nn(_Ne,e,n,t));n&&(s=$n(s,nn(xNe,n)));var l=Tee(!!n,r);return i.initData(Ve(s,function(u){return u[0]}),null,l),a.initData(Ve(s,function(u){return u[1]}),null,l),o.initData(Ve(s,function(u){return u[2]})),o.hasItemOption=!0,{from:i,to:a,line:o}}function MNe(n){n.registerComponentModel(yNe),n.registerComponentView(SNe),n.registerPreprocessor(function(e){MF(e.series,"markLine")&&(e.markLine=e.markLine||{})})}var TNe=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.createMarkerModelFromSeries=function(t,r,i){return new e(t,r,i)},e.type="markArea",e.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},e})(sf),NT=Un(),bNe=function(n,e,t,r){var i=r[0],a=r[1];if(!(!i||!a)){var o=QS(n,i),s=QS(n,a),l=o.coord,u=s.coord;l[0]=Gi(l[0],-1/0),l[1]=Gi(l[1],-1/0),u[0]=Gi(u[0],1/0),u[1]=Gi(u[1],1/0);var c=hC([{},o,s]);return c.coord=[o.coord,s.coord],c.x0=o.x,c.y0=o.y,c.x1=s.x,c.y1=s.y,c}};function wA(n){return!isNaN(n)&&!isFinite(n)}function S8(n,e,t,r){var i=1-n;return wA(e[i])&&wA(t[i])}function ANe(n,e){var t=e.coord[0],r=e.coord[1],i={coord:t,x:e.x0,y:e.y0},a={coord:r,x:e.x1,y:e.y1};return Gv(n,"cartesian2d")?t&&r&&(S8(1,t,r)||S8(0,t,r))?!0:pNe(n,i,a):e1(n,i)||e1(n,a)}function w8(n,e,t,r,i){var a=r.coordinateSystem,o=n.getItemModel(e),s,l=rt(o.get(t[0]),i.getWidth()),u=rt(o.get(t[1]),i.getHeight());if(!isNaN(l)&&!isNaN(u))s=[l,u];else{if(r.getMarkerPosition){var c=n.getValues(["x0","y0"],e),f=n.getValues(["x1","y1"],e),h=a.clampData(c),d=a.clampData(f),p=[];t[0]==="x0"?p[0]=h[0]>d[0]?f[0]:c[0]:p[0]=h[0]>d[0]?c[0]:f[0],t[1]==="y0"?p[1]=h[1]>d[1]?f[1]:c[1]:p[1]=h[1]>d[1]?c[1]:f[1],s=r.getMarkerPosition(p,t,!0)}else{var g=n.get(t[0],e),m=n.get(t[1],e),y=[g,m];a.clampData&&a.clampData(y,y),s=a.dataToPoint(y,!0)}if(Gv(a,"cartesian2d")){var S=a.getAxis("x"),M=a.getAxis("y"),g=n.get(t[0],e),m=n.get(t[1],e);wA(g)?s[0]=S.toGlobalCoord(S.getExtent()[t[0]==="x0"?0:1]):wA(m)&&(s[1]=M.toGlobalCoord(M.getExtent()[t[1]==="y0"?0:1]))}isNaN(l)||(s[0]=l),isNaN(u)||(s[1]=u)}return s}var M8=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],CNe=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.updateTransform=function(t,r,i){r.eachSeries(function(a){var o=sf.getMarkerModelFromSeries(a,"markArea");if(o){var s=o.getData();s.each(function(l){var u=Ve(M8,function(f){return w8(s,l,f,a,i)});s.setItemLayout(l,u);var c=s.getItemGraphicEl(l);c.setShape("points",u)})}},this)},e.prototype.renderSeries=function(t,r,i,a){var o=t.coordinateSystem,s=t.id,l=t.getData(),u=this.markerGroupMap,c=u.get(s)||u.set(s,{group:new Xt});this.group.add(c.group),this.markKeep(c);var f=ENe(o,t,r);r.setData(f),f.each(function(h){var d=Ve(M8,function(I){return w8(f,h,I,t,a)}),p=o.getAxis("x").scale,g=o.getAxis("y").scale,m=p.getExtent(),y=g.getExtent(),S=[p.parse(f.get("x0",h)),p.parse(f.get("x1",h))],M=[g.parse(f.get("y0",h)),g.parse(f.get("y1",h))];os(S),os(M);var b=!(m[0]>S[1]||m[1]<S[0]||y[0]>M[1]||y[1]<M[0]),C=!b;f.setItemLayout(h,{points:d,allClipped:C});var A=f.getItemModel(h).getModel("itemStyle").getItemStyle(),E=R1(l,"color");A.fill||(A.fill=E,ut(A.fill)&&(A.fill=PS(A.fill,.4))),A.stroke||(A.stroke=E),f.setItemVisual(h,"style",A)}),f.diff(NT(c).data).add(function(h){var d=f.getItemLayout(h);if(!d.allClipped){var p=new Xa({shape:{points:d.points}});f.setItemGraphicEl(h,p),c.group.add(p)}}).update(function(h,d){var p=NT(c).data.getItemGraphicEl(d),g=f.getItemLayout(h);g.allClipped?p&&c.group.remove(p):(p?Xn(p,{shape:{points:g.points}},r,h):p=new Xa({shape:{points:g.points}}),f.setItemGraphicEl(h,p),c.group.add(p))}).remove(function(h){var d=NT(c).data.getItemGraphicEl(h);c.group.remove(d)}).execute(),f.eachItemGraphicEl(function(h,d){var p=f.getItemModel(d),g=f.getItemVisual(d,"style");h.useStyle(f.getItemVisual(d,"style")),Sa(h,ji(p),{labelFetcher:r,labelDataIndex:d,defaultText:f.getName(d)||"",inheritColor:ut(g.fill)?PS(g.fill,1):"#000"}),xa(h,p),Vr(h,null,null,p.get(["emphasis","disabled"])),$t(h).dataModel=r}),NT(c).data=f,c.group.silent=r.get("silent")||t.get("silent")},e.type="markArea",e})(bF);function ENe(n,e,t){var r,i,a=["x0","y0","x1","y1"];if(n){var o=Ve(n&&n.dimensions,function(u){var c=e.getData(),f=c.getDimensionInfo(c.mapDimension(u))||{};return Le(Le({},f),{name:u,ordinalMeta:null})});i=Ve(a,function(u,c){return{name:u,type:o[c%2].type}}),r=new Ga(i,t)}else i=[{name:"value",type:"float"}],r=new Ga(i,t);var s=Ve(t.get("data"),nn(bNe,e,n,t));n&&(s=$n(s,nn(ANe,n)));var l=n?function(u,c,f,h){var d=u.coord[Math.floor(h/2)][h%2];return Eh(d,i[h])}:function(u,c,f,h){return Eh(u.value,i[h])};return r.initData(s,null,l),r.hasItemOption=!0,r}function PNe(n){n.registerComponentModel(TNe),n.registerComponentView(CNe),n.registerPreprocessor(function(e){MF(e.series,"markArea")&&(e.markArea=e.markArea||{})})}var DNe=function(n,e){if(e==="all")return{type:"all",title:n.getLocaleModel().get(["legend","selector","all"])};if(e==="inverse")return{type:"inverse",title:n.getLocaleModel().get(["legend","selector","inverse"])}},bN=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.layoutMode={type:"box",ignoreSize:!0},t}return e.prototype.init=function(t,r,i){this.mergeDefaultAndTheme(t,i),t.selected=t.selected||{},this._updateSelector(t)},e.prototype.mergeOption=function(t,r){n.prototype.mergeOption.call(this,t,r),this._updateSelector(t)},e.prototype._updateSelector=function(t){var r=t.selector,i=this.ecModel;r===!0&&(r=t.selector=["all","inverse"]),ze(r)&&G(r,function(a,o){ut(a)&&(a={type:a}),r[o]=on(a,DNe(i,a.type))})},e.prototype.optionUpdated=function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&this.get("selectedMode")==="single"){for(var r=!1,i=0;i<t.length;i++){var a=t[i].get("name");if(this.isSelected(a)){this.select(a),r=!0;break}}!r&&this.select(t[0].get("name"))}},e.prototype._updateData=function(t){var r=[],i=[];t.eachRawSeries(function(l){var u=l.name;i.push(u);var c;if(l.legendVisualProvider){var f=l.legendVisualProvider,h=f.getAllNames();t.isSeriesFiltered(l)||(i=i.concat(h)),h.length?r=r.concat(h):c=!0}else c=!0;c&&Tk(l)&&r.push(l.name)}),this._availableNames=i;var a=this.get("data")||r,o=xt(),s=Ve(a,function(l){return(ut(l)||Hn(l))&&(l={name:l}),o.get(l.name)?null:(o.set(l.name,!0),new qn(l,this,this.ecModel))},this);this._data=$n(s,function(l){return!!l})},e.prototype.getData=function(){return this._data},e.prototype.select=function(t){var r=this.option.selected,i=this.get("selectedMode");if(i==="single"){var a=this._data;G(a,function(o){r[o.get("name")]=!1})}r[t]=!0},e.prototype.unSelect=function(t){this.get("selectedMode")!=="single"&&(this.option.selected[t]=!1)},e.prototype.toggleSelected=function(t){var r=this.option.selected;r.hasOwnProperty(t)||(r[t]=!0),this[r[t]?"unSelect":"select"](t)},e.prototype.allSelect=function(){var t=this._data,r=this.option.selected;G(t,function(i){r[i.get("name",!0)]=!0})},e.prototype.inverseSelect=function(){var t=this._data,r=this.option.selected;G(t,function(i){var a=i.get("name",!0);r.hasOwnProperty(a)||(r[a]=!0),r[a]=!r[a]})},e.prototype.isSelected=function(t){var r=this.option.selected;return!(r.hasOwnProperty(t)&&!r[t])&&dn(this._availableNames,t)>=0},e.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},e.type="legend.plain",e.dependencies=["series"],e.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},e})(wn),Rm=nn,AN=G,OT=Xt,bee=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!1,t}return e.prototype.init=function(){this.group.add(this._contentGroup=new OT),this.group.add(this._selectorGroup=new OT),this._isFirstRender=!0},e.prototype.getContentGroup=function(){return this._contentGroup},e.prototype.getSelectorGroup=function(){return this._selectorGroup},e.prototype.render=function(t,r,i){var a=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!t.get("show",!0)){var o=t.get("align"),s=t.get("orient");(!o||o==="auto")&&(o=t.get("left")==="right"&&s==="vertical"?"right":"left");var l=t.get("selector",!0),u=t.get("selectorPosition",!0);l&&(!u||u==="auto")&&(u=s==="horizontal"?"end":"start"),this.renderInner(o,t,r,i,l,s,u);var c=t.getBoxLayoutParams(),f={width:i.getWidth(),height:i.getHeight()},h=t.get("padding"),d=_i(c,f,h),p=this.layoutInner(t,o,d,a,l,u),g=_i(Dt({width:p.width,height:p.height},c),f,h);this.group.x=g.x-p.x,this.group.y=g.y-p.y,this.group.markRedraw(),this.group.add(this._backgroundEl=dee(p,t))}},e.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},e.prototype.renderInner=function(t,r,i,a,o,s,l){var u=this.getContentGroup(),c=xt(),f=r.get("selectedMode"),h=[];i.eachRawSeries(function(d){!d.get("legendHoverLink")&&h.push(d.id)}),AN(r.getData(),function(d,p){var g=d.get("name");if(!this.newlineDisabled&&(g===""||g===`
`)){var m=new OT;m.newline=!0,u.add(m);return}var y=i.getSeriesByName(g)[0];if(!c.get(g))if(y){var S=y.getData(),M=S.getVisual("legendLineStyle")||{},b=S.getVisual("legendIcon"),C=S.getVisual("style"),A=this._createItem(y,g,p,d,r,t,M,C,b,f,a);A.on("click",Rm(T8,g,null,a,h)).on("mouseover",Rm(CN,y.name,null,a,h)).on("mouseout",Rm(EN,y.name,null,a,h)),i.ssr&&A.eachChild(function(E){var I=$t(E);I.seriesIndex=y.seriesIndex,I.dataIndex=p,I.ssrType="legend"}),c.set(g,!0)}else i.eachRawSeries(function(E){if(!c.get(g)&&E.legendVisualProvider){var I=E.legendVisualProvider;if(!I.containName(g))return;var L=I.indexOfName(g),R=I.getItemVisual(L,"style"),O=I.getItemVisual(L,"legendIcon"),U=go(R.fill);U&&U[3]===0&&(U[3]=.2,R=Le(Le({},R),{fill:Fl(U,"rgba")}));var V=this._createItem(E,g,p,d,r,t,{},R,O,f,a);V.on("click",Rm(T8,null,g,a,h)).on("mouseover",Rm(CN,null,g,a,h)).on("mouseout",Rm(EN,null,g,a,h)),i.ssr&&V.eachChild(function(W){var X=$t(W);X.seriesIndex=E.seriesIndex,X.dataIndex=p,X.ssrType="legend"}),c.set(g,!0)}},this)},this),o&&this._createSelector(o,r,a,s,l)},e.prototype._createSelector=function(t,r,i,a,o){var s=this.getSelectorGroup();AN(t,function(u){var c=u.type,f=new On({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){i.dispatchAction({type:c==="all"?"legendAllSelect":"legendInverseSelect",legendId:r.id})}});s.add(f);var h=r.getModel("selectorLabel"),d=r.getModel(["emphasis","selectorLabel"]);Sa(f,{normal:h,emphasis:d},{defaultText:u.title}),bh(f)})},e.prototype._createItem=function(t,r,i,a,o,s,l,u,c,f,h){var d=t.visualDrawType,p=o.get("itemWidth"),g=o.get("itemHeight"),m=o.isSelected(r),y=a.get("symbolRotate"),S=a.get("symbolKeepAspect"),M=a.get("icon");c=M||c||"roundRect";var b=RNe(c,a,l,u,d,m,h),C=new OT,A=a.getModel("textStyle");if(Ct(t.getLegendIcon)&&(!M||M==="inherit"))C.add(t.getLegendIcon({itemWidth:p,itemHeight:g,icon:c,iconRotate:y,itemStyle:b.itemStyle,lineStyle:b.lineStyle,symbolKeepAspect:S}));else{var E=M==="inherit"&&t.getData().getVisual("symbol")?y==="inherit"?t.getData().getVisual("symbolRotate"):y:0;C.add(LNe({itemWidth:p,itemHeight:g,icon:c,iconRotate:E,itemStyle:b.itemStyle,symbolKeepAspect:S}))}var I=s==="left"?p+5:-5,L=s,R=o.get("formatter"),O=r;ut(R)&&R?O=R.replace("{name}",r??""):Ct(R)&&(O=R(r));var U=m?A.getTextColor():a.get("inactiveColor");C.add(new On({style:_r(A,{text:O,x:I,y:g/2,fill:U,align:L,verticalAlign:"middle"},{inheritColor:U})}));var V=new kn({shape:C.getBoundingRect(),style:{fill:"transparent"}}),W=a.getModel("tooltip");return W.get("show")&&zv({el:V,componentModel:o,itemName:r,itemTooltipOption:W.option}),C.add(V),C.eachChild(function(X){X.silent=!0}),V.silent=!f,this.getContentGroup().add(C),bh(C),C.__legendDataIndex=i,C},e.prototype.layoutInner=function(t,r,i,a,o,s){var l=this.getContentGroup(),u=this.getSelectorGroup();cv(t.get("orient"),l,t.get("itemGap"),i.width,i.height);var c=l.getBoundingRect(),f=[-c.x,-c.y];if(u.markRedraw(),l.markRedraw(),o){cv("horizontal",u,t.get("selectorItemGap",!0));var h=u.getBoundingRect(),d=[-h.x,-h.y],p=t.get("selectorButtonGap",!0),g=t.getOrient().index,m=g===0?"width":"height",y=g===0?"height":"width",S=g===0?"y":"x";s==="end"?d[g]+=c[m]+p:f[g]+=h[m]+p,d[1-g]+=c[y]/2-h[y]/2,u.x=d[0],u.y=d[1],l.x=f[0],l.y=f[1];var M={x:0,y:0};return M[m]=c[m]+p+h[m],M[y]=Math.max(c[y],h[y]),M[S]=Math.min(0,h[S]+d[1-g]),M}else return l.x=f[0],l.y=f[1],this.group.getBoundingRect()},e.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},e.type="legend.plain",e})(br);function RNe(n,e,t,r,i,a,o){function s(m,y){m.lineWidth==="auto"&&(m.lineWidth=y.lineWidth>0?2:0),AN(m,function(S,M){m[M]==="inherit"&&(m[M]=y[M])})}var l=e.getModel("itemStyle"),u=l.getItemStyle(),c=n.lastIndexOf("empty",0)===0?"fill":"stroke",f=l.getShallow("decal");u.decal=!f||f==="inherit"?r.decal:Ey(f,o),u.fill==="inherit"&&(u.fill=r[i]),u.stroke==="inherit"&&(u.stroke=r[c]),u.opacity==="inherit"&&(u.opacity=(i==="fill"?r:t).opacity),s(u,r);var h=e.getModel("lineStyle"),d=h.getLineStyle();if(s(d,t),u.fill==="auto"&&(u.fill=r.fill),u.stroke==="auto"&&(u.stroke=r.fill),d.stroke==="auto"&&(d.stroke=r.fill),!a){var p=e.get("inactiveBorderWidth"),g=u[c];u.lineWidth=p==="auto"?r.lineWidth>0&&g?2:0:u.lineWidth,u.fill=e.get("inactiveColor"),u.stroke=e.get("inactiveBorderColor"),d.stroke=h.get("inactiveColor"),d.lineWidth=h.get("inactiveWidth")}return{itemStyle:u,lineStyle:d}}function LNe(n){var e=n.icon||"roundRect",t=ci(e,0,0,n.itemWidth,n.itemHeight,n.itemStyle.fill,n.symbolKeepAspect);return t.setStyle(n.itemStyle),t.rotation=(n.iconRotate||0)*Math.PI/180,t.setOrigin([n.itemWidth/2,n.itemHeight/2]),e.indexOf("empty")>-1&&(t.style.stroke=t.style.fill,t.style.fill="#fff",t.style.lineWidth=2),t}function T8(n,e,t,r){EN(n,e,t,r),t.dispatchAction({type:"legendToggleSelect",name:n??e}),CN(n,e,t,r)}function Aee(n){for(var e=n.getZr().storage.getDisplayList(),t,r=0,i=e.length;r<i&&!(t=e[r].states.emphasis);)r++;return t&&t.hoverLayer}function CN(n,e,t,r){Aee(t)||t.dispatchAction({type:"highlight",seriesName:n,name:e,excludeSeriesId:r})}function EN(n,e,t,r){Aee(t)||t.dispatchAction({type:"downplay",seriesName:n,name:e,excludeSeriesId:r})}function INe(n){var e=n.findComponents({mainType:"legend"});e&&e.length&&n.filterSeries(function(t){for(var r=0;r<e.length;r++)if(!e[r].isSelected(t.name))return!1;return!0})}function q_(n,e,t){var r=n==="allSelect"||n==="inverseSelect",i={},a=[];t.eachComponent({mainType:"legend",query:e},function(s){r?s[n]():s[n](e.name),b8(s,i),a.push(s.componentIndex)});var o={};return t.eachComponent("legend",function(s){G(i,function(l,u){s[l?"select":"unSelect"](u)}),b8(s,o)}),r?{selected:o,legendIndex:a}:{name:e.name,selected:o}}function b8(n,e){var t=e||{};return G(n.getData(),function(r){var i=r.get("name");if(!(i===`
`||i==="")){var a=n.isSelected(i);gt(t,i)?t[i]=t[i]&&a:t[i]=a}}),t}function NNe(n){n.registerAction("legendToggleSelect","legendselectchanged",nn(q_,"toggleSelected")),n.registerAction("legendAllSelect","legendselectall",nn(q_,"allSelect")),n.registerAction("legendInverseSelect","legendinverseselect",nn(q_,"inverseSelect")),n.registerAction("legendSelect","legendselected",nn(q_,"select")),n.registerAction("legendUnSelect","legendunselected",nn(q_,"unSelect"))}function Cee(n){n.registerComponentModel(bN),n.registerComponentView(bee),n.registerProcessor(n.PRIORITY.PROCESSOR.SERIES_FILTER,INe),n.registerSubTypeDefaulter("legend",function(){return"plain"}),NNe(n)}var ONe=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.setScrollDataIndex=function(t){this.option.scrollDataIndex=t},e.prototype.init=function(t,r,i){var a=e0(t);n.prototype.init.call(this,t,r,i),A8(this,t,a)},e.prototype.mergeOption=function(t,r){n.prototype.mergeOption.call(this,t,r),A8(this,this.option,t)},e.type="legend.scroll",e.defaultOption=$h(bN.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),e})(bN);function A8(n,e,t){var r=n.getOrient(),i=[1,1];i[r.index]=0,Fh(e,t,{type:"box",ignoreSize:!!i})}var C8=Xt,g2=["width","height"],m2=["x","y"],kNe=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!0,t._currentIndex=0,t}return e.prototype.init=function(){n.prototype.init.call(this),this.group.add(this._containerGroup=new C8),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new C8)},e.prototype.resetInner=function(){n.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},e.prototype.renderInner=function(t,r,i,a,o,s,l){var u=this;n.prototype.renderInner.call(this,t,r,i,a,o,s,l);var c=this._controllerGroup,f=r.get("pageIconSize",!0),h=ze(f)?f:[f,f];p("pagePrev",0);var d=r.getModel("pageTextStyle");c.add(new On({name:"pageText",style:{text:"xx/xx",fill:d.getTextColor(),font:d.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),p("pageNext",1);function p(g,m){var y=g+"DataIndex",S=Ky(r.get("pageIcons",!0)[r.getOrient().name][m],{onclick:ht(u._pageGo,u,y,r,a)},{x:-h[0]/2,y:-h[1]/2,width:h[0],height:h[1]});S.name=g,c.add(S)}},e.prototype.layoutInner=function(t,r,i,a,o,s){var l=this.getSelectorGroup(),u=t.getOrient().index,c=g2[u],f=m2[u],h=g2[1-u],d=m2[1-u];o&&cv("horizontal",l,t.get("selectorItemGap",!0));var p=t.get("selectorButtonGap",!0),g=l.getBoundingRect(),m=[-g.x,-g.y],y=Vt(i);o&&(y[c]=i[c]-g[c]-p);var S=this._layoutContentAndController(t,a,y,u,c,h,d,f);if(o){if(s==="end")m[u]+=S[c]+p;else{var M=g[c]+p;m[u]-=M,S[f]-=M}S[c]+=g[c]+p,m[1-u]+=S[d]+S[h]/2-g[h]/2,S[h]=Math.max(S[h],g[h]),S[d]=Math.min(S[d],g[d]+m[1-u]),l.x=m[0],l.y=m[1],l.markRedraw()}return S},e.prototype._layoutContentAndController=function(t,r,i,a,o,s,l,u){var c=this.getContentGroup(),f=this._containerGroup,h=this._controllerGroup;cv(t.get("orient"),c,t.get("itemGap"),a?i.width:null,a?null:i.height),cv("horizontal",h,t.get("pageButtonItemGap",!0));var d=c.getBoundingRect(),p=h.getBoundingRect(),g=this._showController=d[o]>i[o],m=[-d.x,-d.y];r||(m[a]=c[u]);var y=[0,0],S=[-p.x,-p.y],M=tn(t.get("pageButtonGap",!0),t.get("itemGap",!0));if(g){var b=t.get("pageButtonPosition",!0);b==="end"?S[a]+=i[o]-p[o]:y[a]+=p[o]+M}S[1-a]+=d[s]/2-p[s]/2,c.setPosition(m),f.setPosition(y),h.setPosition(S);var C={x:0,y:0};if(C[o]=g?i[o]:d[o],C[s]=Math.max(d[s],p[s]),C[l]=Math.min(0,p[l]+S[1-a]),f.__rectSize=i[o],g){var A={x:0,y:0};A[o]=Math.max(i[o]-p[o]-M,0),A[s]=C[s],f.setClipPath(new kn({shape:A})),f.__rectSize=A[o]}else h.eachChild(function(I){I.attr({invisible:!0,silent:!0})});var E=this._getPageInfo(t);return E.pageIndex!=null&&Xn(c,{x:E.contentPosition[0],y:E.contentPosition[1]},g?t:null),this._updatePageInfoView(t,E),C},e.prototype._pageGo=function(t,r,i){var a=this._getPageInfo(r)[t];a!=null&&i.dispatchAction({type:"legendScroll",scrollDataIndex:a,legendId:r.id})},e.prototype._updatePageInfoView=function(t,r){var i=this._controllerGroup;G(["pagePrev","pageNext"],function(c){var f=c+"DataIndex",h=r[f]!=null,d=i.childOfName(c);d&&(d.setStyle("fill",h?t.get("pageIconColor",!0):t.get("pageIconInactiveColor",!0)),d.cursor=h?"pointer":"default")});var a=i.childOfName("pageText"),o=t.get("pageFormatter"),s=r.pageIndex,l=s!=null?s+1:0,u=r.pageCount;a&&o&&a.setStyle("text",ut(o)?o.replace("{current}",l==null?"":l+"").replace("{total}",u==null?"":u+""):o({current:l,total:u}))},e.prototype._getPageInfo=function(t){var r=t.get("scrollDataIndex",!0),i=this.getContentGroup(),a=this._containerGroup.__rectSize,o=t.getOrient().index,s=g2[o],l=m2[o],u=this._findTargetItemIndex(r),c=i.children(),f=c[u],h=c.length,d=h?1:0,p={contentPosition:[i.x,i.y],pageCount:d,pageIndex:d-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!f)return p;var g=b(f);p.contentPosition[o]=-g.s;for(var m=u+1,y=g,S=g,M=null;m<=h;++m)M=b(c[m]),(!M&&S.e>y.s+a||M&&!C(M,y.s))&&(S.i>y.i?y=S:y=M,y&&(p.pageNextDataIndex==null&&(p.pageNextDataIndex=y.i),++p.pageCount)),S=M;for(var m=u-1,y=g,S=g,M=null;m>=-1;--m)M=b(c[m]),(!M||!C(S,M.s))&&y.i<S.i&&(S=y,p.pagePrevDataIndex==null&&(p.pagePrevDataIndex=y.i),++p.pageCount,++p.pageIndex),y=M;return p;function b(A){if(A){var E=A.getBoundingRect(),I=E[l]+A[l];return{s:I,e:I+E[s],i:A.__legendDataIndex}}}function C(A,E){return A.e>=E&&A.s<=E+a}},e.prototype._findTargetItemIndex=function(t){if(!this._showController)return 0;var r,i=this.getContentGroup(),a;return i.eachChild(function(o,s){var l=o.__legendDataIndex;a==null&&l!=null&&(a=s),l===t&&(r=s)}),r??a},e.type="legend.scroll",e})(bee);function FNe(n){n.registerAction("legendScroll","legendscroll",function(e,t){var r=e.scrollDataIndex;r!=null&&t.eachComponent({mainType:"legend",subType:"scroll",query:e},function(i){i.setScrollDataIndex(r)})})}function zNe(n){Sn(Cee),n.registerComponentModel(ONe),n.registerComponentView(kNe),FNe(n)}function BNe(n){Sn(Cee),Sn(zNe)}var UNe=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.inside",e.defaultOption=$h(JS.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),e})(JS),AF=Un();function VNe(n,e,t){AF(n).coordSysRecordMap.each(function(r){var i=r.dataZoomInfoMap.get(e.uid);i&&(i.getRange=t)})}function GNe(n,e){for(var t=AF(n).coordSysRecordMap,r=t.keys(),i=0;i<r.length;i++){var a=r[i],o=t.get(a),s=o.dataZoomInfoMap;if(s){var l=e.uid,u=s.get(l);u&&(s.removeKey(l),s.keys().length||Eee(t,o))}}}function Eee(n,e){if(e){n.removeKey(e.model.uid);var t=e.controller;t&&t.dispose()}}function HNe(n,e){var t={model:e,containsPoint:nn(XNe,e),dispatchAction:nn(WNe,n),dataZoomInfoMap:null,controller:null},r=t.controller=new B1(n.getZr());return G(["pan","zoom","scrollMove"],function(i){r.on(i,function(a){var o=[];t.dataZoomInfoMap.each(function(s){if(a.isAvailableBehavior(s.model.option)){var l=(s.getRange||{})[i],u=l&&l(s.dzReferCoordSysInfo,t.model.mainType,t.controller,a);!s.model.get("disabled",!0)&&u&&o.push({dataZoomId:s.model.id,start:u[0],end:u[1]})}}),o.length&&t.dispatchAction(o)})}),t}function WNe(n,e){n.isDisposed()||n.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:e})}function XNe(n,e,t,r){return n.coordinateSystem.containPoint([t,r])}function YNe(n){var e,t="type_",r={type_true:2,type_move:1,type_false:0,type_undefined:-1},i=!0;return n.each(function(a){var o=a.model,s=o.get("disabled",!0)?!1:o.get("zoomLock",!0)?"move":!0;r[t+s]>r[t+e]&&(e=s),i=i&&o.get("preventDefaultMouseMove",!0)}),{controlType:e,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!i}}}function jNe(n){n.registerProcessor(n.PRIORITY.PROCESSOR.FILTER,function(e,t){var r=AF(t),i=r.coordSysRecordMap||(r.coordSysRecordMap=xt());i.each(function(a){a.dataZoomInfoMap=null}),e.eachComponent({mainType:"dataZoom",subType:"inside"},function(a){var o=cee(a);G(o.infoList,function(s){var l=s.model.uid,u=i.get(l)||i.set(l,HNe(t,s.model)),c=u.dataZoomInfoMap||(u.dataZoomInfoMap=xt());c.set(a.uid,{dzReferCoordSysInfo:s,model:a,getRange:null})})}),i.each(function(a){var o=a.controller,s,l=a.dataZoomInfoMap;if(l){var u=l.keys()[0];u!=null&&(s=l.get(u))}if(!s){Eee(i,a);return}var c=YNe(l);o.enable(c.controlType,c.opt),o.setPointerChecker(a.containsPoint),i0(a,"dispatchAction",s.model.get("throttle",!0),"fixRate")})})}var ZNe=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="dataZoom.inside",t}return e.prototype.render=function(t,r,i){if(n.prototype.render.apply(this,arguments),t.noTarget()){this._clear();return}this.range=t.getPercentRange(),VNe(i,t,{pan:ht(y2.pan,this),zoom:ht(y2.zoom,this),scrollMove:ht(y2.scrollMove,this)})},e.prototype.dispose=function(){this._clear(),n.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){GNe(this.api,this.dataZoomModel),this.range=null},e.type="dataZoom.inside",e})(mF),y2={zoom:function(n,e,t,r){var i=this.range,a=i.slice(),o=n.axisModels[0];if(o){var s=_2[e](null,[r.originX,r.originY],o,t,n),l=(s.signal>0?s.pixelStart+s.pixelLength-s.pixel:s.pixel-s.pixelStart)/s.pixelLength*(a[1]-a[0])+a[0],u=Math.max(1/r.scale,0);a[0]=(a[0]-l)*u+l,a[1]=(a[1]-l)*u+l;var c=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(Wv(0,a,[0,100],0,c.minSpan,c.maxSpan),this.range=a,i[0]!==a[0]||i[1]!==a[1])return a}},pan:E8(function(n,e,t,r,i,a){var o=_2[r]([a.oldX,a.oldY],[a.newX,a.newY],e,i,t);return o.signal*(n[1]-n[0])*o.pixel/o.pixelLength}),scrollMove:E8(function(n,e,t,r,i,a){var o=_2[r]([0,0],[a.scrollDelta,a.scrollDelta],e,i,t);return o.signal*(n[1]-n[0])*a.scrollDelta})};function E8(n){return function(e,t,r,i){var a=this.range,o=a.slice(),s=e.axisModels[0];if(s){var l=n(o,s,e,t,r,i);if(Wv(l,o,[0,100],"all"),this.range=o,a[0]!==o[0]||a[1]!==o[1])return o}}}var _2={grid:function(n,e,t,r,i){var a=t.axis,o={},s=i.model.coordinateSystem.getRect();return n=n||[0,0],a.dim==="x"?(o.pixel=e[0]-n[0],o.pixelLength=s.width,o.pixelStart=s.x,o.signal=a.inverse?1:-1):(o.pixel=e[1]-n[1],o.pixelLength=s.height,o.pixelStart=s.y,o.signal=a.inverse?-1:1),o},polar:function(n,e,t,r,i){var a=t.axis,o={},s=i.model.coordinateSystem,l=s.getRadiusAxis().getExtent(),u=s.getAngleAxis().getExtent();return n=n?s.pointToCoord(n):[0,0],e=s.pointToCoord(e),t.mainType==="radiusAxis"?(o.pixel=e[0]-n[0],o.pixelLength=l[1]-l[0],o.pixelStart=l[0],o.signal=a.inverse?1:-1):(o.pixel=e[1]-n[1],o.pixelLength=u[1]-u[0],o.pixelStart=u[0],o.signal=a.inverse?-1:1),o},singleAxis:function(n,e,t,r,i){var a=t.axis,o=i.model.coordinateSystem.getRect(),s={};return n=n||[0,0],a.orient==="horizontal"?(s.pixel=e[0]-n[0],s.pixelLength=o.width,s.pixelStart=o.x,s.signal=a.inverse?1:-1):(s.pixel=e[1]-n[1],s.pixelLength=o.height,s.pixelStart=o.y,s.signal=a.inverse?-1:1),s}};function Pee(n){yF(n),n.registerComponentModel(UNe),n.registerComponentView(ZNe),jNe(n)}var $Ne=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.slider",e.layoutMode="box",e.defaultOption=$h(JS.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleLabel:{show:!0},handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),e})(JS),K_=kn,P8=7,qNe=1,x2=30,KNe=7,J_="horizontal",D8="vertical",JNe=5,QNe=["line","bar","candlestick","scatter"],eOe={easing:"cubicOut",duration:100,delay:0},tOe=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._displayables={},t}return e.prototype.init=function(t,r){this.api=r,this._onBrush=ht(this._onBrush,this),this._onBrushEnd=ht(this._onBrushEnd,this)},e.prototype.render=function(t,r,i,a){if(n.prototype.render.apply(this,arguments),i0(this,"_dispatchZoomAction",t.get("throttle"),"fixRate"),this._orient=t.getOrient(),t.get("show")===!1){this.group.removeAll();return}if(t.noTarget()){this._clear(),this.group.removeAll();return}(!a||a.type!=="dataZoom"||a.from!==this.uid)&&this._buildView(),this._updateView()},e.prototype.dispose=function(){this._clear(),n.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){BS(this,"_dispatchZoomAction");var t=this.api.getZr();t.off("mousemove",this._onBrush),t.off("mouseup",this._onBrushEnd)},e.prototype._buildView=function(){var t=this.group;t.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var r=this._displayables.sliderGroup=new Xt;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),t.add(r),this._positionGroup()},e.prototype._resetLocation=function(){var t=this.dataZoomModel,r=this.api,i=t.get("brushSelect"),a=i?KNe:0,o=this._findCoordRect(),s={width:r.getWidth(),height:r.getHeight()},l=this._orient===J_?{right:s.width-o.x-o.width,top:s.height-x2-P8-a,width:o.width,height:x2}:{right:P8,top:o.y,width:x2,height:o.height},u=e0(t.option);G(["right","top","width","height"],function(f){u[f]==="ph"&&(u[f]=l[f])});var c=_i(u,s);this._location={x:c.x,y:c.y},this._size=[c.width,c.height],this._orient===D8&&this._size.reverse()},e.prototype._positionGroup=function(){var t=this.group,r=this._location,i=this._orient,a=this.dataZoomModel.getFirstTargetAxisModel(),o=a&&a.get("inverse"),s=this._displayables.sliderGroup,l=(this._dataShadowInfo||{}).otherAxisInverse;s.attr(i===J_&&!o?{scaleY:l?1:-1,scaleX:1}:i===J_&&o?{scaleY:l?1:-1,scaleX:-1}:i===D8&&!o?{scaleY:l?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:l?-1:1,scaleX:-1,rotation:Math.PI/2});var u=t.getBoundingRect([s]);t.x=r.x-u.x,t.y=r.y-u.y,t.markRedraw()},e.prototype._getViewExtent=function(){return[0,this._size[0]]},e.prototype._renderBackground=function(){var t=this.dataZoomModel,r=this._size,i=this._displayables.sliderGroup,a=t.get("brushSelect");i.add(new K_({silent:!0,shape:{x:0,y:0,width:r[0],height:r[1]},style:{fill:t.get("backgroundColor")},z2:-40}));var o=new K_({shape:{x:0,y:0,width:r[0],height:r[1]},style:{fill:"transparent"},z2:0,onclick:ht(this._onClickPanel,this)}),s=this.api.getZr();a?(o.on("mousedown",this._onBrushStart,this),o.cursor="crosshair",s.on("mousemove",this._onBrush),s.on("mouseup",this._onBrushEnd)):(s.off("mousemove",this._onBrush),s.off("mouseup",this._onBrushEnd)),i.add(o)},e.prototype._renderDataShadow=function(){var t=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!t)return;var r=this._size,i=this._shadowSize||[],a=t.series,o=a.getRawData(),s=a.getShadowDim&&a.getShadowDim(),l=s&&o.getDimensionInfo(s)?a.getShadowDim():t.otherDim;if(l==null)return;var u=this._shadowPolygonPts,c=this._shadowPolylinePts;if(o!==this._shadowData||l!==this._shadowDim||r[0]!==i[0]||r[1]!==i[1]){var f=o.getDataExtent(l),h=(f[1]-f[0])*.3;f=[f[0]-h,f[1]+h];var d=[0,r[1]],p=[0,r[0]],g=[[r[0],0],[0,0]],m=[],y=p[1]/(o.count()-1),S=0,M=Math.round(o.count()/r[0]),b;o.each([l],function(L,R){if(M>0&&R%M){S+=y;return}var O=L==null||isNaN(L)||L==="",U=O?0:Qn(L,f,d,!0);O&&!b&&R?(g.push([g[g.length-1][0],0]),m.push([m[m.length-1][0],0])):!O&&b&&(g.push([S,0]),m.push([S,0])),g.push([S,U]),m.push([S,U]),S+=y,b=O}),u=this._shadowPolygonPts=g,c=this._shadowPolylinePts=m}this._shadowData=o,this._shadowDim=l,this._shadowSize=[r[0],r[1]];var C=this.dataZoomModel;function A(L){var R=C.getModel(L?"selectedDataBackground":"dataBackground"),O=new Xt,U=new Xa({shape:{points:u},segmentIgnoreThreshold:1,style:R.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),V=new Za({shape:{points:c},segmentIgnoreThreshold:1,style:R.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return O.add(U),O.add(V),O}for(var E=0;E<3;E++){var I=A(E===1);this._displayables.sliderGroup.add(I),this._displayables.dataShadowSegs.push(I)}},e.prototype._prepareDataShadowInfo=function(){var t=this.dataZoomModel,r=t.get("showDataShadow");if(r!==!1){var i,a=this.ecModel;return t.eachTargetAxis(function(o,s){var l=t.getAxisProxy(o,s).getTargetSeriesModels();G(l,function(u){if(!i&&!(r!==!0&&dn(QNe,u.get("type"))<0)){var c=a.getComponent(Sh(o),s).axis,f=nOe(o),h,d=u.coordinateSystem;f!=null&&d.getOtherAxis&&(h=d.getOtherAxis(c).inverse),f=u.getData().mapDimension(f),i={thisAxis:c,series:u,thisDim:o,otherDim:f,otherAxisInverse:h}}},this)},this),i}},e.prototype._renderHandle=function(){var t=this.group,r=this._displayables,i=r.handles=[null,null],a=r.handleLabels=[null,null],o=this._displayables.sliderGroup,s=this._size,l=this.dataZoomModel,u=this.api,c=l.get("borderRadius")||0,f=l.get("brushSelect"),h=r.filler=new K_({silent:f,style:{fill:l.get("fillerColor")},textConfig:{position:"inside"}});o.add(h),o.add(new K_({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:s[0],height:s[1],r:c},style:{stroke:l.get("dataBackgroundColor")||l.get("borderColor"),lineWidth:qNe,fill:"rgba(0,0,0,0)"}})),G([0,1],function(M){var b=l.get("handleIcon");!Kb[b]&&b.indexOf("path://")<0&&b.indexOf("image://")<0&&(b="path://"+b);var C=ci(b,-1,0,2,2,null,!0);C.attr({cursor:R8(this._orient),draggable:!0,drift:ht(this._onDragMove,this,M),ondragend:ht(this._onDragEnd,this),onmouseover:ht(this._showDataInfo,this,!0),onmouseout:ht(this._showDataInfo,this,!1),z2:5});var A=C.getBoundingRect(),E=l.get("handleSize");this._handleHeight=rt(E,this._size[1]),this._handleWidth=A.width/A.height*this._handleHeight,C.setStyle(l.getModel("handleStyle").getItemStyle()),C.style.strokeNoScale=!0,C.rectHover=!0,C.ensureState("emphasis").style=l.getModel(["emphasis","handleStyle"]).getItemStyle(),bh(C);var I=l.get("handleColor");I!=null&&(C.style.fill=I),o.add(i[M]=C);var L=l.getModel("textStyle"),R=l.get("handleLabel")||{},O=R.show||!1;t.add(a[M]=new On({silent:!0,invisible:!O,style:_r(L,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:L.getTextColor(),font:L.getFont()}),z2:10}))},this);var d=h;if(f){var p=rt(l.get("moveHandleSize"),s[1]),g=r.moveHandle=new kn({style:l.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:s[1]-.5,height:p}}),m=p*.8,y=r.moveHandleIcon=ci(l.get("moveHandleIcon"),-m/2,-m/2,m,m,"#fff",!0);y.silent=!0,y.y=s[1]+p/2-.5,g.ensureState("emphasis").style=l.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var S=Math.min(s[1]/2,Math.max(p,10));d=r.moveZone=new kn({invisible:!0,shape:{y:s[1]-S,height:p+S}}),d.on("mouseover",function(){u.enterEmphasis(g)}).on("mouseout",function(){u.leaveEmphasis(g)}),o.add(g),o.add(y),o.add(d)}d.attr({draggable:!0,cursor:R8(this._orient),drift:ht(this._onDragMove,this,"all"),ondragstart:ht(this._showDataInfo,this,!0),ondragend:ht(this._onDragEnd,this),onmouseover:ht(this._showDataInfo,this,!0),onmouseout:ht(this._showDataInfo,this,!1)})},e.prototype._resetInterval=function(){var t=this._range=this.dataZoomModel.getPercentRange(),r=this._getViewExtent();this._handleEnds=[Qn(t[0],[0,100],r,!0),Qn(t[1],[0,100],r,!0)]},e.prototype._updateInterval=function(t,r){var i=this.dataZoomModel,a=this._handleEnds,o=this._getViewExtent(),s=i.findRepresentativeAxisProxy().getMinMaxSpan(),l=[0,100];Wv(r,a,o,i.get("zoomLock")?"all":t,s.minSpan!=null?Qn(s.minSpan,l,o,!0):null,s.maxSpan!=null?Qn(s.maxSpan,l,o,!0):null);var u=this._range,c=this._range=os([Qn(a[0],o,l,!0),Qn(a[1],o,l,!0)]);return!u||u[0]!==c[0]||u[1]!==c[1]},e.prototype._updateView=function(t){var r=this._displayables,i=this._handleEnds,a=os(i.slice()),o=this._size;G([0,1],function(d){var p=r.handles[d],g=this._handleHeight;p.attr({scaleX:g/2,scaleY:g/2,x:i[d]+(d?-1:1),y:o[1]/2-g/2})},this),r.filler.setShape({x:a[0],y:0,width:a[1]-a[0],height:o[1]});var s={x:a[0],width:a[1]-a[0]};r.moveHandle&&(r.moveHandle.setShape(s),r.moveZone.setShape(s),r.moveZone.getBoundingRect(),r.moveHandleIcon&&r.moveHandleIcon.attr("x",s.x+s.width/2));for(var l=r.dataShadowSegs,u=[0,a[0],a[1],o[0]],c=0;c<l.length;c++){var f=l[c],h=f.getClipPath();h||(h=new kn,f.setClipPath(h)),h.setShape({x:u[c],y:0,width:u[c+1]-u[c],height:o[1]})}this._updateDataInfo(t)},e.prototype._updateDataInfo=function(t){var r=this.dataZoomModel,i=this._displayables,a=i.handleLabels,o=this._orient,s=["",""];if(r.get("showDetail")){var l=r.findRepresentativeAxisProxy();if(l){var u=l.getAxisModel().axis,c=this._range,f=t?l.calculateDataWindow({start:c[0],end:c[1]}).valueWindow:l.getDataValueWindow();s=[this._formatLabel(f[0],u),this._formatLabel(f[1],u)]}}var h=os(this._handleEnds.slice());d.call(this,0),d.call(this,1);function d(p){var g=Ah(i.handles[p].parent,this.group),m=PC(p===0?"right":"left",g),y=this._handleWidth/2+JNe,S=zl([h[p]+(p===0?-y:y),this._size[1]/2],g);a[p].setStyle({x:S[0],y:S[1],verticalAlign:o===J_?"middle":m,align:o===J_?m:"center",text:s[p]})}},e.prototype._formatLabel=function(t,r){var i=this.dataZoomModel,a=i.get("labelFormatter"),o=i.get("labelPrecision");(o==null||o==="auto")&&(o=r.getPixelPrecision());var s=t==null||isNaN(t)?"":r.type==="category"||r.type==="time"?r.scale.getLabel({value:Math.round(t)}):t.toFixed(Math.min(o,20));return Ct(a)?a(t,s):ut(a)?a.replace("{value}",s):s},e.prototype._showDataInfo=function(t){var r=this.dataZoomModel.get("handleLabel")||{},i=r.show||!1,a=this.dataZoomModel.getModel(["emphasis","handleLabel"]),o=a.get("show")||!1,s=t||this._dragging?o:i,l=this._displayables,u=l.handleLabels;u[0].attr("invisible",!s),u[1].attr("invisible",!s),l.moveHandle&&this.api[s?"enterEmphasis":"leaveEmphasis"](l.moveHandle,1)},e.prototype._onDragMove=function(t,r,i,a){this._dragging=!0,Qc(a.event);var o=this._displayables.sliderGroup.getLocalTransform(),s=zl([r,i],o,!0),l=this._updateInterval(t,s[0]),u=this.dataZoomModel.get("realtime");this._updateView(!u),l&&u&&this._dispatchZoomAction(!0)},e.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var t=this.dataZoomModel.get("realtime");!t&&this._dispatchZoomAction(!1)},e.prototype._onClickPanel=function(t){var r=this._size,i=this._displayables.sliderGroup.transformCoordToLocal(t.offsetX,t.offsetY);if(!(i[0]<0||i[0]>r[0]||i[1]<0||i[1]>r[1])){var a=this._handleEnds,o=(a[0]+a[1])/2,s=this._updateInterval("all",i[0]-o);this._updateView(),s&&this._dispatchZoomAction(!1)}},e.prototype._onBrushStart=function(t){var r=t.offsetX,i=t.offsetY;this._brushStart=new cn(r,i),this._brushing=!0,this._brushStartTime=+new Date},e.prototype._onBrushEnd=function(t){if(this._brushing){var r=this._displayables.brushRect;if(this._brushing=!1,!!r){r.attr("ignore",!0);var i=r.shape,a=+new Date;if(!(a-this._brushStartTime<200&&Math.abs(i.width)<5)){var o=this._getViewExtent(),s=[0,100];this._range=os([Qn(i.x,o,s,!0),Qn(i.x+i.width,o,s,!0)]),this._handleEnds=[i.x,i.x+i.width],this._updateView(),this._dispatchZoomAction(!1)}}}},e.prototype._onBrush=function(t){this._brushing&&(Qc(t.event),this._updateBrushRect(t.offsetX,t.offsetY))},e.prototype._updateBrushRect=function(t,r){var i=this._displayables,a=this.dataZoomModel,o=i.brushRect;o||(o=i.brushRect=new K_({silent:!0,style:a.getModel("brushStyle").getItemStyle()}),i.sliderGroup.add(o)),o.attr("ignore",!1);var s=this._brushStart,l=this._displayables.sliderGroup,u=l.transformCoordToLocal(t,r),c=l.transformCoordToLocal(s.x,s.y),f=this._size;u[0]=Math.max(Math.min(f[0],u[0]),0),o.setShape({x:c[0],y:0,width:u[0]-c[0],height:f[1]})},e.prototype._dispatchZoomAction=function(t){var r=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:t?eOe:null,start:r[0],end:r[1]})},e.prototype._findCoordRect=function(){var t,r=cee(this.dataZoomModel).infoList;if(!t&&r.length){var i=r[0].model.coordinateSystem;t=i.getRect&&i.getRect()}if(!t){var a=this.api.getWidth(),o=this.api.getHeight();t={x:a*.2,y:o*.2,width:a*.6,height:o*.6}}return t},e.type="dataZoom.slider",e})(mF);function nOe(n){var e={x:"y",y:"x",radius:"angle",angle:"radius"};return e[n]}function R8(n){return n==="vertical"?"ns-resize":"ew-resize"}function Dee(n){n.registerComponentModel($Ne),n.registerComponentView(tOe),yF(n)}function rOe(n){Sn(Pee),Sn(Dee)}var Ree={get:function(n,e,t){var r=Vt((iOe[n]||{})[e]);return t&&ze(r)?r[r.length-1]:r}},iOe={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},L8=Wi.mapVisual,aOe=Wi.eachVisual,oOe=ze,I8=G,sOe=os,lOe=Qn,MA=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.stateList=["inRange","outOfRange"],t.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],t.layoutMode={type:"box",ignoreSize:!0},t.dataBound=[-1/0,1/0],t.targetVisuals={},t.controllerVisuals={},t}return e.prototype.init=function(t,r,i){this.mergeDefaultAndTheme(t,i)},e.prototype.optionUpdated=function(t,r){var i=this.option;!r&&xee(i,t,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},e.prototype.resetVisual=function(t){var r=this.stateList;t=ht(t,this),this.controllerVisuals=wN(this.option.controller,r,t),this.targetVisuals=wN(this.option.target,r,t)},e.prototype.getItemSymbol=function(){return null},e.prototype.getTargetSeriesIndices=function(){var t=this.option.seriesIndex,r=[];return t==null||t==="all"?this.ecModel.eachSeries(function(i,a){r.push(a)}):r=dr(t),r},e.prototype.eachTargetSeries=function(t,r){G(this.getTargetSeriesIndices(),function(i){var a=this.ecModel.getSeriesByIndex(i);a&&t.call(r,a)},this)},e.prototype.isTargetSeries=function(t){var r=!1;return this.eachTargetSeries(function(i){i===t&&(r=!0)}),r},e.prototype.formatValueText=function(t,r,i){var a=this.option,o=a.precision,s=this.dataBound,l=a.formatter,u;i=i||["<",">"],ze(t)&&(t=t.slice(),u=!0);var c=r?t:u?[f(t[0]),f(t[1])]:f(t);if(ut(l))return l.replace("{value}",u?c[0]:c).replace("{value2}",u?c[1]:c);if(Ct(l))return u?l(t[0],t[1]):l(t);if(u)return t[0]===s[0]?i[0]+" "+c[1]:t[1]===s[1]?i[1]+" "+c[0]:c[0]+" - "+c[1];return c;function f(h){return h===s[0]?"min":h===s[1]?"max":(+h).toFixed(Math.min(o,20))}},e.prototype.resetExtent=function(){var t=this.option,r=sOe([t.min,t.max]);this._dataExtent=r},e.prototype.getDataDimensionIndex=function(t){var r=this.option.dimension;if(r!=null)return t.getDimensionIndex(r);for(var i=t.dimensions,a=i.length-1;a>=0;a--){var o=i[a],s=t.getDimensionInfo(o);if(!s.isCalculationCoord)return s.storeDimIndex}},e.prototype.getExtent=function(){return this._dataExtent.slice()},e.prototype.completeVisualOption=function(){var t=this.ecModel,r=this.option,i={inRange:r.inRange,outOfRange:r.outOfRange},a=r.target||(r.target={}),o=r.controller||(r.controller={});on(a,i),on(o,i);var s=this.isCategory();l.call(this,a),l.call(this,o),u.call(this,a,"inRange","outOfRange"),c.call(this,o);function l(f){oOe(r.color)&&!f.inRange&&(f.inRange={color:r.color.slice().reverse()}),f.inRange=f.inRange||{color:t.get("gradientColor")}}function u(f,h,d){var p=f[h],g=f[d];p&&!g&&(g=f[d]={},I8(p,function(m,y){if(Wi.isValidType(y)){var S=Ree.get(y,"inactive",s);S!=null&&(g[y]=S,y==="color"&&!g.hasOwnProperty("opacity")&&!g.hasOwnProperty("colorAlpha")&&(g.opacity=[0,0]))}}))}function c(f){var h=(f.inRange||{}).symbol||(f.outOfRange||{}).symbol,d=(f.inRange||{}).symbolSize||(f.outOfRange||{}).symbolSize,p=this.get("inactiveColor"),g=this.getItemSymbol(),m=g||"roundRect";I8(this.stateList,function(y){var S=this.itemSize,M=f[y];M||(M=f[y]={color:s?p:[p]}),M.symbol==null&&(M.symbol=h&&Vt(h)||(s?m:[m])),M.symbolSize==null&&(M.symbolSize=d&&Vt(d)||(s?S[0]:[S[0],S[0]])),M.symbol=L8(M.symbol,function(A){return A==="none"?m:A});var b=M.symbolSize;if(b!=null){var C=-1/0;aOe(b,function(A){A>C&&(C=A)}),M.symbolSize=L8(b,function(A){return lOe(A,[0,C],[0,S[0]],!0)})}},this)}},e.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},e.prototype.isCategory=function(){return!!this.option.categories},e.prototype.setSelected=function(t){},e.prototype.getSelected=function(){return null},e.prototype.getValueState=function(t){return null},e.prototype.getVisualMeta=function(t){return null},e.type="visualMap",e.dependencies=["series"],e.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},e})(wn),N8=[20,140],uOe=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.optionUpdated=function(t,r){n.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(i){i.mappingMethod="linear",i.dataExtent=this.getExtent()}),this._resetRange()},e.prototype.resetItemSize=function(){n.prototype.resetItemSize.apply(this,arguments);var t=this.itemSize;(t[0]==null||isNaN(t[0]))&&(t[0]=N8[0]),(t[1]==null||isNaN(t[1]))&&(t[1]=N8[1])},e.prototype._resetRange=function(){var t=this.getExtent(),r=this.option.range;!r||r.auto?(t.auto=1,this.option.range=t):ze(r)&&(r[0]>r[1]&&r.reverse(),r[0]=Math.max(r[0],t[0]),r[1]=Math.min(r[1],t[1]))},e.prototype.completeVisualOption=function(){n.prototype.completeVisualOption.apply(this,arguments),G(this.stateList,function(t){var r=this.option.controller[t].symbolSize;r&&r[0]!==r[1]&&(r[0]=r[1]/3)},this)},e.prototype.setSelected=function(t){this.option.range=t.slice(),this._resetRange()},e.prototype.getSelected=function(){var t=this.getExtent(),r=os((this.get("range")||[]).slice());return r[0]>t[1]&&(r[0]=t[1]),r[1]>t[1]&&(r[1]=t[1]),r[0]<t[0]&&(r[0]=t[0]),r[1]<t[0]&&(r[1]=t[0]),r},e.prototype.getValueState=function(t){var r=this.option.range,i=this.getExtent();return(r[0]<=i[0]||r[0]<=t)&&(r[1]>=i[1]||t<=r[1])?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(t){var r=[];return this.eachTargetSeries(function(i){var a=[],o=i.getData();o.each(this.getDataDimensionIndex(o),function(s,l){t[0]<=s&&s<=t[1]&&a.push(l)},this),r.push({seriesId:i.id,dataIndex:a})},this),r},e.prototype.getVisualMeta=function(t){var r=O8(this,"outOfRange",this.getExtent()),i=O8(this,"inRange",this.option.range.slice()),a=[];function o(d,p){a.push({value:d,color:t(d,p)})}for(var s=0,l=0,u=i.length,c=r.length;l<c&&(!i.length||r[l]<=i[0]);l++)r[l]<i[s]&&o(r[l],"outOfRange");for(var f=1;s<u;s++,f=0)f&&a.length&&o(i[s],"outOfRange"),o(i[s],"inRange");for(var f=1;l<c;l++)(!i.length||i[i.length-1]<r[l])&&(f&&(a.length&&o(a[a.length-1].value,"outOfRange"),f=0),o(r[l],"outOfRange"));var h=a.length;return{stops:a,outerColors:[h?a[0].color:"transparent",h?a[h-1].color:"transparent"]}},e.type="visualMap.continuous",e.defaultOption=$h(MA.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),e})(MA);function O8(n,e,t){if(t[0]===t[1])return t.slice();for(var r=200,i=(t[1]-t[0])/r,a=t[0],o=[],s=0;s<=r&&a<t[1];s++)o.push(a),a+=i;return o.push(t[1]),o}var Lee=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.autoPositionValues={left:1,right:1,top:1,bottom:1},t}return e.prototype.init=function(t,r){this.ecModel=t,this.api=r},e.prototype.render=function(t,r,i,a){if(this.visualMapModel=t,t.get("show")===!1){this.group.removeAll();return}this.doRender(t,r,i,a)},e.prototype.renderBackground=function(t){var r=this.visualMapModel,i=Uv(r.get("padding")||0),a=t.getBoundingRect();t.add(new kn({z2:-1,silent:!0,shape:{x:a.x-i[3],y:a.y-i[0],width:a.width+i[3]+i[1],height:a.height+i[0]+i[2]},style:{fill:r.get("backgroundColor"),stroke:r.get("borderColor"),lineWidth:r.get("borderWidth")}}))},e.prototype.getControllerVisual=function(t,r,i){i=i||{};var a=i.forceState,o=this.visualMapModel,s={};if(r==="color"){var l=o.get("contentColor");s.color=l}function u(d){return s[d]}function c(d,p){s[d]=p}var f=o.controllerVisuals[a||o.getValueState(t)],h=Wi.prepareVisualTypes(f);return G(h,function(d){var p=f[d];i.convertOpacityToAlpha&&d==="opacity"&&(d="colorAlpha",p=f.__alphaForOpacity),Wi.dependsOn(d,r)&&p&&p.applyVisual(t,u,c)}),s[r]},e.prototype.positionGroup=function(t){var r=this.visualMapModel,i=this.api;OC(t,r.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()})},e.prototype.doRender=function(t,r,i,a){},e.type="visualMap",e})(br),k8=[["left","right","width"],["top","bottom","height"]];function Iee(n,e,t){var r=n.option,i=r.align;if(i!=null&&i!=="auto")return i;for(var a={width:e.getWidth(),height:e.getHeight()},o=r.orient==="horizontal"?1:0,s=k8[o],l=[0,null,10],u={},c=0;c<3;c++)u[k8[1-o][c]]=l[c],u[s[c]]=c===2?t[0]:r[s[c]];var f=[["x","width",3],["y","height",0]][o],h=_i(u,a,r.padding);return s[(h.margin[f[2]]||0)+h[f[0]]+h[f[1]]*.5<a[f[1]]*.5?0:1]}function hb(n,e){return G(n||[],function(t){t.dataIndex!=null&&(t.dataIndexInside=t.dataIndex,t.dataIndex=null),t.highlightKey="visualMap"+(e?e.componentIndex:"")}),n}var pu=Qn,cOe=G,F8=Math.min,S2=Math.max,fOe=12,hOe=6,dOe=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._shapes={},t._dataInterval=[],t._handleEnds=[],t._hoverLinkDataIndices=[],t}return e.prototype.init=function(t,r){n.prototype.init.call(this,t,r),this._hoverLinkFromSeriesMouseOver=ht(this._hoverLinkFromSeriesMouseOver,this),this._hideIndicator=ht(this._hideIndicator,this)},e.prototype.doRender=function(t,r,i,a){(!a||a.type!=="selectDataRange"||a.from!==this.uid)&&this._buildView()},e.prototype._buildView=function(){this.group.removeAll();var t=this.visualMapModel,r=this.group;this._orient=t.get("orient"),this._useHandle=t.get("calculable"),this._resetInterval(),this._renderBar(r);var i=t.get("text");this._renderEndsText(r,i,0),this._renderEndsText(r,i,1),this._updateView(!0),this.renderBackground(r),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(r)},e.prototype._renderEndsText=function(t,r,i){if(r){var a=r[1-i];a=a!=null?a+"":"";var o=this.visualMapModel,s=o.get("textGap"),l=o.itemSize,u=this._shapes.mainGroup,c=this._applyTransform([l[0]/2,i===0?-s:l[1]+s],u),f=this._applyTransform(i===0?"bottom":"top",u),h=this._orient,d=this.visualMapModel.textStyleModel;this.group.add(new On({style:_r(d,{x:c[0],y:c[1],verticalAlign:h==="horizontal"?"middle":f,align:h==="horizontal"?f:"center",text:a})}))}},e.prototype._renderBar=function(t){var r=this.visualMapModel,i=this._shapes,a=r.itemSize,o=this._orient,s=this._useHandle,l=Iee(r,this.api,a),u=i.mainGroup=this._createBarGroup(l),c=new Xt;u.add(c),c.add(i.outOfRange=z8()),c.add(i.inRange=z8(null,s?U8(this._orient):null,ht(this._dragHandle,this,"all",!1),ht(this._dragHandle,this,"all",!0))),c.setClipPath(new kn({shape:{x:0,y:0,width:a[0],height:a[1],r:3}}));var f=r.textStyleModel.getTextRect(""),h=S2(f.width,f.height);s&&(i.handleThumbs=[],i.handleLabels=[],i.handleLabelPoints=[],this._createHandle(r,u,0,a,h,o),this._createHandle(r,u,1,a,h,o)),this._createIndicator(r,u,a,h,o),t.add(u)},e.prototype._createHandle=function(t,r,i,a,o,s){var l=ht(this._dragHandle,this,i,!1),u=ht(this._dragHandle,this,i,!0),c=Hl(t.get("handleSize"),a[0]),f=ci(t.get("handleIcon"),-c/2,-c/2,c,c,null,!0),h=U8(this._orient);f.attr({cursor:h,draggable:!0,drift:l,ondragend:u,onmousemove:function(y){Qc(y.event)}}),f.x=a[0]/2,f.useStyle(t.getModel("handleStyle").getItemStyle()),f.setStyle({strokeNoScale:!0,strokeFirst:!0}),f.style.lineWidth*=2,f.ensureState("emphasis").style=t.getModel(["emphasis","handleStyle"]).getItemStyle(),$p(f,!0),r.add(f);var d=this.visualMapModel.textStyleModel,p=new On({cursor:h,draggable:!0,drift:l,onmousemove:function(y){Qc(y.event)},ondragend:u,style:_r(d,{x:0,y:0,text:""})});p.ensureState("blur").style={opacity:.1},p.stateTransition={duration:200},this.group.add(p);var g=[c,0],m=this._shapes;m.handleThumbs[i]=f,m.handleLabelPoints[i]=g,m.handleLabels[i]=p},e.prototype._createIndicator=function(t,r,i,a,o){var s=Hl(t.get("indicatorSize"),i[0]),l=ci(t.get("indicatorIcon"),-s/2,-s/2,s,s,null,!0);l.attr({cursor:"move",invisible:!0,silent:!0,x:i[0]/2});var u=t.getModel("indicatorStyle").getItemStyle();if(l instanceof $i){var c=l.style;l.useStyle(Le({image:c.image,x:c.x,y:c.y,width:c.width,height:c.height},u))}else l.useStyle(u);r.add(l);var f=this.visualMapModel.textStyleModel,h=new On({silent:!0,invisible:!0,style:_r(f,{x:0,y:0,text:""})});this.group.add(h);var d=[(o==="horizontal"?a/2:hOe)+i[0]/2,0],p=this._shapes;p.indicator=l,p.indicatorLabel=h,p.indicatorLabelPoint=d,this._firstShowIndicator=!0},e.prototype._dragHandle=function(t,r,i,a){if(this._useHandle){if(this._dragging=!r,!r){var o=this._applyTransform([i,a],this._shapes.mainGroup,!0);this._updateInterval(t,o[1]),this._hideIndicator(),this._updateView()}r===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),r?!this._hovering&&this._clearHoverLinkToSeries():B8(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[t],!1)}},e.prototype._resetInterval=function(){var t=this.visualMapModel,r=this._dataInterval=t.getSelected(),i=t.getExtent(),a=[0,t.itemSize[1]];this._handleEnds=[pu(r[0],i,a,!0),pu(r[1],i,a,!0)]},e.prototype._updateInterval=function(t,r){r=r||0;var i=this.visualMapModel,a=this._handleEnds,o=[0,i.itemSize[1]];Wv(r,a,o,t,0);var s=i.getExtent();this._dataInterval=[pu(a[0],o,s,!0),pu(a[1],o,s,!0)]},e.prototype._updateView=function(t){var r=this.visualMapModel,i=r.getExtent(),a=this._shapes,o=[0,r.itemSize[1]],s=t?o:this._handleEnds,l=this._createBarVisual(this._dataInterval,i,s,"inRange"),u=this._createBarVisual(i,i,o,"outOfRange");a.inRange.setStyle({fill:l.barColor}).setShape("points",l.barPoints),a.outOfRange.setStyle({fill:u.barColor}).setShape("points",u.barPoints),this._updateHandle(s,l)},e.prototype._createBarVisual=function(t,r,i,a){var o={forceState:a,convertOpacityToAlpha:!0},s=this._makeColorGradient(t,o),l=[this.getControllerVisual(t[0],"symbolSize",o),this.getControllerVisual(t[1],"symbolSize",o)],u=this._createBarPoints(i,l);return{barColor:new $y(0,0,0,1,s),barPoints:u,handlesColor:[s[0].color,s[s.length-1].color]}},e.prototype._makeColorGradient=function(t,r){var i=100,a=[],o=(t[1]-t[0])/i;a.push({color:this.getControllerVisual(t[0],"color",r),offset:0});for(var s=1;s<i;s++){var l=t[0]+o*s;if(l>t[1])break;a.push({color:this.getControllerVisual(l,"color",r),offset:s/i})}return a.push({color:this.getControllerVisual(t[1],"color",r),offset:1}),a},e.prototype._createBarPoints=function(t,r){var i=this.visualMapModel.itemSize;return[[i[0]-r[0],t[0]],[i[0],t[0]],[i[0],t[1]],[i[0]-r[1],t[1]]]},e.prototype._createBarGroup=function(t){var r=this._orient,i=this.visualMapModel.get("inverse");return new Xt(r==="horizontal"&&!i?{scaleX:t==="bottom"?1:-1,rotation:Math.PI/2}:r==="horizontal"&&i?{scaleX:t==="bottom"?-1:1,rotation:-Math.PI/2}:r==="vertical"&&!i?{scaleX:t==="left"?1:-1,scaleY:-1}:{scaleX:t==="left"?1:-1})},e.prototype._updateHandle=function(t,r){if(this._useHandle){var i=this._shapes,a=this.visualMapModel,o=i.handleThumbs,s=i.handleLabels,l=a.itemSize,u=a.getExtent(),c=this._applyTransform("left",i.mainGroup);cOe([0,1],function(f){var h=o[f];h.setStyle("fill",r.handlesColor[f]),h.y=t[f];var d=pu(t[f],[0,l[1]],u,!0),p=this.getControllerVisual(d,"symbolSize");h.scaleX=h.scaleY=p/l[0],h.x=l[0]-p/2;var g=zl(i.handleLabelPoints[f],Ah(h,this.group));if(this._orient==="horizontal"){var m=c==="left"||c==="top"?(l[0]-p)/2:(l[0]-p)/-2;g[1]+=m}s[f].setStyle({x:g[0],y:g[1],text:a.formatValueText(this._dataInterval[f]),verticalAlign:"middle",align:this._orient==="vertical"?this._applyTransform("left",i.mainGroup):"center"})},this)}},e.prototype._showIndicator=function(t,r,i,a){var o=this.visualMapModel,s=o.getExtent(),l=o.itemSize,u=[0,l[1]],c=this._shapes,f=c.indicator;if(f){f.attr("invisible",!1);var h={convertOpacityToAlpha:!0},d=this.getControllerVisual(t,"color",h),p=this.getControllerVisual(t,"symbolSize"),g=pu(t,s,u,!0),m=l[0]-p/2,y={x:f.x,y:f.y};f.y=g,f.x=m;var S=zl(c.indicatorLabelPoint,Ah(f,this.group)),M=c.indicatorLabel;M.attr("invisible",!1);var b=this._applyTransform("left",c.mainGroup),C=this._orient,A=C==="horizontal";M.setStyle({text:(i||"")+o.formatValueText(r),verticalAlign:A?b:"middle",align:A?"center":b});var E={x:m,y:g,style:{fill:d}},I={style:{x:S[0],y:S[1]}};if(o.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var L={duration:100,easing:"cubicInOut",additive:!0};f.x=y.x,f.y=y.y,f.animateTo(E,L),M.animateTo(I,L)}else f.attr(E),M.attr(I);this._firstShowIndicator=!1;var R=this._shapes.handleLabels;if(R)for(var O=0;O<R.length;O++)this.api.enterBlur(R[O])}},e.prototype._enableHoverLinkToSeries=function(){var t=this;this._shapes.mainGroup.on("mousemove",function(r){if(t._hovering=!0,!t._dragging){var i=t.visualMapModel.itemSize,a=t._applyTransform([r.offsetX,r.offsetY],t._shapes.mainGroup,!0,!0);a[1]=F8(S2(0,a[1]),i[1]),t._doHoverLinkToSeries(a[1],0<=a[0]&&a[0]<=i[0])}}).on("mouseout",function(){t._hovering=!1,!t._dragging&&t._clearHoverLinkToSeries()})},e.prototype._enableHoverLinkFromSeries=function(){var t=this.api.getZr();this.visualMapModel.option.hoverLink?(t.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),t.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},e.prototype._doHoverLinkToSeries=function(t,r){var i=this.visualMapModel,a=i.itemSize;if(i.option.hoverLink){var o=[0,a[1]],s=i.getExtent();t=F8(S2(o[0],t),o[1]);var l=pOe(i,s,o),u=[t-l,t+l],c=pu(t,o,s,!0),f=[pu(u[0],o,s,!0),pu(u[1],o,s,!0)];u[0]<o[0]&&(f[0]=-1/0),u[1]>o[1]&&(f[1]=1/0),r&&(f[0]===-1/0?this._showIndicator(c,f[1],"< ",l):f[1]===1/0?this._showIndicator(c,f[0],"> ",l):this._showIndicator(c,c," ",l));var h=this._hoverLinkDataIndices,d=[];(r||B8(i))&&(d=this._hoverLinkDataIndices=i.findTargetDataIndices(f));var p=o0e(h,d);this._dispatchHighDown("downplay",hb(p[0],i)),this._dispatchHighDown("highlight",hb(p[1],i))}},e.prototype._hoverLinkFromSeriesMouseOver=function(t){var r;if(Kp(t.target,function(l){var u=$t(l);if(u.dataIndex!=null)return r=u,!0},!0),!!r){var i=this.ecModel.getSeriesByIndex(r.seriesIndex),a=this.visualMapModel;if(a.isTargetSeries(i)){var o=i.getData(r.dataType),s=o.getStore().get(a.getDataDimensionIndex(o),r.dataIndex);isNaN(s)||this._showIndicator(s,s)}}},e.prototype._hideIndicator=function(){var t=this._shapes;t.indicator&&t.indicator.attr("invisible",!0),t.indicatorLabel&&t.indicatorLabel.attr("invisible",!0);var r=this._shapes.handleLabels;if(r)for(var i=0;i<r.length;i++)this.api.leaveBlur(r[i])},e.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var t=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",hb(t,this.visualMapModel)),t.length=0},e.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var t=this.api.getZr();t.off("mouseover",this._hoverLinkFromSeriesMouseOver),t.off("mouseout",this._hideIndicator)},e.prototype._applyTransform=function(t,r,i,a){var o=Ah(r,a?null:this.group);return ze(t)?zl(t,o,i):PC(t,o,i)},e.prototype._dispatchHighDown=function(t,r){r&&r.length&&this.api.dispatchAction({type:t,batch:r})},e.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},e.type="visualMap.continuous",e})(Lee);function z8(n,e,t,r){return new Xa({shape:{points:n},draggable:!!t,cursor:e,drift:t,onmousemove:function(i){Qc(i.event)},ondragend:r})}function pOe(n,e,t){var r=fOe/2,i=n.get("hoverLinkDataSize");return i&&(r=pu(i,e,t,!0)/2),r}function B8(n){var e=n.get("hoverLinkOnHandle");return!!(e??n.get("realtime"))}function U8(n){return n==="vertical"?"ns-resize":"ew-resize"}var vOe={type:"selectDataRange",event:"dataRangeSelected",update:"update"},gOe=function(n,e){e.eachComponent({mainType:"visualMap",query:n},function(t){t.setSelected(n.selected)})},mOe=[{createOnAllSeries:!0,reset:function(n,e){var t=[];return e.eachComponent("visualMap",function(r){var i=n.pipelineContext;!r.isTargetSeries(n)||i&&i.large||t.push(BIe(r.stateList,r.targetVisuals,ht(r.getValueState,r),r.getDataDimensionIndex(n.getData())))}),t}},{createOnAllSeries:!0,reset:function(n,e){var t=n.getData(),r=[];e.eachComponent("visualMap",function(i){if(i.isTargetSeries(n)){var a=i.getVisualMeta(ht(yOe,null,n,i))||{stops:[],outerColors:[]},o=i.getDataDimensionIndex(t);o>=0&&(a.dimension=o,r.push(a))}}),n.getData().setVisual("visualMeta",r)}}];function yOe(n,e,t,r){for(var i=e.targetVisuals[r],a=Wi.prepareVisualTypes(i),o={color:R1(n.getData(),"color")},s=0,l=a.length;s<l;s++){var u=a[s],c=i[u==="opacity"?"__alphaForOpacity":u];c&&c.applyVisual(t,f,h)}return o.color;function f(d){return o[d]}function h(d,p){o[d]=p}}var V8=G;function _Oe(n){var e=n&&n.visualMap;ze(e)||(e=e?[e]:[]),V8(e,function(t){if(t){Lm(t,"splitList")&&!Lm(t,"pieces")&&(t.pieces=t.splitList,delete t.splitList);var r=t.pieces;r&&ze(r)&&V8(r,function(i){Bt(i)&&(Lm(i,"start")&&!Lm(i,"min")&&(i.min=i.start),Lm(i,"end")&&!Lm(i,"max")&&(i.max=i.end))})}})}function Lm(n,e){return n&&n.hasOwnProperty&&n.hasOwnProperty(e)}var G8=!1;function Nee(n){G8||(G8=!0,n.registerSubTypeDefaulter("visualMap",function(e){return!e.categories&&(!(e.pieces?e.pieces.length>0:e.splitNumber>0)||e.calculable)?"continuous":"piecewise"}),n.registerAction(vOe,gOe),G(mOe,function(e){n.registerVisual(n.PRIORITY.VISUAL.COMPONENT,e)}),n.registerPreprocessor(_Oe))}function Oee(n){n.registerComponentModel(uOe),n.registerComponentView(dOe),Nee(n)}var xOe=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._pieceList=[],t}return e.prototype.optionUpdated=function(t,r){n.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var i=this._mode=this._determineMode();this._pieceList=[],SOe[this._mode].call(this,this._pieceList),this._resetSelected(t,r);var a=this.option.categories;this.resetVisual(function(o,s){i==="categories"?(o.mappingMethod="category",o.categories=Vt(a)):(o.dataExtent=this.getExtent(),o.mappingMethod="piecewise",o.pieceList=Ve(this._pieceList,function(l){return l=Vt(l),s!=="inRange"&&(l.visual=null),l}))})},e.prototype.completeVisualOption=function(){var t=this.option,r={},i=Wi.listVisualTypes(),a=this.isCategory();G(t.pieces,function(s){G(i,function(l){s.hasOwnProperty(l)&&(r[l]=1)})}),G(r,function(s,l){var u=!1;G(this.stateList,function(c){u=u||o(t,c,l)||o(t.target,c,l)},this),!u&&G(this.stateList,function(c){(t[c]||(t[c]={}))[l]=Ree.get(l,c==="inRange"?"active":"inactive",a)})},this);function o(s,l,u){return s&&s[l]&&s[l].hasOwnProperty(u)}n.prototype.completeVisualOption.apply(this,arguments)},e.prototype._resetSelected=function(t,r){var i=this.option,a=this._pieceList,o=(r?i:t).selected||{};if(i.selected=o,G(a,function(l,u){var c=this.getSelectedMapKey(l);o.hasOwnProperty(c)||(o[c]=!0)},this),i.selectedMode==="single"){var s=!1;G(a,function(l,u){var c=this.getSelectedMapKey(l);o[c]&&(s?o[c]=!1:s=!0)},this)}},e.prototype.getItemSymbol=function(){return this.get("itemSymbol")},e.prototype.getSelectedMapKey=function(t){return this._mode==="categories"?t.value+"":t.index+""},e.prototype.getPieceList=function(){return this._pieceList},e.prototype._determineMode=function(){var t=this.option;return t.pieces&&t.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},e.prototype.setSelected=function(t){this.option.selected=Vt(t)},e.prototype.getValueState=function(t){var r=Wi.findPieceIndex(t,this._pieceList);return r!=null&&this.option.selected[this.getSelectedMapKey(this._pieceList[r])]?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(t){var r=[],i=this._pieceList;return this.eachTargetSeries(function(a){var o=[],s=a.getData();s.each(this.getDataDimensionIndex(s),function(l,u){var c=Wi.findPieceIndex(l,i);c===t&&o.push(u)},this),r.push({seriesId:a.id,dataIndex:o})},this),r},e.prototype.getRepresentValue=function(t){var r;if(this.isCategory())r=t.value;else if(t.value!=null)r=t.value;else{var i=t.interval||[];r=i[0]===-1/0&&i[1]===1/0?0:(i[0]+i[1])/2}return r},e.prototype.getVisualMeta=function(t){if(this.isCategory())return;var r=[],i=["",""],a=this;function o(c,f){var h=a.getRepresentValue({interval:c});f||(f=a.getValueState(h));var d=t(h,f);c[0]===-1/0?i[0]=d:c[1]===1/0?i[1]=d:r.push({value:c[0],color:d},{value:c[1],color:d})}var s=this._pieceList.slice();if(!s.length)s.push({interval:[-1/0,1/0]});else{var l=s[0].interval[0];l!==-1/0&&s.unshift({interval:[-1/0,l]}),l=s[s.length-1].interval[1],l!==1/0&&s.push({interval:[l,1/0]})}var u=-1/0;return G(s,function(c){var f=c.interval;f&&(f[0]>u&&o([u,f[0]],"outOfRange"),o(f.slice()),u=f[1])},this),{stops:r,outerColors:i}},e.type="visualMap.piecewise",e.defaultOption=$h(MA.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),e})(MA),SOe={splitNumber:function(n){var e=this.option,t=Math.min(e.precision,20),r=this.getExtent(),i=e.splitNumber;i=Math.max(parseInt(i,10),1),e.splitNumber=i;for(var a=(r[1]-r[0])/i;+a.toFixed(t)!==a&&t<5;)t++;e.precision=t,a=+a.toFixed(t),e.minOpen&&n.push({interval:[-1/0,r[0]],close:[0,0]});for(var o=0,s=r[0];o<i;s+=a,o++){var l=o===i-1?r[1]:s+a;n.push({interval:[s,l],close:[1,1]})}e.maxOpen&&n.push({interval:[r[1],1/0],close:[0,0]}),fI(n),G(n,function(u,c){u.index=c,u.text=this.formatValueText(u.interval)},this)},categories:function(n){var e=this.option;G(e.categories,function(t){n.push({text:this.formatValueText(t,!0),value:t})},this),H8(e,n)},pieces:function(n){var e=this.option;G(e.pieces,function(t,r){Bt(t)||(t={value:t});var i={text:"",index:r};if(t.label!=null&&(i.text=t.label),t.hasOwnProperty("value")){var a=i.value=t.value;i.interval=[a,a],i.close=[1,1]}else{for(var o=i.interval=[],s=i.close=[0,0],l=[1,0,1],u=[-1/0,1/0],c=[],f=0;f<2;f++){for(var h=[["gte","gt","min"],["lte","lt","max"]][f],d=0;d<3&&o[f]==null;d++)o[f]=t[h[d]],s[f]=l[d],c[f]=d===2;o[f]==null&&(o[f]=u[f])}c[0]&&o[1]===1/0&&(s[0]=0),c[1]&&o[0]===-1/0&&(s[1]=0),o[0]===o[1]&&s[0]&&s[1]&&(i.value=o[0])}i.visual=Wi.retrieveVisuals(t),n.push(i)},this),H8(e,n),fI(n),G(n,function(t){var r=t.close,i=[["<",""][r[1]],[">",""][r[0]]];t.text=t.text||this.formatValueText(t.value!=null?t.value:t.interval,!1,i)},this)}};function H8(n,e){var t=n.inverse;(n.orient==="vertical"?!t:t)&&e.reverse()}var wOe=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.doRender=function(){var t=this.group;t.removeAll();var r=this.visualMapModel,i=r.get("textGap"),a=r.textStyleModel,o=a.getFont(),s=a.getTextColor(),l=this._getItemAlign(),u=r.itemSize,c=this._getViewData(),f=c.endsText,h=Gi(r.get("showLabel",!0),!f),d=!r.get("selectedMode");f&&this._renderEndsText(t,f[0],u,h,l),G(c.viewPieceList,function(p){var g=p.piece,m=new Xt;m.onclick=ht(this._onItemClick,this,g),this._enableHoverLink(m,p.indexInModelPieceList);var y=r.getRepresentValue(g);if(this._createItemSymbol(m,y,[0,0,u[0],u[1]],d),h){var S=this.visualMapModel.getValueState(y);m.add(new On({style:{x:l==="right"?-i:u[0]+i,y:u[1]/2,text:g.text,verticalAlign:"middle",align:l,font:o,fill:s,opacity:S==="outOfRange"?.5:1},silent:d}))}t.add(m)},this),f&&this._renderEndsText(t,f[1],u,h,l),cv(r.get("orient"),t,r.get("itemGap")),this.renderBackground(t),this.positionGroup(t)},e.prototype._enableHoverLink=function(t,r){var i=this;t.on("mouseover",function(){return a("highlight")}).on("mouseout",function(){return a("downplay")});var a=function(o){var s=i.visualMapModel;s.option.hoverLink&&i.api.dispatchAction({type:o,batch:hb(s.findTargetDataIndices(r),s)})}},e.prototype._getItemAlign=function(){var t=this.visualMapModel,r=t.option;if(r.orient==="vertical")return Iee(t,this.api,t.itemSize);var i=r.align;return(!i||i==="auto")&&(i="left"),i},e.prototype._renderEndsText=function(t,r,i,a,o){if(r){var s=new Xt,l=this.visualMapModel.textStyleModel;s.add(new On({style:_r(l,{x:a?o==="right"?i[0]:0:i[0]/2,y:i[1]/2,verticalAlign:"middle",align:a?o:"center",text:r})})),t.add(s)}},e.prototype._getViewData=function(){var t=this.visualMapModel,r=Ve(t.getPieceList(),function(s,l){return{piece:s,indexInModelPieceList:l}}),i=t.get("text"),a=t.get("orient"),o=t.get("inverse");return(a==="horizontal"?o:!o)?r.reverse():i&&(i=i.slice().reverse()),{viewPieceList:r,endsText:i}},e.prototype._createItemSymbol=function(t,r,i,a){var o=ci(this.getControllerVisual(r,"symbol"),i[0],i[1],i[2],i[3],this.getControllerVisual(r,"color"));o.silent=a,t.add(o)},e.prototype._onItemClick=function(t){var r=this.visualMapModel,i=r.option,a=i.selectedMode;if(a){var o=Vt(i.selected),s=r.getSelectedMapKey(t);a==="single"||a===!0?(o[s]=!0,G(o,function(l,u){o[u]=u===s})):o[s]=!o[s],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:o})}},e.type="visualMap.piecewise",e})(Lee);function kee(n){n.registerComponentModel(xOe),n.registerComponentView(wOe),Nee(n)}function MOe(n){Sn(Oee),Sn(kee)}var TOe={label:{enabled:!0},decal:{show:!1}},W8=Un(),bOe={};function AOe(n,e){var t=n.getModel("aria");if(!t.get("enabled"))return;var r=Vt(TOe);on(r.label,n.getLocaleModel().get("aria"),!1),on(t.option,r,!1),i(),a();function i(){var u=t.getModel("decal"),c=u.get("show");if(c){var f=xt();n.eachSeries(function(h){if(!h.isColorBySeries()){var d=f.get(h.type);d||(d={},f.set(h.type,d)),W8(h).scope=d}}),n.eachRawSeries(function(h){if(n.isSeriesFiltered(h))return;if(Ct(h.enableAriaDecal)){h.enableAriaDecal();return}var d=h.getData();if(h.isColorBySeries()){var S=CI(h.ecModel,h.name,bOe,n.getSeriesCount()),M=d.getVisual("decal");d.setVisual("decal",b(M,S))}else{var p=h.getRawData(),g={},m=W8(h).scope;d.each(function(C){var A=d.getRawIndex(C);g[A]=C});var y=p.count();p.each(function(C){var A=g[C],E=p.getName(C)||C+"",I=CI(h.ecModel,E,m,y),L=d.getItemVisual(A,"decal");d.setItemVisual(A,"decal",b(L,I))})}function b(C,A){var E=C?Le(Le({},A),C):A;return E.dirty=!0,E}})}}function a(){var u=e.getZr().dom;if(u){var c=n.getLocaleModel().get("aria"),f=t.getModel("label");if(f.option=Dt(f.option,c),!!f.get("enabled")){if(u.setAttribute("role","img"),f.get("description")){u.setAttribute("aria-label",f.get("description"));return}var h=n.getSeriesCount(),d=f.get(["data","maxCount"])||10,p=f.get(["series","maxCount"])||10,g=Math.min(h,p),m;if(!(h<1)){var y=s();if(y){var S=f.get(["general","withTitle"]);m=o(S,{title:y})}else m=f.get(["general","withoutTitle"]);var M=[],b=h>1?f.get(["series","multiple","prefix"]):f.get(["series","single","prefix"]);m+=o(b,{seriesCount:h}),n.eachSeries(function(I,L){if(L<g){var R=void 0,O=I.get("name"),U=O?"withName":"withoutName";R=h>1?f.get(["series","multiple",U]):f.get(["series","single",U]),R=o(R,{seriesId:I.seriesIndex,seriesName:I.get("name"),seriesType:l(I.subType)});var V=I.getData();if(V.count()>d){var W=f.get(["data","partialData"]);R+=o(W,{displayCnt:d})}else R+=f.get(["data","allData"]);for(var X=f.get(["data","separator","middle"]),j=f.get(["data","separator","end"]),Q=f.get(["data","excludeDimensionId"]),B=[],Z=0;Z<V.count();Z++)if(Z<d){var q=V.getName(Z),Y=Q?$n(V.getValues(Z),function(me,ae){return dn(Q,ae)===-1}):V.getValues(Z),te=f.get(["data",q?"withName":"withoutName"]);B.push(o(te,{name:q,value:Y.join(X)}))}R+=B.join(X)+j,M.push(R)}});var C=f.getModel(["series","multiple","separator"]),A=C.get("middle"),E=C.get("end");m+=M.join(A)+E,u.setAttribute("aria-label",m)}}}}function o(u,c){if(!ut(u))return u;var f=u;return G(c,function(h,d){f=f.replace(new RegExp("\\{\\s*"+d+"\\s*\\}","g"),h)}),f}function s(){var u=n.get("title");return u&&u.length&&(u=u[0]),u&&u.text}function l(u){var c=n.getLocaleModel().get(["series","typeNames"]);return c[u]||c.chart}}function COe(n){if(!(!n||!n.aria)){var e=n.aria;e.show!=null&&(e.enabled=e.show),e.label=e.label||{},G(["description","general","series","data"],function(t){e[t]!=null&&(e.label[t]=e[t])})}}function EOe(n){n.registerPreprocessor(COe),n.registerVisual(n.PRIORITY.VISUAL.ARIA,AOe)}var X8={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},POe=(function(){function n(e){var t=this._condVal=ut(e)?new RegExp(e):sZ(e)?e:null;if(t==null){var r="";tr(r)}}return n.prototype.evaluate=function(e){var t=typeof e;return ut(t)?this._condVal.test(e):Hn(t)?this._condVal.test(e+""):!1},n})(),DOe=(function(){function n(){}return n.prototype.evaluate=function(){return this.value},n})(),ROe=(function(){function n(){}return n.prototype.evaluate=function(){for(var e=this.children,t=0;t<e.length;t++)if(!e[t].evaluate())return!1;return!0},n})(),LOe=(function(){function n(){}return n.prototype.evaluate=function(){for(var e=this.children,t=0;t<e.length;t++)if(e[t].evaluate())return!0;return!1},n})(),IOe=(function(){function n(){}return n.prototype.evaluate=function(){return!this.child.evaluate()},n})(),NOe=(function(){function n(){}return n.prototype.evaluate=function(){for(var e=!!this.valueParser,t=this.getValue,r=t(this.valueGetterParam),i=e?this.valueParser(r):null,a=0;a<this.subCondList.length;a++)if(!this.subCondList[a].evaluate(e?i:r))return!1;return!0},n})();function CF(n,e){if(n===!0||n===!1){var t=new DOe;return t.value=n,t}var r="";return Fee(n)||tr(r),n.and?Y8("and",n,e):n.or?Y8("or",n,e):n.not?OOe(n,e):kOe(n,e)}function Y8(n,e,t){var r=e[n],i="";ze(r)||tr(i),r.length||tr(i);var a=n==="and"?new ROe:new LOe;return a.children=Ve(r,function(o){return CF(o,t)}),a.children.length||tr(i),a}function OOe(n,e){var t=n.not,r="";Fee(t)||tr(r);var i=new IOe;return i.child=CF(t,e),i.child||tr(r),i}function kOe(n,e){for(var t="",r=e.prepareGetValue(n),i=[],a=En(n),o=n.parser,s=o?vq(o):null,l=0;l<a.length;l++){var u=a[l];if(!(u==="parser"||e.valueGetterAttrMap.get(u))){var c=gt(X8,u)?X8[u]:u,f=n[u],h=s?s(f):f,d=sSe(c,h)||c==="reg"&&new POe(h);d||tr(t),i.push(d)}}i.length||tr(t);var p=new NOe;return p.valueGetterParam=r,p.valueParser=s,p.getValue=e.getValue,p.subCondList=i,p}function Fee(n){return Bt(n)&&!_a(n)}var FOe=(function(){function n(e,t){this._cond=CF(e,t)}return n.prototype.evaluate=function(){return this._cond.evaluate()},n})();function zOe(n,e){return new FOe(n,e)}var BOe={type:"echarts:filter",transform:function(n){for(var e=n.upstream,t,r=zOe(n.config,{valueGetterAttrMap:xt({dimension:!0}),prepareGetValue:function(s){var l="",u=s.dimension;gt(s,"dimension")||tr(l);var c=e.getDimensionInfo(u);return c||tr(l),{dimIdx:c.index}},getValue:function(s){return e.retrieveValueFromItem(t,s.dimIdx)}}),i=[],a=0,o=e.count();a<o;a++)t=e.getRawDataItem(a),r.evaluate()&&i.push(t);return{data:i}}},UOe={type:"echarts:sort",transform:function(n){var e=n.upstream,t=n.config,r="",i=dr(t);i.length||tr(r);var a=[];G(i,function(c){var f=c.dimension,h=c.order,d=c.parser,p=c.incomparable;if(f==null&&tr(r),h!=="asc"&&h!=="desc"&&tr(r),p&&p!=="min"&&p!=="max"){var g="";tr(g)}if(h!=="asc"&&h!=="desc"){var m="";tr(m)}var y=e.getDimensionInfo(f);y||tr(r);var S=d?vq(d):null;d&&!S&&tr(r),a.push({dimIdx:y.index,parser:S,comparator:new mq(h,p)})});var o=e.sourceFormat;o!==Ya&&o!==js&&tr(r);for(var s=[],l=0,u=e.count();l<u;l++)s.push(e.getRawDataItem(l));return s.sort(function(c,f){for(var h=0;h<a.length;h++){var d=a[h],p=e.retrieveValueFromItem(c,d.dimIdx),g=e.retrieveValueFromItem(f,d.dimIdx);d.parser&&(p=d.parser(p),g=d.parser(g));var m=d.comparator.evaluate(p,g);if(m!==0)return m}return 0}),{data:s}}};function VOe(n){n.registerTransform(BOe),n.registerTransform(UOe)}var GOe=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="dataset",t}return e.prototype.init=function(t,r,i){n.prototype.init.call(this,t,r,i),this._sourceManager=new Sq(this),$4(this)},e.prototype.mergeOption=function(t,r){n.prototype.mergeOption.call(this,t,r),$4(this)},e.prototype.optionUpdated=function(){this._sourceManager.dirty()},e.prototype.getSourceManager=function(){return this._sourceManager},e.type="dataset",e.defaultOption={seriesLayoutBy:Du},e})(wn),HOe=(function(n){Se(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="dataset",t}return e.type="dataset",e})(br);function WOe(n){n.registerComponentModel(GOe),n.registerComponentView(HOe)}var hu=Nu.CMD;function iy(n,e){return Math.abs(n-e)<1e-5}function PN(n){var e=n.data,t=n.len(),r=[],i,a=0,o=0,s=0,l=0;function u(V,W){i&&i.length>2&&r.push(i),i=[V,W]}function c(V,W,X,j){iy(V,X)&&iy(W,j)||i.push(V,W,X,j,X,j)}function f(V,W,X,j,Q,B){var Z=Math.abs(W-V),q=Math.tan(Z/4)*4/3,Y=W<V?-1:1,te=Math.cos(V),me=Math.sin(V),ae=Math.cos(W),fe=Math.sin(W),be=te*Q+X,Ee=me*B+j,Be=ae*Q+X,Oe=fe*B+j,$e=Q*q*Y,ee=B*q*Y;i.push(be-$e*me,Ee+ee*te,Be+$e*fe,Oe-ee*ae,Be,Oe)}for(var h,d,p,g,m=0;m<t;){var y=e[m++],S=m===1;switch(S&&(a=e[m],o=e[m+1],s=a,l=o,(y===hu.L||y===hu.C||y===hu.Q)&&(i=[s,l])),y){case hu.M:a=s=e[m++],o=l=e[m++],u(s,l);break;case hu.L:h=e[m++],d=e[m++],c(a,o,h,d),a=h,o=d;break;case hu.C:i.push(e[m++],e[m++],e[m++],e[m++],a=e[m++],o=e[m++]);break;case hu.Q:h=e[m++],d=e[m++],p=e[m++],g=e[m++],i.push(a+2/3*(h-a),o+2/3*(d-o),p+2/3*(h-p),g+2/3*(d-g),p,g),a=p,o=g;break;case hu.A:var M=e[m++],b=e[m++],C=e[m++],A=e[m++],E=e[m++],I=e[m++]+E;m+=1;var L=!e[m++];h=Math.cos(E)*C+M,d=Math.sin(E)*A+b,S?(s=h,l=d,u(s,l)):c(a,o,h,d),a=Math.cos(I)*C+M,o=Math.sin(I)*A+b;for(var R=(L?-1:1)*Math.PI/2,O=E;L?O>I:O<I;O+=R){var U=L?Math.max(O+R,I):Math.min(O+R,I);f(O,U,M,b,C,A)}break;case hu.R:s=a=e[m++],l=o=e[m++],h=s+e[m++],d=l+e[m++],u(h,l),c(h,l,h,d),c(h,d,s,d),c(s,d,s,l),c(s,l,h,l);break;case hu.Z:i&&c(a,o,s,l),a=s,o=l;break}}return i&&i.length>2&&r.push(i),r}function DN(n,e,t,r,i,a,o,s,l,u){if(iy(n,t)&&iy(e,r)&&iy(i,o)&&iy(a,s)){l.push(o,s);return}var c=2/u,f=c*c,h=o-n,d=s-e,p=Math.sqrt(h*h+d*d);h/=p,d/=p;var g=t-n,m=r-e,y=i-o,S=a-s,M=g*g+m*m,b=y*y+S*S;if(M<f&&b<f){l.push(o,s);return}var C=h*g+d*m,A=-h*y-d*S,E=M-C*C,I=b-A*A;if(E<f&&C>=0&&I<f&&A>=0){l.push(o,s);return}var L=[],R=[];Oh(n,t,i,o,.5,L),Oh(e,r,a,s,.5,R),DN(L[0],R[0],L[1],R[1],L[2],R[2],L[3],R[3],l,u),DN(L[4],R[4],L[5],R[5],L[6],R[6],L[7],R[7],l,u)}function XOe(n,e){var t=PN(n),r=[];e=e||1;for(var i=0;i<t.length;i++){var a=t[i],o=[],s=a[0],l=a[1];o.push(s,l);for(var u=2;u<a.length;){var c=a[u++],f=a[u++],h=a[u++],d=a[u++],p=a[u++],g=a[u++];DN(s,l,c,f,h,d,p,g,o,e),s=p,l=g}r.push(o)}return r}function zee(n,e,t){var r=n[e],i=n[1-e],a=Math.abs(r/i),o=Math.ceil(Math.sqrt(a*t)),s=Math.floor(t/o);s===0&&(s=1,o=t);for(var l=[],u=0;u<o;u++)l.push(s);var c=o*s,f=t-c;if(f>0)for(var u=0;u<f;u++)l[u%o]+=1;return l}function j8(n,e,t){for(var r=n.r0,i=n.r,a=n.startAngle,o=n.endAngle,s=Math.abs(o-a),l=s*i,u=i-r,c=l>Math.abs(u),f=zee([l,u],c?0:1,e),h=(c?s:u)/f.length,d=0;d<f.length;d++)for(var p=(c?u:s)/f[d],g=0;g<f[d];g++){var m={};c?(m.startAngle=a+h*d,m.endAngle=a+h*(d+1),m.r0=r+p*g,m.r=r+p*(g+1)):(m.startAngle=a+p*g,m.endAngle=a+p*(g+1),m.r0=r+h*d,m.r=r+h*(d+1)),m.clockwise=n.clockwise,m.cx=n.cx,m.cy=n.cy,t.push(m)}}function YOe(n,e,t){for(var r=n.width,i=n.height,a=r>i,o=zee([r,i],a?0:1,e),s=a?"width":"height",l=a?"height":"width",u=a?"x":"y",c=a?"y":"x",f=n[s]/o.length,h=0;h<o.length;h++)for(var d=n[l]/o[h],p=0;p<o[h];p++){var g={};g[u]=h*f,g[c]=p*d,g[s]=f,g[l]=d,g.x+=n.x,g.y+=n.y,t.push(g)}}function Z8(n,e,t,r){return n*r-t*e}function jOe(n,e,t,r,i,a,o,s){var l=t-n,u=r-e,c=o-i,f=s-a,h=Z8(c,f,l,u);if(Math.abs(h)<1e-6)return null;var d=n-i,p=e-a,g=Z8(d,p,c,f)/h;return g<0||g>1?null:new cn(g*l+n,g*u+e)}function ZOe(n,e,t){var r=new cn;cn.sub(r,t,e),r.normalize();var i=new cn;cn.sub(i,n,e);var a=i.dot(r);return a}function Im(n,e){var t=n[n.length-1];t&&t[0]===e[0]&&t[1]===e[1]||n.push(e)}function $Oe(n,e,t){for(var r=n.length,i=[],a=0;a<r;a++){var o=n[a],s=n[(a+1)%r],l=jOe(o[0],o[1],s[0],s[1],e.x,e.y,t.x,t.y);l&&i.push({projPt:ZOe(l,e,t),pt:l,idx:a})}if(i.length<2)return[{points:n},{points:n}];i.sort(function(m,y){return m.projPt-y.projPt});var u=i[0],c=i[i.length-1];if(c.idx<u.idx){var f=u;u=c,c=f}for(var h=[u.pt.x,u.pt.y],d=[c.pt.x,c.pt.y],p=[h],g=[d],a=u.idx+1;a<=c.idx;a++)Im(p,n[a].slice());Im(p,d),Im(p,h);for(var a=c.idx+1;a<=u.idx+r;a++)Im(g,n[a%r].slice());return Im(g,h),Im(g,d),[{points:p},{points:g}]}function $8(n){var e=n.points,t=[],r=[];TC(e,t,r);var i=new fn(t[0],t[1],r[0]-t[0],r[1]-t[1]),a=i.width,o=i.height,s=i.x,l=i.y,u=new cn,c=new cn;return a>o?(u.x=c.x=s+a/2,u.y=l,c.y=l+o):(u.y=c.y=l+o/2,u.x=s,c.x=s+a),$Oe(e,u,c)}function TA(n,e,t,r){if(t===1)r.push(e);else{var i=Math.floor(t/2),a=n(e);TA(n,a[0],i,r),TA(n,a[1],t-i,r)}return r}function qOe(n,e){for(var t=[],r=0;r<e;r++)t.push(Nk(n));return t}function KOe(n,e){e.setStyle(n.style),e.z=n.z,e.z2=n.z2,e.zlevel=n.zlevel}function JOe(n){for(var e=[],t=0;t<n.length;)e.push([n[t++],n[t++]]);return e}function QOe(n,e){var t=[],r=n.shape,i;switch(n.type){case"rect":YOe(r,e,t),i=kn;break;case"sector":j8(r,e,t),i=Wa;break;case"circle":j8({r0:0,r:r.r,startAngle:0,endAngle:Math.PI*2,cx:r.cx,cy:r.cy},e,t),i=Wa;break;default:var a=n.getComputedTransform(),o=a?Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1],a[2]*a[2]+a[3]*a[3])):1,s=Ve(XOe(n.getUpdatedPathProxy(),o),function(y){return JOe(y)}),l=s.length;if(l===0)TA($8,{points:s[0]},e,t);else if(l===e)for(var u=0;u<l;u++)t.push({points:s[u]});else{var c=0,f=Ve(s,function(y){var S=[],M=[];TC(y,S,M);var b=(M[1]-S[1])*(M[0]-S[0]);return c+=b,{poly:y,area:b}});f.sort(function(y,S){return S.area-y.area});for(var h=e,u=0;u<l;u++){var d=f[u];if(h<=0)break;var p=u===l-1?h:Math.ceil(d.area/c*e);p<0||(TA($8,{points:d.poly},p,t),h-=p)}}i=Xa;break}if(!i)return qOe(n,e);for(var g=[],u=0;u<t.length;u++){var m=new i;m.setShape(t[u]),KOe(n,m),g.push(m)}return g}function eke(n,e){var t=n.length,r=e.length;if(t===r)return[n,e];for(var i=[],a=[],o=t<r?n:e,s=Math.min(t,r),l=Math.abs(r-t)/6,u=(s-2)/6,c=Math.ceil(l/u)+1,f=[o[0],o[1]],h=l,d=2;d<s;){var p=o[d-2],g=o[d-1],m=o[d++],y=o[d++],S=o[d++],M=o[d++],b=o[d++],C=o[d++];if(h<=0){f.push(m,y,S,M,b,C);continue}for(var A=Math.min(h,c-1)+1,E=1;E<=A;E++){var I=E/A;Oh(p,m,S,b,I,i),Oh(g,y,M,C,I,a),p=i[3],g=a[3],f.push(i[1],a[1],i[2],a[2],p,g),m=i[5],y=a[5],S=i[6],M=a[6]}h-=A-1}return o===n?[f,e]:[n,f]}function q8(n,e){for(var t=n.length,r=n[t-2],i=n[t-1],a=[],o=0;o<e.length;)a[o++]=r,a[o++]=i;return a}function tke(n,e){for(var t,r,i,a=[],o=[],s=0;s<Math.max(n.length,e.length);s++){var l=n[s],u=e[s],c=void 0,f=void 0;l?u?(t=eke(l,u),c=t[0],f=t[1],r=c,i=f):(f=q8(i||l,l),c=l):(c=q8(r||u,u),f=u),a.push(c),o.push(f)}return[a,o]}function K8(n){for(var e=0,t=0,r=0,i=n.length,a=0,o=i-2;a<i;o=a,a+=2){var s=n[o],l=n[o+1],u=n[a],c=n[a+1],f=s*c-u*l;e+=f,t+=(s+u)*f,r+=(l+c)*f}return e===0?[n[0]||0,n[1]||0]:[t/e/3,r/e/3,e]}function nke(n,e,t,r){for(var i=(n.length-2)/6,a=1/0,o=0,s=n.length,l=s-2,u=0;u<i;u++){for(var c=u*6,f=0,h=0;h<s;h+=2){var d=h===0?c:(c+h-2)%l+2,p=n[d]-t[0],g=n[d+1]-t[1],m=e[h]-r[0],y=e[h+1]-r[1],S=m-p,M=y-g;f+=S*S+M*M}f<a&&(a=f,o=u)}return o}function rke(n){for(var e=[],t=n.length,r=0;r<t;r+=2)e[r]=n[t-r-2],e[r+1]=n[t-r-1];return e}function ike(n,e,t,r){for(var i=[],a,o=0;o<n.length;o++){var s=n[o],l=e[o],u=K8(s),c=K8(l);a==null&&(a=u[2]<0!=c[2]<0);var f=[],h=[],d=0,p=1/0,g=[],m=s.length;a&&(s=rke(s));for(var y=nke(s,l,u,c)*6,S=m-2,M=0;M<S;M+=2){var b=(y+M)%S+2;f[M+2]=s[b]-u[0],f[M+3]=s[b+1]-u[1]}f[0]=s[y]-u[0],f[1]=s[y+1]-u[1];for(var C=r/t,A=-r/2;A<=r/2;A+=C){for(var E=Math.sin(A),I=Math.cos(A),L=0,M=0;M<s.length;M+=2){var R=f[M],O=f[M+1],U=l[M]-c[0],V=l[M+1]-c[1],W=U*I-V*E,X=U*E+V*I;g[M]=W,g[M+1]=X;var j=W-R,Q=X-O;L+=j*j+Q*Q}if(L<p){p=L,d=A;for(var B=0;B<g.length;B++)h[B]=g[B]}}i.push({from:f,to:h,fromCp:u,toCp:c,rotation:-d})}return i}function bA(n){return n.__isCombineMorphing}var Bee="__mOriginal_";function AA(n,e,t){var r=Bee+e,i=n[r]||n[e];n[r]||(n[r]=n[e]);var a=t.replace,o=t.after,s=t.before;n[e]=function(){var l=arguments,u;return s&&s.apply(this,l),a?u=a.apply(this,l):u=i.apply(this,l),o&&o.apply(this,l),u}}function Zx(n,e){var t=Bee+e;n[t]&&(n[e]=n[t],n[t]=null)}function J8(n,e){for(var t=0;t<n.length;t++)for(var r=n[t],i=0;i<r.length;){var a=r[i],o=r[i+1];r[i++]=e[0]*a+e[2]*o+e[4],r[i++]=e[1]*a+e[3]*o+e[5]}}function Uee(n,e){var t=n.getUpdatedPathProxy(),r=e.getUpdatedPathProxy(),i=tke(PN(t),PN(r)),a=i[0],o=i[1],s=n.getComputedTransform(),l=e.getComputedTransform();function u(){this.transform=null}s&&J8(a,s),l&&J8(o,l),AA(e,"updateTransform",{replace:u}),e.transform=null;var c=ike(a,o,10,Math.PI),f=[];AA(e,"buildPath",{replace:function(h){for(var d=e.__morphT,p=1-d,g=[],m=0;m<c.length;m++){var y=c[m],S=y.from,M=y.to,b=y.rotation*d,C=y.fromCp,A=y.toCp,E=Math.sin(b),I=Math.cos(b);Nx(g,C,A,d);for(var L=0;L<S.length;L+=2){var R=S[L],O=S[L+1],U=M[L],V=M[L+1],W=R*p+U*d,X=O*p+V*d;f[L]=W*I-X*E+g[0],f[L+1]=W*E+X*I+g[1]}var j=f[0],Q=f[1];h.moveTo(j,Q);for(var L=2;L<S.length;){var U=f[L++],V=f[L++],B=f[L++],Z=f[L++],q=f[L++],Y=f[L++];j===U&&Q===V&&B===q&&Z===Y?h.lineTo(q,Y):h.bezierCurveTo(U,V,B,Z,q,Y),j=q,Q=Y}}}})}function EF(n,e,t){if(!n||!e)return e;var r=t.done,i=t.during;Uee(n,e),e.__morphT=0;function a(){Zx(e,"buildPath"),Zx(e,"updateTransform"),e.__morphT=-1,e.createPathProxy(),e.dirtyShape()}return e.animateTo({__morphT:1},Dt({during:function(o){e.dirtyShape(),i&&i(o)},done:function(){a(),r&&r()}},t)),e}function ake(n,e,t,r,i,a){var o=16;n=i===t?0:Math.round(32767*(n-t)/(i-t)),e=a===r?0:Math.round(32767*(e-r)/(a-r));for(var s=0,l,u=(1<<o)/2;u>0;u/=2){var c=0,f=0;(n&u)>0&&(c=1),(e&u)>0&&(f=1),s+=u*u*(3*c^f),f===0&&(c===1&&(n=u-1-n,e=u-1-e),l=n,n=e,e=l)}return s}function CA(n){var e=1/0,t=1/0,r=-1/0,i=-1/0,a=Ve(n,function(s){var l=s.getBoundingRect(),u=s.getComputedTransform(),c=l.x+l.width/2+(u?u[4]:0),f=l.y+l.height/2+(u?u[5]:0);return e=Math.min(c,e),t=Math.min(f,t),r=Math.max(c,r),i=Math.max(f,i),[c,f]}),o=Ve(a,function(s,l){return{cp:s,z:ake(s[0],s[1],e,t,r,i),path:n[l]}});return o.sort(function(s,l){return s.z-l.z}).map(function(s){return s.path})}function Vee(n){return QOe(n.path,n.count)}function RN(){return{fromIndividuals:[],toIndividuals:[],count:0}}function oke(n,e,t){var r=[];function i(C){for(var A=0;A<C.length;A++){var E=C[A];bA(E)?i(E.childrenRef()):E instanceof Tn&&r.push(E)}}i(n);var a=r.length;if(!a)return RN();var o=t.dividePath||Vee,s=o({path:e,count:a});if(s.length!==a)return console.error("Invalid morphing: unmatched splitted path"),RN();r=CA(r),s=CA(s);for(var l=t.done,u=t.during,c=t.individualDelay,f=new Uc,h=0;h<a;h++){var d=r[h],p=s[h];p.parent=e,p.copyTransform(f),c||Uee(d,p)}e.__isCombineMorphing=!0,e.childrenRef=function(){return s};function g(C){for(var A=0;A<s.length;A++)s[A].addSelfToZr(C)}AA(e,"addSelfToZr",{after:function(C){g(C)}}),AA(e,"removeSelfFromZr",{after:function(C){for(var A=0;A<s.length;A++)s[A].removeSelfFromZr(C)}});function m(){e.__isCombineMorphing=!1,e.__morphT=-1,e.childrenRef=null,Zx(e,"addSelfToZr"),Zx(e,"removeSelfFromZr")}var y=s.length;if(c)for(var S=y,M=function(){S--,S===0&&(m(),l&&l())},h=0;h<y;h++){var b=c?Dt({delay:(t.delay||0)+c(h,y,r[h],s[h]),done:M},t):t;EF(r[h],s[h],b)}else e.__morphT=0,e.animateTo({__morphT:1},Dt({during:function(C){for(var A=0;A<y;A++){var E=s[A];E.__morphT=e.__morphT,E.dirtyShape()}u&&u(C)},done:function(){m();for(var C=0;C<n.length;C++)Zx(n[C],"updateTransform");l&&l()}},t));return e.__zr&&g(e.__zr),{fromIndividuals:r,toIndividuals:s,count:y}}function ske(n,e,t){var r=e.length,i=[],a=t.dividePath||Vee;function o(d){for(var p=0;p<d.length;p++){var g=d[p];bA(g)?o(g.childrenRef()):g instanceof Tn&&i.push(g)}}if(bA(n)){o(n.childrenRef());var s=i.length;if(s<r)for(var l=0,u=s;u<r;u++)i.push(Nk(i[l++%s]));i.length=r}else{i=a({path:n,count:r});for(var c=n.getComputedTransform(),u=0;u<i.length;u++)i[u].setLocalTransform(c);if(i.length!==r)return console.error("Invalid morphing: unmatched splitted path"),RN()}i=CA(i),e=CA(e);for(var f=t.individualDelay,u=0;u<r;u++){var h=f?Dt({delay:(t.delay||0)+f(u,r,i[u],e[u])},t):t;EF(i[u],e[u],h)}return{fromIndividuals:i,toIndividuals:e,count:e.length}}function Q8(n){return ze(n[0])}function e9(n,e){for(var t=[],r=n.length,i=0;i<r;i++)t.push({one:n[i],many:[]});for(var i=0;i<e.length;i++){var a=e[i].length,o=void 0;for(o=0;o<a;o++)t[o%r].many.push(e[i][o])}for(var s=0,i=r-1;i>=0;i--)if(!t[i].many.length){var l=t[s].many;if(l.length<=1)if(s)s=0;else return t;var a=l.length,u=Math.ceil(a/2);t[i].many=l.slice(u,a),t[s].many=l.slice(0,u),s++}return t}var lke={clone:function(n){for(var e=[],t=1-Math.pow(1-n.path.style.opacity,1/n.count),r=0;r<n.count;r++){var i=Nk(n.path);i.setStyle("opacity",t),e.push(i)}return e},split:null};function w2(n,e,t,r,i,a){if(!n.length||!e.length)return;var o=qy("update",r,i);if(!(o&&o.duration>0))return;var s=r.getModel("universalTransition").get("delay"),l=Object.assign({setToFinal:!0},o),u,c;Q8(n)&&(u=n,c=e),Q8(e)&&(u=e,c=n);function f(y,S,M,b,C){var A=y.many,E=y.one;if(A.length===1&&!C){var I=S?A[0]:E,L=S?E:A[0];if(bA(I))f({many:[I],one:L},!0,M,b,!0);else{var R=s?Dt({delay:s(M,b)},l):l;EF(I,L,R),a(I,L,I,L,R)}}else for(var O=Dt({dividePath:lke[t],individualDelay:s&&function(Q,B,Z,q){return s(Q+M,b)}},l),U=S?oke(A,E,O):ske(E,A,O),V=U.fromIndividuals,W=U.toIndividuals,X=V.length,j=0;j<X;j++){var R=s?Dt({delay:s(j,X)},l):l;a(V[j],W[j],S?A[j]:y.one,S?y.one:A[j],R)}}for(var h=u?u===n:n.length>e.length,d=u?e9(c,u):e9(h?e:n,[h?n:e]),p=0,g=0;g<d.length;g++)p+=d[g].many.length;for(var m=0,g=0;g<d.length;g++)f(d[g],h,m,p),m+=d[g].many.length}function Rp(n){if(!n)return[];if(ze(n)){for(var e=[],t=0;t<n.length;t++)e.push(Rp(n[t]));return e}var r=[];return n.traverse(function(i){i instanceof Tn&&!i.disableMorphing&&!i.invisible&&!i.ignore&&r.push(i)}),r}var Gee=1e4,uke=0,t9=1,n9=2,cke=Un();function fke(n,e){for(var t=n.dimensions,r=0;r<t.length;r++){var i=n.getDimensionInfo(t[r]);if(i&&i.otherDims[e]===0)return t[r]}}function hke(n,e,t){var r=n.getDimensionInfo(t),i=r&&r.ordinalMeta;if(r){var a=n.get(r.name,e);return i&&i.categories[a]||a+""}}function r9(n,e,t,r){var i=r?"itemChildGroupId":"itemGroupId",a=fke(n,i);if(a){var o=hke(n,e,a);return o}var s=n.getRawDataItem(e),l=r?"childGroupId":"groupId";if(s&&s[l])return s[l]+"";if(!r)return t||n.getId(e)}function i9(n){var e=[];return G(n,function(t){var r=t.data,i=t.dataGroupId;if(!(r.count()>Gee))for(var a=r.getIndices(),o=0;o<a.length;o++)e.push({data:r,groupId:r9(r,o,i,!1),childGroupId:r9(r,o,i,!0),divide:t.divide,dataIndex:o})}),e}function M2(n,e,t){n.traverse(function(r){r instanceof Tn&&Dr(r,{style:{opacity:0}},e,{dataIndex:t,isFrom:!0})})}function T2(n){if(n.parent){var e=n.getComputedTransform();n.setLocalTransform(e),n.parent.remove(n)}}function Nm(n){n.stopAnimation(),n.isGroup&&n.traverse(function(e){e.stopAnimation()})}function dke(n,e,t){var r=qy("update",t,e);r&&n.traverse(function(i){if(i instanceof Hs){var a=X_e(i);a&&i.animateFrom({style:a},r)}})}function pke(n,e){var t=n.length;if(t!==e.length)return!1;for(var r=0;r<t;r++){var i=n[r],a=e[r];if(i.data.getId(i.dataIndex)!==a.data.getId(a.dataIndex))return!1}return!0}function Hee(n,e,t){var r=i9(n),i=i9(e);function a(M,b,C,A,E){(C||M)&&b.animateFrom({style:C&&C!==M?Le(Le({},C.style),M.style):M.style},E)}var o=!1,s=uke,l=xt(),u=xt();r.forEach(function(M){M.groupId&&l.set(M.groupId,!0),M.childGroupId&&u.set(M.childGroupId,!0)});for(var c=0;c<i.length;c++){var f=i[c].groupId;if(u.get(f)){s=t9;break}var h=i[c].childGroupId;if(h&&l.get(h)){s=n9;break}}function d(M,b){return function(C){var A=C.data,E=C.dataIndex;return b?A.getId(E):M?s===t9?C.childGroupId:C.groupId:s===n9?C.childGroupId:C.groupId}}var p=pke(r,i),g={};if(!p)for(var c=0;c<i.length;c++){var m=i[c],y=m.data.getItemGraphicEl(m.dataIndex);y&&(g[y.id]=!0)}function S(M,b){var C=r[b],A=i[M],E=A.data.hostModel,I=C.data.getItemGraphicEl(C.dataIndex),L=A.data.getItemGraphicEl(A.dataIndex);if(I===L){L&&dke(L,A.dataIndex,E);return}I&&g[I.id]||L&&(Nm(L),I?(Nm(I),T2(I),o=!0,w2(Rp(I),Rp(L),A.divide,E,M,a)):M2(L,E,M))}new nf(r,i,d(!0,p),d(!1,p),null,"multiple").update(S).updateManyToOne(function(M,b){var C=i[M],A=C.data,E=A.hostModel,I=A.getItemGraphicEl(C.dataIndex),L=$n(Ve(b,function(R){return r[R].data.getItemGraphicEl(r[R].dataIndex)}),function(R){return R&&R!==I&&!g[R.id]});I&&(Nm(I),L.length?(G(L,function(R){Nm(R),T2(R)}),o=!0,w2(Rp(L),Rp(I),C.divide,E,M,a)):M2(I,E,C.dataIndex))}).updateOneToMany(function(M,b){var C=r[b],A=C.data.getItemGraphicEl(C.dataIndex);if(!(A&&g[A.id])){var E=$n(Ve(M,function(L){return i[L].data.getItemGraphicEl(i[L].dataIndex)}),function(L){return L&&L!==A}),I=i[M[0]].data.hostModel;E.length&&(G(E,function(L){return Nm(L)}),A?(Nm(A),T2(A),o=!0,w2(Rp(A),Rp(E),C.divide,I,M[0],a)):G(E,function(L){return M2(L,I,M[0])}))}}).updateManyToMany(function(M,b){new nf(b,M,function(C){return r[C].data.getId(r[C].dataIndex)},function(C){return i[C].data.getId(i[C].dataIndex)}).update(function(C,A){S(M[C],b[A])}).execute()}).execute(),o&&G(e,function(M){var b=M.data,C=b.hostModel,A=C&&t.getViewOfSeriesModel(C),E=qy("update",C,0);A&&C.isAnimationEnabled()&&E&&E.duration>0&&A.group.traverse(function(I){I instanceof Tn&&!I.animators.length&&I.animateFrom({style:{opacity:0}},E)})})}function a9(n){var e=n.getModel("universalTransition").get("seriesKey");return e||n.id}function o9(n){return ze(n)?n.sort().join(","):n}function hh(n){if(n.hostModel)return n.hostModel.getModel("universalTransition").get("divideShape")}function vke(n,e){var t=xt(),r=xt(),i=xt();return G(n.oldSeries,function(a,o){var s=n.oldDataGroupIds[o],l=n.oldData[o],u=a9(a),c=o9(u);r.set(c,{dataGroupId:s,data:l}),ze(u)&&G(u,function(f){i.set(f,{key:c,dataGroupId:s,data:l})})}),G(e.updatedSeries,function(a){if(a.isUniversalTransitionEnabled()&&a.isAnimationEnabled()){var o=a.get("dataGroupId"),s=a.getData(),l=a9(a),u=o9(l),c=r.get(u);if(c)t.set(u,{oldSeries:[{dataGroupId:c.dataGroupId,divide:hh(c.data),data:c.data}],newSeries:[{dataGroupId:o,divide:hh(s),data:s}]});else if(ze(l)){var f=[];G(l,function(p){var g=r.get(p);g.data&&f.push({dataGroupId:g.dataGroupId,divide:hh(g.data),data:g.data})}),f.length&&t.set(u,{oldSeries:f,newSeries:[{dataGroupId:o,data:s,divide:hh(s)}]})}else{var h=i.get(l);if(h){var d=t.get(h.key);d||(d={oldSeries:[{dataGroupId:h.dataGroupId,data:h.data,divide:hh(h.data)}],newSeries:[]},t.set(h.key,d)),d.newSeries.push({dataGroupId:o,data:s,divide:hh(s)})}}}}),t}function s9(n,e){for(var t=0;t<n.length;t++){var r=e.seriesIndex!=null&&e.seriesIndex===n[t].seriesIndex||e.seriesId!=null&&e.seriesId===n[t].id;if(r)return t}}function gke(n,e,t,r){var i=[],a=[];G(dr(n.from),function(o){var s=s9(e.oldSeries,o);s>=0&&i.push({dataGroupId:e.oldDataGroupIds[s],data:e.oldData[s],divide:hh(e.oldData[s]),groupIdDim:o.dimension})}),G(dr(n.to),function(o){var s=s9(t.updatedSeries,o);if(s>=0){var l=t.updatedSeries[s].getData();a.push({dataGroupId:e.oldDataGroupIds[s],data:l,divide:hh(l),groupIdDim:o.dimension})}}),i.length>0&&a.length>0&&Hee(i,a,r)}function mke(n){n.registerUpdateLifecycle("series:beforeupdate",function(e,t,r){G(dr(r.seriesTransition),function(i){G(dr(i.to),function(a){for(var o=r.updatedSeries,s=0;s<o.length;s++)(a.seriesIndex!=null&&a.seriesIndex===o[s].seriesIndex||a.seriesId!=null&&a.seriesId===o[s].id)&&(o[s][ab]=!0)})})}),n.registerUpdateLifecycle("series:transition",function(e,t,r){var i=cke(t);if(i.oldSeries&&r.updatedSeries&&r.optionChanged){var a=r.seriesTransition;if(a)G(dr(a),function(d){gke(d,i,r,t)});else{var o=vke(i,r);G(o.keys(),function(d){var p=o.get(d);Hee(p.oldSeries,p.newSeries,t)})}G(r.updatedSeries,function(d){d[ab]&&(d[ab]=!1)})}for(var s=e.getSeries(),l=i.oldSeries=[],u=i.oldDataGroupIds=[],c=i.oldData=[],f=0;f<s.length;f++){var h=s[f].getData();h.count()<Gee&&(l.push(s[f]),u.push(s[f].get("dataGroupId")),c.push(h))}})}Sn([CTe]);Sn([wTe]);Sn([jTe,lbe,ybe,Kbe,lAe,ZAe,wCe,aEe,CEe,IEe,GEe,kPe,sDe,yDe,NDe,zDe,ZDe,tRe,hRe,yRe,ERe,f2e]);Sn(D2e);Sn(nLe);Sn(VJ);Sn(vLe);Sn(AQ);Sn(_Le);Sn(ELe);Sn(vIe);Sn(NIe);Sn(V1);Sn(KIe);Sn(eNe);Sn(cNe);Sn(mNe);Sn(MNe);Sn(PNe);Sn(BNe);Sn(rOe);Sn(Pee);Sn(Dee);Sn(MOe);Sn(Oee);Sn(kee);Sn(EOe);Sn(VOe);Sn(WOe);Sn(mke);Sn(GMe);const yke=Object.freeze(Object.defineProperty({__proto__:null,Axis:Zs,ChartView:sr,ComponentModel:wn,ComponentView:br,List:Ga,Model:qn,PRIORITY:qq,SeriesModel:pr,color:cye,connect:K1e,dataTool:iwe,dependencies:I1e,disConnect:J1e,disconnect:iK,dispose:Q1e,env:Mn,extendChartView:PMe,extendComponentModel:AMe,extendComponentView:CMe,extendSeriesModel:EMe,format:vMe,getCoordinateSystemDimensions:twe,getInstanceByDom:f3,getInstanceById:ewe,getMap:rwe,graphic:pMe,helper:oMe,init:q1e,innerDrawElementOnCanvas:s3,matrix:Gme,number:hMe,parseGeoJSON:GI,parseGeoJson:GI,registerAction:jl,registerCoordinateSystem:sK,registerLayout:lK,registerLoading:g3,registerLocale:Hk,registerMap:uK,registerPostInit:aK,registerPostUpdate:oK,registerPreprocessor:d3,registerProcessor:p3,registerTheme:h3,registerTransform:cK,registerUpdateLifecycle:VC,registerVisual:qh,setCanvasCreator:nwe,setPlatformAPI:nZ,throttle:BC,time:dMe,use:Sn,util:gMe,vector:Eme,version:L1e,zrUtil:Sme,zrender:Xye},Symbol.toStringTag,{value:"Module"}));var Cc={},Ec={},b2={},l9;function _ke(){return l9||(l9=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=1,t=function(){return"".concat(e++)};n.default=t})(b2)),b2}var Q_={},ex={},A2={},u9;function Wee(){return u9||(u9=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:60,a=null;return function(){for(var o=this,s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];clearTimeout(a),a=setTimeout(function(){r.apply(o,l)},i)}};n.default=e})(A2)),A2}var Pc={},c9;function PF(){if(c9)return Pc;c9=1,Object.defineProperty(Pc,"__esModule",{value:!0}),Pc.SizeSensorId=Pc.SensorTabIndex=Pc.SensorClassName=void 0;var n="size-sensor-id";Pc.SizeSensorId=n;var e="size-sensor-object";Pc.SensorClassName=e;var t="-1";return Pc.SensorTabIndex=t,Pc}var f9;function xke(){if(f9)return ex;f9=1,Object.defineProperty(ex,"__esModule",{value:!0}),ex.createSensor=void 0;var n=t(Wee()),e=PF();function t(i){return i&&i.__esModule?i:{default:i}}var r=function(a,o){var s=void 0,l=[],u=function(){getComputedStyle(a).position==="static"&&(a.style.position="relative");var g=document.createElement("object");return g.onload=function(){g.contentDocument.defaultView.addEventListener("resize",c),c()},g.style.display="block",g.style.position="absolute",g.style.top="0",g.style.left="0",g.style.height="100%",g.style.width="100%",g.style.overflow="hidden",g.style.pointerEvents="none",g.style.zIndex="-1",g.style.opacity="0",g.setAttribute("class",e.SensorClassName),g.setAttribute("tabindex",e.SensorTabIndex),g.type="text/html",a.appendChild(g),g.data="about:blank",g},c=(0,n.default)(function(){l.forEach(function(p){p(a)})}),f=function(g){s||(s=u()),l.indexOf(g)===-1&&l.push(g)},h=function(){s&&s.parentNode&&(s.contentDocument&&s.contentDocument.defaultView.removeEventListener("resize",c),s.parentNode.removeChild(s),a.removeAttribute(e.SizeSensorId),s=void 0,l=[],o&&o())},d=function(g){var m=l.indexOf(g);m!==-1&&l.splice(m,1),l.length===0&&s&&h()};return{element:a,bind:f,destroy:h,unbind:d}};return ex.createSensor=r,ex}var tx={},h9;function Ske(){if(h9)return tx;h9=1,Object.defineProperty(tx,"__esModule",{value:!0}),tx.createSensor=void 0;var n=PF(),e=t(Wee());function t(i){return i&&i.__esModule?i:{default:i}}var r=function(a,o){var s=void 0,l=[],u=(0,e.default)(function(){l.forEach(function(p){p(a)})}),c=function(){var g=new ResizeObserver(u);return g.observe(a),u(),g},f=function(g){s||(s=c()),l.indexOf(g)===-1&&l.push(g)},h=function(){s.disconnect(),l=[],s=void 0,a.removeAttribute(n.SizeSensorId),o&&o()},d=function(g){var m=l.indexOf(g);m!==-1&&l.splice(m,1),l.length===0&&s&&h()};return{element:a,bind:f,destroy:h,unbind:d}};return tx.createSensor=r,tx}var d9;function wke(){if(d9)return Q_;d9=1,Object.defineProperty(Q_,"__esModule",{value:!0}),Q_.createSensor=void 0;var n=xke(),e=Ske(),t=typeof ResizeObserver<"u"?e.createSensor:n.createSensor;return Q_.createSensor=t,Q_}var p9;function Mke(){if(p9)return Ec;p9=1,Object.defineProperty(Ec,"__esModule",{value:!0}),Ec.removeSensor=Ec.getSensor=Ec.Sensors=void 0;var n=r(_ke()),e=wke(),t=PF();function r(l){return l&&l.__esModule?l:{default:l}}var i={};Ec.Sensors=i;function a(l){l&&i[l]&&delete i[l]}var o=function(u){var c=u.getAttribute(t.SizeSensorId);if(c&&i[c])return i[c];var f=(0,n.default)();u.setAttribute(t.SizeSensorId,f);var h=(0,e.createSensor)(u,function(){return a(f)});return i[f]=h,h};Ec.getSensor=o;var s=function(u){var c=u.element.getAttribute(t.SizeSensorId);u.destroy(),a(c)};return Ec.removeSensor=s,Ec}var v9;function Tke(){if(v9)return Cc;v9=1,Object.defineProperty(Cc,"__esModule",{value:!0}),Cc.ver=Cc.clear=Cc.bind=void 0;var n=Mke(),e=function(a,o){var s=(0,n.getSensor)(a);return s.bind(o),function(){s.unbind(o)}};Cc.bind=e;var t=function(a){var o=(0,n.getSensor)(a);(0,n.removeSensor)(o)};Cc.clear=t;var r="1.0.2";return Cc.ver=r,Cc}var g9=Tke();function m9(n,e){var t={};return e.forEach(function(r){t[r]=n[r]}),t}function C2(n){return typeof n=="function"}function bke(n){return typeof n=="string"}var E2,y9;function Ake(){return y9||(y9=1,E2=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,i,a;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(i=r;i--!==0;)if(!n(e[i],t[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(t,a[i]))return!1;for(i=r;i--!==0;){var o=a[i];if(!n(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}),E2}var Cke=Ake();const Om=Ny(Cke);var Eke=(function(n){eZ(e,n);function e(t){var r=n.call(this,t)||this;return r.echarts=t.echarts,r.ele=null,r.isInitialResize=!0,r}return e.prototype.componentDidMount=function(){this.renderNewEcharts()},e.prototype.componentDidUpdate=function(t){var r=this.props.shouldSetOption;if(!(C2(r)&&!r(t,this.props))){if(!Om(t.theme,this.props.theme)||!Om(t.opts,this.props.opts)||!Om(t.onEvents,this.props.onEvents)){this.dispose(),this.renderNewEcharts();return}var i=["option","notMerge","lazyUpdate","showLoading","loadingOption"];Om(m9(this.props,i),m9(t,i))||this.updateEChartsOption(),(!Om(t.style,this.props.style)||!Om(t.className,this.props.className))&&this.resize()}},e.prototype.componentWillUnmount=function(){this.dispose()},e.prototype.getEchartsInstance=function(){return this.echarts.getInstanceByDom(this.ele)||this.echarts.init(this.ele,this.props.theme,this.props.opts)},e.prototype.dispose=function(){if(this.ele){try{g9.clear(this.ele)}catch(t){console.warn(t)}this.echarts.dispose(this.ele)}},e.prototype.renderNewEcharts=function(){var t=this,r=this.props,i=r.onEvents,a=r.onChartReady,o=this.updateEChartsOption();this.bindEvents(o,i||{}),C2(a)&&a(o),this.ele&&g9.bind(this.ele,function(){t.resize()})},e.prototype.bindEvents=function(t,r){function i(o,s){bke(o)&&C2(s)&&t.on(o,function(l){s(l,t)})}for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&i(a,r[a])},e.prototype.updateEChartsOption=function(){var t=this.props,r=t.option,i=t.notMerge,a=i===void 0?!1:i,o=t.lazyUpdate,s=o===void 0?!1:o,l=t.showLoading,u=t.loadingOption,c=u===void 0?null:u,f=this.getEchartsInstance();return f.setOption(r,a,s),l?f.showLoading(c):f.hideLoading(),f},e.prototype.resize=function(){var t=this.getEchartsInstance();if(!this.isInitialResize)try{t.resize()}catch(r){console.warn(r)}this.isInitialResize=!1},e.prototype.render=function(){var t=this,r=this.props,i=r.style,a=r.className,o=a===void 0?"":a,s=VL({height:300},i);return EA.createElement("div",{ref:function(l){t.ele=l},style:s,className:"echarts-for-react "+o})},e})(de.PureComponent),Pke=(function(n){eZ(e,n);function e(t){var r=n.call(this,t)||this;return r.echarts=yke,r}return e})(Eke);function LN({title:n,option:e}){const t=de.useRef(null),r=()=>{try{navigator.clipboard.writeText(JSON.stringify(e??{title:n},null,2))}catch{}},i=()=>{const a=t.current?.getEchartsInstance?.();if(!a)return;const o=a.getDataURL({type:"png",pixelRatio:2,backgroundColor:"transparent"}),s=document.createElement("a");s.href=o,s.download=`${n.replace(/\s+/g,"_")}.png`,s.click()};return Re.jsxs("div",{className:"glass p-5 min-h-[340px]",children:[Re.jsxs("div",{className:"flex items-center justify-between mb-4 gap-2",children:[Re.jsx("div",{className:"text-lg font-semibold truncate",title:n,children:n}),Re.jsxs("div",{className:"flex items-center gap-2",children:[Re.jsx("button",{onClick:r,className:"text-xs px-2 py-1 rounded-lg bg-white/10 border border-white/15",children:"Copy"}),Re.jsx("button",{onClick:i,className:"text-xs px-2 py-1 rounded-lg bg-white/10 border border-white/15",children:"Download"})]})]}),e?Re.jsx(Pke,{ref:t,option:{...e,backgroundColor:"transparent"},style:{height:260},notMerge:!0,lazyUpdate:!0}):Re.jsx("div",{className:"h-[260px] flex items-center justify-center text-sm text-gray-400",children:"No visualization data available for this chart."})]})}function Dke(){const n=Ll(s=>s.analyze),e=Ll(s=>s.addSuggestion);if(!n)return Re.jsx(BL,{children:Re.jsx("div",{className:"min-h-screen flex items-center justify-center text-white px-6",children:Re.jsxs("div",{className:"glass p-6 text-center space-y-3",children:[Re.jsx("p",{className:"text-gray-300",children:"No analysis yet."}),Re.jsx("p",{className:"text-sm text-gray-400",children:"Upload a CSV to generate AI summaries, insights, and visual suggestions."}),Re.jsx(Sx,{to:"/upload",className:"px-4 py-2 rounded-xl bg-white/10 border border-white/15",children:"Upload CSV"})]})})});const t=n.file_name||"dataset.csv",r=n.summary||"No summary available.",i=n.ai_summary||null,a=n.suggestions||[],o=n.columns_meta||[];return Re.jsx(BL,{children:Re.jsxs("div",{className:"min-h-screen text-white px-6 py-10 max-w-6xl mx-auto space-y-8",children:[Re.jsxs("header",{className:"text-center space-y-2",children:[Re.jsx("h1",{className:"text-4xl font-extrabold text-metal",children:"AI Insights"}),Re.jsx("p",{className:"text-sm text-gray-400",children:t})]}),Re.jsxs("section",{className:"glass p-5 space-y-3",children:[Re.jsx("h2",{className:"font-semibold text-metal text-lg",children:"Summary"}),Re.jsx("p",{className:"text-gray-200",children:r}),i?Re.jsx("p",{className:"text-gray-300",children:i}):null]}),Re.jsxs("section",{className:"glass p-5 space-y-3",children:[Re.jsx("h2",{className:"font-semibold text-metal text-lg",children:"Columns"}),Re.jsx("div",{className:"flex flex-wrap gap-2",children:o.map(s=>Re.jsxs("span",{className:"px-2.5 py-1 rounded-xl border border-white/15 text-xs bg-white/5",children:[s.name,"  ",Re.jsx("em",{className:"text-gray-400",children:s.role})]},s.name))})]}),a.length>0?Re.jsxs("section",{className:"space-y-3",children:[Re.jsxs("div",{className:"flex items-center justify-between",children:[Re.jsx("h2",{className:"font-semibold text-metal text-lg",children:"Suggested Visuals"}),Re.jsx(Sx,{to:"/dashboard",className:"text-sm underline underline-offset-4 text-gray-300",children:"Open Dashboard "})]}),Re.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:a.map(s=>Re.jsxs("div",{className:"space-y-3",children:[Re.jsx(LN,{title:s.title,option:s.option}),Re.jsx("button",{onClick:()=>e(s),className:"w-full px-3 py-1.5 rounded-xl bg-white/10 border border-white/15 text-sm",children:"Pin to dashboard (adds to top)"})]},s.id))})]}):null,Re.jsx("div",{className:"text-center",children:Re.jsx(Sx,{to:"/dashboard",className:"px-4 py-2 rounded-xl bg-white/10 border border-white/15",children:"Open Dashboard "})})]})})}const Rke=["bar","line","area","scatter","histogram","pie","donut","heatmap","box"],Lke=["count","sum","mean","none"];function Ike(){const n=Ll(m=>m.analyze),e=Ll(m=>m.buildCustom),t=Ll(m=>m.busy),r=Ll(m=>m.setError??(()=>{})),i=n?.x_options??[],a=n?.y_options??[],[o,s]=de.useState(i[0]??""),[l,u]=de.useState(a[0]??""),[c,f]=de.useState(nx(i[0],a[0])),[h,d]=de.useState("bar");if(de.useEffect(()=>{if(i.length>0&&!i.includes(o)){const m=i[0];s(m),f(nx(m,l))}i.length===0&&(s(""),f(nx("",l)))},[i,o,l]),de.useEffect(()=>{if(a.length>0&&!a.includes(l)){const m=a[0];u(m),f(nx(o,m))}a.length===0&&(u(""),f(nx(o,"")))},[a,o,l]),!n)return Re.jsx("div",{className:"glass p-5 text-sm text-gray-300",children:"Upload a dataset to enable the builder."});const p=de.useMemo(()=>o?(h==="histogram"||h==="box")&&!l?`${h} requires a measure on Y.`:(h==="line"||h==="area")&&!i.includes(o)?"Line/Area charts need a time or dimension column on X.":(h==="pie"||h==="donut")&&!o?"Pie/Donut charts require an X dimension.":h==="scatter"&&(!o||!l)?"Scatter charts require both X and Y.":null:"Select a column for the X axis.",[o,l,h,i]),g=async()=>{if(p){r(p);return}await e({x:o||null,y:l||null,agg:l?c:"count",chart:h})};return Re.jsxs("div",{className:"glass p-5 space-y-4",children:[Re.jsx("div",{className:"text-lg font-semibold",children:"Build Your Own"}),Re.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[Re.jsxs("select",{className:"bg-black/40 border border-white/15 rounded-xl px-3 py-2",value:o,onChange:m=>s(m.target.value),children:[Re.jsx("option",{value:"",children:"No time/dimension"}),i.map(m=>Re.jsx("option",{value:m,children:m},m))]}),Re.jsxs("select",{className:"bg-black/40 border border-white/15 rounded-xl px-3 py-2",value:l,onChange:m=>u(m.target.value),children:[Re.jsx("option",{value:"",children:"None (count rows)"}),a.map(m=>Re.jsx("option",{value:m,children:m},m))]}),Re.jsx("select",{className:"bg-black/40 border border-white/15 rounded-xl px-3 py-2",value:c,onChange:m=>f(m.target.value),children:Lke.map(m=>Re.jsx("option",{value:m,children:m},m))}),Re.jsx("select",{className:"bg-black/40 border border-white/15 rounded-xl px-3 py-2",value:h,onChange:m=>d(m.target.value),children:Rke.map(m=>Re.jsx("option",{value:m,children:m},m))})]}),Re.jsx("button",{onClick:g,disabled:t,className:"mt-2 w-full rounded-xl bg-white/15 hover:bg-white/25 border border-white/20 py-2 transition disabled:opacity-50",children:t?"Building...":"Build chart"}),Re.jsx("p",{className:"text-xs text-gray-400",children:"Tip: X prioritizes time/dimension columns. Y works best with measures. Aggregations adapt based on roles."})]})}function nx(n,e){return e?"sum":"count"}function Nke(){const n=BN(),e=Ll(o=>o.analyze),t=Ll(o=>o.charts),r=Ll(o=>o.error),i=Ll(o=>o.addSuggestion),a=e?.suggestions??[];return e?Re.jsx("div",{className:"min-h-screen w-full px-5 sm:px-8 py-10",children:Re.jsxs("div",{className:"max-w-[1400px] mx-auto",children:[Re.jsxs("div",{className:"flex items-end justify-between flex-wrap gap-3",children:[Re.jsxs("div",{children:[Re.jsx("h1",{className:"text-4xl font-extrabold",children:"Perspectiv Dashboard"}),Re.jsxs("p",{className:"text-sm text-gray-400",children:[e.file_name,"  ",e.rows.toLocaleString()," rows  ",e.columns," columns"]})]}),Re.jsx(Sx,{to:"/insights",className:"text-sm underline underline-offset-4 text-gray-300",children:"View AI Insights"})]}),Re.jsxs("div",{className:"grid xl:grid-cols-4 gap-6 mt-8",children:[Re.jsxs("div",{className:"xl:col-span-3",children:[t.length===0?Re.jsx("div",{className:"glass p-12 text-center text-gray-400",children:"No charts yet. Use the builder on the right or pin suggestions below."}):Re.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:t.map(o=>Re.jsx(LN,{title:o.title,option:o.option},o.id))}),a.length>0&&Re.jsxs("div",{className:"mt-8 space-y-3",children:[Re.jsx("h2",{className:"text-lg font-semibold text-metal",children:"Suggested Visuals"}),Re.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:a.map(o=>Re.jsxs("div",{className:"space-y-3",children:[Re.jsx(LN,{title:o.title,option:o.option}),Re.jsx("button",{onClick:()=>i(o),className:"w-full px-3 py-1.5 rounded-xl bg-white/10 border border-white/15 text-sm",children:"Pin to dashboard (adds to top)"})]},o.id))})]})]}),Re.jsxs("aside",{className:"space-y-6",children:[Re.jsx(Ike,{}),Re.jsxs("div",{className:"glass p-5",children:[Re.jsx("div",{className:"text-lg font-semibold mb-3",children:"Dataset summary"}),Re.jsx("div",{className:"text-sm text-gray-300",children:e.summary||"No summary available."}),Re.jsxs("div",{className:"text-xs text-gray-400 mt-3",children:["ROWS: ",e.rows.toLocaleString(),"  COLUMNS: ",e.columns]})]}),r&&Re.jsx("div",{className:"glass p-4 text-rose-300 text-xs",children:r})]})]})]})}):(n("/upload"),null)}const Oke=Xne([{path:"/",element:Re.jsx(c5,{})},{path:"/upload",element:Re.jsx(ime,{})},{path:"/insights",element:Re.jsx(Dke,{})},{path:"/dashboard",element:Re.jsx(Nke,{})},{path:"*",element:Re.jsx(c5,{})}]);Tte.createRoot(document.getElementById("root")).render(Re.jsx(EA.StrictMode,{children:Re.jsx(ere,{router:Oke})}));
